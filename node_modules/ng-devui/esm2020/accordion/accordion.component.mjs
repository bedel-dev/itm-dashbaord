import { __decorate, __metadata } from "tslib";
import { Component, EventEmitter, forwardRef, Input, Output, TemplateRef } from '@angular/core';
import { I18nService } from 'ng-devui/i18n';
import { DevConfigService, WithConfig } from 'ng-devui/utils';
import { ACCORDION } from './accordion-token';
import * as i0 from "@angular/core";
import * as i1 from "ng-devui/i18n";
import * as i2 from "ng-devui/utils";
import * as i3 from "./accordion-list.component";
import * as i4 from "@angular/common";
export class AccordionComponent {
    constructor(i18n, devConfigService) {
        this.i18n = i18n;
        this.devConfigService = devConfigService;
        /* Key值定义, 用于自定义数据结构 */
        this.titleKey = 'title'; // 标题的key，item[titleKey]类型为string，为标题显示内容
        this.loadingKey = 'loading'; // 子菜单动态加载item[loadingKey]类型为boolean
        this.childrenKey = 'children'; // 子菜单Key
        this.disabledKey = 'disabled'; // 是否禁用Key
        this.activeKey = 'active'; // 菜单是否激活/选中
        this.openKey = 'open'; // 菜单是否打开
        this.menuToggle = new EventEmitter(); // 可展开菜单展开事件
        this.itemClick = new EventEmitter(); // 可点击菜单点击事件
        this.activeItemChange = new EventEmitter();
        /** 高级选项和模板 */
        this.restrictOneOpen = false; // 限制一级菜单同时只能打开一个
        this.autoOpenActiveMenu = false; // 自动展开活跃菜单
        this.showNoContent = true; // 没有内容的时候是否显示没有数据
        /* 内置路由/链接/动态判断路由或链接类型 */
        this.linkType = '';
        this.linkTypeKey = 'linkType'; // linkType为'dependOnLinkTypeKey'时指定对象linkType定义区
        this.linkKey = 'link'; // 链接内容的key
        this.linkTargetKey = 'target'; // 链接目标窗口的key
        this.linkDefaultTarget = '_self'; // 不设置target的时候target默认值
        this.accordionType = 'normal';
        this.showAnimation = true;
        // 点击了可点击菜单
        this.itemClickFn = (itemEvent) => {
            const prevActiveItem = this.activeItem;
            this.activeItemFn(itemEvent.item);
            this.itemClick.emit({ ...itemEvent, prevActiveItem: prevActiveItem });
        };
        this.linkItemClickFn = (itemEvent) => {
            const prevActiveItem = this.activeItem;
            this.activeItem = itemEvent.item;
            this.itemClick.emit({ ...itemEvent, prevActiveItem: prevActiveItem });
        };
        // 打开或关闭可折叠菜单
        this.menuToggleFn = (menuEvent) => {
            this.openMenuFn(menuEvent.item, menuEvent.open);
            this.menuToggle.emit(menuEvent);
        };
    }
    ngOnChanges(changes) {
        if (changes['data']) {
            this.initActiveItem();
        }
        if (changes['autoOpenActiveMenu']) {
            if (this.autoOpenActiveMenu && changes['autoOpenActiveMenu'].previousValue === false) {
                this.cleanOpenData();
            }
        }
    }
    ngOnInit() {
        if (this.data) {
            this.initActiveItem();
        }
        this.i18nCommonText = this.i18n.getI18nText().common;
        this.i18nSubscription = this.i18n.langChange().subscribe(data => {
            this.i18nCommonText = data.common;
        });
    }
    ngOnDestroy() {
        if (this.i18nSubscription) {
            this.i18nSubscription.unsubscribe();
        }
    }
    flatten(arr, childrenKey = 'children', includeParent = false, includeLeaf = true) {
        return arr.reduce((acc, cur) => {
            const children = cur[childrenKey];
            if (children === undefined) {
                if (includeLeaf) {
                    acc.push(cur);
                }
            }
            else {
                if (includeParent) {
                    acc.push(cur);
                }
                if (Array.isArray(children)) {
                    acc.push(...this.flatten(children, childrenKey, includeParent));
                }
            }
            return acc;
        }, []);
    }
    cleanOpenData() {
        this.flatten(this.data, this.childrenKey, true, false).forEach(item => { item[this.openKey] = undefined; });
    }
    // 默认激活
    initActiveItem() {
        const activeItem = this.flatten(this.data, this.childrenKey)
            .filter(item => item[this.activeKey]).pop();
        if (activeItem) {
            if (!this.activeItem) {
                this.activeItemFn(activeItem);
            }
        }
        else {
            this.activeItem = undefined;
        }
    }
    // 激活子菜单项并去掉其他子菜单的激活
    activeItemFn(item) {
        if (this.activeItem && this.activeItem[this.activeKey]) {
            this.activeItem[this.activeKey] = false;
        }
        item[this.activeKey] = true;
        this.activeItem = item;
        this.activeItemChange.emit(this.activeItem);
    }
    // 打开或关闭一级菜单，如果有限制只能展开一项则关闭其他一级菜单
    openMenuFn(item, open) {
        if (open && this.restrictOneOpen) {
            (this.data).forEach(itemtemp => { itemtemp[this.openKey] = false; });
        }
        item[this.openKey] = open;
    }
}
AccordionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: AccordionComponent, deps: [{ token: i1.I18nService }, { token: i2.DevConfigService }], target: i0.ɵɵFactoryTarget.Component });
AccordionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: AccordionComponent, selector: "d-accordion", inputs: { data: "data", titleKey: "titleKey", loadingKey: "loadingKey", childrenKey: "childrenKey", disabledKey: "disabledKey", activeKey: "activeKey", openKey: "openKey", menuItemTemplate: "menuItemTemplate", itemTemplate: "itemTemplate", restrictOneOpen: "restrictOneOpen", autoOpenActiveMenu: "autoOpenActiveMenu", showNoContent: "showNoContent", noContentTemplate: "noContentTemplate", loadingTemplate: "loadingTemplate", innerListTemplate: "innerListTemplate", linkType: "linkType", linkTypeKey: "linkTypeKey", linkKey: "linkKey", linkTargetKey: "linkTargetKey", linkDefaultTarget: "linkDefaultTarget", accordionType: "accordionType", showAnimation: "showAnimation" }, outputs: { menuToggle: "menuToggle", itemClick: "itemClick", activeItemChange: "activeItemChange" }, providers: [{
            provide: ACCORDION,
            useExisting: forwardRef(() => AccordionComponent)
        }], usesOnChanges: true, ngImport: i0, template: "<d-accordion-list\n  class=\"devui-accordion-menu devui-scrollbar\"\n  [ngClass]=\"{ 'devui-accordion-menu-normal': accordionType === 'normal' }\"\n  [data]=\"data\"\n  [deepth]=\"0\"\n  [parent]=\"null\"\n>\n</d-accordion-list>\n", styles: ["@charset \"UTF-8\";:host{display:block}:host ::ng-deep d-accordion-menu,:host ::ng-deep d-accordion-item,:host ::ng-deep d-accordion-item-hreflink,:host ::ng-deep d-accordion-item-routerlink,:host ::ng-deep d-accordion-list{display:block}:host ::ng-deep .devui-accordion-menu{display:block;background:#ffffff;background:var(--devui-base-bg, #ffffff);width:100%;overflow-y:auto;border-radius:2px;border-radius:var(--devui-border-radius, 2px);height:100%}:host ::ng-deep .devui-accordion-menu.devui-accordion-menu-normal{box-shadow:0 1px 4px rgba(37,43,58,.2);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) var(--devui-shadow, rgba(37, 43, 58, .2))}:host ::ng-deep .devui-accordion-menu>.devui-accordion-list{padding:8px 0}:host ::ng-deep .devui-accordion-menu .devui-over-flow-ellipsis{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}:host ::ng-deep .devui-accordion-submenu{background:#ffffff;background:var(--devui-base-bg, #ffffff);width:100%}:host ::ng-deep .devui-accordion-item-title{display:block;height:40px;width:100%;padding:0 12px 0 20px;font-weight:400;line-height:40px;color:#575d6c;color:var(--devui-text-weak, #575d6c);background:transparent;cursor:pointer}:host ::ng-deep .devui-accordion-item-title.disabled{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);cursor:not-allowed}:host ::ng-deep .devui-accordion-item-title.disabled>a{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}:host ::ng-deep .devui-accordion-item-title:not(.disabled):hover{background:#f2f2f3;background:var(--devui-list-item-hover-bg, #f2f2f3);color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a)}:host ::ng-deep .devui-accordion-item-title:not(.disabled).devui-router-active,:host ::ng-deep .devui-accordion-item-title:not(.disabled).active:not(.open){color:#526ecc;color:var(--devui-brand-active, #526ecc);font-weight:700}:host ::ng-deep .devui-accordion-item-title:not(.disabled).devui-router-active>a,:host ::ng-deep .devui-accordion-item-title:not(.disabled).active:not(.open)>a{color:#526ecc;color:var(--devui-brand-active, #526ecc)}:host ::ng-deep .devui-accordion-item-title>a{text-decoration:none;display:block;width:100%;color:#575d6c;color:var(--devui-text-weak, #575d6c)}:host ::ng-deep .devui-accordion-item-title>a:hover{color:inherit;text-decoration:none}:host ::ng-deep d-accordion-item-hreflink.devui-accordion-item-title,:host ::ng-deep d-accordion-item-routerlink.devui-accordion-item-title{padding:0}:host ::ng-deep d-accordion-item-hreflink.devui-accordion-item-title>a,:host ::ng-deep d-accordion-item-routerlink.devui-accordion-item-title>a{padding:0 12px 0 20px}:host ::ng-deep .devui-accordion-menu-item{overflow-y:hidden}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title{position:relative}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-open-icon{display:inline-block;text-indent:0;pointer-events:none;position:absolute;right:10px;top:12px;width:16px;height:16px;line-height:16px;transition:transform .3s cubic-bezier(.645,.045,.355,1);transition:transform var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-open-icon>svg{width:16px;height:16px}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-open-icon>svg path{fill:#575d6c;fill:var(--devui-text-weak, #575d6c)}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title:not(.open).active svg path{fill:#252b3a;fill:var(--devui-icon-fill-active, #252b3a)}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title.open>.devui-accordion-open-icon{transform:rotate(180deg);transform-origin:center}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title.disabled>.devui-accordion-open-icon{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title.disabled>.devui-accordion-open-icon svg path{fill:#cfd0d3;fill:var(--devui-disabled-text, #cfd0d3)}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title{padding-right:28px}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title.active:not(.open){color:#526ecc;color:var(--devui-brand-active, #526ecc);background:transparent}:host ::ng-deep .devui-accordion-item-title{position:relative}:host ::ng-deep .devui-accordion-item-title .devui-accordion-splitter{position:absolute;display:inline-block;left:10px;width:2px;height:40px;background:#f2f2f3;background:var(--devui-dividing-line, #f2f2f3);vertical-align:middle}:host ::ng-deep .devui-accordion-item-title .devui-accordion-splitter.devui-parent-list{background-color:transparent}:host ::ng-deep .devui-accordion-item-title .devui-accordion-splitter:before{content:\"\";display:block;width:2px;height:18px;background-color:#5e7ce0;background-color:var(--devui-form-control-line-active, #5e7ce0);position:absolute;top:11px;left:0;opacity:0}:host ::ng-deep .devui-accordion-item-title.devui-router-active:not(.open) .devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-item-title.active:not(.open) .devui-accordion-splitter:before{opacity:1}:host ::ng-deep .devui-accordion-show-animate .devui-accordion-item-title{transition:font-weight .1s cubic-bezier(.645,.045,.355,1),background-color .1s cubic-bezier(.645,.045,.355,1);transition:font-weight var(--devui-animation-duration-fast, .1s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1)),background-color var(--devui-animation-duration-fast, .1s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}:host ::ng-deep .devui-accordion-show-animate .devui-accordion-item-title .devui-accordion-splitter:before{transform:scaleY(0);transition:transform .3s cubic-bezier(.645,.045,.355,1);transition:transform var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}:host ::ng-deep .devui-accordion-show-animate .devui-accordion-item-title.devui-router-active:not(.open) .devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-show-animate .devui-accordion-item-title.active:not(.open) .devui-accordion-splitter:before{transform:scaleY(1)}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-item-title>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter{height:28px;top:12px}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-item-title>a>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-item-title>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter:before{top:0}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-item-title>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter{height:28px;top:0}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-item-title>a>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-item-title>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter:before{top:auto;top:initial;bottom:0}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child:first-child>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child:first-child>.devui-accordion-item-title>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter{height:18px;top:11px}\n"], components: [{ type: i3.AccordionListComponent, selector: "d-accordion-list", inputs: ["data", "deepth", "parent"] }], directives: [{ type: i4.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }] });
__decorate([
    WithConfig(),
    __metadata("design:type", Object)
], AccordionComponent.prototype, "showAnimation", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: AccordionComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-accordion', preserveWhitespaces: false, providers: [{
                            provide: ACCORDION,
                            useExisting: forwardRef(() => AccordionComponent)
                        }], template: "<d-accordion-list\n  class=\"devui-accordion-menu devui-scrollbar\"\n  [ngClass]=\"{ 'devui-accordion-menu-normal': accordionType === 'normal' }\"\n  [data]=\"data\"\n  [deepth]=\"0\"\n  [parent]=\"null\"\n>\n</d-accordion-list>\n", styles: ["@charset \"UTF-8\";:host{display:block}:host ::ng-deep d-accordion-menu,:host ::ng-deep d-accordion-item,:host ::ng-deep d-accordion-item-hreflink,:host ::ng-deep d-accordion-item-routerlink,:host ::ng-deep d-accordion-list{display:block}:host ::ng-deep .devui-accordion-menu{display:block;background:#ffffff;background:var(--devui-base-bg, #ffffff);width:100%;overflow-y:auto;border-radius:2px;border-radius:var(--devui-border-radius, 2px);height:100%}:host ::ng-deep .devui-accordion-menu.devui-accordion-menu-normal{box-shadow:0 1px 4px rgba(37,43,58,.2);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) var(--devui-shadow, rgba(37, 43, 58, .2))}:host ::ng-deep .devui-accordion-menu>.devui-accordion-list{padding:8px 0}:host ::ng-deep .devui-accordion-menu .devui-over-flow-ellipsis{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}:host ::ng-deep .devui-accordion-submenu{background:#ffffff;background:var(--devui-base-bg, #ffffff);width:100%}:host ::ng-deep .devui-accordion-item-title{display:block;height:40px;width:100%;padding:0 12px 0 20px;font-weight:400;line-height:40px;color:#575d6c;color:var(--devui-text-weak, #575d6c);background:transparent;cursor:pointer}:host ::ng-deep .devui-accordion-item-title.disabled{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);cursor:not-allowed}:host ::ng-deep .devui-accordion-item-title.disabled>a{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}:host ::ng-deep .devui-accordion-item-title:not(.disabled):hover{background:#f2f2f3;background:var(--devui-list-item-hover-bg, #f2f2f3);color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a)}:host ::ng-deep .devui-accordion-item-title:not(.disabled).devui-router-active,:host ::ng-deep .devui-accordion-item-title:not(.disabled).active:not(.open){color:#526ecc;color:var(--devui-brand-active, #526ecc);font-weight:700}:host ::ng-deep .devui-accordion-item-title:not(.disabled).devui-router-active>a,:host ::ng-deep .devui-accordion-item-title:not(.disabled).active:not(.open)>a{color:#526ecc;color:var(--devui-brand-active, #526ecc)}:host ::ng-deep .devui-accordion-item-title>a{text-decoration:none;display:block;width:100%;color:#575d6c;color:var(--devui-text-weak, #575d6c)}:host ::ng-deep .devui-accordion-item-title>a:hover{color:inherit;text-decoration:none}:host ::ng-deep d-accordion-item-hreflink.devui-accordion-item-title,:host ::ng-deep d-accordion-item-routerlink.devui-accordion-item-title{padding:0}:host ::ng-deep d-accordion-item-hreflink.devui-accordion-item-title>a,:host ::ng-deep d-accordion-item-routerlink.devui-accordion-item-title>a{padding:0 12px 0 20px}:host ::ng-deep .devui-accordion-menu-item{overflow-y:hidden}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title{position:relative}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-open-icon{display:inline-block;text-indent:0;pointer-events:none;position:absolute;right:10px;top:12px;width:16px;height:16px;line-height:16px;transition:transform .3s cubic-bezier(.645,.045,.355,1);transition:transform var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-open-icon>svg{width:16px;height:16px}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-open-icon>svg path{fill:#575d6c;fill:var(--devui-text-weak, #575d6c)}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title:not(.open).active svg path{fill:#252b3a;fill:var(--devui-icon-fill-active, #252b3a)}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title.open>.devui-accordion-open-icon{transform:rotate(180deg);transform-origin:center}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title.disabled>.devui-accordion-open-icon{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title.disabled>.devui-accordion-open-icon svg path{fill:#cfd0d3;fill:var(--devui-disabled-text, #cfd0d3)}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title{padding-right:28px}:host ::ng-deep .devui-accordion-menu-item>.devui-accordion-item-title.active:not(.open){color:#526ecc;color:var(--devui-brand-active, #526ecc);background:transparent}:host ::ng-deep .devui-accordion-item-title{position:relative}:host ::ng-deep .devui-accordion-item-title .devui-accordion-splitter{position:absolute;display:inline-block;left:10px;width:2px;height:40px;background:#f2f2f3;background:var(--devui-dividing-line, #f2f2f3);vertical-align:middle}:host ::ng-deep .devui-accordion-item-title .devui-accordion-splitter.devui-parent-list{background-color:transparent}:host ::ng-deep .devui-accordion-item-title .devui-accordion-splitter:before{content:\"\";display:block;width:2px;height:18px;background-color:#5e7ce0;background-color:var(--devui-form-control-line-active, #5e7ce0);position:absolute;top:11px;left:0;opacity:0}:host ::ng-deep .devui-accordion-item-title.devui-router-active:not(.open) .devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-item-title.active:not(.open) .devui-accordion-splitter:before{opacity:1}:host ::ng-deep .devui-accordion-show-animate .devui-accordion-item-title{transition:font-weight .1s cubic-bezier(.645,.045,.355,1),background-color .1s cubic-bezier(.645,.045,.355,1);transition:font-weight var(--devui-animation-duration-fast, .1s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1)),background-color var(--devui-animation-duration-fast, .1s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}:host ::ng-deep .devui-accordion-show-animate .devui-accordion-item-title .devui-accordion-splitter:before{transform:scaleY(0);transition:transform .3s cubic-bezier(.645,.045,.355,1);transition:transform var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}:host ::ng-deep .devui-accordion-show-animate .devui-accordion-item-title.devui-router-active:not(.open) .devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-show-animate .devui-accordion-item-title.active:not(.open) .devui-accordion-splitter:before{transform:scaleY(1)}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-item-title>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter{height:28px;top:12px}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-item-title>a>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-item-title>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter:before{top:0}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-item-title>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter{height:28px;top:0}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-item-title>a>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-item-title>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter:before,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter:before{top:auto;top:initial;bottom:0}:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child:first-child>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child:first-child>.devui-accordion-item-title>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>a>.devui-accordion-splitter,:host ::ng-deep .devui-accordion-list>.devui-accordion-item:last-child:first-child>.devui-accordion-menu-item>.devui-accordion-item-title>.devui-accordion-splitter{height:18px;top:11px}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.I18nService }, { type: i2.DevConfigService }]; }, propDecorators: { data: [{
                type: Input
            }], titleKey: [{
                type: Input
            }], loadingKey: [{
                type: Input
            }], childrenKey: [{
                type: Input
            }], disabledKey: [{
                type: Input
            }], activeKey: [{
                type: Input
            }], openKey: [{
                type: Input
            }], menuItemTemplate: [{
                type: Input
            }], itemTemplate: [{
                type: Input
            }], menuToggle: [{
                type: Output
            }], itemClick: [{
                type: Output
            }], activeItemChange: [{
                type: Output
            }], restrictOneOpen: [{
                type: Input
            }], autoOpenActiveMenu: [{
                type: Input
            }], showNoContent: [{
                type: Input
            }], noContentTemplate: [{
                type: Input
            }], loadingTemplate: [{
                type: Input
            }], innerListTemplate: [{
                type: Input
            }], linkType: [{
                type: Input
            }], linkTypeKey: [{
                type: Input
            }], linkKey: [{
                type: Input
            }], linkTargetKey: [{
                type: Input
            }], linkDefaultTarget: [{
                type: Input
            }], accordionType: [{
                type: Input
            }], showAnimation: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3JkaW9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2RldnVpL2FjY29yZGlvbi9hY2NvcmRpb24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZGV2dWkvYWNjb3JkaW9uL2FjY29yZGlvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxZQUFZLEVBQ1osVUFBVSxFQUNWLEtBQUssRUFJTCxNQUFNLEVBRU4sV0FBVyxFQUNaLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBaUIsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUU5RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7Ozs7OztBQVk5QyxNQUFNLE9BQU8sa0JBQWtCO0lBdUM3QixZQUFvQixJQUFpQixFQUFVLGdCQUFrQztRQUE3RCxTQUFJLEdBQUosSUFBSSxDQUFhO1FBQVUscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQXJDakYsdUJBQXVCO1FBQ2QsYUFBUSxHQUFHLE9BQU8sQ0FBQyxDQUFDLHlDQUF5QztRQUM3RCxlQUFVLEdBQUcsU0FBUyxDQUFDLENBQUMsb0NBQW9DO1FBQzVELGdCQUFXLEdBQUcsVUFBVSxDQUFDLENBQUMsU0FBUztRQUNuQyxnQkFBVyxHQUFHLFVBQVUsQ0FBQyxDQUFDLFVBQVU7UUFDcEMsY0FBUyxHQUFHLFFBQVEsQ0FBQyxDQUFDLFlBQVk7UUFDbEMsWUFBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLFNBQVM7UUFNMUIsZUFBVSxHQUFHLElBQUksWUFBWSxFQUE0QixDQUFDLENBQUMsWUFBWTtRQUN2RSxjQUFTLEdBQUcsSUFBSSxZQUFZLEVBQTJCLENBQUMsQ0FBQyxZQUFZO1FBQ3JFLHFCQUFnQixHQUFHLElBQUksWUFB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U0FDbEQsQ0FBQywrQ0N6Qkosd09BUUE7QURxRHlCO0lBQWIsVUFBVSxFQUFFOzt5REFBc0I7MkZBbENqQyxrQkFBa0I7a0JBVjlCLFNBQVM7K0JBQ0UsYUFBYSx1QkFHRixLQUFLLGFBQ2YsQ0FBQzs0QkFDVixPQUFPLEVBQUUsU0FBUzs0QkFDbEIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLENBQUM7eUJBQ2xELENBQUM7aUlBR08sSUFBSTtzQkFBWixLQUFLO2dCQUVHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxXQUFXO3NCQUFuQixLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csU0FBUztzQkFBakIsS0FBSztnQkFDRyxPQUFPO3NCQUFmLEtBQUs7Z0JBR0csZ0JBQWdCO3NCQUF4QixLQUFLO2dCQUNHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBRUksVUFBVTtzQkFBbkIsTUFBTTtnQkFDRyxTQUFTO3NCQUFsQixNQUFNO2dCQUNHLGdCQUFnQjtzQkFBekIsTUFBTTtnQkFHRSxlQUFlO3NCQUF2QixLQUFLO2dCQUNHLGtCQUFrQjtzQkFBMUIsS0FBSztnQkFDRyxhQUFhO3NCQUFyQixLQUFLO2dCQUNHLGlCQUFpQjtzQkFBekIsS0FBSztnQkFDRyxlQUFlO3NCQUF2QixLQUFLO2dCQUNHLGlCQUFpQjtzQkFBekIsS0FBSztnQkFHRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csT0FBTztzQkFBZixLQUFLO2dCQUNHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUVHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBQ2lCLGFBQWE7c0JBQW5DLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgZm9yd2FyZFJlZixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgVGVtcGxhdGVSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJMThuSW50ZXJmYWNlLCBJMThuU2VydmljZSB9IGZyb20gJ25nLWRldnVpL2kxOG4nO1xuaW1wb3J0IHsgRGV2Q29uZmlnU2VydmljZSwgV2l0aENvbmZpZyB9IGZyb20gJ25nLWRldnVpL3V0aWxzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQUNDT1JESU9OIH0gZnJvbSAnLi9hY2NvcmRpb24tdG9rZW4nO1xuaW1wb3J0IHsgQWNjb3JkaW9uSXRlbUNsaWNrRXZlbnQsIEFjY29yZGlvbk1lbnVUb2dnbGVFdmVudCwgQWNjb3JkaW9uTWVudVR5cGUsIEFjY29yZGlvbk9wdGlvbnMgfSBmcm9tICcuL2FjY29yZGlvbi50eXBlJztcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2QtYWNjb3JkaW9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FjY29yZGlvbi5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2FjY29yZGlvbi5jb21wb25lbnQuc2NzcyddLFxuICBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSxcbiAgcHJvdmlkZXJzOiBbe1xuICAgIHByb3ZpZGU6IEFDQ09SRElPTixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBBY2NvcmRpb25Db21wb25lbnQpXG4gIH1dXG59KVxuZXhwb3J0IGNsYXNzIEFjY29yZGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIEFjY29yZGlvbk9wdGlvbnMsIE9uQ2hhbmdlcywgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBkYXRhOiBBcnJheTxhbnk+IHwgQWNjb3JkaW9uTWVudVR5cGU7XG4gIC8qIEtleeWAvOWumuS5iSwg55So5LqO6Ieq5a6a5LmJ5pWw5o2u57uT5p6EICovXG4gIEBJbnB1dCgpIHRpdGxlS2V5ID0gJ3RpdGxlJzsgLy8g5qCH6aKY55qEa2V577yMaXRlbVt0aXRsZUtleV3nsbvlnovkuLpzdHJpbmfvvIzkuLrmoIfpopjmmL7npLrlhoXlrrlcbiAgQElucHV0KCkgbG9hZGluZ0tleSA9ICdsb2FkaW5nJzsgLy8g5a2Q6I+c5Y2V5Yqo5oCB5Yqg6L29aXRlbVtsb2FkaW5nS2V5Xeexu+Wei+S4umJvb2xlYW5cbiAgQElucHV0KCkgY2hpbGRyZW5LZXkgPSAnY2hpbGRyZW4nOyAvLyDlrZDoj5zljZVLZXlcbiAgQElucHV0KCkgZGlzYWJsZWRLZXkgPSAnZGlzYWJsZWQnOyAvLyDmmK/lkKbnpoHnlKhLZXlcbiAgQElucHV0KCkgYWN0aXZlS2V5ID0gJ2FjdGl2ZSc7IC8vIOiPnOWNleaYr+WQpua/gOa0uy/pgInkuK1cbiAgQElucHV0KCkgb3BlbktleSA9ICdvcGVuJzsgLy8g6I+c5Y2V5piv5ZCm5omT5byAXG5cbiAgLyog6I+c5Y2V5qih5p2/ICovXG4gIEBJbnB1dCgpIG1lbnVJdGVtVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47IC8vIOWPr+WxleW8gOiPnOWNleWGheWuueadoeaooeadv1xuICBASW5wdXQoKSBpdGVtVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47IC8vIOWPr+eCueWHu+iPnOWNleWGheWuueadoeaooeadv1xuXG4gIEBPdXRwdXQoKSBtZW51VG9nZ2xlID0gbmV3IEV2ZW50RW1pdHRlcjxBY2NvcmRpb25NZW51VG9nZ2xlRXZlbnQ+KCk7IC8vIOWPr+WxleW8gOiPnOWNleWxleW8gOS6i+S7tlxuICBAT3V0cHV0KCkgaXRlbUNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxBY2NvcmRpb25JdGVtQ2xpY2tFdmVudD4oKTsgLy8g5Y+v54K55Ye76I+c5Y2V54K55Ye75LqL5Lu2XG4gIEBPdXRwdXQoKSBhY3RpdmVJdGVtQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgLyoqIOmrmOe6p+mAiemhueWSjOaooeadvyAqL1xuICBASW5wdXQoKSByZXN0cmljdE9uZU9wZW4gPSBmYWxzZTsgLy8g6ZmQ5Yi25LiA57qn6I+c5Y2V5ZCM5pe25Y+q6IO95omT5byA5LiA5LiqXG4gIEBJbnB1dCgpIGF1dG9PcGVuQWN0aXZlTWVudSA9IGZhbHNlOyAvLyDoh6rliqjlsZXlvIDmtLvot4Poj5zljZVcbiAgQElucHV0KCkgc2hvd05vQ29udGVudCA9IHRydWU7IC8vIOayoeacieWGheWuueeahOaXtuWAmeaYr+WQpuaYvuekuuayoeacieaVsOaNrlxuICBASW5wdXQoKSBub0NvbnRlbnRUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjsgLy8g5rKh5pyJ5YaF5a6555qE5pe25YCZ5L2/55So6Ieq5a6a5LmJ5qih5p2/XG4gIEBJbnB1dCgpIGxvYWRpbmdUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjsgLy8g5Yqg6L295Lit5L2/55So6Ieq5a6a5LmJ5qih5p2/XG4gIEBJbnB1dCgpIGlubmVyTGlzdFRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+OyAvLyDlj6/mipjlj6Doj5zljZXlhoXlrrnlrozlhajoh6rlrprkuYnvvIznlKjlgZrmipjlj6DpnaLmnb9cblxuICAvKiDlhoXnva7ot6/nlLEv6ZO+5o6lL+WKqOaAgeWIpOaWrei3r+eUseaIlumTvuaOpeexu+WeiyAqL1xuICBASW5wdXQoKSBsaW5rVHlwZTogJ3JvdXRlckxpbmsnIHwgJ2hyZWZMaW5rJyB8ICdkZXBlbmRPbkxpbmtUeXBlS2V5JyB8ICcnIHwgc3RyaW5nICA9ICcnO1xuICBASW5wdXQoKSBsaW5rVHlwZUtleSA9ICdsaW5rVHlwZSc7IC8vIGxpbmtUeXBl5Li6J2RlcGVuZE9uTGlua1R5cGVLZXkn5pe25oyH5a6a5a+56LGhbGlua1R5cGXlrprkuYnljLpcbiAgQElucHV0KCkgbGlua0tleSA9ICdsaW5rJzsgLy8g6ZO+5o6l5YaF5a6555qEa2V5XG4gIEBJbnB1dCgpIGxpbmtUYXJnZXRLZXkgPSAndGFyZ2V0JzsgLy8g6ZO+5o6l55uu5qCH56qX5Y+j55qEa2V5XG4gIEBJbnB1dCgpIGxpbmtEZWZhdWx0VGFyZ2V0ID0gJ19zZWxmJzsgLy8g5LiN6K6+572udGFyZ2V055qE5pe25YCZdGFyZ2V06buY6K6k5YC8XG5cbiAgQElucHV0KCkgYWNjb3JkaW9uVHlwZTogJ25vcm1hbCcgfCAnZW1iZWQnID0gJ25vcm1hbCc7XG4gIEBJbnB1dCgpIEBXaXRoQ29uZmlnKCkgc2hvd0FuaW1hdGlvbiA9IHRydWU7XG5cbiAgYWN0aXZlSXRlbTsgLy8g6K6w5b2V55So5oi354K55Ye755qE5r+A5rS76I+c5Y2V6aG5XG4gIGkxOG5Db21tb25UZXh0OiBJMThuSW50ZXJmYWNlWydjb21tb24nXTtcbiAgaTE4blN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGkxOG46IEkxOG5TZXJ2aWNlLCBwcml2YXRlIGRldkNvbmZpZ1NlcnZpY2U6IERldkNvbmZpZ1NlcnZpY2UpIHtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICBpZiAoY2hhbmdlc1snZGF0YSddKSB7XG4gICAgICB0aGlzLmluaXRBY3RpdmVJdGVtKCk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzWydhdXRvT3BlbkFjdGl2ZU1lbnUnXSkge1xuICAgICAgaWYgKHRoaXMuYXV0b09wZW5BY3RpdmVNZW51ICYmIGNoYW5nZXNbJ2F1dG9PcGVuQWN0aXZlTWVudSddLnByZXZpb3VzVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuY2xlYW5PcGVuRGF0YSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgIHRoaXMuaW5pdEFjdGl2ZUl0ZW0oKTtcbiAgICB9XG4gICAgdGhpcy5pMThuQ29tbW9uVGV4dCA9IHRoaXMuaTE4bi5nZXRJMThuVGV4dCgpLmNvbW1vbjtcbiAgICB0aGlzLmkxOG5TdWJzY3JpcHRpb24gPSB0aGlzLmkxOG4ubGFuZ0NoYW5nZSgpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgIHRoaXMuaTE4bkNvbW1vblRleHQgPSBkYXRhLmNvbW1vbjtcbiAgICB9KTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmkxOG5TdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMuaTE4blN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZmxhdHRlbihhcnI6IEFycmF5PGFueT4sIGNoaWxkcmVuS2V5ID0gJ2NoaWxkcmVuJywgaW5jbHVkZVBhcmVudCA9IGZhbHNlLCBpbmNsdWRlTGVhZiA9IHRydWUpIHtcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gY3VyW2NoaWxkcmVuS2V5XTtcbiAgICAgIGlmIChjaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChpbmNsdWRlTGVhZikge1xuICAgICAgICAgIGFjYy5wdXNoKGN1cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbmNsdWRlUGFyZW50KSB7XG4gICAgICAgICAgYWNjLnB1c2goY3VyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICBhY2MucHVzaCguLi50aGlzLmZsYXR0ZW4oY2hpbGRyZW4sIGNoaWxkcmVuS2V5LCBpbmNsdWRlUGFyZW50KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhbk9wZW5EYXRhKCkge1xuICAgIHRoaXMuZmxhdHRlbih0aGlzLmRhdGEsIHRoaXMuY2hpbGRyZW5LZXksIHRydWUsIGZhbHNlKS5mb3JFYWNoKFxuICAgICAgaXRlbSA9PiB7aXRlbVt0aGlzLm9wZW5LZXldID0gdW5kZWZpbmVkO31cbiAgICApO1xuICB9XG4gIC8vIOm7mOiupOa/gOa0u1xuICBpbml0QWN0aXZlSXRlbSgpIHtcbiAgICBjb25zdCBhY3RpdmVJdGVtID0gdGhpcy5mbGF0dGVuKHRoaXMuZGF0YSwgdGhpcy5jaGlsZHJlbktleSlcbiAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtW3RoaXMuYWN0aXZlS2V5XSkucG9wKCk7XG4gICAgaWYgKGFjdGl2ZUl0ZW0pIHtcbiAgICAgIGlmICghdGhpcy5hY3RpdmVJdGVtKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlSXRlbUZuKGFjdGl2ZUl0ZW0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLy8g54K55Ye75LqG5Y+v54K55Ye76I+c5Y2VXG4gIHB1YmxpYyBpdGVtQ2xpY2tGbiA9IChpdGVtRXZlbnQ6IEFjY29yZGlvbkl0ZW1DbGlja0V2ZW50KSA9PiB7XG4gICAgY29uc3QgcHJldkFjdGl2ZUl0ZW0gPSB0aGlzLmFjdGl2ZUl0ZW07XG4gICAgdGhpcy5hY3RpdmVJdGVtRm4oaXRlbUV2ZW50Lml0ZW0pO1xuICAgIHRoaXMuaXRlbUNsaWNrLmVtaXQoey4uLml0ZW1FdmVudCwgcHJldkFjdGl2ZUl0ZW06IHByZXZBY3RpdmVJdGVtfSk7XG4gIH07XG5cbiAgbGlua0l0ZW1DbGlja0ZuID0gKGl0ZW1FdmVudDogQWNjb3JkaW9uSXRlbUNsaWNrRXZlbnQpID0+IHtcbiAgICBjb25zdCBwcmV2QWN0aXZlSXRlbSA9IHRoaXMuYWN0aXZlSXRlbTtcbiAgICB0aGlzLmFjdGl2ZUl0ZW0gPSBpdGVtRXZlbnQuaXRlbTtcbiAgICB0aGlzLml0ZW1DbGljay5lbWl0KHsuLi5pdGVtRXZlbnQsIHByZXZBY3RpdmVJdGVtOiBwcmV2QWN0aXZlSXRlbX0pO1xuICB9O1xuXG4gIC8vIOaJk+W8gOaIluWFs+mXreWPr+aKmOWPoOiPnOWNlVxuICBwdWJsaWMgbWVudVRvZ2dsZUZuID0gKG1lbnVFdmVudDogQWNjb3JkaW9uTWVudVRvZ2dsZUV2ZW50KSA9PiB7XG4gICAgdGhpcy5vcGVuTWVudUZuKG1lbnVFdmVudC5pdGVtLCBtZW51RXZlbnQub3Blbik7XG4gICAgdGhpcy5tZW51VG9nZ2xlLmVtaXQobWVudUV2ZW50KTtcbiAgfTtcblxuICAvLyDmv4DmtLvlrZDoj5zljZXpobnlubbljrvmjonlhbbku5blrZDoj5zljZXnmoTmv4DmtLtcbiAgYWN0aXZlSXRlbUZuKGl0ZW0pIHtcbiAgICBpZiAodGhpcy5hY3RpdmVJdGVtICYmIHRoaXMuYWN0aXZlSXRlbVt0aGlzLmFjdGl2ZUtleV0pIHtcbiAgICAgIHRoaXMuYWN0aXZlSXRlbVt0aGlzLmFjdGl2ZUtleV0gPSBmYWxzZTtcbiAgICB9XG4gICAgaXRlbVt0aGlzLmFjdGl2ZUtleV0gPSB0cnVlO1xuICAgIHRoaXMuYWN0aXZlSXRlbSA9IGl0ZW07XG4gICAgdGhpcy5hY3RpdmVJdGVtQ2hhbmdlLmVtaXQodGhpcy5hY3RpdmVJdGVtKTtcbiAgfVxuXG4gIC8vIOaJk+W8gOaIluWFs+mXreS4gOe6p+iPnOWNle+8jOWmguaenOaciemZkOWItuWPquiDveWxleW8gOS4gOmhueWImeWFs+mXreWFtuS7luS4gOe6p+iPnOWNlVxuICBvcGVuTWVudUZuKGl0ZW0sIG9wZW4pIHtcbiAgICBpZiAob3BlbiAmJiB0aGlzLnJlc3RyaWN0T25lT3Blbikge1xuICAgICAgKDxBcnJheTxhbnk+Pih0aGlzLmRhdGEpKS5mb3JFYWNoKGl0ZW10ZW1wID0+IHsgaXRlbXRlbXBbdGhpcy5vcGVuS2V5XSA9IGZhbHNlOyB9KTtcbiAgICB9XG4gICAgaXRlbVt0aGlzLm9wZW5LZXldID0gb3BlbjtcbiAgfVxufVxuIiwiPGQtYWNjb3JkaW9uLWxpc3RcbiAgY2xhc3M9XCJkZXZ1aS1hY2NvcmRpb24tbWVudSBkZXZ1aS1zY3JvbGxiYXJcIlxuICBbbmdDbGFzc109XCJ7ICdkZXZ1aS1hY2NvcmRpb24tbWVudS1ub3JtYWwnOiBhY2NvcmRpb25UeXBlID09PSAnbm9ybWFsJyB9XCJcbiAgW2RhdGFdPVwiZGF0YVwiXG4gIFtkZWVwdGhdPVwiMFwiXG4gIFtwYXJlbnRdPVwibnVsbFwiXG4+XG48L2QtYWNjb3JkaW9uLWxpc3Q+XG4iXX0=