import { DOCUMENT } from '@angular/common';
import { ChangeDetectionStrategy, Component, ElementRef, HostListener, Inject, Input } from '@angular/core';
import { I18nService } from 'ng-devui/i18n';
import { TransformableElement } from './transformable-element';
import * as i0 from "@angular/core";
import * as i1 from "ng-devui/i18n";
import * as i2 from "ng-devui/input-number";
import * as i3 from "ng-devui/tooltip";
import * as i4 from "@angular/common";
import * as i5 from "@angular/forms";
import * as i6 from "ng-devui/utils";
export class DImagePreviewComponent {
    constructor(elementRef, i18n, doc) {
        this.elementRef = elementRef;
        this.i18n = i18n;
        this.doc = doc;
        this.isOptimal = true;
        this.showInput = false;
        this.document = this.doc;
    }
    set data(data) {
        this._data = data;
        this.images = data.images;
        this.onClose = data.onClose;
        this.targetImageIndex = this.images.indexOf(data.targetImage);
        this.totalImageNum = this.images.length;
    }
    get data() {
        return this._data;
    }
    get targetImageSrc() {
        // 防止targetImageIndex出现-1的情况
        const idx = this.targetImageIndex >= 0 && this.targetImageIndex || 0;
        return this.images[idx].getAttribute('src');
    }
    click($event) {
        if ($event.target.classList.contains('devui-image-preview-wrapper')) {
            this.onClose();
        }
    }
    touchstart($event) {
        $event['clientX'] = $event.changedTouches[0].clientX;
        $event['clientY'] = $event.changedTouches[0].clientY;
        this.transformableImageElementRef.mouseDown($event);
    }
    touchmove($event) {
        $event['clientX'] = $event.changedTouches[0].clientX;
        $event['clientY'] = $event.changedTouches[0].clientY;
        this.transformableImageElementRef.mouseMove($event);
    }
    touchend($event) {
        this.transformableImageElementRef.mouseDown($event);
    }
    arrowLeft() {
        this.pre();
    }
    arrowRight() {
        this.next();
    }
    ngOnInit() {
        this.addFullScreenStyle();
        this.transformableImageElementRef = new TransformableElement(this.getImgElement(), {});
        this.setI18nText();
    }
    setI18nText() {
        this.i18nText = this.i18n.getI18nText().imagePreview;
        this.i18nSubscription = this.i18n.langChange().subscribe((data) => {
            this.i18nText = data.imagePreview;
        });
    }
    ngOnDestroy() {
        this.removeFullScreenStyle();
        this.transformableImageElementRef.removeElementListener();
        if (this.i18nSubscription) {
            this.i18nSubscription.unsubscribe();
        }
    }
    pre() {
        this.targetImageIndex = (this.targetImageIndex - 1 + this.totalImageNum) % this.totalImageNum;
    }
    next() {
        this.targetImageIndex = (this.targetImageIndex + 1) % this.totalImageNum;
    }
    zoomIn() {
        this.transformableImageElementRef.zoomIn();
    }
    zoomOut() {
        this.transformableImageElementRef.zoomOut();
    }
    rotate() {
        this.transformableImageElementRef.rotate();
    }
    setScaleBest() {
        this.transformableImageElementRef.setBestScale();
        this.isOptimal = true;
    }
    setScaleOriginal() {
        this.transformableImageElementRef.setOriginalScale();
        this.isOptimal = false;
    }
    inputChange($event) {
        if (!isNaN($event) && $event && $event >= 1 && $event <= this.totalImageNum) {
            this.targetImageIndex = $event - 1;
        }
    }
    addFullScreenStyle() {
        this.document.querySelector('body').classList.add('devui-fullscreen');
    }
    removeFullScreenStyle() {
        this.document.querySelector('body').classList.remove('devui-fullscreen');
    }
    getImgElement() {
        return this.elementRef.nativeElement.querySelector('.devui-image-preview-main-image');
    }
}
DImagePreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DImagePreviewComponent, deps: [{ token: i0.ElementRef }, { token: i1.I18nService }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Component });
DImagePreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DImagePreviewComponent, selector: "d-image-preview", inputs: { data: "data" }, host: { listeners: { "click": "click($event)", "touchstart": "touchstart($event)", "touchmove": "touchmove($event)", "touchend": "touchend($event)", "window:keydown.ArrowLeft": "arrowLeft()", "window:keydown.ArrowRight": "arrowRight()" } }, ngImport: i0, template: "<div class=\"devui-image-preview-wrapper\">\n  <button class=\"devui-image-preview-close-btn\" (click)=\"onClose()\">\n    <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <polygon\n          fill=\"#293040\"\n          fill-rule=\"nonzero\"\n          points=\"8 6.58578644 12.2426407 2.34314575 13.6568542 3.75735931 9.41421356 8 13.6568542 12.2426407 12.2426407 13.6568542 8 9.41421356 3.75735931 13.6568542 2.34314575 12.2426407 6.58578644 8 2.34314575 3.75735931 3.75735931 2.34314575\"\n        ></polygon>\n      </g>\n    </svg>\n  </button>\n  <img class=\"devui-image-preview-main-image\" [class.devui-optimal-proportion]=\"isOptimal\" [attr.src]=\"targetImageSrc | safe: 'url'\" />\n\n  <!-- TODO: button\u53C2\u6570\u5316\u91CD\u6784 -->\n  <button class=\"devui-fixed-arrow-left\" (click)=\"pre()\" dTooltip [position]=\"'right'\" [content]=\"i18nText.pre\">\n    <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <polygon\n          fill=\"#293040\"\n          fill-rule=\"nonzero\"\n          points=\"10.7071068 12.2928932 9.29289322 13.7071068 3.58578644 8 9.29289322 2.29289322 10.7071068 3.70710678 6.41421356 8\"\n        ></polygon>\n      </g>\n    </svg>\n  </button>\n  <button class=\"devui-fixed-arrow-right\" (click)=\"next()\" dTooltip [position]=\"'left'\" [content]=\"i18nText.next\">\n    <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <polygon\n          fill=\"#293040\"\n          fill-rule=\"nonzero\"\n          transform=\"translate(8.146447, 8.000000) scale(-1, 1) translate(-8.146447, -8.000000) \"\n          points=\"11.7071068 12.2928932 10.2928932 13.7071068 4.58578644 8 10.2928932 2.29289322 11.7071068 3.70710678 7.41421356 8\"\n        ></polygon>\n      </g>\n    </svg>\n  </button>\n\n  <div class=\"devui-image-preview-toolbar\">\n    <button (click)=\"zoomIn()\" dTooltip [position]=\"'top'\" [content]=\"i18nText?.zoomIn\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <g fill=\"#293040\" fill-rule=\"nonzero\">\n            <path\n              d=\"M6,6 L6,4 L8,4 L8,6 L10,6 L10,8 L8,8 L8,10 L6,10 L6,8 L4,8 L4,6 L6,6 Z M12.6063847,11.1921711 L15.6568542,14.2426407 L14.2426407,15.6568542 L11.1921711,12.6063847 C10.0235906,13.4815965 8.5723351,14 7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7,0 C10.8659932,0 14,3.13400675 14,7 C14,8.5723351 13.4815965,10.0235906 12.6063847,11.1921711 L12.6063847,11.1921711 Z M7,12 C9.76142375,12 12,9.76142375 12,7 C12,4.23857625 9.76142375,2 7,2 C4.23857625,2 2,4.23857625 2,7 C2,9.76142375 4.23857625,12 7,12 Z\"\n            ></path>\n          </g>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"zoomOut()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.zoomOut\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <g fill=\"#293040\" fill-rule=\"nonzero\">\n            <path\n              d=\"M12.6063847,11.1921711 L15.6568542,14.2426407 L14.2426407,15.6568542 L11.1921711,12.6063847 C10.0235906,13.4815965 8.5723351,14 7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7,0 C10.8659932,0 14,3.13400675 14,7 C14,8.5723351 13.4815965,10.0235906 12.6063847,11.1921711 L12.6063847,11.1921711 Z M7,12 C9.76142375,12 12,9.76142375 12,7 C12,4.23857625 9.76142375,2 7,2 C4.23857625,2 2,4.23857625 2,7 C2,9.76142375 4.23857625,12 7,12 Z M4,6 L10,6 L10,8 L4,8 L4,6 Z\"\n            ></path>\n          </g>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"rotate()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.rotate\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M7.5,3.02242151 L7.5,4 L4.5,2 L7.5,0 L7.5,1.01640228 C7.66526181,1.00552468 7.83198572,1 8,1 C12.1421356,1 15.5,4.35786438 15.5,8.5 C15.5,12.6421356 12.1421356,16 8,16 C3.85786438,16 0.5,12.6421356 0.5,8.5 C0.5,6.9828355 0.950484514,5.5708873 1.72499011,4.39061882 L3.42173231,5.4510827 C2.83944149,6.32371289 2.5,7.37221604 2.5,8.5 C2.5,11.5375661 4.96243388,14 8,14 C11.0375661,14 13.5,11.5375661 13.5,8.5 C13.5,5.46243388 11.0375661,3 8,3 C7.83145515,3 7.66468102,3.00758131 7.5,3.02242151 Z M8,11 C6.61928813,11 5.5,9.88071187 5.5,8.5 C5.5,7.11928813 6.61928813,6 8,6 C9.38071187,6 10.5,7.11928813 10.5,8.5 C10.5,9.88071187 9.38071187,11 8,11 Z M8,10 C8.82842712,10 9.5,9.32842712 9.5,8.5 C9.5,7.67157288 8.82842712,7 8,7 C7.17157288,7 6.5,7.67157288 6.5,8.5 C6.5,9.32842712 7.17157288,10 8,10 Z\"\n            fill=\"#293040\"\n          ></path>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"pre()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.pre\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <polygon\n            fill=\"#293040\"\n            fill-rule=\"nonzero\"\n            points=\"10.7071068 12.2928932 9.29289322 13.7071068 3.58578644 8 9.29289322 2.29289322 10.7071068 3.70710678 6.41421356 8\"\n          ></polygon>\n        </g>\n      </svg>\n    </button>\n    <span (click)=\"showInput = true\" class=\"devui-image-preview-index\">\n      <d-input-number\n        *ngIf=\"showInput\"\n        size=\"sm\"\n        [min]=\"1\"\n        [max]=\"totalImageNum\"\n        [autoFocus]=\"true\"\n        [ngModel]=\"targetImageIndex + 1\"\n        (keyup.enter)=\"showInput = false\"\n        (blur)=\"showInput = false\"\n        (whileValueChanging)=\"inputChange($event)\"\n        (ngModelChange)=\"inputChange($event)\"\n      >\n      </d-input-number>\n      <span *ngIf=\"!showInput\">{{ targetImageIndex + 1 + ' ' }}</span>\n      <span>{{ '/ ' + totalImageNum }}</span>\n    </span>\n    <button class=\"devui-next\" (click)=\"next()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.next\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <polygon\n            fill=\"#293040\"\n            fill-rule=\"nonzero\"\n            transform=\"translate(8.146447, 8.000000) scale(-1, 1) translate(-8.146447, -8.000000) \"\n            points=\"11.7071068 12.2928932 10.2928932 13.7071068 4.58578644 8 10.2928932 2.29289322 11.7071068 3.70710678 7.41421356 8\"\n          ></polygon>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"setScaleBest()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.bestScale\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M16,16 L11.429,16 L11.429,15 L14.456,15 L11.006,11.226 L11.652,10.519 L15.086,14.275 L15.086,11 L16,11 L16,16 Z M15.164,1.544 L12.009,4.994 L11.418,4.348 L14.558,0.914 L11.82,0.914 L11.82,0 L16,0 L16,4.571 L15.164,4.571 L15.164,1.544 Z M5,15 L5,16 L0,16 L0,11 L1,11 L1,14.275 L4.756,10.519 L5.463,11.226 L1.689,15 L5,15 Z M4.365,4.994 L0.914,1.544 L0.914,4.571 L3.41060513e-13,4.571 L3.41060513e-13,0 L4.571,0 L4.571,0.914 L1.578,0.914 L5.011,4.348 L4.365,4.994 Z\"\n            fill=\"#293040\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"setScaleOriginal()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.originScale\">\n      <span>1:1</span>\n    </button>\n  </div>\n</div>\n", styles: ["::ng-deep .devui-fullscreen{overflow:hidden!important}::ng-deep #devui-image-preview-modal .modal-content{overflow:hidden!important;transform:none!important;background-color:transparent}.devui-image-preview-wrapper{display:flex;width:100vw;height:100vh;align-items:center;justify-content:center;overflow:hidden}.devui-image-preview-wrapper .devui-image-preview-main-image{width:auto;height:auto;cursor:-webkit-grab;cursor:grab;margin-top:-20px}.devui-image-preview-wrapper .devui-optimal-proportion{max-width:90%;max-height:90%}.devui-fixed-arrow-left{position:fixed;z-index:1050;z-index:var(--devui-z-index-modal, 1050);cursor:pointer;width:36px;height:36px;border-radius:18px;background:rgba(255,255,255,.8);background:var(--devui-highlight-overlay, rgba(255, 255, 255, .8));box-shadow:0 1px 4px rgba(37,43,58,.1);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) var(--devui-light-shadow, rgba(37, 43, 58, .1));display:inline-flex;align-items:center;justify-content:center;top:calc(50% - 18px);left:20px}.devui-fixed-arrow-left:hover{background:#f5f5f5;background:var(--devui-area, #f5f5f5)}.devui-fixed-arrow-left svg polygon{fill:#71757f;fill:var(--devui-icon-text, #71757f)}.devui-fixed-arrow-left svg{width:38px;height:18px}.devui-fixed-arrow-right{position:fixed;z-index:1050;z-index:var(--devui-z-index-modal, 1050);cursor:pointer;width:36px;height:36px;border-radius:18px;background:rgba(255,255,255,.8);background:var(--devui-highlight-overlay, rgba(255, 255, 255, .8));box-shadow:0 1px 4px rgba(37,43,58,.1);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) var(--devui-light-shadow, rgba(37, 43, 58, .1));display:inline-flex;align-items:center;justify-content:center;top:calc(50% - 18px);right:20px}.devui-fixed-arrow-right:hover{background:#f5f5f5;background:var(--devui-area, #f5f5f5)}.devui-fixed-arrow-right svg polygon{fill:#71757f;fill:var(--devui-icon-text, #71757f)}.devui-fixed-arrow-right svg{width:38px;height:18px}svg,polygon,g,path{fill:#71757f;fill:var(--devui-icon-text, #71757f)}.devui-image-preview-close-btn{position:fixed;z-index:1050;z-index:var(--devui-z-index-modal, 1050);cursor:pointer;width:36px;height:36px;border-radius:18px;background:rgba(255,255,255,.8);background:var(--devui-highlight-overlay, rgba(255, 255, 255, .8));box-shadow:0 1px 4px rgba(37,43,58,.1);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) var(--devui-light-shadow, rgba(37, 43, 58, .1));display:inline-flex;align-items:center;justify-content:center;top:15px;right:20px}.devui-image-preview-close-btn:hover{background:#f5f5f5;background:var(--devui-area, #f5f5f5)}.devui-image-preview-close-btn svg polygon{fill:#71757f;fill:var(--devui-icon-text, #71757f)}.devui-image-preview-close-btn svg{width:38px;height:18px}.devui-image-preview-toolbar{width:100%;height:50px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.8);background:var(--devui-highlight-overlay, rgba(255, 255, 255, .8));box-shadow:0 8px 40px rgba(37,43,58,.1);box-shadow:var(--devui-shadow-fullscreen-overlay, 0 8px 40px 0) var(--devui-light-shadow, rgba(37, 43, 58, .1));position:fixed;bottom:0;left:0}.devui-image-preview-toolbar button{display:inline-flex;width:24px;height:24px;align-items:center;justify-content:center;color:#252b3a;color:var(--devui-text, #252b3a)}.devui-image-preview-toolbar .devui-image-preview-index{display:inline-flex;width:100px;justify-content:center;align-items:center;cursor:pointer}.devui-image-preview-toolbar .devui-image-preview-index d-input-number{width:65px;margin-right:4px}.devui-image-preview-toolbar>:not(:first-child){margin-left:20px}.devui-image-preview-toolbar .devui-image-preview-index,.devui-image-preview-toolbar .devui-next{margin-left:4px}\n"], components: [{ type: i2.InputNumberComponent, selector: "d-input-number", inputs: ["step", "disabled", "size", "decimalLimit", "autoFocus", "allowEmpty", "placeholder", "maxLength", "reg", "min", "max"], outputs: ["afterValueChanged", "whileValueChanging"] }], directives: [{ type: i3.TooltipDirective, selector: "[dTooltip]", inputs: ["content", "position", "showAnimation", "showAnimate", "mouseEnterDelay", "mouseLeaveDelay"], exportAs: ["dTooltip"] }, { type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i5.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i5.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }], pipes: { "safe": i6.SafePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DImagePreviewComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-image-preview', changeDetection: ChangeDetectionStrategy.OnPush, preserveWhitespaces: false, template: "<div class=\"devui-image-preview-wrapper\">\n  <button class=\"devui-image-preview-close-btn\" (click)=\"onClose()\">\n    <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <polygon\n          fill=\"#293040\"\n          fill-rule=\"nonzero\"\n          points=\"8 6.58578644 12.2426407 2.34314575 13.6568542 3.75735931 9.41421356 8 13.6568542 12.2426407 12.2426407 13.6568542 8 9.41421356 3.75735931 13.6568542 2.34314575 12.2426407 6.58578644 8 2.34314575 3.75735931 3.75735931 2.34314575\"\n        ></polygon>\n      </g>\n    </svg>\n  </button>\n  <img class=\"devui-image-preview-main-image\" [class.devui-optimal-proportion]=\"isOptimal\" [attr.src]=\"targetImageSrc | safe: 'url'\" />\n\n  <!-- TODO: button\u53C2\u6570\u5316\u91CD\u6784 -->\n  <button class=\"devui-fixed-arrow-left\" (click)=\"pre()\" dTooltip [position]=\"'right'\" [content]=\"i18nText.pre\">\n    <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <polygon\n          fill=\"#293040\"\n          fill-rule=\"nonzero\"\n          points=\"10.7071068 12.2928932 9.29289322 13.7071068 3.58578644 8 9.29289322 2.29289322 10.7071068 3.70710678 6.41421356 8\"\n        ></polygon>\n      </g>\n    </svg>\n  </button>\n  <button class=\"devui-fixed-arrow-right\" (click)=\"next()\" dTooltip [position]=\"'left'\" [content]=\"i18nText.next\">\n    <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <polygon\n          fill=\"#293040\"\n          fill-rule=\"nonzero\"\n          transform=\"translate(8.146447, 8.000000) scale(-1, 1) translate(-8.146447, -8.000000) \"\n          points=\"11.7071068 12.2928932 10.2928932 13.7071068 4.58578644 8 10.2928932 2.29289322 11.7071068 3.70710678 7.41421356 8\"\n        ></polygon>\n      </g>\n    </svg>\n  </button>\n\n  <div class=\"devui-image-preview-toolbar\">\n    <button (click)=\"zoomIn()\" dTooltip [position]=\"'top'\" [content]=\"i18nText?.zoomIn\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <g fill=\"#293040\" fill-rule=\"nonzero\">\n            <path\n              d=\"M6,6 L6,4 L8,4 L8,6 L10,6 L10,8 L8,8 L8,10 L6,10 L6,8 L4,8 L4,6 L6,6 Z M12.6063847,11.1921711 L15.6568542,14.2426407 L14.2426407,15.6568542 L11.1921711,12.6063847 C10.0235906,13.4815965 8.5723351,14 7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7,0 C10.8659932,0 14,3.13400675 14,7 C14,8.5723351 13.4815965,10.0235906 12.6063847,11.1921711 L12.6063847,11.1921711 Z M7,12 C9.76142375,12 12,9.76142375 12,7 C12,4.23857625 9.76142375,2 7,2 C4.23857625,2 2,4.23857625 2,7 C2,9.76142375 4.23857625,12 7,12 Z\"\n            ></path>\n          </g>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"zoomOut()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.zoomOut\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <g fill=\"#293040\" fill-rule=\"nonzero\">\n            <path\n              d=\"M12.6063847,11.1921711 L15.6568542,14.2426407 L14.2426407,15.6568542 L11.1921711,12.6063847 C10.0235906,13.4815965 8.5723351,14 7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7,0 C10.8659932,0 14,3.13400675 14,7 C14,8.5723351 13.4815965,10.0235906 12.6063847,11.1921711 L12.6063847,11.1921711 Z M7,12 C9.76142375,12 12,9.76142375 12,7 C12,4.23857625 9.76142375,2 7,2 C4.23857625,2 2,4.23857625 2,7 C2,9.76142375 4.23857625,12 7,12 Z M4,6 L10,6 L10,8 L4,8 L4,6 Z\"\n            ></path>\n          </g>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"rotate()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.rotate\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M7.5,3.02242151 L7.5,4 L4.5,2 L7.5,0 L7.5,1.01640228 C7.66526181,1.00552468 7.83198572,1 8,1 C12.1421356,1 15.5,4.35786438 15.5,8.5 C15.5,12.6421356 12.1421356,16 8,16 C3.85786438,16 0.5,12.6421356 0.5,8.5 C0.5,6.9828355 0.950484514,5.5708873 1.72499011,4.39061882 L3.42173231,5.4510827 C2.83944149,6.32371289 2.5,7.37221604 2.5,8.5 C2.5,11.5375661 4.96243388,14 8,14 C11.0375661,14 13.5,11.5375661 13.5,8.5 C13.5,5.46243388 11.0375661,3 8,3 C7.83145515,3 7.66468102,3.00758131 7.5,3.02242151 Z M8,11 C6.61928813,11 5.5,9.88071187 5.5,8.5 C5.5,7.11928813 6.61928813,6 8,6 C9.38071187,6 10.5,7.11928813 10.5,8.5 C10.5,9.88071187 9.38071187,11 8,11 Z M8,10 C8.82842712,10 9.5,9.32842712 9.5,8.5 C9.5,7.67157288 8.82842712,7 8,7 C7.17157288,7 6.5,7.67157288 6.5,8.5 C6.5,9.32842712 7.17157288,10 8,10 Z\"\n            fill=\"#293040\"\n          ></path>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"pre()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.pre\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <polygon\n            fill=\"#293040\"\n            fill-rule=\"nonzero\"\n            points=\"10.7071068 12.2928932 9.29289322 13.7071068 3.58578644 8 9.29289322 2.29289322 10.7071068 3.70710678 6.41421356 8\"\n          ></polygon>\n        </g>\n      </svg>\n    </button>\n    <span (click)=\"showInput = true\" class=\"devui-image-preview-index\">\n      <d-input-number\n        *ngIf=\"showInput\"\n        size=\"sm\"\n        [min]=\"1\"\n        [max]=\"totalImageNum\"\n        [autoFocus]=\"true\"\n        [ngModel]=\"targetImageIndex + 1\"\n        (keyup.enter)=\"showInput = false\"\n        (blur)=\"showInput = false\"\n        (whileValueChanging)=\"inputChange($event)\"\n        (ngModelChange)=\"inputChange($event)\"\n      >\n      </d-input-number>\n      <span *ngIf=\"!showInput\">{{ targetImageIndex + 1 + ' ' }}</span>\n      <span>{{ '/ ' + totalImageNum }}</span>\n    </span>\n    <button class=\"devui-next\" (click)=\"next()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.next\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <polygon\n            fill=\"#293040\"\n            fill-rule=\"nonzero\"\n            transform=\"translate(8.146447, 8.000000) scale(-1, 1) translate(-8.146447, -8.000000) \"\n            points=\"11.7071068 12.2928932 10.2928932 13.7071068 4.58578644 8 10.2928932 2.29289322 11.7071068 3.70710678 7.41421356 8\"\n          ></polygon>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"setScaleBest()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.bestScale\">\n      <svg width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M16,16 L11.429,16 L11.429,15 L14.456,15 L11.006,11.226 L11.652,10.519 L15.086,14.275 L15.086,11 L16,11 L16,16 Z M15.164,1.544 L12.009,4.994 L11.418,4.348 L14.558,0.914 L11.82,0.914 L11.82,0 L16,0 L16,4.571 L15.164,4.571 L15.164,1.544 Z M5,15 L5,16 L0,16 L0,11 L1,11 L1,14.275 L4.756,10.519 L5.463,11.226 L1.689,15 L5,15 Z M4.365,4.994 L0.914,1.544 L0.914,4.571 L3.41060513e-13,4.571 L3.41060513e-13,0 L4.571,0 L4.571,0.914 L1.578,0.914 L5.011,4.348 L4.365,4.994 Z\"\n            fill=\"#293040\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n    </button>\n    <button (click)=\"setScaleOriginal()\" dTooltip [position]=\"'top'\" [content]=\"i18nText.originScale\">\n      <span>1:1</span>\n    </button>\n  </div>\n</div>\n", styles: ["::ng-deep .devui-fullscreen{overflow:hidden!important}::ng-deep #devui-image-preview-modal .modal-content{overflow:hidden!important;transform:none!important;background-color:transparent}.devui-image-preview-wrapper{display:flex;width:100vw;height:100vh;align-items:center;justify-content:center;overflow:hidden}.devui-image-preview-wrapper .devui-image-preview-main-image{width:auto;height:auto;cursor:-webkit-grab;cursor:grab;margin-top:-20px}.devui-image-preview-wrapper .devui-optimal-proportion{max-width:90%;max-height:90%}.devui-fixed-arrow-left{position:fixed;z-index:1050;z-index:var(--devui-z-index-modal, 1050);cursor:pointer;width:36px;height:36px;border-radius:18px;background:rgba(255,255,255,.8);background:var(--devui-highlight-overlay, rgba(255, 255, 255, .8));box-shadow:0 1px 4px rgba(37,43,58,.1);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) var(--devui-light-shadow, rgba(37, 43, 58, .1));display:inline-flex;align-items:center;justify-content:center;top:calc(50% - 18px);left:20px}.devui-fixed-arrow-left:hover{background:#f5f5f5;background:var(--devui-area, #f5f5f5)}.devui-fixed-arrow-left svg polygon{fill:#71757f;fill:var(--devui-icon-text, #71757f)}.devui-fixed-arrow-left svg{width:38px;height:18px}.devui-fixed-arrow-right{position:fixed;z-index:1050;z-index:var(--devui-z-index-modal, 1050);cursor:pointer;width:36px;height:36px;border-radius:18px;background:rgba(255,255,255,.8);background:var(--devui-highlight-overlay, rgba(255, 255, 255, .8));box-shadow:0 1px 4px rgba(37,43,58,.1);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) var(--devui-light-shadow, rgba(37, 43, 58, .1));display:inline-flex;align-items:center;justify-content:center;top:calc(50% - 18px);right:20px}.devui-fixed-arrow-right:hover{background:#f5f5f5;background:var(--devui-area, #f5f5f5)}.devui-fixed-arrow-right svg polygon{fill:#71757f;fill:var(--devui-icon-text, #71757f)}.devui-fixed-arrow-right svg{width:38px;height:18px}svg,polygon,g,path{fill:#71757f;fill:var(--devui-icon-text, #71757f)}.devui-image-preview-close-btn{position:fixed;z-index:1050;z-index:var(--devui-z-index-modal, 1050);cursor:pointer;width:36px;height:36px;border-radius:18px;background:rgba(255,255,255,.8);background:var(--devui-highlight-overlay, rgba(255, 255, 255, .8));box-shadow:0 1px 4px rgba(37,43,58,.1);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) var(--devui-light-shadow, rgba(37, 43, 58, .1));display:inline-flex;align-items:center;justify-content:center;top:15px;right:20px}.devui-image-preview-close-btn:hover{background:#f5f5f5;background:var(--devui-area, #f5f5f5)}.devui-image-preview-close-btn svg polygon{fill:#71757f;fill:var(--devui-icon-text, #71757f)}.devui-image-preview-close-btn svg{width:38px;height:18px}.devui-image-preview-toolbar{width:100%;height:50px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.8);background:var(--devui-highlight-overlay, rgba(255, 255, 255, .8));box-shadow:0 8px 40px rgba(37,43,58,.1);box-shadow:var(--devui-shadow-fullscreen-overlay, 0 8px 40px 0) var(--devui-light-shadow, rgba(37, 43, 58, .1));position:fixed;bottom:0;left:0}.devui-image-preview-toolbar button{display:inline-flex;width:24px;height:24px;align-items:center;justify-content:center;color:#252b3a;color:var(--devui-text, #252b3a)}.devui-image-preview-toolbar .devui-image-preview-index{display:inline-flex;width:100px;justify-content:center;align-items:center;cursor:pointer}.devui-image-preview-toolbar .devui-image-preview-index d-input-number{width:65px;margin-right:4px}.devui-image-preview-toolbar>:not(:first-child){margin-left:20px}.devui-image-preview-toolbar .devui-image-preview-index,.devui-image-preview-toolbar .devui-next{margin-left:4px}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.I18nService }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }]; }, propDecorators: { data: [{
                type: Input
            }], click: [{
                type: HostListener,
                args: ['click', ['$event']]
            }], touchstart: [{
                type: HostListener,
                args: ['touchstart', ['$event']]
            }], touchmove: [{
                type: HostListener,
                args: ['touchmove', ['$event']]
            }], touchend: [{
                type: HostListener,
                args: ['touchend', ['$event']]
            }], arrowLeft: [{
                type: HostListener,
                args: ['window:keydown.ArrowLeft', []]
            }], arrowRight: [{
                type: HostListener,
                args: ['window:keydown.ArrowRight', []]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2UtcHJldmlldy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9kZXZ1aS9pbWFnZS1wcmV2aWV3L2ltYWdlLXByZXZpZXcuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZGV2dWkvaW1hZ2UtcHJldmlldy9pbWFnZS1wcmV2aWV3LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBcUIsTUFBTSxlQUFlLENBQUM7QUFDL0gsT0FBTyxFQUFpQixXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0QsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0seUJBQXlCLENBQUM7Ozs7Ozs7O0FBVS9ELE1BQU0sT0FBTyxzQkFBc0I7SUFrQ2pDLFlBQ1UsVUFBc0IsRUFDdEIsSUFBaUIsRUFDQyxHQUFRO1FBRjFCLGVBQVUsR0FBVixVQUFVLENBQVk7UUFDdEIsU0FBSSxHQUFKLElBQUksQ0FBYTtRQUNDLFFBQUcsR0FBSCxHQUFHLENBQUs7UUFyQnBDLGNBQVMsR0FBRyxJQUFJLENBQUM7UUFJakIsY0FBUyxHQUFHLEtBQUssQ0FBQztRQW1CaEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQzNCLENBQUM7SUF0Q0QsSUFDSSxJQUFJLENBQUMsSUFBSTtRQUNYLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDNUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMs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QUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVPLGFBQWE7UUFDbkIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsaUNBQWlDLENBQUMsQ0FBQztJQUN4RixDQUFDOzttSEFqSlUsc0JBQXNCLHVFQXFDdkIsUUFBUTt1R0FyQ1Asc0JBQXNCLGtVQ2RuQyxnNFBBZ0lBOzJGRGxIYSxzQkFBc0I7a0JBUmxDLFNBQVM7K0JBQ0UsaUJBQWlCLG1CQUdWLHVCQUF1QixDQUFDLE1BQU0sdUJBQzFCLEtBQUs7OzBCQXdDdkIsTUFBTTsyQkFBQyxRQUFROzRDQWxDZCxJQUFJO3NCQURQLEtBQUs7Z0JBeUNOLEtBQUs7c0JBREosWUFBWTt1QkFBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUM7Z0JBUWpDLFVBQVU7c0JBRFQsWUFBWTt1QkFBQyxZQUFZLEVBQUUsQ0FBQyxRQUFRLENBQUM7Z0JBUXRDLFNBQVM7c0JBRFIsWUFBWTt1QkFBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUM7Z0JBUXJDLFFBQVE7c0JBRFAsWUFBWTt1QkFBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLENBQUM7Z0JBTXBDLFNBQVM7c0JBRFIsWUFBWTt1QkFBQywwQkFBMEIsRUFBRSxFQUFFO2dCQU01QyxVQUFVO3NCQURULFlBQVk7dUJBQUMsMkJBQTJCLEVBQUUsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEhvc3RMaXN0ZW5lciwgSW5qZWN0LCBJbnB1dCwgT25EZXN0cm95LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEkxOG5JbnRlcmZhY2UsIEkxOG5TZXJ2aWNlIH0gZnJvbSAnbmctZGV2dWkvaTE4bic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFRyYW5zZm9ybWFibGVFbGVtZW50IH0gZnJvbSAnLi90cmFuc2Zvcm1hYmxlLWVsZW1lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdkLWltYWdlLXByZXZpZXcnLFxuICB0ZW1wbGF0ZVVybDogJy4vaW1hZ2UtcHJldmlldy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2ltYWdlLXByZXZpZXcuY29tcG9uZW50LnNjc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxufSlcblxuZXhwb3J0IGNsYXNzIERJbWFnZVByZXZpZXdDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIF9kYXRhOiBhbnk7XG4gIEBJbnB1dCgpXG4gIHNldCBkYXRhKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLmltYWdlcyA9IGRhdGEuaW1hZ2VzO1xuICAgIHRoaXMub25DbG9zZSA9IGRhdGEub25DbG9zZTtcbiAgICB0aGlzLnRhcmdldEltYWdlSW5kZXggPSB0aGlzLmltYWdlcy5pbmRleE9mKGRhdGEudGFyZ2V0SW1hZ2UpO1xuICAgIHRoaXMudG90YWxJbWFnZU51bSA9IHRoaXMuaW1hZ2VzLmxlbmd0aDtcbiAgfVxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIHRyYW5zZm9ybWFibGVJbWFnZUVsZW1lbnRSZWY6IFRyYW5zZm9ybWFibGVFbGVtZW50O1xuICBpbWFnZXM6IEhUTUxFbGVtZW50W107XG4gIGlzT3B0aW1hbCA9IHRydWU7XG4gIHRhcmdldEltYWdlSW5kZXg6IG51bWJlcjtcbiAgdG90YWxJbWFnZU51bTogbnVtYmVyO1xuXG4gIHNob3dJbnB1dCA9IGZhbHNlO1xuXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG5cbiAgaTE4blRleHQ6IEkxOG5JbnRlcmZhY2VbJ2ltYWdlUHJldmlldyddO1xuICBpMThuU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gIGRvY3VtZW50OiBEb2N1bWVudDtcblxuICBnZXQgdGFyZ2V0SW1hZ2VTcmMoKTogc3RyaW5nIHtcbiAgICAvLyDpmLLmraJ0YXJnZXRJbWFnZUluZGV45Ye6546wLTHnmoTmg4XlhrVcbiAgICBjb25zdCBpZHggPSB0aGlzLnRhcmdldEltYWdlSW5kZXggPj0gMCAmJiB0aGlzLnRhcmdldEltYWdlSW5kZXggfHwgMDtcbiAgICByZXR1cm4gdGhpcy5pbWFnZXNbaWR4XS5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHByaXZhdGUgaTE4bjogSTE4blNlcnZpY2UsXG4gICAgQEluamVjdChET0NVTUVOVCkgcHJpdmF0ZSBkb2M6IGFueVxuICApIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gdGhpcy5kb2M7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pXG4gIGNsaWNrKCRldmVudCkge1xuICAgIGlmICgkZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGV2dWktaW1hZ2UtcHJldmlldy13cmFwcGVyJykpIHtcbiAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBbJyRldmVudCddKVxuICB0b3VjaHN0YXJ0KCRldmVudCkge1xuICAgICRldmVudFsnY2xpZW50WCddID0gJGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgJGV2ZW50WydjbGllbnRZJ10gPSAkZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB0aGlzLnRyYW5zZm9ybWFibGVJbWFnZUVsZW1lbnRSZWYubW91c2VEb3duKCRldmVudCk7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCd0b3VjaG1vdmUnLCBbJyRldmVudCddKVxuICB0b3VjaG1vdmUoJGV2ZW50KSB7XG4gICAgJGV2ZW50WydjbGllbnRYJ10gPSAkZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAkZXZlbnRbJ2NsaWVudFknXSA9ICRldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZO1xuICAgIHRoaXMudHJhbnNmb3JtYWJsZUltYWdlRWxlbWVudFJlZi5tb3VzZU1vdmUoJGV2ZW50KTtcbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ3RvdWNoZW5kJywgWyckZXZlbnQnXSlcbiAgdG91Y2hlbmQoJGV2ZW50KSB7XG4gICAgdGhpcy50cmFuc2Zvcm1hYmxlSW1hZ2VFbGVtZW50UmVmLm1vdXNlRG93bigkZXZlbnQpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignd2luZG93OmtleWRvd24uQXJyb3dMZWZ0JywgW10pXG4gIGFycm93TGVmdCgpIHtcbiAgICB0aGlzLnByZSgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignd2luZG93OmtleWRvd24uQXJyb3dSaWdodCcsIFtdKVxuICBhcnJvd1JpZ2h0KCkge1xuICAgIHRoaXMubmV4dCgpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5hZGRGdWxsU2NyZWVuU3R5bGUoKTtcbiAgICB0aGlzLnRyYW5zZm9ybWFibGVJbWFnZUVsZW1lbnRSZWYgPSBuZXcgVHJhbnNmb3JtYWJsZUVsZW1lbnQodGhpcy5nZXRJbWdFbGVtZW50KCksIHt9KTtcbiAgICB0aGlzLnNldEkxOG5UZXh0KCk7XG4gIH1cblxuICBzZXRJMThuVGV4dCgpIHtcbiAgICB0aGlzLmkxOG5UZXh0ID0gdGhpcy5pMThuLmdldEkxOG5UZXh0KCkuaW1hZ2VQcmV2aWV3O1xuICAgIHRoaXMuaTE4blN1YnNjcmlwdGlvbiA9IHRoaXMuaTE4bi5sYW5nQ2hhbmdlKCkuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLmkxOG5UZXh0ID0gZGF0YS5pbWFnZVByZXZpZXc7XG4gICAgfSk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUZ1bGxTY3JlZW5TdHlsZSgpO1xuICAgIHRoaXMudHJhbnNmb3JtYWJsZUltYWdlRWxlbWVudFJlZi5yZW1vdmVFbGVtZW50TGlzdGVuZXIoKTtcbiAgICBpZiAodGhpcy5pMThuU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLmkxOG5TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICBwcmUoKSB7XG4gICAgdGhpcy50YXJnZXRJbWFnZUluZGV4ID0gKHRoaXMudGFyZ2V0SW1hZ2VJbmRleCAtIDEgKyB0aGlzLnRvdGFsSW1hZ2VOdW0pICUgdGhpcy50b3RhbEltYWdlTnVtO1xuICB9XG5cbiAgbmV4dCgpIHtcbiAgICB0aGlzLnRhcmdldEltYWdlSW5kZXggPSAodGhpcy50YXJnZXRJbWFnZUluZGV4ICsgMSkgJSB0aGlzLnRvdGFsSW1hZ2VOdW07XG4gIH1cblxuICB6b29tSW4oKSB7XG4gICAgdGhpcy50cmFuc2Zvcm1hYmxlSW1hZ2VFbGVtZW50UmVmLnpvb21JbigpO1xuICB9XG5cbiAgem9vbU91dCgpIHtcbiAgICB0aGlzLnRyYW5zZm9ybWFibGVJbWFnZUVsZW1lbnRSZWYuem9vbU91dCgpO1xuICB9XG5cbiAgcm90YXRlKCkge1xuICAgIHRoaXMudHJhbnNmb3JtYWJsZUltYWdlRWxlbWVudFJlZi5yb3RhdGUoKTtcbiAgfVxuXG4gIHNldFNjYWxlQmVzdCgpIHtcbiAgICB0aGlzLnRyYW5zZm9ybWFibGVJbWFnZUVsZW1lbnRSZWYuc2V0QmVzdFNjYWxlKCk7XG4gICAgdGhpcy5pc09wdGltYWwgPSB0cnVlO1xuICB9XG5cbiAgc2V0U2NhbGVPcmlnaW5hbCgpIHtcbiAgICB0aGlzLnRyYW5zZm9ybWFibGVJbWFnZUVsZW1lbnRSZWYuc2V0T3JpZ2luYWxTY2FsZSgpO1xuICAgIHRoaXMuaXNPcHRpbWFsID0gZmFsc2U7XG4gIH1cblxuICBpbnB1dENoYW5nZSgkZXZlbnQpIHtcbiAgICBpZiAoIWlzTmFOKCRldmVudCkgJiYgJGV2ZW50ICYmICRldmVudCA+PSAxICYmICRldmVudCA8PSB0aGlzLnRvdGFsSW1hZ2VOdW0pIHtcbiAgICAgIHRoaXMudGFyZ2V0SW1hZ2VJbmRleCA9ICRldmVudCAtIDE7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRGdWxsU2NyZWVuU3R5bGUoKSB7XG4gICAgdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LmFkZCgnZGV2dWktZnVsbHNjcmVlbicpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVGdWxsU2NyZWVuU3R5bGUoKSB7XG4gICAgdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgnZGV2dWktZnVsbHNjcmVlbicpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRJbWdFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRldnVpLWltYWdlLXByZXZpZXctbWFpbi1pbWFnZScpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiZGV2dWktaW1hZ2UtcHJldmlldy13cmFwcGVyXCI+XG4gIDxidXR0b24gY2xhc3M9XCJkZXZ1aS1pbWFnZS1wcmV2aWV3LWNsb3NlLWJ0blwiIChjbGljayk9XCJvbkNsb3NlKClcIj5cbiAgICA8c3ZnIHdpZHRoPVwiMTZweFwiIGhlaWdodD1cIjE2cHhcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCIgdmVyc2lvbj1cIjEuMVwiPlxuICAgICAgPGcgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgPHBvbHlnb25cbiAgICAgICAgICBmaWxsPVwiIzI5MzA0MFwiXG4gICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgcG9pbnRzPVwiOCA2LjU4NTc4NjQ0IDEyLjI0MjY0MDcgMi4zNDMxNDU3NSAxMy42NTY4NTQyIDMuNzU3MzU5MzEgOS40MTQyMTM1NiA4IDEzLjY1Njg1NDIgMTIuMjQyNjQwNyAxMi4yNDI2NDA3IDEzLjY1Njg1NDIgOCA5LjQxNDIxMzU2IDMuNzU3MzU5MzEgMTMuNjU2ODU0MiAyLjM0MzE0NTc1IDEyLjI0MjY0MDcgNi41ODU3ODY0NCA4IDIuMzQzMTQ1NzUgMy43NTczNTkzMSAzLjc1NzM1OTMxIDIuMzQzMTQ1NzVcIlxuICAgICAgICA+PC9wb2x5Z29uPlxuICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuICA8L2J1dHRvbj5cbiAgPGltZyBjbGFzcz1cImRldnVpLWltYWdlLXByZXZpZXctbWFpbi1pbWFnZVwiIFtjbGFzcy5kZXZ1aS1vcHRpbWFsLXByb3BvcnRpb25dPVwiaXNPcHRpbWFsXCIgW2F0dHIuc3JjXT1cInRhcmdldEltYWdlU3JjIHwgc2FmZTogJ3VybCdcIiAvPlxuXG4gIDwhLS0gVE9ETzogYnV0dG9u5Y+C5pWw5YyW6YeN5p6EIC0tPlxuICA8YnV0dG9uIGNsYXNzPVwiZGV2dWktZml4ZWQtYXJyb3ctbGVmdFwiIChjbGljayk9XCJwcmUoKVwiIGRUb29sdGlwIFtwb3NpdGlvbl09XCIncmlnaHQnXCIgW2NvbnRlbnRdPVwiaTE4blRleHQucHJlXCI+XG4gICAgPHN2ZyB3aWR0aD1cIjE4cHhcIiBoZWlnaHQ9XCIxOHB4XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiIHZlcnNpb249XCIxLjFcIj5cbiAgICAgIDxnIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgIDxwb2x5Z29uXG4gICAgICAgICAgZmlsbD1cIiMyOTMwNDBcIlxuICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgIHBvaW50cz1cIjEwLjcwNzEwNjggMTIuMjkyODkzMiA5LjI5Mjg5MzIyIDEzLjcwNzEwNjggMy41ODU3ODY0NCA4IDkuMjkyODkzMjIgMi4yOTI4OTMyMiAxMC43MDcxMDY4IDMuNzA3MTA2NzggNi40MTQyMTM1NiA4XCJcbiAgICAgICAgPjwvcG9seWdvbj5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgPC9idXR0b24+XG4gIDxidXR0b24gY2xhc3M9XCJkZXZ1aS1maXhlZC1hcnJvdy1yaWdodFwiIChjbGljayk9XCJuZXh0KClcIiBkVG9vbHRpcCBbcG9zaXRpb25dPVwiJ2xlZnQnXCIgW2NvbnRlbnRdPVwiaTE4blRleHQubmV4dFwiPlxuICAgIDxzdmcgd2lkdGg9XCIxOHB4XCIgaGVpZ2h0PVwiMThweFwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIiB2ZXJzaW9uPVwiMS4xXCI+XG4gICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICA8cG9seWdvblxuICAgICAgICAgIGZpbGw9XCIjMjkzMDQwXCJcbiAgICAgICAgICBmaWxsLXJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoOC4xNDY0NDcsIDguMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC04LjE0NjQ0NywgLTguMDAwMDAwKSBcIlxuICAgICAgICAgIHBvaW50cz1cIjExLjcwNzEwNjggMTIuMjkyODkzMiAxMC4yOTI4OTMyIDEzLjcwNzEwNjggNC41ODU3ODY0NCA4IDEwLjI5Mjg5MzIgMi4yOTI4OTMyMiAxMS43MDcxMDY4IDMuNzA3MTA2NzggNy40MTQyMTM1NiA4XCJcbiAgICAgICAgPjwvcG9seWdvbj5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgPC9idXR0b24+XG5cbiAgPGRpdiBjbGFzcz1cImRldnVpLWltYWdlLXByZXZpZXctdG9vbGJhclwiPlxuICAgIDxidXR0b24gKGNsaWNrKT1cInpvb21JbigpXCIgZFRvb2x0aXAgW3Bvc2l0aW9uXT1cIid0b3AnXCIgW2NvbnRlbnRdPVwiaTE4blRleHQ/Lnpvb21JblwiPlxuICAgICAgPHN2ZyB3aWR0aD1cIjE4cHhcIiBoZWlnaHQ9XCIxOHB4XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgIDxnIGZpbGw9XCIjMjkzMDQwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiPlxuICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgZD1cIk02LDYgTDYsNCBMOCw0IEw4LDYgTDEwLDYgTDEwLDggTDgsOCBMOCwxMCBMNiwxMCBMNiw4IEw0LDggTDQsNiBMNiw2IFogTTEyLjYwNjM4NDcsMTEuMTkyMTcxMSBMMTUuNjU2ODU0MiwxNC4yNDI2NDA3IEwxNC4yNDI2NDA3LDE1LjY1Njg1NDIgTDExLjE5MjE3MTEsMTIuNjA2Mzg0NyBDMTAuMDIzNTkwNiwxMy40ODE1OTY1IDguNTcyMzM1MSwxNCA3LDE0IEMzLjEzNDAwNjc1LDE0IDAsMTAuODY1OTkzMiAwLDcgQzAsMy4xMzQwMDY3NSAzLjEzNDAwNjc1LDAgNywwIEMxMC44NjU5OTMyLDAgMTQsMy4xMzQwMDY3NSAxNCw3IEMxNCw4LjU3MjMzNTEgMTMuNDgxNTk2NSwxMC4wMjM1OTA2IDEyLjYwNjM4NDcsMTEuMTkyMTcxMSBMMTIuNjA2Mzg0NywxMS4xOTIxNzExIFogTTcsMTIgQzkuNzYxNDIzNzUsMTIgMTIsOS43NjE0MjM3NSAxMiw3IEMxMiw0LjIzODU3NjI1IDkuNzYxNDIzNzUsMiA3LDIgQzQuMjM4NTc2MjUsMiAyLDQuMjM4NTc2MjUgMiw3IEMyLDkuNzYxNDIzNzUgNC4yMzg1NzYyNSwxMiA3LDEyIFpcIlxuICAgICAgICAgICAgPjwvcGF0aD5cbiAgICAgICAgICA8L2c+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gKGNsaWNrKT1cInpvb21PdXQoKVwiIGRUb29sdGlwIFtwb3NpdGlvbl09XCIndG9wJ1wiIFtjb250ZW50XT1cImkxOG5UZXh0Lnpvb21PdXRcIj5cbiAgICAgIDxzdmcgd2lkdGg9XCIxOHB4XCIgaGVpZ2h0PVwiMThweFwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cbiAgICAgICAgPGcgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgICA8ZyBmaWxsPVwiIzI5MzA0MFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIj5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGQ9XCJNMTIuNjA2Mzg0NywxMS4xOTIxNzExIEwxNS42NTY4NTQyLDE0LjI0MjY0MDcgTDE0LjI0MjY0MDcsMTUuNjU2ODU0MiBMMTEuMTkyMTcxMSwxMi42MDYzODQ3IEMxMC4wMjM1OTA2LDEzLjQ4MTU5NjUgOC41NzIzMzUxLDE0IDcsMTQgQzMuMTM0MDA2NzUsMTQgMCwxMC44NjU5OTMyIDAsNyBDMCwzLjEzNDAwNjc1IDMuMTM0MDA2NzUsMCA3LDAgQzEwLjg2NTk5MzIsMCAxNCwzLjEzNDAwNjc1IDE0LDcgQzE0LDguNTcyMzM1MSAxMy40ODE1OTY1LDEwLjAyMzU5MDYgMTIuNjA2Mzg0NywxMS4xOTIxNzExIEwxMi42MDYzODQ3LDExLjE5MjE3MTEgWiBNNywxMiBDOS43NjE0MjM3NSwxMiAxMiw5Ljc2MTQyMzc1IDEyLDcgQzEyLDQuMjM4NTc2MjUgOS43NjE0MjM3NSwyIDcsMiBDNC4yMzg1NzYyNSwyIDIsNC4yMzg1NzYyNSAyLDcgQzIsOS43NjE0MjM3NSA0LjIzODU3NjI1LDEyIDcsMTIgWiBNNCw2IEwxMCw2IEwxMCw4IEw0LDggTDQsNiBaXCJcbiAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgPC9nPlxuICAgICAgICA8L2c+XG4gICAgICA8L3N2Zz5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIChjbGljayk9XCJyb3RhdGUoKVwiIGRUb29sdGlwIFtwb3NpdGlvbl09XCIndG9wJ1wiIFtjb250ZW50XT1cImkxOG5UZXh0LnJvdGF0ZVwiPlxuICAgICAgPHN2ZyB3aWR0aD1cIjE4cHhcIiBoZWlnaHQ9XCIxOHB4XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiIHZlcnNpb249XCIxLjFcIj5cbiAgICAgICAgPGcgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgZD1cIk03LjUsMy4wMjI0MjE1MSBMNy41LDQgTDQuNSwyIEw3LjUsMCBMNy41LDEuMDE2NDAyMjggQzcuNjY1MjYxODEsMS4wMDU1MjQ2OCA3LjgzMTk4NTcyLDEgOCwxIEMxMi4xNDIxMzU2LDEgMTUuNSw0LjM1Nzg2NDM4IDE1LjUsOC41IEMxNS41LDEyLjY0MjEzNTYgMTIuMTQyMTM1NiwxNiA4LDE2IEMzLjg1Nzg2NDM4LDE2IDAuNSwxMi42NDIxMzU2IDAuNSw4LjUgQzAuNSw2Ljk4MjgzNTUgMC45NTA0ODQ1MTQsNS41NzA4ODczIDEuNzI0OTkwMTEsNC4zOTA2MTg4MiBMMy40MjE3MzIzMSw1LjQ1MTA4MjcgQzIuODM5NDQxNDksNi4zMjM3MTI4OSAyLjUsNy4zNzIyMTYwNCAyLjUsOC41IEMyLjUsMTEuNTM3NTY2MSA0Ljk2MjQzMzg4LDE0IDgsMTQgQzExLjAzNzU2NjEsMTQgMTMuNSwxMS41Mzc1NjYxIDEzLjUsOC41IEMxMy41LDUuNDYyNDMzODggMTEuMDM3NTY2MSwzIDgsMyBDNy44MzE0NTUxNSwzIDcuNjY0NjgxMDIsMy4wMDc1ODEzMSA3LjUsMy4wMjI0MjE1MSBaIE04LDExIEM2LjYxOTI4ODEzLDExIDUuNSw5Ljg4MDcxMTg3IDUuNSw4LjUgQzUuNSw3LjExOTI4ODEzIDYuNjE5Mjg4MTMsNiA4LDYgQzkuMzgwNzExODcsNiAxMC41LDcuMTE5Mjg4MTMgMTAuNSw4LjUgQzEwLjUsOS44ODA3MTE4NyA5LjM4MDcxMTg3LDExIDgsMTEgWiBNOCwxMCBDOC44Mjg0MjcxMiwxMCA5LjUsOS4zMjg0MjcxMiA5LjUsOC41IEM5LjUsNy42NzE1NzI4OCA4LjgyODQyNzEyLDcgOCw3IEM3LjE3MTU3Mjg4LDcgNi41LDcuNjcxNTcyODggNi41LDguNSBDNi41LDkuMzI4NDI3MTIgNy4xNzE1NzI4OCwxMCA4LDEwIFpcIlxuICAgICAgICAgICAgZmlsbD1cIiMyOTMwNDBcIlxuICAgICAgICAgID48L3BhdGg+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gKGNsaWNrKT1cInByZSgpXCIgZFRvb2x0aXAgW3Bvc2l0aW9uXT1cIid0b3AnXCIgW2NvbnRlbnRdPVwiaTE4blRleHQucHJlXCI+XG4gICAgICA8c3ZnIHdpZHRoPVwiMTZweFwiIGhlaWdodD1cIjE2cHhcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCIgdmVyc2lvbj1cIjEuMVwiPlxuICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgIDxwb2x5Z29uXG4gICAgICAgICAgICBmaWxsPVwiIzI5MzA0MFwiXG4gICAgICAgICAgICBmaWxsLXJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgIHBvaW50cz1cIjEwLjcwNzEwNjggMTIuMjkyODkzMiA5LjI5Mjg5MzIyIDEzLjcwNzEwNjggMy41ODU3ODY0NCA4IDkuMjkyODkzMjIgMi4yOTI4OTMyMiAxMC43MDcxMDY4IDMuNzA3MTA2NzggNi40MTQyMTM1NiA4XCJcbiAgICAgICAgICA+PC9wb2x5Z29uPlxuICAgICAgICA8L2c+XG4gICAgICA8L3N2Zz5cbiAgICA8L2J1dHRvbj5cbiAgICA8c3BhbiAoY2xpY2spPVwic2hvd0lucHV0ID0gdHJ1ZVwiIGNsYXNzPVwiZGV2dWktaW1hZ2UtcHJldmlldy1pbmRleFwiPlxuICAgICAgPGQtaW5wdXQtbnVtYmVyXG4gICAgICAgICpuZ0lmPVwic2hvd0lucHV0XCJcbiAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgW21pbl09XCIxXCJcbiAgICAgICAgW21heF09XCJ0b3RhbEltYWdlTnVtXCJcbiAgICAgICAgW2F1dG9Gb2N1c109XCJ0cnVlXCJcbiAgICAgICAgW25nTW9kZWxdPVwidGFyZ2V0SW1hZ2VJbmRleCArIDFcIlxuICAgICAgICAoa2V5dXAuZW50ZXIpPVwic2hvd0lucHV0ID0gZmFsc2VcIlxuICAgICAgICAoYmx1cik9XCJzaG93SW5wdXQgPSBmYWxzZVwiXG4gICAgICAgICh3aGlsZVZhbHVlQ2hhbmdpbmcpPVwiaW5wdXRDaGFuZ2UoJGV2ZW50KVwiXG4gICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cImlucHV0Q2hhbmdlKCRldmVudClcIlxuICAgICAgPlxuICAgICAgPC9kLWlucHV0LW51bWJlcj5cbiAgICAgIDxzcGFuICpuZ0lmPVwiIXNob3dJbnB1dFwiPnt7IHRhcmdldEltYWdlSW5kZXggKyAxICsgJyAnIH19PC9zcGFuPlxuICAgICAgPHNwYW4+e3sgJy8gJyArIHRvdGFsSW1hZ2VOdW0gfX08L3NwYW4+XG4gICAgPC9zcGFuPlxuICAgIDxidXR0b24gY2xhc3M9XCJkZXZ1aS1uZXh0XCIgKGNsaWNrKT1cIm5leHQoKVwiIGRUb29sdGlwIFtwb3NpdGlvbl09XCIndG9wJ1wiIFtjb250ZW50XT1cImkxOG5UZXh0Lm5leHRcIj5cbiAgICAgIDxzdmcgd2lkdGg9XCIxNnB4XCIgaGVpZ2h0PVwiMTZweFwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIiB2ZXJzaW9uPVwiMS4xXCI+XG4gICAgICAgIDxnIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgICAgPHBvbHlnb25cbiAgICAgICAgICAgIGZpbGw9XCIjMjkzMDQwXCJcbiAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDguMTQ2NDQ3LCA4LjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtOC4xNDY0NDcsIC04LjAwMDAwMCkgXCJcbiAgICAgICAgICAgIHBvaW50cz1cIjExLjcwNzEwNjggMTIuMjkyODkzMiAxMC4yOTI4OTMyIDEzLjcwNzEwNjggNC41ODU3ODY0NCA4IDEwLjI5Mjg5MzIgMi4yOTI4OTMyMiAxMS43MDcxMDY4IDMuNzA3MTA2NzggNy40MTQyMTM1NiA4XCJcbiAgICAgICAgICA+PC9wb2x5Z29uPlxuICAgICAgICA8L2c+XG4gICAgICA8L3N2Zz5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIChjbGljayk9XCJzZXRTY2FsZUJlc3QoKVwiIGRUb29sdGlwIFtwb3NpdGlvbl09XCIndG9wJ1wiIFtjb250ZW50XT1cImkxOG5UZXh0LmJlc3RTY2FsZVwiPlxuICAgICAgPHN2ZyB3aWR0aD1cIjE4cHhcIiBoZWlnaHQ9XCIxOHB4XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBkPVwiTTE2LDE2IEwxMS40MjksMTYgTDExLjQyOSwxNSBMMTQuNDU2LDE1IEwxMS4wMDYsMTEuMjI2IEwxMS42NTIsMTAuNTE5IEwxNS4wODYsMTQuMjc1IEwxNS4wODYsMTEgTDE2LDExIEwxNiwxNiBaIE0xNS4xNjQsMS41NDQgTDEyLjAwOSw0Ljk5NCBMMTEuNDE4LDQuMzQ4IEwxNC41NTgsMC45MTQgTDExLjgyLDAuOTE0IEwxMS44MiwwIEwxNiwwIEwxNiw0LjU3MSBMMTUuMTY0LDQuNTcxIEwxNS4xNjQsMS41NDQgWiBNNSwxNSBMNSwxNiBMMCwxNiBMMCwxMSBMMSwxMSBMMSwxNC4yNzUgTDQuNzU2LDEwLjUxOSBMNS40NjMsMTEuMjI2IEwxLjY4OSwxNSBMNSwxNSBaIE00LjM2NSw0Ljk5NCBMMC45MTQsMS41NDQgTDAuOTE0LDQuNTcxIEwzLjQxMDYwNTEzZS0xMyw0LjU3MSBMMy40MTA2MDUxM2UtMTMsMCBMNC41NzEsMCBMNC41NzEsMC45MTQgTDEuNTc4LDAuOTE0IEw1LjAxMSw0LjM0OCBMNC4zNjUsNC45OTQgWlwiXG4gICAgICAgICAgICBmaWxsPVwiIzI5MzA0MFwiXG4gICAgICAgICAgICBmaWxsLXJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICA8L2c+XG4gICAgICA8L3N2Zz5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIChjbGljayk9XCJzZXRTY2FsZU9yaWdpbmFsKClcIiBkVG9vbHRpcCBbcG9zaXRpb25dPVwiJ3RvcCdcIiBbY29udGVudF09XCJpMThuVGV4dC5vcmlnaW5TY2FsZVwiPlxuICAgICAgPHNwYW4+MToxPC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19