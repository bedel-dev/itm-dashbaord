import { __decorate, __metadata } from "tslib";
import { transition, trigger } from '@angular/animations';
import { Component, ContentChild, EventEmitter, Input, Output } from '@angular/core';
import { DevConfigService, expandCollapseForDomDestroy, WithConfig } from 'ng-devui/utils';
import { PanelBodyComponent } from './panel-body.component';
import { PanelFooterComponent } from './panel-footer.component';
import { PanelHeaderComponent } from './panel-header.component';
import * as i0 from "@angular/core";
import * as i1 from "ng-devui/utils";
import * as i2 from "@angular/common";
export class PanelComponent {
    constructor(devConfigService) {
        this.devConfigService = devConfigService;
        this.type = 'default';
        this.hasLeftPadding = true;
        this.showAnimation = true;
        this.toggle = new EventEmitter();
    }
    toggleBody() {
        this.canToggle().then((val) => {
            if (!val) {
                return;
            }
            if (this.isCollapsed !== undefined) {
                this.isCollapsed = !this.isCollapsed;
                this.toggle.emit(this.isCollapsed);
            }
        });
    }
    canToggle() {
        let changeResult = Promise.resolve(true);
        if (this.beforeToggle) {
            const result = this.beforeToggle(this.isCollapsed);
            if (typeof result !== 'undefined') {
                if (result.then) {
                    changeResult = result;
                }
                else if (result.subscribe) {
                    changeResult = result.toPromise();
                }
                else {
                    changeResult = Promise.resolve(result);
                }
            }
        }
        return changeResult;
    }
}
PanelComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: PanelComponent, deps: [{ token: i1.DevConfigService }], target: i0.ɵɵFactoryTarget.Component });
PanelComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: PanelComponent, selector: "d-panel", inputs: { type: "type", cssClass: "cssClass", isCollapsed: "isCollapsed", hasLeftPadding: "hasLeftPadding", showAnimation: "showAnimation", beforeToggle: "beforeToggle" }, outputs: { toggle: "toggle" }, queries: [{ propertyName: "panelHeader", first: true, predicate: PanelHeaderComponent, descendants: true }, { propertyName: "panelFooter", first: true, predicate: PanelFooterComponent, descendants: true }, { propertyName: "panelBody", first: true, predicate: PanelBodyComponent, descendants: true }], ngImport: i0, template: "<div class=\"devui-panel devui-panel-{{ type }} {{ cssClass }}\" [@noAnimation]>\n  <div class=\"devui-panel-heading\" (click)=\"toggleBody()\" [style.cursor]=\"isCollapsed !== undefined ? 'pointer' : null\">\n    <ng-content select=\"d-panel-header\"></ng-content>\n  </div>\n  <div\n    class=\"devui-panel-body\"\n    [ngClass]=\"{ 'devui-panel-body-collapse': isCollapsed !== undefined, 'has-left-padding': hasLeftPadding }\"\n    @collapseForDomDestroy\n    [@.disabled]=\"!showAnimation\"\n    *ngIf=\"isCollapsed === undefined || isCollapsed\"\n  >\n    <ng-container *ngIf=\"panelFooter || panelHeader || panelBody; else elseTemplate\">\n      <ng-template [ngTemplateOutlet]=\"panelBodyTpl\"></ng-template>\n    </ng-container>\n    <ng-template #elseTemplate>\n      <div class=\"d-panel-body\">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  </div>\n  <div class=\"devui-panel-footer\" *ngIf=\"panelFooter\">\n    <ng-content select=\"d-panel-footer\"></ng-content>\n  </div>\n</div>\n\n<ng-template #panelBodyTpl>\n  <ng-content select=\"d-panel-body\"></ng-content>\n</ng-template>\n", styles: [":host ::ng-deep{display:block}:host ::ng-deep .devui-panel{line-height:1.5;background-color:#fff;background-color:var(--devui-base-bg, #ffffff)}:host ::ng-deep .devui-panel .devui-panel-heading{padding:12px 20px;color:#252b3a;color:var(--devui-text, #252b3a)}:host ::ng-deep .devui-panel .devui-panel-heading d-panel-header{line-height:1.5}:host ::ng-deep .devui-panel .devui-panel-body{display:flex;position:relative;border-top:1px solid #f2f2f3;border-top:1px solid var(--devui-dividing-line, #f2f2f3)}:host ::ng-deep .devui-panel .devui-panel-body .d-panel-body{line-height:1.5;padding:20px;background:#ffffff;background:var(--devui-base-bg, #ffffff);flex:1}:host ::ng-deep .devui-panel .devui-panel-body.devui-panel-body-collapse:before{content:none}:host ::ng-deep .devui-panel .devui-panel-body.devui-panel-body-collapse .d-panel-body{border-left:none}:host ::ng-deep .devui-panel .devui-panel-body.devui-panel-body-collapse.has-left-padding:before{content:\"\";width:30px;height:100%}:host ::ng-deep .devui-panel .devui-panel-body.devui-panel-body-collapse.has-left-padding .d-panel-body{border-left:2px solid #f2f2f3;border-left:2px solid var(--devui-dividing-line, #f2f2f3)}:host ::ng-deep .devui-panel .devui-panel-footer{padding:12px 20px;color:#252b3a;color:var(--devui-text, #252b3a);background-color:#f5f5f5;background-color:var(--devui-area, #f5f5f5)}:host ::ng-deep .devui-panel .devui-panel-footer d-panel-footer{line-height:1.5}:host ::ng-deep .devui-panel.devui-panel-default .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-default .devui-panel-body,:host ::ng-deep .devui-panel.devui-panel-common .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-common .devui-panel-body{background-color:#f7f8fa;background-color:var(--devui-default-bg, #f7f8fa)}:host ::ng-deep .devui-panel.devui-panel-primary .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-primary .devui-panel-body{background-color:#f2f5fc;background-color:var(--devui-primary-bg, #f2f5fc)}:host ::ng-deep .devui-panel.devui-panel-primary .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#5e7ce0;border-color:var(--devui-primary-line, #5e7ce0)}:host ::ng-deep .devui-panel.devui-panel-info .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-info .devui-panel-body{background-color:#f2f5fc;background-color:var(--devui-info-bg, #f2f5fc)}:host ::ng-deep .devui-panel.devui-panel-info .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#5e7ce0;border-color:var(--devui-info-line, #5e7ce0)}:host ::ng-deep .devui-panel.devui-panel-success .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-success .devui-panel-body{background-color:#edfff9;background-color:var(--devui-success-bg, #edfff9)}:host ::ng-deep .devui-panel.devui-panel-success .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#50d4ab;border-color:var(--devui-success-line, #50d4ab)}:host ::ng-deep .devui-panel.devui-panel-warning .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-warning .devui-panel-body{background-color:#fff3e8;background-color:var(--devui-warning-bg, #fff3e8)}:host ::ng-deep .devui-panel.devui-panel-warning .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#fa9841;border-color:var(--devui-warning-line, #fa9841)}:host ::ng-deep .devui-panel.devui-panel-danger .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-danger .devui-panel-body{background-color:#ffeeed;background-color:var(--devui-danger-bg, #ffeeed)}:host ::ng-deep .devui-panel.devui-panel-danger .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#f66f6a;border-color:var(--devui-danger-line, #f66f6a)}:host ::ng-deep .devui-panel.devui-panel-ghost .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-ghost .devui-panel-body{background-color:transparent;border:none;padding:0}:host ::ng-deep .devui-panel.devui-panel-ghost .d-panel-body{padding:16px 20px}:host ::ng-deep .devui-panel.devui-panel-ghost .devui-panel-body-collapse.has-left-padding:before{display:none}:host ::ng-deep .devui-panel.devui-panel-ghost .devui-panel-body-collapse.has-left-padding .d-panel-body{border:none}\n"], directives: [{ type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }], animations: [trigger('noAnimation', [transition(':enter', [])]), expandCollapseForDomDestroy] });
__decorate([
    WithConfig(),
    __metadata("design:type", Object)
], PanelComponent.prototype, "showAnimation", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: PanelComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-panel', animations: [trigger('noAnimation', [transition(':enter', [])]), expandCollapseForDomDestroy], template: "<div class=\"devui-panel devui-panel-{{ type }} {{ cssClass }}\" [@noAnimation]>\n  <div class=\"devui-panel-heading\" (click)=\"toggleBody()\" [style.cursor]=\"isCollapsed !== undefined ? 'pointer' : null\">\n    <ng-content select=\"d-panel-header\"></ng-content>\n  </div>\n  <div\n    class=\"devui-panel-body\"\n    [ngClass]=\"{ 'devui-panel-body-collapse': isCollapsed !== undefined, 'has-left-padding': hasLeftPadding }\"\n    @collapseForDomDestroy\n    [@.disabled]=\"!showAnimation\"\n    *ngIf=\"isCollapsed === undefined || isCollapsed\"\n  >\n    <ng-container *ngIf=\"panelFooter || panelHeader || panelBody; else elseTemplate\">\n      <ng-template [ngTemplateOutlet]=\"panelBodyTpl\"></ng-template>\n    </ng-container>\n    <ng-template #elseTemplate>\n      <div class=\"d-panel-body\">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  </div>\n  <div class=\"devui-panel-footer\" *ngIf=\"panelFooter\">\n    <ng-content select=\"d-panel-footer\"></ng-content>\n  </div>\n</div>\n\n<ng-template #panelBodyTpl>\n  <ng-content select=\"d-panel-body\"></ng-content>\n</ng-template>\n", styles: [":host ::ng-deep{display:block}:host ::ng-deep .devui-panel{line-height:1.5;background-color:#fff;background-color:var(--devui-base-bg, #ffffff)}:host ::ng-deep .devui-panel .devui-panel-heading{padding:12px 20px;color:#252b3a;color:var(--devui-text, #252b3a)}:host ::ng-deep .devui-panel .devui-panel-heading d-panel-header{line-height:1.5}:host ::ng-deep .devui-panel .devui-panel-body{display:flex;position:relative;border-top:1px solid #f2f2f3;border-top:1px solid var(--devui-dividing-line, #f2f2f3)}:host ::ng-deep .devui-panel .devui-panel-body .d-panel-body{line-height:1.5;padding:20px;background:#ffffff;background:var(--devui-base-bg, #ffffff);flex:1}:host ::ng-deep .devui-panel .devui-panel-body.devui-panel-body-collapse:before{content:none}:host ::ng-deep .devui-panel .devui-panel-body.devui-panel-body-collapse .d-panel-body{border-left:none}:host ::ng-deep .devui-panel .devui-panel-body.devui-panel-body-collapse.has-left-padding:before{content:\"\";width:30px;height:100%}:host ::ng-deep .devui-panel .devui-panel-body.devui-panel-body-collapse.has-left-padding .d-panel-body{border-left:2px solid #f2f2f3;border-left:2px solid var(--devui-dividing-line, #f2f2f3)}:host ::ng-deep .devui-panel .devui-panel-footer{padding:12px 20px;color:#252b3a;color:var(--devui-text, #252b3a);background-color:#f5f5f5;background-color:var(--devui-area, #f5f5f5)}:host ::ng-deep .devui-panel .devui-panel-footer d-panel-footer{line-height:1.5}:host ::ng-deep .devui-panel.devui-panel-default .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-default .devui-panel-body,:host ::ng-deep .devui-panel.devui-panel-common .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-common .devui-panel-body{background-color:#f7f8fa;background-color:var(--devui-default-bg, #f7f8fa)}:host ::ng-deep .devui-panel.devui-panel-primary .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-primary .devui-panel-body{background-color:#f2f5fc;background-color:var(--devui-primary-bg, #f2f5fc)}:host ::ng-deep .devui-panel.devui-panel-primary .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#5e7ce0;border-color:var(--devui-primary-line, #5e7ce0)}:host ::ng-deep .devui-panel.devui-panel-info .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-info .devui-panel-body{background-color:#f2f5fc;background-color:var(--devui-info-bg, #f2f5fc)}:host ::ng-deep .devui-panel.devui-panel-info .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#5e7ce0;border-color:var(--devui-info-line, #5e7ce0)}:host ::ng-deep .devui-panel.devui-panel-success .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-success .devui-panel-body{background-color:#edfff9;background-color:var(--devui-success-bg, #edfff9)}:host ::ng-deep .devui-panel.devui-panel-success .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#50d4ab;border-color:var(--devui-success-line, #50d4ab)}:host ::ng-deep .devui-panel.devui-panel-warning .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-warning .devui-panel-body{background-color:#fff3e8;background-color:var(--devui-warning-bg, #fff3e8)}:host ::ng-deep .devui-panel.devui-panel-warning .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#fa9841;border-color:var(--devui-warning-line, #fa9841)}:host ::ng-deep .devui-panel.devui-panel-danger .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-danger .devui-panel-body{background-color:#ffeeed;background-color:var(--devui-danger-bg, #ffeeed)}:host ::ng-deep .devui-panel.devui-panel-danger .devui-panel-body-collapse.has-left-padding .d-panel-body{border-color:#f66f6a;border-color:var(--devui-danger-line, #f66f6a)}:host ::ng-deep .devui-panel.devui-panel-ghost .devui-panel-heading,:host ::ng-deep .devui-panel.devui-panel-ghost .devui-panel-body{background-color:transparent;border:none;padding:0}:host ::ng-deep .devui-panel.devui-panel-ghost .d-panel-body{padding:16px 20px}:host ::ng-deep .devui-panel.devui-panel-ghost .devui-panel-body-collapse.has-left-padding:before{display:none}:host ::ng-deep .devui-panel.devui-panel-ghost .devui-panel-body-collapse.has-left-padding .d-panel-body{border:none}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.DevConfigService }]; }, propDecorators: { type: [{
                type: Input
            }], cssClass: [{
                type: Input
            }], isCollapsed: [{
                type: Input
            }], hasLeftPadding: [{
                type: Input
            }], showAnimation: [{
                type: Input
            }], beforeToggle: [{
                type: Input
            }], toggle: [{
                type: Output
            }], panelHeader: [{
                type: ContentChild,
                args: [PanelHeaderComponent]
            }], panelFooter: [{
                type: ContentChild,
                args: [PanelFooterComponent]
            }], panelBody: [{
                type: ContentChild,
                args: [PanelBodyComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFuZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vZGV2dWkvcGFuZWwvcGFuZWwuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZGV2dWkvcGFuZWwvcGFuZWwuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFDTCxVQUFVLEVBQ1YsT0FBTyxFQUNSLE1BQU0scUJBQXFCLENBQUM7QUFDN0IsT0FBTyxFQUNMLFNBQVMsRUFDVCxZQUFZLEVBQ1osWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBQ1AsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGdCQUFnQixFQUFFLDJCQUEyQixFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNGLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzVELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDOzs7O0FBU2hFLE1BQU0sT0FBTyxjQUFjO0lBV3pCLFlBQW9CLGdCQUFrQztRQUFsQyxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBVjdDLFNBQUksR0FBYyxTQUFTLENBQUM7UUFHNUIsbUJBQWMsR0FBRyxJQUFJLENBQUM7UUFDUixrQkFBYSxHQUFHLElBQUksQ0FBQztRQUVsQyxXQUFNLEdBQTBCLElBQUksWUFBWSxFQUFXLENBQUM7SUFJWCxDQUFDO0lBQzVELFVBQVU7UUFDUixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDNUIsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDUixPQUFPO2FBQ1I7WUFDRCxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUyxFQUFFO2dCQUNsQyxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztnQkFDckMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ3BDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsU0FBUztRQUNQLElBQUksWUFBWSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFekMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3JCLE1BQU0sTUFBTSxHQUFRLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3hELElBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFFO2dCQUNqQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7b0JBQ2YsWUFBWSxHQUFHLE1BQU0sQ0FBQztpQkFDdkI7cUJBQU0sSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO29CQUMzQixZQUFZLEdBQUksTUFBOEIsQ0FBQyxTQUFTLEVBQUUsQ0FBQztpQkFDNUQ7cUJBQU07b0JBQ0wsWUFBWSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ3hDO2FBQ0Y7U0FDRjtRQUVELE9BQU8sWUFBWSxDQUFDO0lBQ3RCLENBQUM7OzJHQXpDVSxjQUFjOytGQUFkLGNBQWMsbVNBUVgsb0JBQW9CLDhFQUNwQixvQkFBb0IsNEVBQ3BCLGtCQUFrQixnRENsQ2xDLG1tQ0E0QkEsNDZJRE5jLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLDJCQUEyQixDQUFDO0FBT3RFO0lBQWIsVUFBVSxFQUFFOztxREFBc0I7MkZBTGpDLGNBQWM7a0JBTjFCLFNBQVM7K0JBQ0UsU0FBUyxjQUdQLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLDJCQUEyQixDQUFDO3VHQUdwRixJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxXQUFXO3NCQUFuQixLQUFLO2dCQUNHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ2lCLGFBQWE7c0JBQW5DLEtBQUs7Z0JBQ0csWUFBWTtzQkFBcEIsS0FBSztnQkFDSSxNQUFNO3NCQUFmLE1BQU07Z0JBQzZCLFdBQVc7c0JBQTlDLFlBQVk7dUJBQUMsb0JBQW9CO2dCQUNFLFdBQVc7c0JBQTlDLFlBQVk7dUJBQUMsb0JBQW9CO2dCQUNBLFNBQVM7c0JBQTFDLFlBQVk7dUJBQUMsa0JBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdHJhbnNpdGlvbixcbiAgdHJpZ2dlclxufSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgQ29udGVudENoaWxkLFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPdXRwdXRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEZXZDb25maWdTZXJ2aWNlLCBleHBhbmRDb2xsYXBzZUZvckRvbURlc3Ryb3ksIFdpdGhDb25maWcgfSBmcm9tICduZy1kZXZ1aS91dGlscyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBQYW5lbEJvZHlDb21wb25lbnQgfSBmcm9tICcuL3BhbmVsLWJvZHkuY29tcG9uZW50JztcbmltcG9ydCB7IFBhbmVsRm9vdGVyQ29tcG9uZW50IH0gZnJvbSAnLi9wYW5lbC1mb290ZXIuY29tcG9uZW50JztcbmltcG9ydCB7IFBhbmVsSGVhZGVyQ29tcG9uZW50IH0gZnJvbSAnLi9wYW5lbC1oZWFkZXIuY29tcG9uZW50JztcbmltcG9ydCB7IFBhbmVsVHlwZSB9IGZyb20gJy4vcGFuZWwudHlwZXMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdkLXBhbmVsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BhbmVsLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcGFuZWwuY29tcG9uZW50LnNjc3MnXSxcbiAgYW5pbWF0aW9uczogW3RyaWdnZXIoJ25vQW5pbWF0aW9uJywgW3RyYW5zaXRpb24oJzplbnRlcicsIFtdKV0pLCBleHBhbmRDb2xsYXBzZUZvckRvbURlc3Ryb3ldLFxufSlcbmV4cG9ydCBjbGFzcyBQYW5lbENvbXBvbmVudCB7XG4gIEBJbnB1dCgpIHR5cGU6IFBhbmVsVHlwZSA9ICdkZWZhdWx0JztcbiAgQElucHV0KCkgY3NzQ2xhc3M6IHN0cmluZztcbiAgQElucHV0KCkgaXNDb2xsYXBzZWQ6IGJvb2xlYW47XG4gIEBJbnB1dCgpIGhhc0xlZnRQYWRkaW5nID0gdHJ1ZTtcbiAgQElucHV0KCkgQFdpdGhDb25maWcoKSBzaG93QW5pbWF0aW9uID0gdHJ1ZTtcbiAgQElucHV0KCkgYmVmb3JlVG9nZ2xlOiAodmFsdWUpID0+IGJvb2xlYW4gfCBQcm9taXNlPGJvb2xlYW4+IHwgT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgQE91dHB1dCgpIHRvZ2dsZTogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuICBAQ29udGVudENoaWxkKFBhbmVsSGVhZGVyQ29tcG9uZW50KSBwYW5lbEhlYWRlcjtcbiAgQENvbnRlbnRDaGlsZChQYW5lbEZvb3RlckNvbXBvbmVudCkgcGFuZWxGb290ZXI7XG4gIEBDb250ZW50Q2hpbGQoUGFuZWxCb2R5Q29tcG9uZW50KSBwYW5lbEJvZHk7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZGV2Q29uZmlnU2VydmljZTogRGV2Q29uZmlnU2VydmljZSkgeyAgfVxuICB0b2dnbGVCb2R5KCkge1xuICAgIHRoaXMuY2FuVG9nZ2xlKCkudGhlbigodmFsKSA9PiB7XG4gICAgICBpZiAoIXZhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc0NvbGxhcHNlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuaXNDb2xsYXBzZWQgPSAhdGhpcy5pc0NvbGxhcHNlZDtcbiAgICAgICAgdGhpcy50b2dnbGUuZW1pdCh0aGlzLmlzQ29sbGFwc2VkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNhblRvZ2dsZSgpIHtcbiAgICBsZXQgY2hhbmdlUmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuXG4gICAgaWYgKHRoaXMuYmVmb3JlVG9nZ2xlKSB7XG4gICAgICBjb25zdCByZXN1bHQ6IGFueSA9IHRoaXMuYmVmb3JlVG9nZ2xlKHRoaXMuaXNDb2xsYXBzZWQpO1xuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChyZXN1bHQudGhlbikge1xuICAgICAgICAgIGNoYW5nZVJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgY2hhbmdlUmVzdWx0ID0gKHJlc3VsdCBhcyBPYnNlcnZhYmxlPGJvb2xlYW4+KS50b1Byb21pc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VSZXN1bHQgPSBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjaGFuZ2VSZXN1bHQ7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJkZXZ1aS1wYW5lbCBkZXZ1aS1wYW5lbC17eyB0eXBlIH19IHt7IGNzc0NsYXNzIH19XCIgW0Bub0FuaW1hdGlvbl0+XG4gIDxkaXYgY2xhc3M9XCJkZXZ1aS1wYW5lbC1oZWFkaW5nXCIgKGNsaWNrKT1cInRvZ2dsZUJvZHkoKVwiIFtzdHlsZS5jdXJzb3JdPVwiaXNDb2xsYXBzZWQgIT09IHVuZGVmaW5lZCA/ICdwb2ludGVyJyA6IG51bGxcIj5cbiAgICA8bmctY29udGVudCBzZWxlY3Q9XCJkLXBhbmVsLWhlYWRlclwiPjwvbmctY29udGVudD5cbiAgPC9kaXY+XG4gIDxkaXZcbiAgICBjbGFzcz1cImRldnVpLXBhbmVsLWJvZHlcIlxuICAgIFtuZ0NsYXNzXT1cInsgJ2RldnVpLXBhbmVsLWJvZHktY29sbGFwc2UnOiBpc0NvbGxhcHNlZCAhPT0gdW5kZWZpbmVkLCAnaGFzLWxlZnQtcGFkZGluZyc6IGhhc0xlZnRQYWRkaW5nIH1cIlxuICAgIEBjb2xsYXBzZUZvckRvbURlc3Ryb3lcbiAgICBbQC5kaXNhYmxlZF09XCIhc2hvd0FuaW1hdGlvblwiXG4gICAgKm5nSWY9XCJpc0NvbGxhcHNlZCA9PT0gdW5kZWZpbmVkIHx8IGlzQ29sbGFwc2VkXCJcbiAgPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJwYW5lbEZvb3RlciB8fCBwYW5lbEhlYWRlciB8fCBwYW5lbEJvZHk7IGVsc2UgZWxzZVRlbXBsYXRlXCI+XG4gICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwicGFuZWxCb2R5VHBsXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8bmctdGVtcGxhdGUgI2Vsc2VUZW1wbGF0ZT5cbiAgICAgIDxkaXYgY2xhc3M9XCJkLXBhbmVsLWJvZHlcIj5cbiAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgICAgPC9kaXY+XG4gICAgPC9uZy10ZW1wbGF0ZT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJkZXZ1aS1wYW5lbC1mb290ZXJcIiAqbmdJZj1cInBhbmVsRm9vdGVyXCI+XG4gICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiZC1wYW5lbC1mb290ZXJcIj48L25nLWNvbnRlbnQ+XG4gIDwvZGl2PlxuPC9kaXY+XG5cbjxuZy10ZW1wbGF0ZSAjcGFuZWxCb2R5VHBsPlxuICA8bmctY29udGVudCBzZWxlY3Q9XCJkLXBhbmVsLWJvZHlcIj48L25nLWNvbnRlbnQ+XG48L25nLXRlbXBsYXRlPlxuIl19