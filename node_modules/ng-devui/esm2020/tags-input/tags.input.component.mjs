import { __decorate, __metadata } from "tslib";
import { Component, ElementRef, EventEmitter, forwardRef, Input, Output, TemplateRef, ViewChild } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { I18nService } from 'ng-devui/i18n';
import { ToggleMenuContainerComponent, ToggleMenuListComponent, ToggleMenuSearchComponent } from 'ng-devui/toggle-menu';
import { DevConfigService, WithConfig } from 'ng-devui/utils';
import { isEmpty } from 'lodash-es';
import { BehaviorSubject, fromEvent, of } from 'rxjs';
import { debounceTime, map, switchMap } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "ng-devui/i18n";
import * as i2 from "ng-devui/utils";
import * as i3 from "ng-devui/toggle-menu";
import * as i4 from "@angular/common";
export class TagsInputComponent {
    constructor(i18n, devConfigService) {
        this.i18n = i18n;
        this.devConfigService = devConfigService;
        /**
         * 【必选】记录输入的标签
         */
        this.tags = [];
        /**
         * 【可选】disabled 灰化状态
         */
        this.disabled = false;
        /**
         * 【可选】使用的属性名
         */
        this.displayProperty = 'name';
        /**
         * 【可选】输入的placeholder
         */
        this.placeholder = '';
        /**
         * 【可选】输入标签的最小长度
         */
        this.minLength = 3;
        /**
         * 【可选】输入标签的最大长度
         */
        this.maxLength = Number.MAX_SAFE_INTEGER;
        /**
         * 【可选】标签的最小个数
         */
        this.minTags = 0;
        /**
         * 【可选】标签的最大个数
         */
        this.maxTags = Number.MAX_SAFE_INTEGER;
        /**
         * 【可选】输入框的spellcheck
         */
        this.spellcheck = true;
        /**
         * 【可选】是否appendToBody
         */
        this.appendToBody = false;
        /**
         * 【可选】是否虚拟滚动
         */
        this.virtualScroll = false;
        /**
         * 【可选】下拉选项
         */
        this.suggestionList = [];
        /**
         * 【可选】是否按空格添加tag
         */
        this.isAddBySpace = true;
        /**
         * 【可选】默认两行显示，false 则单行显示
         */
        this.multiline = true;
        /**
         * 【可选】大小写敏感
         */
        this.caseSensitivity = false;
        this.showAnimation = true;
        /**
         * 输出函数，当选中某个选项项后，将会调用此函数，参数为当前选择项的值。如果需要获取所有选择状态的值，请参考(ngModelChange)方法
         */
        this.valueChange = new EventEmitter();
        this.newTag = '';
        this.availableOptions = [];
        this.selectedItems = [];
        /**
         * 对于用户传入的suggestionList不做修改，数据的操作在_suggestionList上进行
         */
        this._suggestionList = [];
        this.newTagValid = false;
        this.isReduce = false;
        this.isOpen = false;
        this.DEBONCE_TIME = 300;
        this.KEYS = {
            backspace: 8,
            tab: 9,
            enter: 13,
            escape: 27,
            space: 32,
            up: 38,
            down: 40,
            left: 37,
            right: 39,
            delete: 46,
            comma: 188,
        };
        this.onChange = (_) => null;
        this.onTouch = () => null;
        this.valueParser = (item) => (typeof item === 'object' ? item[this.displayProperty] || '' : String(item) ? item.toString() : '');
    }
    get getPlaceHolder() {
        const maxPlaceholder = this.maxPlaceholder === undefined ? `${this.i18nTagsInputText.tagsReachMaxNumber}${this.maxTags}` : this.maxPlaceholder;
        return this.selectedItems.length >= this.maxTags ? maxPlaceholder : this.placeholder;
    }
    setI18nText() {
        this.i18nCommonText = this.i18n.getI18nText().common;
        this.i18nTagsInputText = this.i18n.getI18nText().tagsInput;
        this.i18nSubscription = this.i18n.langChange().subscribe((data) => {
            this.i18nCommonText = data.common;
            this.i18nTagsInputText = data.tagsInput;
        });
    }
    writeValue(value) {
        if (!value) {
            return;
        }
        this.tags = value;
        this.isReduce = false;
        this.reduceSuggestionList();
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouch = fn;
    }
    ngOnInit() {
        this.setI18nText();
        this.newTag = '';
        this._suggestionList = [...this.suggestionList];
        this.searchFn = (term) => {
            return of((this._suggestionList ? this._suggestionList : []).filter((item) => term === ''
                ? true
                : this.caseSensitivity
                    ? item[this.displayProperty].indexOf(term) !== -1
                    : item[this.displayProperty].toLowerCase().indexOf(term.toLowerCase()) !== -1));
        };
        this.registerFilterChange();
    }
    ngAfterViewInit() {
        if (this.searchBox) {
            const inputDom = this.searchBox.el.nativeElement.querySelector('input');
            // input失焦不冒泡，直接监听事件处理会早于list中点击事件传递到该组件，因此增加debounceTime待下拉列表关闭后判断是否插入标签
            this.blurEventSubscription = fromEvent(inputDom, 'blur')
                .pipe(debounceTime(this.DEBONCE_TIME))
                .subscribe(() => {
                if (this.isOpen) {
                    return;
                }
                if (!isEmpty(this.newTag)) {
                    this.addTag();
                }
            });
        }
    }
    ngOnChanges(changes) {
        if (changes && changes.suggestionList && changes.suggestionList.currentValue) {
            this._suggestionList = [...this.suggestionList];
            this.reduceSuggestionList();
            if (this.sourceSubscription && this.searchFn) {
                this.sourceSubscription.next('');
            }
        }
        if (changes && changes.tags && changes.tags.currentValue) {
            this.reduceSuggestionList();
        }
    }
    ngOnDestroy() {
        if (this.sourceSubscription) {
            this.sourceSubscription.unsubscribe();
        }
        if (this.blurEventSubscription) {
            this.blurEventSubscription.unsubscribe();
        }
        if (this.i18nSubscription) {
            this.i18nSubscription.unsubscribe();
        }
    }
    registerFilterChange() {
        this.sourceSubscription = new BehaviorSubject('');
        this.sourceSubscription
            .pipe(map((term) => {
            this.tagIsValid();
            return term;
        }), switchMap((term) => this.searchFn(term)))
            .subscribe((options) => {
            this.availableOptions = options;
            if (this.selectBoxContainer) {
                this.selectBoxContainer.updatePosition();
            }
            if (this.selectBox) {
                this.selectBox.resetIndex(!options.length);
            }
        });
    }
    reduceSuggestionList() {
        this.selectedItems = this.tags.map((option, id) => ({ option, id }));
        if (this.isReduce) {
            return;
        }
        if (this.suggestionList.length > 0) {
            this.isReduce = true;
            // 使用用户最初传入的数据来进行过滤
            this._suggestionList = this.suggestionList.filter((suggestion) => {
                return (this.selectedItems.findIndex(({ option }) => this.caseSensitivity
                    ? option[this.displayProperty] === suggestion[this.displayProperty]
                    : option[this.displayProperty].toLowerCase() === suggestion[this.displayProperty].toLowerCase()) === -1);
            });
            if (this.sourceSubscription && this.searchFn) {
                this.sourceSubscription.next('');
            }
        }
    }
    host_click() {
        if (!this.disabled) {
            const dom = this.searchBox.el.nativeElement.querySelector('input');
            if (dom && this.selectBox) {
                dom.focus();
                this.selectBox.resetIndex(false);
            }
        }
    }
    passEvent(data) {
        const { event, type } = data;
        switch (type) {
            case 'keydown.enter':
            case 'blur':
                // keydown.enter 和 keydown 都接收会重复处理
                // 点击会聚焦input，input失焦事件不会冒泡，单独处理
                break;
            case 'keydown': {
                const hotkeys = [this.KEYS.enter, this.KEYS.tab];
                if (this.isAddBySpace) {
                    hotkeys.push(this.KEYS.space);
                }
                if (hotkeys.includes(event.keyCode)) {
                    event.preventDefault();
                    event.stopPropagation();
                    if (this.selectBox?.selectIndex !== -1) {
                        this.addSuggestionByIndex(this.selectBox.selectIndex, this.availableOptions[this.selectBox.selectIndex]);
                    }
                    else {
                        this.addTag();
                    }
                }
                break;
            }
            default:
                this.inputEvent = { event, type };
        }
    }
    addSuggestionByIndex(index, value) {
        if (index < 0 ||
            index >= this.availableOptions.length ||
            this.maxTags <= this.selectedItems.length ||
            this.selectedItems.findIndex(({ option }) => this.caseSensitivity
                ? option[this.displayProperty] === value[this.displayProperty]
                : option[this.displayProperty].toLowerCase() === value[this.displayProperty].toLowerCase()) !== -1) {
            return;
        }
        this.canAdd(value).then((result) => {
            if (!result) {
                return;
            }
            this.checkMaxTags(this.availableOptions[index]);
            this.onChange(this.selectedItems.map((tagItem) => tagItem.option));
            this.valueChange.emit(this.availableOptions[index]);
            const suggestionListIndex = this._suggestionList.findIndex((item) => this.caseSensitivity
                ? item[this.displayProperty] === value[this.displayProperty]
                : item[this.displayProperty].toLowerCase() === value[this.displayProperty].toLowerCase());
            this._suggestionList.splice(suggestionListIndex, 1);
            this.delayResetNewTag();
            this.sourceSubscription.next('');
        });
    }
    removeTag(data) {
        const { index } = data;
        // 立即移除会导致toggle-menu-container无法判断event.target是否在容器中，从而关闭下拉菜单
        setTimeout(() => {
            if (index < 0 || index >= this.selectedItems.length) {
                return;
            }
            // onPush下 数组长度变化不会触发变更检测
            this.availableOptions = [...this.availableOptions, this.selectedItems[index]?.option];
            this._suggestionList = this.availableOptions;
            const tag = this.selectedItems[index].option;
            this.selectedItems.splice(index, 1);
            if (this.selectedItems.length === 0) {
                this.selectBoxContainer.updatePosition();
            }
            this.onChange(this.selectedItems.map((tagItem) => tagItem.option));
            this.valueChange.emit(tag);
        });
    }
    tagIsValid() {
        const tag = this.newTag;
        const tmp = this.displayProperty;
        const result = tag &&
            tag.length >= this.minLength &&
            tag.length <= this.maxLength &&
            this._suggestionList.findIndex((item) => this.caseSensitivity ? item[tmp] === tag : item[tmp].toLowerCase() === tag.toLowerCase()) === -1 &&
            this.selectedItems.findIndex(({ option }) => this.caseSensitivity ? option[tmp] === tag : option[tmp].toLowerCase() === tag.toLowerCase()) === -1 &&
            !this.isEmptyString(tag);
        this.newTagValid = tag === '' || !!result;
        return result;
    }
    isEmptyString(tag) {
        const temp = tag.match(/\s/g);
        if (temp) {
            return tag.length === temp.length;
        }
        else {
            return false;
        }
    }
    addTag() {
        this.canAdd()
            .then((result) => {
            if (result && this.maxTags > this.selectedItems.length) {
                if (this.tagIsValid()) {
                    const obj = {};
                    obj[this.displayProperty] = this.newTag;
                    this.checkMaxTags(obj);
                    this.onChange(this.selectedItems.map((tagItem) => tagItem.option));
                    this.valueChange.emit(this.newTag);
                }
            }
            else {
                this.newTagValid = false;
            }
        })
            .finally(() => this.delayResetNewTag());
        this.sourceSubscription.next('');
    }
    canAdd(value) {
        let checkResult = Promise.resolve(true);
        if (this.checkBeforeAdd) {
            const result = this.checkBeforeAdd(value || this.newTag);
            if (typeof result !== 'undefined') {
                if (result.then) {
                    checkResult = result;
                }
                else if (result.subscribe) {
                    checkResult = result.toPromise();
                }
                else {
                    checkResult = Promise.resolve(result);
                }
            }
        }
        return checkResult;
    }
    checkMaxTags(tag) {
        this.selectedItems.push({ id: this.selectedItems.length, option: tag });
        if (this.selectedItems.length >= this.maxTags) {
            this.isOpen = false;
        }
    }
    setValue({ option, index }) {
        this.addSuggestionByIndex(index, option);
    }
    searchInputValueChange(event) {
        if (this.selectBox) {
            this.selectBox.selectIndex = -1;
        }
        this.newTag = (event || '').trim();
        this.sourceSubscription.next(this.newTag);
    }
    toggleChangeFn(event) {
        if (!event) {
            this.onTouch();
        }
        this.isOpen = event;
    }
    delayResetNewTag() {
        setTimeout(() => {
            // 放在timeout里是因为如果用空格添加tag，会导致添加之后输入框里有个空格。
            this.newTag = '';
        }, 50);
    }
}
TagsInputComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: TagsInputComponent, deps: [{ token: i1.I18nService }, { token: i2.DevConfigService }], target: i0.ɵɵFactoryTarget.Component });
TagsInputComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: TagsInputComponent, selector: "d-tags-input", inputs: { tags: "tags", disabled: "disabled", displayProperty: "displayProperty", placeholder: "placeholder", maxPlaceholder: "maxPlaceholder", minLength: "minLength", maxLength: "maxLength", minTags: "minTags", maxTags: "maxTags", spellcheck: "spellcheck", appendToBody: "appendToBody", virtualScroll: "virtualScroll", suggestionList: "suggestionList", isAddBySpace: "isAddBySpace", multiline: "multiline", maxHeight: "maxHeight", caseSensitivity: "caseSensitivity", itemTemplate: "itemTemplate", checkBeforeAdd: "checkBeforeAdd", showAnimation: "showAnimation" }, outputs: { valueChange: "valueChange" }, providers: [
        {
            provide: NG_VALUE_ACCESSOR,
            useExisting: forwardRef(() => TagsInputComponent),
            multi: true,
        },
    ], viewQueries: [{ propertyName: "tagsInputWrapperItem", first: true, predicate: ["tagsInputWrapper"], descendants: true, static: true }, { propertyName: "selectBoxContainer", first: true, predicate: ToggleMenuContainerComponent, descendants: true }, { propertyName: "selectBox", first: true, predicate: ToggleMenuListComponent, descendants: true }, { propertyName: "searchBox", first: true, predicate: ToggleMenuSearchComponent, descendants: true }], exportAs: ["TagsInput"], usesOnChanges: true, ngImport: i0, template: "<div #tagsInputWrapper class=\"devui-tags-host {{ multiline ? '' : 'init-inline' }}\" tabindex=\"-1\" (click)=\"host_click()\">\n  <d-toggle-menu-container\n    [isOpen]=\"isOpen\"\n    [appendToBody]=\"appendToBody\"\n    [selectWrapper]=\"tagsInputWrapperItem\"\n    [disabled]=\"disabled || selectedItems?.length >= maxTags\"\n    [toggleOnFocus]=\"true\"\n    [showAnimation]=\"showAnimation\"\n    [closeScope]=\"'blank'\"\n    (passEvent)=\"passEvent($event)\"\n    (toggleChange)=\"toggleChangeFn($event)\"\n  >\n    <d-toggle-menu-label\n      [multiItems]=\"selectedItems\"\n      [mode]=\"'multiple-line'\"\n      [valueParser]=\"valueParser\"\n      [disabled]=\"disabled\"\n      [maxHeight]=\"maxHeight\"\n      (removeChange)=\"removeTag($event)\"\n    ></d-toggle-menu-label>\n    <d-toggle-menu-search\n      *ngIf=\"!disabled\"\n      [inputValue]=\"newTag\"\n      [searchPlaceholder]=\"getPlaceHolder\"\n      [searchFn]=\"searchFn\"\n      [spellcheck]=\"spellcheck\"\n      [isShowSearchIcon]=\"false\"\n      [disabled]=\"disabled || selectedItems?.length >= maxTags\"\n      [inputWidth]=\"multiline ? '' : 'auto'\"\n      [delay]=\"0\"\n      (searchInputValueChange)=\"searchInputValueChange($event)\"\n    ></d-toggle-menu-search>\n    <d-toggle-menu-list\n      [eventHandle]=\"inputEvent\"\n      [options]=\"availableOptions\"\n      [value]=\"selectedItems\"\n      [virtualScroll]=\"virtualScroll\"\n      [hasSelectIndex]=\"true\"\n      [isFiltering]=\"newTag?.length > 0\"\n      [listItemTemplate]=\"listItem\"\n      [closeScope]=\"'blank'\"\n      (toggleChange)=\"toggleChangeFn($event)\"\n      (valueChange)=\"setValue($event)\"\n    >\n      <ng-template #listItem let-item=\"item\" let-index=\"index\" let-selectIndex=\"selectIndex\" let-choose=\"choose\">\n        <d-toggle-menu-list-item\n          [item]=\"item\"\n          [index]=\"index\"\n          [selectIndex]=\"selectIndex\"\n          [highlightToggle]=\"false\"\n          [customTemplate]=\"itemTemplate\"\n          [filterKey]=\"displayProperty\"\n          (chooseItem)=\"choose($event)\"\n        ></d-toggle-menu-list-item>\n      </ng-template>\n    </d-toggle-menu-list>\n  </d-toggle-menu-container>\n</div>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}:host{display:block;outline:none}:host .devui-tags-host{position:relative;height:100%;outline:none}:host .devui-tags-host:active{outline:0}:host ::ng-deep .devui-tags-host.init-inline{height:30px;border-radius:2px;border-radius:var(--devui-border-radius, 2px);border:solid 1px #d7d8da;border:solid 1px var(--devui-form-control-line, #d7d8da)}:host ::ng-deep .devui-tags-host.init-inline div.devui-toggle-menu-container{justify-content:flex-start;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;border:none}:host ::ng-deep .devui-tags-host.init-inline div.devui-toggle-menu-container d-toggle-menu-label{width:auto;max-width:none;background-color:transparent}:host ::ng-deep .devui-tags-host.init-inline div.devui-toggle-menu-container d-toggle-menu-label ul.devui-select-tag-list{white-space:nowrap}:host ::ng-deep .devui-tags-host.init-inline div.devui-toggle-menu-container d-toggle-menu-search .devui-toggle-menu-search{min-width:160px}:host ::ng-deep .devui-tags-host:not(.init-inline) d-toggle-menu-label{width:100%;border-radius:2px;border-radius:var(--devui-border-radius, 2px);background-color:#fff;background-color:var(--devui-base-bg, #ffffff)}:host ::ng-deep .devui-tags-host .devui-toggle-menu-container{flex-wrap:wrap;align-content:flex-start}:host ::ng-deep .devui-tags-host .devui-toggle-menu-container d-toggle-menu-search .devui-toggle-menu-search>input{height:26px}:host ::ng-deep .devui-tags-host .devui-toggle-menu-container.disabled d-toggle-menu-search .devui-toggle-menu-search input{cursor:not-allowed}:host ::ng-deep .devui-tags-host .devui-toggle-menu-container d-toggle-menu-list ul d-toggle-menu-list-item .devui-dropdown-item:not(.disabled):active,:host ::ng-deep .devui-tags-host .devui-toggle-menu-container d-toggle-menu-list ul d-toggle-menu-list-item .devui-dropdown-item:not(.disabled):active:hover{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a);background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}::ng-deep .devui-dropdown-menu d-toggle-menu-list-item .devui-dropdown-item:not(.disabled):active,::ng-deep .devui-dropdown-menu d-toggle-menu-list-item .devui-dropdown-item:not(.disabled):active:hover{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a);background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}\n"], components: [{ type: i3.ToggleMenuContainerComponent, selector: "d-toggle-menu-container", inputs: ["isOpen", "appendToBody", "appendToBodyDirections", "width", "size", "overview", "position", "disabled", "showAnimation", "toggleOnFocus", "closeScope", "direction", "selectWrapper"], outputs: ["toggleChange", "passEvent"] }, { type: i3.ToggleMenuLabelComponent, selector: "d-toggle-menu-label", inputs: ["mode", "multiItems", "disabled", "maxWidth", "maxHeight", "optionDisabledKey", "valueParser"], outputs: ["removeChange"] }, { type: i3.ToggleMenuSearchComponent, selector: "d-toggle-menu-search", inputs: ["searchPlaceholder", "isShowSearchIcon", "inputValue", "inputWidth", "filterKey", "disabled", "spellcheck", "options", "delay", "formatter", "searchFn"], outputs: ["searchInputValueChange"] }, { type: i3.ToggleMenuListComponent, selector: "d-toggle-menu-list", inputs: ["options", "optionDisabledKey", "optionImmutableKey", "optionGroupKey", "size", "keyword", "isFiltering", "enableLazyLoad", "virtualScroll", "listItemTemplate", "loadingTemplateRef", "noResultItemTemplate", "customViewTemplate", "customViewDirection", "templateItemSize", "scrollHeight", "selectIndex", "hasSelectIndex", "multiple", "multiItems", "value", "isSelectAll", "keepMultipleOrder", "eventHandle", "closeScope"], outputs: ["toggleChange", "valueChange", "loadMore"] }, { type: i3.ToggleMenuListItemComponent, selector: "d-toggle-menu-list-item", inputs: ["item", "index", "selectIndex", "activeIndex", "formatter", "filterKey", "optionDisabledKey", "optionGroupKey", "highlightToggle", "highlightItemClass", "multiple", "isShowKeyword", "keyword", "customTemplate", "color"], outputs: ["chooseItem"] }], directives: [{ type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
__decorate([
    WithConfig(),
    __metadata("design:type", Object)
], TagsInputComponent.prototype, "showAnimation", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: TagsInputComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-tags-input', providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => TagsInputComponent),
                            multi: true,
                        },
                    ], exportAs: 'TagsInput', preserveWhitespaces: false, template: "<div #tagsInputWrapper class=\"devui-tags-host {{ multiline ? '' : 'init-inline' }}\" tabindex=\"-1\" (click)=\"host_click()\">\n  <d-toggle-menu-container\n    [isOpen]=\"isOpen\"\n    [appendToBody]=\"appendToBody\"\n    [selectWrapper]=\"tagsInputWrapperItem\"\n    [disabled]=\"disabled || selectedItems?.length >= maxTags\"\n    [toggleOnFocus]=\"true\"\n    [showAnimation]=\"showAnimation\"\n    [closeScope]=\"'blank'\"\n    (passEvent)=\"passEvent($event)\"\n    (toggleChange)=\"toggleChangeFn($event)\"\n  >\n    <d-toggle-menu-label\n      [multiItems]=\"selectedItems\"\n      [mode]=\"'multiple-line'\"\n      [valueParser]=\"valueParser\"\n      [disabled]=\"disabled\"\n      [maxHeight]=\"maxHeight\"\n      (removeChange)=\"removeTag($event)\"\n    ></d-toggle-menu-label>\n    <d-toggle-menu-search\n      *ngIf=\"!disabled\"\n      [inputValue]=\"newTag\"\n      [searchPlaceholder]=\"getPlaceHolder\"\n      [searchFn]=\"searchFn\"\n      [spellcheck]=\"spellcheck\"\n      [isShowSearchIcon]=\"false\"\n      [disabled]=\"disabled || selectedItems?.length >= maxTags\"\n      [inputWidth]=\"multiline ? '' : 'auto'\"\n      [delay]=\"0\"\n      (searchInputValueChange)=\"searchInputValueChange($event)\"\n    ></d-toggle-menu-search>\n    <d-toggle-menu-list\n      [eventHandle]=\"inputEvent\"\n      [options]=\"availableOptions\"\n      [value]=\"selectedItems\"\n      [virtualScroll]=\"virtualScroll\"\n      [hasSelectIndex]=\"true\"\n      [isFiltering]=\"newTag?.length > 0\"\n      [listItemTemplate]=\"listItem\"\n      [closeScope]=\"'blank'\"\n      (toggleChange)=\"toggleChangeFn($event)\"\n      (valueChange)=\"setValue($event)\"\n    >\n      <ng-template #listItem let-item=\"item\" let-index=\"index\" let-selectIndex=\"selectIndex\" let-choose=\"choose\">\n        <d-toggle-menu-list-item\n          [item]=\"item\"\n          [index]=\"index\"\n          [selectIndex]=\"selectIndex\"\n          [highlightToggle]=\"false\"\n          [customTemplate]=\"itemTemplate\"\n          [filterKey]=\"displayProperty\"\n          (chooseItem)=\"choose($event)\"\n        ></d-toggle-menu-list-item>\n      </ng-template>\n    </d-toggle-menu-list>\n  </d-toggle-menu-container>\n</div>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}:host{display:block;outline:none}:host .devui-tags-host{position:relative;height:100%;outline:none}:host .devui-tags-host:active{outline:0}:host ::ng-deep .devui-tags-host.init-inline{height:30px;border-radius:2px;border-radius:var(--devui-border-radius, 2px);border:solid 1px #d7d8da;border:solid 1px var(--devui-form-control-line, #d7d8da)}:host ::ng-deep .devui-tags-host.init-inline div.devui-toggle-menu-container{justify-content:flex-start;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;border:none}:host ::ng-deep .devui-tags-host.init-inline div.devui-toggle-menu-container d-toggle-menu-label{width:auto;max-width:none;background-color:transparent}:host ::ng-deep .devui-tags-host.init-inline div.devui-toggle-menu-container d-toggle-menu-label ul.devui-select-tag-list{white-space:nowrap}:host ::ng-deep .devui-tags-host.init-inline div.devui-toggle-menu-container d-toggle-menu-search .devui-toggle-menu-search{min-width:160px}:host ::ng-deep .devui-tags-host:not(.init-inline) d-toggle-menu-label{width:100%;border-radius:2px;border-radius:var(--devui-border-radius, 2px);background-color:#fff;background-color:var(--devui-base-bg, #ffffff)}:host ::ng-deep .devui-tags-host .devui-toggle-menu-container{flex-wrap:wrap;align-content:flex-start}:host ::ng-deep .devui-tags-host .devui-toggle-menu-container d-toggle-menu-search .devui-toggle-menu-search>input{height:26px}:host ::ng-deep .devui-tags-host .devui-toggle-menu-container.disabled d-toggle-menu-search .devui-toggle-menu-search input{cursor:not-allowed}:host ::ng-deep .devui-tags-host .devui-toggle-menu-container d-toggle-menu-list ul d-toggle-menu-list-item .devui-dropdown-item:not(.disabled):active,:host ::ng-deep .devui-tags-host .devui-toggle-menu-container d-toggle-menu-list ul d-toggle-menu-list-item .devui-dropdown-item:not(.disabled):active:hover{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a);background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}::ng-deep .devui-dropdown-menu d-toggle-menu-list-item .devui-dropdown-item:not(.disabled):active,::ng-deep .devui-dropdown-menu d-toggle-menu-list-item .devui-dropdown-item:not(.disabled):active:hover{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a);background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.I18nService }, { type: i2.DevConfigService }]; }, propDecorators: { tags: [{
                type: Input
            }], disabled: [{
                type: Input
            }], displayProperty: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], maxPlaceholder: [{
                type: Input
            }], minLength: [{
                type: Input
            }], maxLength: [{
                type: Input
            }], minTags: [{
                type: Input
            }], maxTags: [{
                type: Input
            }], spellcheck: [{
                type: Input
            }], appendToBody: [{
                type: Input
            }], virtualScroll: [{
                type: Input
            }], suggestionList: [{
                type: Input
            }], isAddBySpace: [{
                type: Input
            }], multiline: [{
                type: Input
            }], maxHeight: [{
                type: Input
            }], caseSensitivity: [{
                type: Input
            }], itemTemplate: [{
                type: Input
            }], checkBeforeAdd: [{
                type: Input
            }], showAnimation: [{
                type: Input
            }], valueChange: [{
                type: Output
            }], tagsInputWrapperItem: [{
                type: ViewChild,
                args: ['tagsInputWrapper', { static: true }]
            }], selectBoxContainer: [{
                type: ViewChild,
                args: [ToggleMenuContainerComponent]
            }], selectBox: [{
                type: ViewChild,
                args: [ToggleMenuListComponent]
            }], searchBox: [{
                type: ViewChild,
                args: [ToggleMenuSearchComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFncy5pbnB1dC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9kZXZ1aS90YWdzLWlucHV0L3RhZ3MuaW5wdXQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZGV2dWkvdGFncy1pbnB1dC90YWdzLmlucHV0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBRUwsU0FBUyxFQUNULFVBQVUsRUFDVixZQUFZLEVBQ1osVUFBVSxFQUNWLEtBQUssRUFJTCxNQUFNLEVBRU4sV0FBVyxFQUNYLFNBQVMsRUFDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQXdCLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDekUsT0FBTyxFQUFpQixXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0QsT0FBTyxFQUFFLDRCQUE0QixFQUFFLHVCQUF1QixFQUFFLHlCQUF5QixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDeEgsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzlELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDcEMsT0FBTyxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQWMsRUFBRSxFQUFnQixNQUFNLE1BQU0sQ0FBQztBQUNoRixPQUFPLEVBQUUsWUFBWSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7O0FBZ0I5RCxNQUFNLE9BQU8sa0JBQWtCO0lBMkg3QixZQUFvQixJQUFpQixFQUFVLGdCQUFrQztRQUE3RCxTQUFJLEdBQUosSUFBSSxDQUFhO1FBQVUscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQTFIakY7O1dBRUc7UUFDTSxTQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ25COztXQUVHO1FBQ00sYUFBUSxHQUFHLEtBQUssQ0FBQztRQUMxQjs7V0FFRztRQUNN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S0FBSztnQkFDaUIsYUFBYTtzQkFBbkMsS0FBSztnQkFJSSxXQUFXO3NCQUFwQixNQUFNO2dCQUMwQyxvQkFBb0I7c0JBQXBFLFNBQVM7dUJBQUMsa0JBQWtCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQUNOLGtCQUFrQjtzQkFBMUQsU0FBUzt1QkFBQyw0QkFBNEI7Z0JBQ0gsU0FBUztzQkFBNUMsU0FBUzt1QkFBQyx1QkFBdUI7Z0JBQ0ksU0FBUztzQkFBOUMsU0FBUzt1QkFBQyx5QkFBeUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBZnRlclZpZXdJbml0LFxuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgZm9yd2FyZFJlZixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgVGVtcGxhdGVSZWYsXG4gIFZpZXdDaGlsZFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEkxOG5JbnRlcmZhY2UsIEkxOG5TZXJ2aWNlIH0gZnJvbSAnbmctZGV2dWkvaTE4bic7XG5pbXBvcnQgeyBUb2dnbGVNZW51Q29udGFpbmVyQ29tcG9uZW50LCBUb2dnbGVNZW51TGlzdENvbXBvbmVudCwgVG9nZ2xlTWVudVNlYXJjaENvbXBvbmVudCB9IGZyb20gJ25nLWRldnVpL3RvZ2dsZS1tZW51JztcbmltcG9ydCB7IERldkNvbmZpZ1NlcnZpY2UsIFdpdGhDb25maWcgfSBmcm9tICduZy1kZXZ1aS91dGlscyc7XG5pbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnbG9kYXNoLWVzJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZnJvbUV2ZW50LCBPYnNlcnZhYmxlLCBvZiwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIG1hcCwgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdkLXRhZ3MtaW5wdXQnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGFncy5pbnB1dC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3RhZ3MuaW5wdXQuY29tcG9uZW50LnNjc3MnXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBUYWdzSW5wdXRDb21wb25lbnQpLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgfSxcbiAgXSxcbiAgZXhwb3J0QXM6ICdUYWdzSW5wdXQnLFxuICBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVGFnc0lucHV0Q29tcG9uZW50IGltcGxlbWVudHMgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE9uSW5pdCwgT25EZXN0cm95LCBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQge1xuICAvKipcbiAgICog44CQ5b+F6YCJ44CR6K6w5b2V6L6T5YWl55qE5qCH562+XG4gICAqL1xuICBASW5wdXQoKSB0YWdzID0gW107XG4gIC8qKlxuICAgKiDjgJDlj6/pgInjgJFkaXNhYmxlZCDngbDljJbnirbmgIFcbiAgICovXG4gIEBJbnB1dCgpIGRpc2FibGVkID0gZmFsc2U7XG4gIC8qKlxuICAgKiDjgJDlj6/pgInjgJHkvb/nlKjnmoTlsZ7mgKflkI1cbiAgICovXG4gIEBJbnB1dCgpIGRpc3BsYXlQcm9wZXJ0eSA9ICduYW1lJztcbiAgLyoqXG4gICAqIOOAkOWPr+mAieOAkei+k+WFpeeahHBsYWNlaG9sZGVyXG4gICAqL1xuICBASW5wdXQoKSBwbGFjZWhvbGRlciA9ICcnO1xuICAvKipcbiAgICog44CQ5Y+v6YCJ44CR6L6+5Yiw5pyA5aSn5YC85pe25Y+v6Ieq5a6a5LmJcGxhY2Vob2xkZXJcbiAgICovXG4gIEBJbnB1dCgpIG1heFBsYWNlaG9sZGVyOiBzdHJpbmc7XG4gIC8qKlxuICAgKiDjgJDlj6/pgInjgJHovpPlhaXmoIfnrb7nmoTmnIDlsI/plb/luqZcbiAgICovXG4gIEBJbnB1dCgpIG1pbkxlbmd0aCA9IDM7XG4gIC8qKlxuICAgKiDjgJDlj6/pgInjgJHovpPlhaXmoIfnrb7nmoTmnIDlpKfplb/luqZcbiAgICovXG4gIEBJbnB1dCgpIG1heExlbmd0aDogbnVtYmVyID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gIC8qKlxuICAgKiDjgJDlj6/pgInjgJHmoIfnrb7nmoTmnIDlsI/kuKrmlbBcbiAgICovXG4gIEBJbnB1dCgpIG1pblRhZ3MgPSAwO1xuICAvKipcbiAgICog44CQ5Y+v6YCJ44CR5qCH562+55qE5pyA5aSn5Liq5pWwXG4gICAqL1xuICBASW5wdXQoKSBtYXhUYWdzOiBudW1iZXIgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgLyoqXG4gICAqIOOAkOWPr+mAieOAkei+k+WFpeahhueahHNwZWxsY2hlY2tcbiAgICovXG4gIEBJbnB1dCgpIHNwZWxsY2hlY2sgPSB0cnVlO1xuICAvKipcbiAgICog44CQ5Y+v6YCJ44CR5piv5ZCmYXBwZW5kVG9Cb2R5XG4gICAqL1xuICBASW5wdXQoKSBhcHBlbmRUb0JvZHkgPSBmYWxzZTtcbiAgLyoqXG4gICAqIOOAkOWPr+mAieOAkeaYr+WQpuiZmuaLn+a7muWKqFxuICAgKi9cbiAgQElucHV0KCkgdmlydHVhbFNjcm9sbCA9IGZhbHNlO1xuICAvKipcbiAgICog44CQ5Y+v6YCJ44CR5LiL5ouJ6YCJ6aG5XG4gICAqL1xuICBASW5wdXQoKSBzdWdnZXN0aW9uTGlzdDogYW55ID0gW107XG4gIC8qKlxuICAgKiDjgJDlj6/pgInjgJHmmK/lkKbmjInnqbrmoLzmt7vliqB0YWdcbiAgICovXG4gIEBJbnB1dCgpIGlzQWRkQnlTcGFjZSA9IHRydWU7XG4gIC8qKlxuICAgKiDjgJDlj6/pgInjgJHpu5jorqTkuKTooYzmmL7npLrvvIxmYWxzZSDliJnljZXooYzmmL7npLpcbiAgICovXG4gIEBJbnB1dCgpIG11bHRpbGluZSA9IHRydWU7XG4gIC8qKlxuICAgKiDjgJDlj6/pgInjgJHlt7LpgInkuK3moIfnrb7lrrnlmajmnIDlpKfpq5jluqZcbiAgICovXG4gIEBJbnB1dCgpIG1heEhlaWdodDogc3RyaW5nO1xuICAvKipcbiAgICog44CQ5Y+v6YCJ44CR5aSn5bCP5YaZ5pWP5oSfXG4gICAqL1xuICBASW5wdXQoKSBjYXNlU2Vuc2l0aXZpdHkgPSBmYWxzZTtcbiAgQElucHV0KCkgaXRlbVRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuICBASW5wdXQoKSBjaGVja0JlZm9yZUFkZDogKG5ld1RhZzogc3RyaW5nKSA9PiBib29sZWFuIHwgUHJvbWlzZTxib29sZWFuPiB8IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIEBJbnB1dCgpIEBXaXRoQ29uZmlnKCkgc2hvd0FuaW1hdGlvbiA9IHRydWU7XG4gIC8qKlxuICAgKiDovpPlh7rlh73mlbDvvIzlvZPpgInkuK3mn5DkuKrpgInpobnpobnlkI7vvIzlsIbkvJrosIPnlKjmraTlh73mlbDvvIzlj4LmlbDkuLrlvZPliY3pgInmi6npobnnmoTlgLzjgILlpoLmnpzpnIDopoHojrflj5bmiYDmnInpgInmi6nnirbmgIHnmoTlgLzvvIzor7flj4LogIMobmdNb2RlbENoYW5nZSnmlrnms5VcbiAgICovXG4gIEBPdXRwdXQoKSB2YWx1ZUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAVmlld0NoaWxkKCd0YWdzSW5wdXRXcmFwcGVyJywgeyBzdGF0aWM6IHRydWUgfSkgdGFnc0lucHV0V3JhcHBlckl0ZW06IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoVG9nZ2xlTWVudUNvbnRhaW5lckNvbXBvbmVudCkgc2VsZWN0Qm94Q29udGFpbmVyOiBUb2dnbGVNZW51Q29udGFpbmVyQ29tcG9uZW50O1xuICBAVmlld0NoaWxkKFRvZ2dsZU1lbnVMaXN0Q29tcG9uZW50KSBzZWxlY3RCb3g6IFRvZ2dsZU1lbnVMaXN0Q29tcG9uZW50O1xuICBAVmlld0NoaWxkKFRvZ2dsZU1lbnVTZWFyY2hDb21wb25lbnQpIHNlYXJjaEJveDogVG9nZ2xlTWVudVNlYXJjaENvbXBvbmVudDtcblxuICBnZXQgZ2V0UGxhY2VIb2xkZXIoKSB7XG4gICAgY29uc3QgbWF4UGxhY2Vob2xkZXIgPVxuICAgICAgdGhpcy5tYXhQbGFjZWhvbGRlciA9PT0gdW5kZWZpbmVkID8gYCR7dGhpcy5pMThuVGFnc0lucHV0VGV4dC50YWdzUmVhY2hNYXhOdW1iZXJ9JHt0aGlzLm1heFRhZ3N9YCA6IHRoaXMubWF4UGxhY2Vob2xkZXI7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGggPj0gdGhpcy5tYXhUYWdzID8gbWF4UGxhY2Vob2xkZXIgOiB0aGlzLnBsYWNlaG9sZGVyO1xuICB9XG5cbiAgbmV3VGFnID0gJyc7XG4gIGF2YWlsYWJsZU9wdGlvbnMgPSBbXTtcbiAgc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAvKipcbiAgICog5a+55LqO55So5oi35Lyg5YWl55qEc3VnZ2VzdGlvbkxpc3TkuI3lgZrkv67mlLnvvIzmlbDmja7nmoTmk43kvZzlnKhfc3VnZ2VzdGlvbkxpc3TkuIrov5vooYxcbiAgICovXG4gIF9zdWdnZXN0aW9uTGlzdCA9IFtdO1xuICBuZXdUYWdWYWxpZCA9IGZhbHNlO1xuICBpc1JlZHVjZSA9IGZhbHNlO1xuICBpc09wZW4gPSBmYWxzZTtcbiAgaW5wdXRFdmVudDogYW55O1xuICBibHVyRXZlbnRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgdmFsdWVQYXJzZXI6IChpdGVtOiBhbnkpID0+IGFueTtcbiAgc2VhcmNoRm46ICh0ZXJtOiBzdHJpbmcpID0+IE9ic2VydmFibGU8QXJyYXk8eyBpZDogc3RyaW5nIHwgbnVtYmVyOyBvcHRpb246IGFueSB9Pj47XG5cbiAgcHJpdmF0ZSBERUJPTkNFX1RJTUUgPSAzMDA7XG4gIHByaXZhdGUgc291cmNlU3Vic2NyaXB0aW9uOiBCZWhhdmlvclN1YmplY3Q8YW55PjtcbiAgcHJpdmF0ZSBLRVlTOiBhbnkgPSB7XG4gICAgYmFja3NwYWNlOiA4LFxuICAgIHRhYjogOSxcbiAgICBlbnRlcjogMTMsXG4gICAgZXNjYXBlOiAyNyxcbiAgICBzcGFjZTogMzIsXG4gICAgdXA6IDM4LFxuICAgIGRvd246IDQwLFxuICAgIGxlZnQ6IDM3LFxuICAgIHJpZ2h0OiAzOSxcbiAgICBkZWxldGU6IDQ2LFxuICAgIGNvbW1hOiAxODgsXG4gIH07XG4gIHByaXZhdGUgaTE4blN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICBwdWJsaWMgaTE4bkNvbW1vblRleHQ6IEkxOG5JbnRlcmZhY2VbJ2NvbW1vbiddO1xuICBwdWJsaWMgaTE4blRhZ3NJbnB1dFRleHQ6IEkxOG5JbnRlcmZhY2VbJ3RhZ3NJbnB1dCddO1xuICBwcml2YXRlIG9uQ2hhbmdlID0gKF86IGFueSkgPT4gbnVsbDtcbiAgcHJpdmF0ZSBvblRvdWNoID0gKCkgPT4gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGkxOG46IEkxOG5TZXJ2aWNlLCBwcml2YXRlIGRldkNvbmZpZ1NlcnZpY2U6IERldkNvbmZpZ1NlcnZpY2UpIHtcbiAgICB0aGlzLnZhbHVlUGFyc2VyID0gKGl0ZW0pID0+ICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgPyBpdGVtW3RoaXMuZGlzcGxheVByb3BlcnR5XSB8fCAnJyA6IFN0cmluZyhpdGVtKSA/IGl0ZW0udG9TdHJpbmcoKSA6ICcnKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0STE4blRleHQoKSB7XG4gICAgdGhpcy5pMThuQ29tbW9uVGV4dCA9IHRoaXMuaTE4bi5nZXRJMThuVGV4dCgpLmNvbW1vbjtcbiAgICB0aGlzLmkxOG5UYWdzSW5wdXRUZXh0ID0gdGhpcy5pMThuLmdldEkxOG5UZXh0KCkudGFnc0lucHV0O1xuICAgIHRoaXMuaTE4blN1YnNjcmlwdGlvbiA9IHRoaXMuaTE4bi5sYW5nQ2hhbmdlKCkuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLmkxOG5Db21tb25UZXh0ID0gZGF0YS5jb21tb247XG4gICAgICB0aGlzLmkxOG5UYWdzSW5wdXRUZXh0ID0gZGF0YS50YWdzSW5wdXQ7XG4gICAgfSk7XG4gIH1cblxuICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGFncyA9IHZhbHVlO1xuICAgIHRoaXMuaXNSZWR1Y2UgPSBmYWxzZTtcbiAgICB0aGlzLnJlZHVjZVN1Z2dlc3Rpb25MaXN0KCk7XG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlID0gZm47XG4gIH1cblxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vblRvdWNoID0gZm47XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnNldEkxOG5UZXh0KCk7XG4gICAgdGhpcy5uZXdUYWcgPSAnJztcbiAgICB0aGlzLl9zdWdnZXN0aW9uTGlzdCA9IFsuLi50aGlzLnN1Z2dlc3Rpb25MaXN0XTtcbiAgICB0aGlzLnNlYXJjaEZuID0gKHRlcm06IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIG9mKFxuICAgICAgICAodGhpcy5fc3VnZ2VzdGlvbkxpc3QgPyB0aGlzLl9zdWdnZXN0aW9uTGlzdCA6IFtdKS5maWx0ZXIoKGl0ZW0pID0+XG4gICAgICAgICAgdGVybSA9PT0gJydcbiAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgOiB0aGlzLmNhc2VTZW5zaXRpdml0eVxuICAgICAgICAgICAgICA/IGl0ZW1bdGhpcy5kaXNwbGF5UHJvcGVydHldLmluZGV4T2YodGVybSkgIT09IC0xXG4gICAgICAgICAgICAgIDogaXRlbVt0aGlzLmRpc3BsYXlQcm9wZXJ0eV0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRlcm0udG9Mb3dlckNhc2UoKSkgIT09IC0xXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfTtcbiAgICB0aGlzLnJlZ2lzdGVyRmlsdGVyQ2hhbmdlKCk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgaWYgKHRoaXMuc2VhcmNoQm94KSB7XG4gICAgICBjb25zdCBpbnB1dERvbSA9IHRoaXMuc2VhcmNoQm94LmVsLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgIC8vIGlucHV05aSx54Sm5LiN5YaS5rOh77yM55u05o6l55uR5ZCs5LqL5Lu25aSE55CG5Lya5pep5LqObGlzdOS4reeCueWHu+S6i+S7tuS8oOmAkuWIsOivpee7hOS7tu+8jOWboOatpOWinuWKoGRlYm91bmNlVGltZeW+heS4i+aLieWIl+ihqOWFs+mXreWQjuWIpOaWreaYr+WQpuaPkuWFpeagh+etvlxuICAgICAgdGhpcy5ibHVyRXZlbnRTdWJzY3JpcHRpb24gPSBmcm9tRXZlbnQoaW5wdXREb20sICdibHVyJylcbiAgICAgICAgLnBpcGUoZGVib3VuY2VUaW1lKHRoaXMuREVCT05DRV9USU1FKSlcbiAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghaXNFbXB0eSh0aGlzLm5ld1RhZykpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVGFnKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMgJiYgY2hhbmdlcy5zdWdnZXN0aW9uTGlzdCAmJiBjaGFuZ2VzLnN1Z2dlc3Rpb25MaXN0LmN1cnJlbnRWYWx1ZSkge1xuICAgICAgdGhpcy5fc3VnZ2VzdGlvbkxpc3QgPSBbLi4udGhpcy5zdWdnZXN0aW9uTGlzdF07XG4gICAgICB0aGlzLnJlZHVjZVN1Z2dlc3Rpb25MaXN0KCk7XG4gICAgICBpZiAodGhpcy5zb3VyY2VTdWJzY3JpcHRpb24gJiYgdGhpcy5zZWFyY2hGbikge1xuICAgICAgICB0aGlzLnNvdXJjZVN1YnNjcmlwdGlvbi5uZXh0KCcnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZXMgJiYgY2hhbmdlcy50YWdzICYmIGNoYW5nZXMudGFncy5jdXJyZW50VmFsdWUpIHtcbiAgICAgIHRoaXMucmVkdWNlU3VnZ2VzdGlvbkxpc3QoKTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5zb3VyY2VTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMuc291cmNlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmJsdXJFdmVudFN1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy5ibHVyRXZlbnRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaTE4blN1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy5pMThuU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJGaWx0ZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5zb3VyY2VTdWJzY3JpcHRpb24gPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4oJycpO1xuICAgIHRoaXMuc291cmNlU3Vic2NyaXB0aW9uXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKCh0ZXJtKSA9PiB7XG4gICAgICAgICAgdGhpcy50YWdJc1ZhbGlkKCk7XG4gICAgICAgICAgcmV0dXJuIHRlcm07XG4gICAgICAgIH0pLFxuICAgICAgICBzd2l0Y2hNYXAoKHRlcm0pID0+IHRoaXMuc2VhcmNoRm4odGVybSkpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKChvcHRpb25zKSA9PiB7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdEJveENvbnRhaW5lcikge1xuICAgICAgICAgIHRoaXMuc2VsZWN0Qm94Q29udGFpbmVyLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0Qm94KSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RCb3gucmVzZXRJbmRleCghb3B0aW9ucy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlZHVjZVN1Z2dlc3Rpb25MaXN0KCkge1xuICAgIHRoaXMuc2VsZWN0ZWRJdGVtcyA9IHRoaXMudGFncy5tYXAoKG9wdGlvbiwgaWQpID0+ICh7IG9wdGlvbiwgaWQgfSkpO1xuICAgIGlmICh0aGlzLmlzUmVkdWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnN1Z2dlc3Rpb25MaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuaXNSZWR1Y2UgPSB0cnVlO1xuICAgICAgLy8g5L2/55So55So5oi35pyA5Yid5Lyg5YWl55qE5pWw5o2u5p2l6L+b6KGM6L+H5rukXG4gICAgICB0aGlzLl9zdWdnZXN0aW9uTGlzdCA9IHRoaXMuc3VnZ2VzdGlvbkxpc3QuZmlsdGVyKChzdWdnZXN0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zLmZpbmRJbmRleCgoeyBvcHRpb24gfSkgPT5cbiAgICAgICAgICAgIHRoaXMuY2FzZVNlbnNpdGl2aXR5XG4gICAgICAgICAgICAgID8gb3B0aW9uW3RoaXMuZGlzcGxheVByb3BlcnR5XSA9PT0gc3VnZ2VzdGlvblt0aGlzLmRpc3BsYXlQcm9wZXJ0eV1cbiAgICAgICAgICAgICAgOiBvcHRpb25bdGhpcy5kaXNwbGF5UHJvcGVydHldLnRvTG93ZXJDYXNlKCkgPT09IHN1Z2dlc3Rpb25bdGhpcy5kaXNwbGF5UHJvcGVydHldLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICApID09PSAtMVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5zb3VyY2VTdWJzY3JpcHRpb24gJiYgdGhpcy5zZWFyY2hGbikge1xuICAgICAgICB0aGlzLnNvdXJjZVN1YnNjcmlwdGlvbi5uZXh0KCcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBob3N0X2NsaWNrKCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgY29uc3QgZG9tID0gdGhpcy5zZWFyY2hCb3guZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgaWYgKGRvbSAmJiB0aGlzLnNlbGVjdEJveCkge1xuICAgICAgICBkb20uZm9jdXMoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RCb3gucmVzZXRJbmRleChmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGFzc0V2ZW50KGRhdGEpIHtcbiAgICBjb25zdCB7IGV2ZW50LCB0eXBlIH0gPSBkYXRhO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2tleWRvd24uZW50ZXInOlxuICAgIGNhc2UgJ2JsdXInOlxuICAgICAgLy8ga2V5ZG93bi5lbnRlciDlkowga2V5ZG93biDpg73mjqXmlLbkvJrph43lpI3lpITnkIZcbiAgICAgIC8vIOeCueWHu+S8muiBmueEpmlucHV077yMaW5wdXTlpLHnhKbkuovku7bkuI3kvJrlhpLms6HvvIzljZXni6zlpITnkIZcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2tleWRvd24nOiB7XG4gICAgICBjb25zdCBob3RrZXlzID0gW3RoaXMuS0VZUy5lbnRlciwgdGhpcy5LRVlTLnRhYl07XG4gICAgICBpZiAodGhpcy5pc0FkZEJ5U3BhY2UpIHtcbiAgICAgICAgaG90a2V5cy5wdXNoKHRoaXMuS0VZUy5zcGFjZSk7XG4gICAgICB9XG4gICAgICBpZiAoaG90a2V5cy5pbmNsdWRlcyhldmVudC5rZXlDb2RlKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0Qm94Py5zZWxlY3RJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLmFkZFN1Z2dlc3Rpb25CeUluZGV4KHRoaXMuc2VsZWN0Qm94LnNlbGVjdEluZGV4LCB0aGlzLmF2YWlsYWJsZU9wdGlvbnNbdGhpcy5zZWxlY3RCb3guc2VsZWN0SW5kZXhdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmFkZFRhZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHRoaXMuaW5wdXRFdmVudCA9IHsgZXZlbnQsIHR5cGUgfTtcbiAgICB9XG4gIH1cblxuICBhZGRTdWdnZXN0aW9uQnlJbmRleChpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAoXG4gICAgICBpbmRleCA8IDAgfHxcbiAgICAgIGluZGV4ID49IHRoaXMuYXZhaWxhYmxlT3B0aW9ucy5sZW5ndGggfHxcbiAgICAgIHRoaXMubWF4VGFncyA8PSB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoIHx8XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbXMuZmluZEluZGV4KCh7IG9wdGlvbiB9KSA9PlxuICAgICAgICB0aGlzLmNhc2VTZW5zaXRpdml0eVxuICAgICAgICAgID8gb3B0aW9uW3RoaXMuZGlzcGxheVByb3BlcnR5XSA9PT0gdmFsdWVbdGhpcy5kaXNwbGF5UHJvcGVydHldXG4gICAgICAgICAgOiBvcHRpb25bdGhpcy5kaXNwbGF5UHJvcGVydHldLnRvTG93ZXJDYXNlKCkgPT09IHZhbHVlW3RoaXMuZGlzcGxheVByb3BlcnR5XS50b0xvd2VyQ2FzZSgpXG4gICAgICApICE9PSAtMVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNhbkFkZCh2YWx1ZSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmNoZWNrTWF4VGFncyh0aGlzLmF2YWlsYWJsZU9wdGlvbnNbaW5kZXhdKTtcbiAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5zZWxlY3RlZEl0ZW1zLm1hcCgodGFnSXRlbSkgPT4gdGFnSXRlbS5vcHRpb24pKTtcbiAgICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdCh0aGlzLmF2YWlsYWJsZU9wdGlvbnNbaW5kZXhdKTtcbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25MaXN0SW5kZXggPSB0aGlzLl9zdWdnZXN0aW9uTGlzdC5maW5kSW5kZXgoKGl0ZW0pID0+XG4gICAgICAgIHRoaXMuY2FzZVNlbnNpdGl2aXR5XG4gICAgICAgICAgPyBpdGVtW3RoaXMuZGlzcGxheVByb3BlcnR5XSA9PT0gdmFsdWVbdGhpcy5kaXNwbGF5UHJvcGVydHldXG4gICAgICAgICAgOiBpdGVtW3RoaXMuZGlzcGxheVByb3BlcnR5XS50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZVt0aGlzLmRpc3BsYXlQcm9wZXJ0eV0udG9Mb3dlckNhc2UoKVxuICAgICAgKTtcbiAgICAgIHRoaXMuX3N1Z2dlc3Rpb25MaXN0LnNwbGljZShzdWdnZXN0aW9uTGlzdEluZGV4LCAxKTtcbiAgICAgIHRoaXMuZGVsYXlSZXNldE5ld1RhZygpO1xuICAgICAgdGhpcy5zb3VyY2VTdWJzY3JpcHRpb24ubmV4dCgnJyk7XG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVUYWcoZGF0YSkge1xuICAgIGNvbnN0IHsgaW5kZXggfSA9IGRhdGE7XG4gICAgLy8g56uL5Y2z56e76Zmk5Lya5a+86Ie0dG9nZ2xlLW1lbnUtY29udGFpbmVy5peg5rOV5Yik5patZXZlbnQudGFyZ2V05piv5ZCm5Zyo5a655Zmo5Lit77yM5LuO6ICM5YWz6Zet5LiL5ouJ6I+c5Y2VXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gb25QdXNo5LiLIOaVsOe7hOmVv+W6puWPmOWMluS4jeS8muinpuWPkeWPmOabtOajgOa1i1xuICAgICAgdGhpcy5hdmFpbGFibGVPcHRpb25zID0gWy4uLnRoaXMuYXZhaWxhYmxlT3B0aW9ucywgdGhpcy5zZWxlY3RlZEl0ZW1zW2luZGV4XT8ub3B0aW9uXTtcbiAgICAgIHRoaXMuX3N1Z2dlc3Rpb25MaXN0ID0gdGhpcy5hdmFpbGFibGVPcHRpb25zO1xuICAgICAgY29uc3QgdGFnID0gdGhpcy5zZWxlY3RlZEl0ZW1zW2luZGV4XS5vcHRpb247XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0Qm94Q29udGFpbmVyLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICB9XG4gICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMuc2VsZWN0ZWRJdGVtcy5tYXAoKHRhZ0l0ZW0pID0+IHRhZ0l0ZW0ub3B0aW9uKSk7XG4gICAgICB0aGlzLnZhbHVlQ2hhbmdlLmVtaXQodGFnKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRhZ0lzVmFsaWQoKSB7XG4gICAgY29uc3QgdGFnID0gdGhpcy5uZXdUYWc7XG4gICAgY29uc3QgdG1wID0gdGhpcy5kaXNwbGF5UHJvcGVydHk7XG4gICAgY29uc3QgcmVzdWx0ID1cbiAgICAgIHRhZyAmJlxuICAgICAgdGFnLmxlbmd0aCA+PSB0aGlzLm1pbkxlbmd0aCAmJlxuICAgICAgdGFnLmxlbmd0aCA8PSB0aGlzLm1heExlbmd0aCAmJlxuICAgICAgdGhpcy5fc3VnZ2VzdGlvbkxpc3QuZmluZEluZGV4KChpdGVtKSA9PlxuICAgICAgICB0aGlzLmNhc2VTZW5zaXRpdml0eSA/IGl0ZW1bdG1wXSA9PT0gdGFnIDogaXRlbVt0bXBdLnRvTG93ZXJDYXNlKCkgPT09IHRhZy50b0xvd2VyQ2FzZSgpXG4gICAgICApID09PSAtMSAmJlxuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zLmZpbmRJbmRleCgoeyBvcHRpb24gfSkgPT5cbiAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZpdHkgPyBvcHRpb25bdG1wXSA9PT0gdGFnIDogb3B0aW9uW3RtcF0udG9Mb3dlckNhc2UoKSA9PT0gdGFnLnRvTG93ZXJDYXNlKClcbiAgICAgICkgPT09IC0xICYmXG4gICAgICAhdGhpcy5pc0VtcHR5U3RyaW5nKHRhZyk7XG4gICAgdGhpcy5uZXdUYWdWYWxpZCA9IHRhZyA9PT0gJycgfHwgISFyZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlzRW1wdHlTdHJpbmcodGFnKSB7XG4gICAgY29uc3QgdGVtcCA9IHRhZy5tYXRjaCgvXFxzL2cpO1xuICAgIGlmICh0ZW1wKSB7XG4gICAgICByZXR1cm4gdGFnLmxlbmd0aCA9PT0gdGVtcC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBhZGRUYWcoKSB7XG4gICAgdGhpcy5jYW5BZGQoKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0ICYmIHRoaXMubWF4VGFncyA+IHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAodGhpcy50YWdJc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICAgICAgb2JqW3RoaXMuZGlzcGxheVByb3BlcnR5XSA9IHRoaXMubmV3VGFnO1xuICAgICAgICAgICAgdGhpcy5jaGVja01heFRhZ3Mob2JqKTtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5zZWxlY3RlZEl0ZW1zLm1hcCgodGFnSXRlbSkgPT4gdGFnSXRlbS5vcHRpb24pKTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdCh0aGlzLm5ld1RhZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubmV3VGFnVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHRoaXMuZGVsYXlSZXNldE5ld1RhZygpKTtcbiAgICB0aGlzLnNvdXJjZVN1YnNjcmlwdGlvbi5uZXh0KCcnKTtcbiAgfVxuXG4gIGNhbkFkZCh2YWx1ZT8pIHtcbiAgICBsZXQgY2hlY2tSZXN1bHQgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgaWYgKHRoaXMuY2hlY2tCZWZvcmVBZGQpIHtcbiAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gdGhpcy5jaGVja0JlZm9yZUFkZCh2YWx1ZSB8fCB0aGlzLm5ld1RhZyk7XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHJlc3VsdC50aGVuKSB7XG4gICAgICAgICAgY2hlY2tSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN1YnNjcmliZSkge1xuICAgICAgICAgIGNoZWNrUmVzdWx0ID0gKHJlc3VsdCBhcyBPYnNlcnZhYmxlPGJvb2xlYW4+KS50b1Byb21pc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGVja1Jlc3VsdCA9IFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGVja1Jlc3VsdDtcbiAgfVxuXG4gIGNoZWNrTWF4VGFncyh0YWcpIHtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbXMucHVzaCh7IGlkOiB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoLCBvcHRpb246IHRhZyB9KTtcbiAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA+PSB0aGlzLm1heFRhZ3MpIHtcbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2V0VmFsdWUoeyBvcHRpb24sIGluZGV4IH0pIHtcbiAgICB0aGlzLmFkZFN1Z2dlc3Rpb25CeUluZGV4KGluZGV4LCBvcHRpb24pO1xuICB9XG5cbiAgc2VhcmNoSW5wdXRWYWx1ZUNoYW5nZShldmVudCkge1xuICAgIGlmICh0aGlzLnNlbGVjdEJveCkge1xuICAgICAgdGhpcy5zZWxlY3RCb3guc2VsZWN0SW5kZXggPSAtMTtcbiAgICB9XG4gICAgdGhpcy5uZXdUYWcgPSAoZXZlbnQgfHwgJycpLnRyaW0oKTtcbiAgICB0aGlzLnNvdXJjZVN1YnNjcmlwdGlvbi5uZXh0KHRoaXMubmV3VGFnKTtcbiAgfVxuXG4gIHRvZ2dsZUNoYW5nZUZuKGV2ZW50KSB7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgdGhpcy5vblRvdWNoKCk7XG4gICAgfVxuICAgIHRoaXMuaXNPcGVuID0gZXZlbnQ7XG4gIH1cblxuICBkZWxheVJlc2V0TmV3VGFnKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8g5pS+5ZyodGltZW91dOmHjOaYr+WboOS4uuWmguaenOeUqOepuuagvOa3u+WKoHRhZ++8jOS8muWvvOiHtOa3u+WKoOS5i+WQjui+k+WFpeahhumHjOacieS4quepuuagvOOAglxuICAgICAgdGhpcy5uZXdUYWcgPSAnJztcbiAgICB9LCA1MCk7XG4gIH1cbn1cbiIsIjxkaXYgI3RhZ3NJbnB1dFdyYXBwZXIgY2xhc3M9XCJkZXZ1aS10YWdzLWhvc3Qge3sgbXVsdGlsaW5lID8gJycgOiAnaW5pdC1pbmxpbmUnIH19XCIgdGFiaW5kZXg9XCItMVwiIChjbGljayk9XCJob3N0X2NsaWNrKClcIj5cbiAgPGQtdG9nZ2xlLW1lbnUtY29udGFpbmVyXG4gICAgW2lzT3Blbl09XCJpc09wZW5cIlxuICAgIFthcHBlbmRUb0JvZHldPVwiYXBwZW5kVG9Cb2R5XCJcbiAgICBbc2VsZWN0V3JhcHBlcl09XCJ0YWdzSW5wdXRXcmFwcGVySXRlbVwiXG4gICAgW2Rpc2FibGVkXT1cImRpc2FibGVkIHx8IHNlbGVjdGVkSXRlbXM/Lmxlbmd0aCA+PSBtYXhUYWdzXCJcbiAgICBbdG9nZ2xlT25Gb2N1c109XCJ0cnVlXCJcbiAgICBbc2hvd0FuaW1hdGlvbl09XCJzaG93QW5pbWF0aW9uXCJcbiAgICBbY2xvc2VTY29wZV09XCInYmxhbmsnXCJcbiAgICAocGFzc0V2ZW50KT1cInBhc3NFdmVudCgkZXZlbnQpXCJcbiAgICAodG9nZ2xlQ2hhbmdlKT1cInRvZ2dsZUNoYW5nZUZuKCRldmVudClcIlxuICA+XG4gICAgPGQtdG9nZ2xlLW1lbnUtbGFiZWxcbiAgICAgIFttdWx0aUl0ZW1zXT1cInNlbGVjdGVkSXRlbXNcIlxuICAgICAgW21vZGVdPVwiJ211bHRpcGxlLWxpbmUnXCJcbiAgICAgIFt2YWx1ZVBhcnNlcl09XCJ2YWx1ZVBhcnNlclwiXG4gICAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWRcIlxuICAgICAgW21heEhlaWdodF09XCJtYXhIZWlnaHRcIlxuICAgICAgKHJlbW92ZUNoYW5nZSk9XCJyZW1vdmVUYWcoJGV2ZW50KVwiXG4gICAgPjwvZC10b2dnbGUtbWVudS1sYWJlbD5cbiAgICA8ZC10b2dnbGUtbWVudS1zZWFyY2hcbiAgICAgICpuZ0lmPVwiIWRpc2FibGVkXCJcbiAgICAgIFtpbnB1dFZhbHVlXT1cIm5ld1RhZ1wiXG4gICAgICBbc2VhcmNoUGxhY2Vob2xkZXJdPVwiZ2V0UGxhY2VIb2xkZXJcIlxuICAgICAgW3NlYXJjaEZuXT1cInNlYXJjaEZuXCJcbiAgICAgIFtzcGVsbGNoZWNrXT1cInNwZWxsY2hlY2tcIlxuICAgICAgW2lzU2hvd1NlYXJjaEljb25dPVwiZmFsc2VcIlxuICAgICAgW2Rpc2FibGVkXT1cImRpc2FibGVkIHx8IHNlbGVjdGVkSXRlbXM/Lmxlbmd0aCA+PSBtYXhUYWdzXCJcbiAgICAgIFtpbnB1dFdpZHRoXT1cIm11bHRpbGluZSA/ICcnIDogJ2F1dG8nXCJcbiAgICAgIFtkZWxheV09XCIwXCJcbiAgICAgIChzZWFyY2hJbnB1dFZhbHVlQ2hhbmdlKT1cInNlYXJjaElucHV0VmFsdWVDaGFuZ2UoJGV2ZW50KVwiXG4gICAgPjwvZC10b2dnbGUtbWVudS1zZWFyY2g+XG4gICAgPGQtdG9nZ2xlLW1lbnUtbGlzdFxuICAgICAgW2V2ZW50SGFuZGxlXT1cImlucHV0RXZlbnRcIlxuICAgICAgW29wdGlvbnNdPVwiYXZhaWxhYmxlT3B0aW9uc1wiXG4gICAgICBbdmFsdWVdPVwic2VsZWN0ZWRJdGVtc1wiXG4gICAgICBbdmlydHVhbFNjcm9sbF09XCJ2aXJ0dWFsU2Nyb2xsXCJcbiAgICAgIFtoYXNTZWxlY3RJbmRleF09XCJ0cnVlXCJcbiAgICAgIFtpc0ZpbHRlcmluZ109XCJuZXdUYWc/Lmxlbmd0aCA+IDBcIlxuICAgICAgW2xpc3RJdGVtVGVtcGxhdGVdPVwibGlzdEl0ZW1cIlxuICAgICAgW2Nsb3NlU2NvcGVdPVwiJ2JsYW5rJ1wiXG4gICAgICAodG9nZ2xlQ2hhbmdlKT1cInRvZ2dsZUNoYW5nZUZuKCRldmVudClcIlxuICAgICAgKHZhbHVlQ2hhbmdlKT1cInNldFZhbHVlKCRldmVudClcIlxuICAgID5cbiAgICAgIDxuZy10ZW1wbGF0ZSAjbGlzdEl0ZW0gbGV0LWl0ZW09XCJpdGVtXCIgbGV0LWluZGV4PVwiaW5kZXhcIiBsZXQtc2VsZWN0SW5kZXg9XCJzZWxlY3RJbmRleFwiIGxldC1jaG9vc2U9XCJjaG9vc2VcIj5cbiAgICAgICAgPGQtdG9nZ2xlLW1lbnUtbGlzdC1pdGVtXG4gICAgICAgICAgW2l0ZW1dPVwiaXRlbVwiXG4gICAgICAgICAgW2luZGV4XT1cImluZGV4XCJcbiAgICAgICAgICBbc2VsZWN0SW5kZXhdPVwic2VsZWN0SW5kZXhcIlxuICAgICAgICAgIFtoaWdobGlnaHRUb2dnbGVdPVwiZmFsc2VcIlxuICAgICAgICAgIFtjdXN0b21UZW1wbGF0ZV09XCJpdGVtVGVtcGxhdGVcIlxuICAgICAgICAgIFtmaWx0ZXJLZXldPVwiZGlzcGxheVByb3BlcnR5XCJcbiAgICAgICAgICAoY2hvb3NlSXRlbSk9XCJjaG9vc2UoJGV2ZW50KVwiXG4gICAgICAgID48L2QtdG9nZ2xlLW1lbnUtbGlzdC1pdGVtPlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICA8L2QtdG9nZ2xlLW1lbnUtbGlzdD5cbiAgPC9kLXRvZ2dsZS1tZW51LWNvbnRhaW5lcj5cbjwvZGl2PlxuIl19