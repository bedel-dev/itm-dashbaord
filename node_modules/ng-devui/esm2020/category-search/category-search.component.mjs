import { DOCUMENT } from '@angular/common';
import { Component, ContentChildren, ElementRef, EventEmitter, Inject, Input, Output, QueryList, TemplateRef, ViewChild, ViewChildren } from '@angular/core';
import { DatepickerProCalendarComponent } from 'ng-devui/datepicker-pro';
import { I18nService } from 'ng-devui/i18n';
import { DefaultIcons } from 'ng-devui/tree-select';
import { DefaultDateConverter } from 'ng-devui/utils';
import { cloneDeep, isEqual, merge } from 'lodash-es';
import { fromEvent, Subject } from 'rxjs';
import { debounceTime, takeUntil, tap } from 'rxjs/operators';
import { ALLOWED_SEARCH_FIELD_TYPES, COLORS } from './category-search.type';
import { ContentTemplateDirective } from './content-template.directive';
import { DefaultTemplateDirective } from './default-template.directive';
import * as i0 from "@angular/core";
import * as i1 from "ng-devui/i18n";
import * as i2 from "ng-devui/dropdown";
import * as i3 from "ng-devui/button";
import * as i4 from "ng-devui/tags";
import * as i5 from "ng-devui/datepicker-pro";
import * as i6 from "ng-devui/checkbox";
import * as i7 from "ng-devui/input-number";
import * as i8 from "ng-devui/tree";
import * as i9 from "@angular/common";
import * as i10 from "@angular/forms";
import * as i11 from "ng-devui/text-input";
import * as i12 from "ng-devui/form";
import * as i13 from "./default-template.directive";
export class CategorySearchComponent {
    constructor(i18n, doc) {
        this.i18n = i18n;
        this.doc = doc;
        this.defaultSearchField = [];
        this.selectedTags = [];
        this.allowClear = true;
        this.allowSave = true;
        this.allowShowMore = false;
        this.toggleScrollToTail = false;
        this.searchKey = '';
        this.inputReadOnly = false;
        this.showSearchCategory = true; // 配置是否显示搜索相关下拉选项
        this.categoryInGroup = false; // 是否按组别显示分类下拉列表
        this.filterNameRules = [];
        this.searchEvent = new EventEmitter();
        this.selectedTagsChange = new EventEmitter();
        this.createFilterEvent = new EventEmitter();
        this.clearAllEvent = new EventEmitter();
        this.searchKeyChange = new EventEmitter();
        this.currentSelectTag = undefined;
        this.filterName = '';
        this.treeSearchKey = '';
        this.searchKeyCache = '';
        this.enterSearch = false;
        this.isShowSavePanel = false;
        this.isSearchCategory = false;
        this.isHover = false;
        this.isFocus = false;
        this.noRecord = false;
        this.showNoDataTips = false;
        this.icons = DefaultIcons;
        this.destroy$ = new Subject();
        this.scrollToTailFlag = true; // 是否在更新标签内容后滚动至输入框的开关
        this.DROPDOWN_ANIMATION_TIMEOUT = 200; // 下拉动画延迟
        this.DELAY = 300; // 防抖延迟
        this.templates = {}; // 所有类型默认模板
        this.customTemplates = {}; // 按field标记的自定义模板集合
        this.joinLabelTypes = ['checkbox', 'label'];
        this.valueIsArrayTypes = ['numberRange', 'treeSelect'];
        this.document = this.doc;
        this.dateConverter = new DefaultDateConverter();
        this.id = CategorySearchComponent.ID_SEED++;
        this.setI18nText();
        this.showSearchConfig = {
            keyword: true,
            keywordDescription: this.i18nCategorySearchText.getSearchMessage,
            field: true,
            fieldDescription: this.i18nCategorySearchText.getFindingMessage,
            category: true,
            categoryDescription: this.i18nCategorySearchText.selectFilterCondition,
        };
    }
    get showFilterNameClear() {
        return typeof this.filterName === 'string' && this.filterName.length > 0;
    }
    ngOnChanges(changes) {
        if (changes['defaultSearchField'] || changes['category'] || changes['selectedTags']) {
            this.init();
        }
        if (changes['searchKey']) {
            this.setSearchKeyTag();
        }
        if (changes['showSearchCategory']) {
            this.setSearchShow();
        }
        if (changes['tagMaxWidth']) {
            this.setTagsMaxWidth();
        }
    }
    ngAfterViewInit() {
        // 获取所有默认模板，规避脏检查添加延时
        setTimeout(() => this.defaultTemplates.forEach((item) => {
            this.templates[item.type] = item.template;
        }));
        if (this.scrollBarContainer && this.inputEle) {
            // 初始化如果有滚动条直接位移至输入框
            this.scrollToTail(true);
            // 监听滚动事件，在跳转至指定标签后触发其下拉列表
            fromEvent(this.scrollBarContainer.nativeElement, 'scroll')
                .pipe(takeUntil(this.destroy$), tap(() => {
                // 指定标签在可视范围则展开下拉，不在可视范围，即触发滚动后清除定时的展开下拉动作
                if (this.scrollTimeout) {
                    clearTimeout(this.scrollTimeout);
                    this.scrollTimeout = undefined;
                }
                // TODO: 无法区分手动和自动滚动，待处理滚动时关闭已打开的下拉
            }), 
            // 300毫秒内不再触发滚动事件则展开下拉列表
            debounceTime(this.DELAY))
                .subscribe((event) => this.openCurrentScrollTagMenu(event));
        }
    }
    ngAfterContentInit() {
        this.setCustomTemplate(this.contentTemplates);
        this.contentTemplates.changes.subscribe((data) => this.setCustomTemplate(data));
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    setCustomTemplate(data) {
        if (data?.length && this.category) {
            this.customTemplates = {};
            data.forEach((item) => {
                this.customTemplates[item.field] = item.template;
            });
            this.category.forEach((tag) => {
                tag.customTemplate = this.customTemplates[tag.field];
            });
            this.selectedTags.forEach((tag) => {
                tag.customTemplate = this.customTemplates[tag.field];
            });
        }
    }
    setI18nText() {
        this.i18nCommonText = this.i18n.getI18nText().common;
        this.i18nCategorySearchText = this.i18n.getI18nText().categorySearch;
        this.i18n
            .langChange()
            .pipe(takeUntil(this.destroy$))
            .subscribe((data) => {
            this.i18nCommonText = data.common;
            this.i18nCategorySearchText = data.categorySearch;
            // 关键字分类内文本不能随语言对象变化，需重新赋值
            const [keyword] = this.selectedTags.filter((item) => item.field === 'devuiCategorySearchKeyword');
            if (keyword) {
                keyword.label = this.i18nCategorySearchText['keyword'];
                keyword.title = `${keyword.label}:${keyword.value?.label}`;
            }
        });
    }
    // 插入tag max-width 样式控制是否显示省略号
    setTagsMaxWidth() {
        if (this.tagMaxWidth) {
            const rule = `.devui-category-search-id-${this.id} .devui-tag-container d-tag>.devui-tag-item>span{max-width:${this.tagMaxWidth}px}`;
            const style = this.document.createElement('style');
            style.innerText = rule;
            this.document.head.appendChild(style);
        }
    }
    setSearchShow() {
        const customConfig = typeof this.showSearchCategory === 'boolean'
            ? {
                keyword: this.showSearchCategory,
                field: this.showSearchCategory,
                category: this.showSearchCategory,
            }
            : this.showSearchCategory;
        this.showSearchConfig = { ...this.showSearchConfig, ...customConfig };
    }
    setSearchKeyTag() {
        const result = this.selectedTags.filter((item) => item.field !== 'devuiCategorySearchKeyword');
        if (this.searchKey && !this.currentSelectTag) {
            const label = this.i18nCategorySearchText['keyword'];
            const searchKeyTag = {
                options: [],
                field: 'devuiCategorySearchKeyword',
                label: label,
                type: 'keyword',
                title: `${label}:${this.searchKey}`,
                value: {
                    label: this.searchKey,
                    value: this.searchKey,
                    cache: this.searchKey,
                },
            };
            this.updateSelectedTags(searchKeyTag, true, result);
            this.searchKeyCache = this.searchKey;
        }
        this.searchKey = '';
        setTimeout(() => {
            this.enterSearch = false;
        }, this.DELAY);
        return result;
    }
    init() {
        this.setValue(this.category);
        this.setValue(this.selectedTags, true);
        this.initCategoryDisplay();
        if (this.defaultSearchField && this.defaultSearchField.length) {
            this.searchField = this.category.filter((item) => this.defaultSearchField.includes(item.field) && ALLOWED_SEARCH_FIELD_TYPES.includes(item.type));
        }
        // 初始化时判断已选中分类中最后一项是否赋值，未赋值则识别为正在处理的分类，优先显示赋值下拉列表
        if (this.selectedTags.length) {
            const [lastItem] = this.selectedTags.slice(-1);
            const isNull = lastItem.value[lastItem.filterKey || 'label'] === undefined;
            this.currentSelectTag = isNull && (lastItem.value.value === undefined || lastItem.value.value === []) ? lastItem : undefined;
        }
    }
    // 初始化tag的value属性：{filterKey | label, value, data}
    initCategoryItem(item) {
        const preValue = this.valueIsArrayTypes.includes(item.type) ? { value: [] } : { value: undefined };
        preValue[item.filterKey || 'label'] = undefined;
        if (item.value) {
            for (const prop in preValue) {
                if (item.value[prop] === undefined) {
                    item.value[prop] = preValue[prop];
                }
            }
        }
        else {
            item.value = preValue;
        }
        item.value.cache = (item.value.value && typeof item.value.value === 'object' && cloneDeep(item.value.value)) || item.value.value;
        if (item.type === 'treeSelect' && item.options && item.options.length) {
            item.value.options = cloneDeep(item.options);
        }
        item.customTemplate = this.customTemplates[item.field] || item.customTemplate;
        return item;
    }
    setValue(data, isSelectedTags = false) {
        if (Array.isArray(data) && data.length) {
            data.forEach((item) => {
                if (isSelectedTags) {
                    let result = '';
                    const originItem = this.category.find((categoryItem) => categoryItem.field === item.field);
                    merge(item, originItem);
                    if (item.value.value) {
                        item.value.cache = cloneDeep(item.value.value);
                        result = this.joinLabelTypes.includes(item.type) ? this.getItemValue(item.value.value, item.filterKey || 'label') : '';
                    }
                    item.title = this.setTitle(item, item.type, result);
                }
                else {
                    item = this.initCategoryItem(item);
                }
            });
        }
    }
    setTitle(tag, type, result) {
        return this.joinLabelTypes.includes(type)
            ? `${tag.label}: ${result || ''}`
            : `${tag.label}: ${result || (tag.value && tag.value[tag.filterKey || 'label']) || ''}`;
    }
    initCategoryDisplay() {
        const selectedTagsField = this.selectedTags.map((item) => item.field);
        if (this.categoryInGroup) {
            const groupObj = {};
            this.category.forEach((item) => this.insertCategoryToGroup(item.group, groupObj, item, selectedTagsField.indexOf(item.field) === -1));
            const keys = this.groupOrderConfig || Object.keys(groupObj);
            this.categoryDisplay = [];
            keys.forEach((key) => {
                if (groupObj[key]) {
                    const groupItem = {};
                    groupItem.groupName = key;
                    groupItem.groupLength = groupObj[key].length;
                    this.categoryDisplay.push(groupItem, ...groupObj[key]);
                }
            });
        }
        else {
            this.categoryDisplay =
                selectedTagsField && selectedTagsField.length
                    ? this.category.filter((item) => selectedTagsField.indexOf(item.field) === -1)
                    : this.category;
        }
    }
    insertCategoryToGroup(groupName, groupObj, item, isInsert) {
        if (!groupName) {
            return;
        }
        groupObj[groupName] = groupObj[groupName] || [];
        if (isInsert) {
            groupObj[groupName].push(item);
        }
    }
    search() {
        const result = this.setSearchKeyTag();
        this.searchEvent.emit({ selectedTags: result, searchKey: this.searchKeyCache });
        this.isFocus = true;
    }
    searchCategory(item) {
        const validField = item;
        this.updateFieldValue(validField, this.searchKey);
        this.updateSelectedTags(validField);
        this.searchKey = '';
        this.enterSearch = false;
        this.finishChoose();
    }
    searchInputValue(event) {
        event.preventDefault();
        event.stopPropagation();
        const result = this.setSearchKeyTag();
        this.searchEvent.emit({ selectedTags: result, searchKey: this.searchKeyCache });
    }
    chooseCategory(item, inputDropdown) {
        // 点选分组名称不处理
        if (item.groupLength !== undefined) {
            return;
        }
        setTimeout(() => {
            this.currentSelectTag = item;
            if (this.currentSelectTag.type === 'label') {
                this.currentSelectTag = this.mergeToLabel(this.currentSelectTag);
            }
            inputDropdown.isOpen = true;
        }, this.DROPDOWN_ANIMATION_TIMEOUT);
        this.updateSelectedTags(item, false);
    }
    updateSelectedTags(tag, valueChanged = true, result) {
        this.canChange(tag, 'add').then((val) => {
            if (!val) {
                return;
            }
            const index = this.selectedTags.map((item) => item.field).indexOf(tag.field);
            if (index > -1) {
                if (!tag.value.value) {
                    // 通过输入选择分类时避免空值覆盖已选值
                    merge(tag, this.selectedTags[index]);
                }
                this.selectedTags[index] = tag;
            }
            else {
                this.selectedTags.push(tag);
            }
            this.resolveCategoryDisplay(tag, 'delete');
            if (valueChanged) {
                // 只在新增标签时位移滚动条
                if (this.scrollToTailFlag) {
                    setTimeout(() => this.scrollToTail());
                }
                this.selectedTagsChange.emit({ selectedTags: result || this.selectedTags, currentChangeTag: tag, operation: 'add' });
                this.isSearchCategory = false;
            }
        });
    }
    // 判断滚动条是否存在，如果存在自动滚动到末尾的输入框
    scrollToTail(isInit) {
        const dom = this.scrollBarContainer.nativeElement;
        if (this.toggleScrollToTail && dom.scrollWidth > dom.clientWidth) {
            if (isInit) {
                dom.scrollLeft = dom.scrollWidth - dom.clientWidth;
            }
            else {
                this.inputEle.nativeElement.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'nearest' });
            }
        }
        else if (!isInit) {
            // 初始化不聚焦，避免展开下拉
            this.inputEle.nativeElement.focus();
        }
    }
    // 滚动至指定的tag
    scrollToTag(index, event) {
        const tags = this.scrollBarContainer?.nativeElement.querySelectorAll('ul.devui-category-search-line>li');
        if (tags[index]) {
            this.currentScrollTagIndex = index;
            tags[index].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'nearest' });
            this.scrollTimeout = setTimeout(() => this.openCurrentScrollTagMenu(event), this.DELAY);
        }
    }
    openCurrentScrollTagMenu(event) {
        if (this.currentScrollTagIndex !== undefined) {
            const dropdownArr = this.selectedDropdownList.toArray();
            this.openMenu(dropdownArr[this.currentScrollTagIndex], event);
            this.currentScrollTagIndex = undefined;
        }
    }
    updateFieldValue(field, value) {
        const result = {};
        const filterKey = field.filterKey || 'label';
        const colorKey = field.colorKey || 'color';
        result[filterKey] = value;
        if (field.type === 'radio') {
            field.value.value = value;
            field.title = this.setTitle(field, 'radio', value);
        }
        if (field.type === 'label') {
            if (!field.options[0]?.$label) {
                this.mergeToLabel(field);
            }
            result[colorKey] = COLORS[Math.floor(COLORS.length * Math.random())];
            result['$label'] = `${value}_${result[colorKey]}`;
        }
        if (['label', 'checkbox'].includes(field.type)) {
            field.value.value = [result];
            // setTitle中checkbox与label同样处理，不需要针对label修改类型参数
            field.title = this.setTitle(field, 'checkbox', value);
        }
        field.value[filterKey] = value;
        field.value.cache = cloneDeep(field.value.value);
    }
    removeTag(tag, event) {
        this.canChange(tag, 'delete').then((val) => {
            if (!val) {
                if (this.beforeTagChange && event) {
                    event.stopPropagation();
                }
                return;
            }
            tag = this.resetValue(tag);
            this.selectedTags = this.selectedTags.filter((item) => item.field !== tag.field);
            if (tag.type !== 'keyword') {
                this.selectedTagsChange.emit({ selectedTags: this.selectedTags, currentChangeTag: tag, operation: 'delete' });
                this.resolveCategoryDisplay(tag, 'add');
            }
            else {
                this.searchKey = this.searchKey === this.searchKeyCache ? '' : this.searchKey;
                this.searchKeyCache = '';
                this.searchEvent.emit({ selectedTags: this.selectedTags, searchKey: '' });
            }
            this.currentSelectTag = undefined;
        });
    }
    checkInputSearching() {
        this.isFocus = true;
        if (this.searchKey === '') {
            this.enterSearch = false;
        }
        else {
            this.enterSearch = true;
        }
    }
    // 解决dropdownMenu展开时焦点会自动到toggle上的问题
    focusInput() {
        setTimeout(() => {
            this.inputEle.nativeElement.focus();
        });
    }
    // 失焦时关闭当前下拉列表，延时用以防止关闭掉点击分类展开的内容列表
    blurInput() {
        setTimeout(() => {
            if (!this.currentSelectTag && this.currentOpenDropdown) {
                this.currentOpenDropdown.isOpen = false;
            }
        }, this.DELAY);
    }
    openMenu(inputDropdown, event) {
        if (inputDropdown.isOpen || (event.type === 'keyup' && (event.code === 'Enter' || event.code === 'Backspace'))) {
            return;
        }
        setTimeout(() => {
            if (!inputDropdown.isOpen) {
                inputDropdown.toggle();
            }
        });
    }
    closeMenu(inputDropdown) {
        if (inputDropdown.isOpen) {
            inputDropdown.toggle();
        }
    }
    backspaceEvent(inputDropdown) {
        if (this.searchKey) {
            return;
        }
        if (this.currentSelectTag) {
            this.currentSelectTag = undefined;
            this.closeMenu(inputDropdown);
            return;
        }
        this.canChange(this.selectedTags[this.selectedTags.length - 1], 'delete').then((val) => {
            if (!val) {
                return;
            }
            const changeTag = this.selectedTags.pop();
            this.resolveCategoryDisplay(changeTag, 'add');
            if (changeTag) {
                this.selectedTagsChange.emit({ selectedTags: this.selectedTags, currentChangeTag: changeTag, operation: 'delete' });
            }
        });
        this.closeMenu(inputDropdown);
    }
    canChange(tag, operation) {
        let changeResult = Promise.resolve(true);
        if (this.beforeTagChange) {
            const result = this.beforeTagChange(tag, this.searchKey, operation);
            if (typeof result !== 'undefined') {
                if (result.then) {
                    changeResult = result;
                }
                else if (result.subscribe) {
                    changeResult = result.toPromise();
                }
                else {
                    changeResult = Promise.resolve(result);
                }
            }
        }
        return changeResult;
    }
    finishChoose() {
        this.currentSelectTag = undefined;
        this.inputEle.nativeElement.focus();
    }
    clearFilter(event) {
        if (this.selectedTags.length) {
            this.selectedTags.forEach((item) => this.resetValue(item));
            this.selectedTags = [];
        }
        if (this.searchKey || this.searchKeyCache) {
            this.searchKey = '';
            this.searchKeyCache = '';
        }
        if (this.currentSelectTag) {
            this.currentSelectTag = undefined;
        }
        this.selectedTagsChange.emit({ selectedTags: [], currentChangeTag: undefined, operation: 'clear' });
        this.clearAllEvent.emit(event);
        this.initCategoryDisplay();
    }
    resolveCategoryDisplay(tag, type) {
        if (tag && type === 'add') {
            if (this.categoryInGroup) {
                const groupIndex = this.categoryDisplay.findIndex((item) => item.groupName === tag.group);
                this.categoryDisplay[groupIndex].groupLength++;
                this.categoryDisplay.splice(groupIndex + 1, 0, tag);
            }
            else {
                this.categoryDisplay.push(tag);
            }
        }
        if (type === 'delete') {
            if (this.categoryInGroup) {
                const tagIndex = this.categoryDisplay.findIndex((item) => item.field === tag.field);
                if (tagIndex >= 0) {
                    const groupIndex = this.categoryDisplay.findIndex((item) => item.groupName === tag.group);
                    this.categoryDisplay[groupIndex].groupLength--;
                    this.categoryDisplay.splice(tagIndex, 1);
                }
            }
            else {
                this.categoryDisplay = this.categoryDisplay.filter((item) => item.field !== tag.field);
            }
        }
    }
    createFilterFn() {
        this.createFilterEvent.emit({ name: this.filterName, selectedTags: this.selectedTags, keyword: this.searchKey });
        this.filterName = '';
    }
    createFilterInputAutoFocus(dropdown, inputElm, filterNameForm) {
        if (dropdown.isOpen) {
            filterNameForm.form.reset();
            setTimeout(() => inputElm.focus());
        }
    }
    searchKeyChangeEvent(event) {
        this.enterSearch = !!event;
        this.currentSearchCategory = this.category.filter((item) => item['label'].toLowerCase().includes(event.toLowerCase()));
        this.searchKeyChange.emit(event);
    }
    checkType(value) {
        return value && value.type === 'radio' ? 'all' : 'blank';
    }
    resetValue(tag) {
        tag.value = this.valueIsArrayTypes.includes(tag.type) ? { value: [] } : { value: undefined };
        tag.value[tag.filterKey || 'label'] = undefined;
        return tag;
    }
    afterDropdownClosed() {
        setTimeout(() => {
            this.currentSelectTag = undefined;
        }, this.DROPDOWN_ANIMATION_TIMEOUT + 100);
    }
    /* 各类型模板调用方法 */
    // radio 单选 处理选中项方法
    chooseItem(tag, chooseItem) {
        this.afterDropdownClosed();
        tag.value = cloneDeep(chooseItem);
        tag.value.cache = tag.value.value;
        tag.title = this.setTitle(tag, 'radio');
        this.updateSelectedTags(tag);
    }
    confirmDate(tag) {
        this.afterDropdownClosed();
        tag.value.cache = cloneDeep(tag.value.value);
        tag.value[tag.filterKey || 'label'] = tag.showTime
            ? this.dateConverter.formatDateTime(tag.value.value[0]) + ' - ' + this.dateConverter.formatDateTime(tag.value.value[1])
            : this.dateConverter.format(tag.value.value[0]) + ' - ' + this.dateConverter.format(tag.value.value[1]);
        tag.title = this.setTitle(tag, 'dateRange');
        this.updateSelectedTags(tag);
    }
    dateValueChange(tag, datepickerpro) {
        if (datepickerpro.dateValue.length) {
            const index = datepickerpro.currentActiveInput === 'start' ? 0 : 1;
            if (tag.value.value && !datepickerpro.dateValue.includes('')) {
                tag.value.value[index] = datepickerpro.curActiveDate;
                tag.value.value = [...tag.value.value];
            }
            else {
                tag.value.value = [datepickerpro.curActiveDate];
            }
        }
        else {
            tag.value.value = [];
        }
    }
    // checkbox | label 多选 处理选中项方法
    chooseItems(tag) {
        this.afterDropdownClosed();
        const result = this.getItemValue(tag.value.value, tag.filterKey || 'label');
        if (result) {
            tag.title = this.setTitle(tag, 'checkbox', result);
            tag.value[tag.filterKey || 'label'] = result;
            tag.value.cache = cloneDeep(tag.value.value);
            this.updateSelectedTags(tag);
        }
        else {
            this.removeTag(tag);
        }
    }
    // checkbox | label 将选中项对应filterKey的值合并的方法，当前多选已通过data展示，可考虑移除
    getItemValue(value, key) {
        if (value && Array.isArray(value)) {
            const result = value.map((item) => item[key]);
            return result.join(',');
        }
    }
    // checkbox | label 当下拉菜单展开重置多选的选中状态
    resetContent(dropdown, tag) {
        if (this.toggleEvent) {
            this.toggleEvent(dropdown, tag, this.currentSelectTag);
        }
        if (dropdown.isOpen) {
            this.currentOpenDropdown = dropdown;
            if (tag?.type === 'keyword') {
                this.searchKey = this.searchKeyCache;
                this.inputEle.nativeElement.focus();
                dropdown.isOpen = false;
            }
        }
        else {
            this.clearCurrentSelectTagFromSearch();
            this.currentOpenDropdown = undefined;
            this.showNoDataTips = false;
            return;
        }
        if (tag) {
            this.scrollToTailFlag = false;
            if (!isEqual(tag.value.value, tag.value.cache)) {
                tag.value.value = cloneDeep(tag.value.cache);
                this.handleAccordingType(tag.type, tag.value.options);
            }
        }
        else if (this.currentSelectTag) {
            this.currentSelectTag.value.value = this.valueIsArrayTypes.includes(this.currentSelectTag.type) ? [] : undefined;
            this.handleAccordingType(this.currentSelectTag.type, this.currentSelectTag.options);
            this.scrollToTailFlag = true;
        }
        this.showNoDataTips = this.categoryDisplay.length === 0 || !this.categoryDisplay.some((item) => item && item.groupLength === undefined);
    }
    showCurrentSearchCategory(item, inputDropdown) {
        this.isSearchCategory = true;
        this.clearSearchKey();
        this.closeMenu(inputDropdown);
        this.chooseCategory(item, inputDropdown);
        setTimeout(() => this.checkInputSearching(), this.DELAY);
    }
    clearCurrentSelectTagFromSearch() {
        if (this.currentSelectTag) {
            if (this.isSearchCategory) {
                this.isSearchCategory = false;
                setTimeout(() => this.finishChoose(), this.DELAY);
            }
        }
    }
    handleAccordingType(type, options) {
        switch (type) {
            case 'treeSelect':
                options = cloneDeep(options);
                break;
            case 'textInput':
                setTimeout(() => {
                    const inputDom = this.document.querySelector('.devui-category-search-type-text-input');
                    if (inputDom) {
                        inputDom.focus();
                    }
                }, this.DROPDOWN_ANIMATION_TIMEOUT);
                break;
            default:
        }
    }
    // label 合并名称和颜色字段赋给tag，待[tag]支持传入对象后可移除
    mergeToLabel(obj) {
        if (obj && obj.options && Array.isArray(obj.options)) {
            obj.options.map((item) => {
                item.$label = `${item[obj.filterKey || 'label']}_${item[obj.colorKey || 'color']}`;
            });
        }
        return obj;
    }
    // label 拆分名称和颜色用于下拉选项显示
    splitLabel(key, value) {
        // 初始化选中类别生成标签时，value为label的对象，不需要对值进行操作
        if (typeof value !== 'string') {
            return;
        }
        const res = value && value.split('_');
        const obj = res && { label: res[0], color: res[1] };
        return obj && obj[key];
    }
    // textInput 文本输入框 处理选中项方法
    getTextInputValue(tag) {
        this.afterDropdownClosed();
        tag.value[tag.filterKey || 'label'] = tag.value.cache = tag.value.value;
        tag.title = this.setTitle(tag, 'textInput');
        this.updateSelectedTags(tag);
    }
    // numberRange 数字范围 处理选中项方法
    getNumberRangeValue(tag) {
        this.afterDropdownClosed();
        const startNum = tag.value.value[0] || 0;
        const endNum = tag.value.value[1] || 0;
        tag.value.value = [startNum, endNum];
        tag.value.cache = [startNum, endNum];
        tag.value[tag.filterKey || 'label'] = `${startNum} - ${endNum}`;
        tag.title = this.setTitle(tag, 'numberRange');
        this.updateSelectedTags(tag);
    }
    // treeSelect 树 处理选中项方法
    getTreeValue(tag, tree) {
        this.afterDropdownClosed();
        const result = [];
        const selectedIds = [];
        tag.value.value.forEach((item) => {
            result.push(item[tag.filterKey || tag.treeNodeTitleKey || 'title']);
            selectedIds.push(item[tag.treeNodeIdKey || 'id']);
        });
        if (result.length) {
            tag.value.options = cloneDeep(tag.options);
            tag.value.cache = cloneDeep(tag.value.value);
            tag.value[tag.filterKey || 'label'] = result.join(',');
            tag.title = this.setTitle(tag, 'treeSelect');
            if (tag.multiple) {
                const halfCheckedIds = [];
                tree.nodes.forEach((item) => item.data.halfChecked && halfCheckedIds.push(item.id));
                this.updateTreeData(tag, tag.value.options, selectedIds, halfCheckedIds);
            }
            this.updateSelectedTags(tag);
        }
        else {
            this.removeTag(tag);
        }
    }
    updateTreeData(tag, data, selectedIds, halfCheckedIds) {
        data.forEach((item) => {
            const itemId = item[tag.treeNodeIdKey || 'id'];
            const childData = item[tag.treeNodeChildrenKey || 'children'];
            item.isChecked = selectedIds.includes(itemId);
            item.halfChecked = halfCheckedIds.includes(itemId);
            if (childData && childData.length) {
                this.updateTreeData(tag, childData, selectedIds, halfCheckedIds);
            }
        });
    }
    onOperableNodeChecked(selectedNodes, tag) {
        const selectedValueExtractor = (nodes) => {
            return tag.leafOnly
                ? nodes.filter((node) => !node.data.isParent).map((node) => node.data.originItem)
                : nodes.map((node) => node.data.originItem);
        };
        if (tag.multiple) {
            tag.value.value = selectedValueExtractor(selectedNodes);
        }
    }
    onOperableNodeSelected(selectedNode, tag, tree) {
        if (tag.multiple || (tag.leafOnly && selectedNode.data.isParent)) {
            return;
        }
        if (selectedNode.data.isActive) {
            tag.value.value = [selectedNode.data.originItem];
            this.getTreeValue(tag, tree);
        }
        else {
            selectedNode.data.isActive = true;
        }
    }
    treeSearch(tree, value) {
        tree.operableTree.treeFactory.searchTree(value, true);
    }
    clearSearchKey() {
        this.searchKey = '';
    }
}
CategorySearchComponent.ID_SEED = 0;
CategorySearchComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: CategorySearchComponent, deps: [{ token: i1.I18nService }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Component });
CategorySearchComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: CategorySearchComponent, selector: "d-category-search", inputs: { category: "category", defaultSearchField: "defaultSearchField", selectedTags: "selectedTags", allowClear: "allowClear", allowSave: "allowSave", allowShowMore: "allowShowMore", toggleScrollToTail: "toggleScrollToTail", searchKey: "searchKey", placeholderText: "placeholderText", inputReadOnly: "inputReadOnly", showSearchCategory: "showSearchCategory", categoryInGroup: "categoryInGroup", groupOrderConfig: "groupOrderConfig", customGroupNameTemplate: "customGroupNameTemplate", tagMaxWidth: "tagMaxWidth", filterNameRules: "filterNameRules", beforeTagChange: "beforeTagChange", toggleEvent: "toggleEvent" }, outputs: { searchEvent: "searchEvent", selectedTagsChange: "selectedTagsChange", createFilterEvent: "createFilterEvent", clearAllEvent: "clearAllEvent", searchKeyChange: "searchKeyChange" }, queries: [{ propertyName: "contentTemplates", predicate: ContentTemplateDirective }], viewQueries: [{ propertyName: "inputEle", first: true, predicate: ["InputEle"], descendants: true }, { propertyName: "scrollBarContainer", first: true, predicate: ["ScrollBarContainer"], descendants: true }, { propertyName: "primeContainer", first: true, predicate: ["PrimeContainer"], descendants: true }, { propertyName: "selectedDropdownList", predicate: ["selectedDropdown"], descendants: true }, { propertyName: "datePickerElements", predicate: DatepickerProCalendarComponent, descendants: true, read: ElementRef }, { propertyName: "defaultTemplates", predicate: DefaultTemplateDirective, descendants: true }], usesOnChanges: true, ngImport: i0, template: "<div\n  #PrimeContainer\n  class=\"devui-category-search-container devui-category-search-id-{{ id }}\"\n  [ngClass]=\"{ 'container-hover': isHover && !isFocus }\"\n  (mouseenter)=\"isHover = true\"\n  (mouseleave)=\"isHover = false\"\n>\n  <div class=\"devui-category-search-icon\" (click)=\"search()\">\n    <svg\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      class=\"svg-icon-search\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M7,0 C10.8659932,0 14,3.13400675 14,7 C14,8.57190212 13.4818819,10.0227913 12.6071076,11.1912056 L15.7071068,14.2928932 C16.0976311,14.6834175 16.0976311,15.3165825 15.7071068,15.7071068 C15.3466228,16.0675907 14.7793918,16.0953203 14.3871006,15.7902954 L14.2928932,15.7071068 L11.1912056,12.6071076 C10.0227913,13.4818819 8.57190212,14 7,14 C3.13400675,14 5.5067062e-14,10.8659932 5.5067062e-14,7 C5.5067062e-14,3.13400675 3.13400675,0 7,0 Z M7,2 C4.23857625,2 2,4.23857625 2,7 C2,9.76142375 4.23857625,12 7,12 C9.76142375,12 12,9.76142375 12,7 C12,4.23857625 9.76142375,2 7,2 Z\"\n          id=\"\uFFFD\uFFFD\u0532\uFFFD\uFFFD\"\n          fill=\"#71757F\"\n        ></path>\n      </g>\n    </svg>\n  </div>\n  <div #ScrollBarContainer class=\"devui-category-search-line-container\">\n    <ul class=\"devui-category-search-line\">\n      <li\n        class=\"devui-tag-item\"\n        *ngFor=\"let item of selectedTags\"\n        #selectedDropdown=\"d-dropdown\"\n        [ngStyle]=\"{ width: tagMaxWidth || '' }\"\n        dDropDown\n        appendToBody\n        dDropDownToggle\n        [appendToBodyDirections]=\"['rightDown', 'rightUp', 'leftDown', 'leftUp']\"\n        [closeScope]=\"checkType(item)\"\n        (toggleEvent)=\"resetContent(selectedDropdown, item)\"\n      >\n        <ng-template [ngTemplateOutlet]=\"joinLabelTypesTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n        <div dDropDownMenu class=\"devui-dropdown-menu devui-dropdown-menu-fix\" [ngClass]=\"{ 'max-height': item.type !== 'treeSelect' }\">\n          <ng-template\n            [ngTemplateOutlet]=\"item.customTemplate || templates[item.type]\"\n            [ngTemplateOutletContext]=\"{ tagOption: item, dropdown: selectedDropdown, isSelected: true }\"\n          ></ng-template>\n        </div>\n      </li>\n      <div class=\"devui-category-search-input\">\n        <div\n          class=\"devui-input-container\"\n          #inputDropdown=\"d-dropdown\"\n          dDropDown\n          appendToBody\n          [trigger]=\"'manually'\"\n          [appendToBodyDirections]=\"['rightDown', 'rightUp', 'leftDown', 'leftUp']\"\n          [closeScope]=\"checkType(currentSelectTag)\"\n          (toggleEvent)=\"resetContent(inputDropdown)\"\n        >\n          <div style=\"width: 100%\">\n            <input\n              class=\"devui-category-search-toggle\"\n              autocomplete=\"off\"\n              #InputEle\n              dDropDownToggle\n              dTextInput\n              [readOnly]=\"inputReadOnly\"\n              [placeholder]=\"placeholderText || i18nCategorySearchText?.searchPlaceholder || ''\"\n              [(ngModel)]=\"searchKey\"\n              (ngModelChange)=\"searchKeyChangeEvent($event)\"\n              (click)=\"openMenu(inputDropdown, $event)\"\n              (keyup)=\"checkInputSearching(); openMenu(inputDropdown, $event)\"\n              (keydown.backspace)=\"backspaceEvent(inputDropdown)\"\n              (keydown.enter)=\"searchInputValue($event); closeMenu(inputDropdown)\"\n              (focus)=\"isHover = false; isFocus = true\"\n              (blur)=\"isFocus = false; blurInput()\"\n            />\n          </div>\n          <div\n            *ngIf=\"!enterSearch || (enterSearch && showSearchCategory)\"\n            dDropDownMenu\n            class=\"devui-dropdown-menu devui-dropdown-menu-fix\"\n            [ngClass]=\"{ 'max-height': currentSelectTag?.type !== 'treeSelect' }\"\n          >\n            <ul *ngIf=\"!currentSelectTag\" class=\"devui-dropdown-menu-template devui-scrollbar\">\n              <ng-container *ngIf=\"!enterSearch && !currentSelectTag\">\n                <ng-container *ngFor=\"let item of categoryDisplay\">\n                  <li *ngIf=\"item.groupLength\" class=\"devui-dropdown-item devui-category-search-group\">\n                    <ng-template\n                      [ngTemplateOutlet]=\"customGroupNameTemplate || defaultGroupNameTemplate\"\n                      [ngTemplateOutletContext]=\"{ tag: item }\"\n                    ></ng-template>\n                  </li>\n                  <li\n                    *ngIf=\"item.groupLength === undefined\"\n                    class=\"devui-dropdown-item\"\n                    (click)=\"chooseCategory(item, inputDropdown); closeMenu(inputDropdown)\"\n                  >\n                    <span title=\"{{ item?.label }}\">{{ item?.label }}</span>\n                  </li>\n                </ng-container>\n                <div class=\"devui-no-data-text\" *ngIf=\"showNoDataTips\">{{ i18nCategorySearchText?.noFilterConditions }}</div>\n              </ng-container>\n              <ng-container *ngIf=\"enterSearch\">\n                <li\n                  *ngIf=\"showSearchConfig.keyword\"\n                  class=\"devui-dropdown-item devui-search-description\"\n                  (click)=\"searchInputValue($event); closeMenu(inputDropdown)\"\n                >\n                  <span class=\"icon-search\"></span>{{ showSearchConfig.keywordDescription(searchKey) }}\n                </li>\n                <ng-container *ngIf=\"showSearchConfig.field\">\n                  <li *ngFor=\"let item of searchField\" (click)=\"searchCategory(item); closeMenu(inputDropdown)\" class=\"devui-dropdown-item\">\n                    <span class=\"icon-search\"></span>{{ showSearchConfig.fieldDescription(item?.label) }}\n                  </li>\n                </ng-container>\n                <div\n                  *ngIf=\"(showSearchConfig.keyword || showSearchConfig.field) && showSearchConfig.category && currentSearchCategory?.length\"\n                  class=\"devui-dividing-line\"\n                ></div>\n                <ng-container *ngIf=\"showSearchConfig.category && currentSearchCategory?.length\">\n                  <div class=\"devui-dropdown-menu-tip\" [style.paddingBottom]=\"currentSearchCategory.length ? '0' : '12px'\">\n                    {{ showSearchConfig.categoryDescription }}\n                  </div>\n                  <ul class=\"devui-dropdown-menu-template devui-scrollbar\">\n                    <li\n                      *ngFor=\"let item of currentSearchCategory\"\n                      (click)=\"showCurrentSearchCategory(item, inputDropdown)\"\n                      class=\"devui-dropdown-item\"\n                    >\n                      <span>{{ item?.label }}</span>\n                    </li>\n                  </ul>\n                </ng-container>\n              </ng-container>\n            </ul>\n            <ng-container *ngIf=\"!enterSearch && currentSelectTag\">\n              <ng-template\n                [ngTemplateOutlet]=\"currentSelectTag.customTemplate || templates[currentSelectTag.type]\"\n                [ngTemplateOutletContext]=\"{ tagOption: currentSelectTag, dropdown: inputDropdown }\"\n              ></ng-template>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </ul>\n  </div>\n  <div class=\"devui-category-search-ctrl-container\" *ngIf=\"selectedTags.length || searchKey\">\n    <div class=\"devui-category-search-separate-line\"></div>\n    <div *ngIf=\"allowClear\" class=\"devui-category-search-icon\" (click)=\"clearFilter($event)\">\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      >\n        <title>{{ i18nCategorySearchText?.clearFilterCondition }}</title>\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M4.61289944,3.20970461 L4.70710678,3.29289322 L8,6.585 L11.2928932,3.29289322 C11.6834175,2.90236893 12.3165825,2.90236893 12.7071068,3.29289322 C13.0675907,3.65337718 13.0953203,4.22060824 12.7902954,4.61289944 L12.7071068,4.70710678 L9.415,8 L12.7071068,11.2928932 C13.0976311,11.6834175 13.0976311,12.3165825 12.7071068,12.7071068 C12.3466228,13.0675907 11.7793918,13.0953203 11.3871006,12.7902954 L11.2928932,12.7071068 L8,9.415 L4.70710678,12.7071068 C4.31658249,13.0976311 3.68341751,13.0976311 3.29289322,12.7071068 C2.93240926,12.3466228 2.90467972,11.7793918 3.20970461,11.3871006 L3.29289322,11.2928932 L6.585,8 L3.29289322,4.70710678 C2.90236893,4.31658249 2.90236893,3.68341751 3.29289322,3.29289322 C3.65337718,2.93240926 4.22060824,2.90467972 4.61289944,3.20970461 Z\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n    </div>\n    <div\n      *ngIf=\"allowSave\"\n      class=\"devui-category-search-icon\"\n      #saveDropdown=\"d-dropdown\"\n      dDropDown\n      appendToBody\n      [appendToBodyDirections]=\"['rightDown', 'rightUp', 'leftDown', 'leftUp']\"\n      [closeScope]=\"'blank'\"\n      (toggleEvent)=\"createFilterInputAutoFocus(saveDropdown, createFilterInput, filterNameForm)\"\n    >\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        dDropDownToggle\n      >\n        <title>{{ i18nCategorySearchText?.saveFilter }}</title>\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M12,1 L15,4 L15,13 C15,14.1045695 14.1045695,15 13,15 L3,15 C1.8954305,15 1,14.1045695 1,13 L1,3 C1,1.8954305 1.8954305,1 3,1 L12,1 Z M11.171,3 L3,3 L3,13 L4,13 L4,10 C4,9.48716416 4.38604019,9.06449284 4.88337887,9.00672773 L5,9 L11,9 C11.5128358,9 11.9355072,9.38604019 11.9932723,9.88337887 L12,10 L12,13 L13,13 L13,4.829 L11.171,3 Z M9.999,10.999 L5.999,10.999 L6,13 L10,13 L9.999,10.999 Z M7,5 C7.55228475,5 8,5.44771525 8,6 C8,6.55228475 7.55228475,7 7,7 L5,7 C4.44771525,7 4,6.55228475 4,6 C4,5.44771525 4.44771525,5 5,5 L7,5 Z\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n      <div dDropDownMenu class=\"devui-save-panel\">\n        <div class=\"devui-save-panel-title\">\n          <span>{{ i18nCategorySearchText?.saveFilter }}</span>\n        </div>\n        <div class=\"devui-save-filter-name\">\n          <span>{{ i18nCategorySearchText?.filterTitle }}</span>\n          <form #filterNameForm=\"ngForm\">\n            <input\n              name=\"filter-name\"\n              class=\"devui-category-search-toggle\"\n              autocomplete=\"off\"\n              #createFilterInput\n              dTextInput\n              [(ngModel)]=\"filterName\"\n              [placeholder]=\"i18nCategorySearchText?.placeholder || ''\"\n              [dValidateRules]=\"filterNameRules\"\n            />\n            <svg\n              *ngIf=\"showFilterNameClear\"\n              (click)=\"$event.preventDefault(); $event.stopPropagation(); filterName = ''\"\n              width=\"16px\"\n              height=\"16px\"\n              viewBox=\"0 0 16 16\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <title>{{ i18nCategorySearchText?.clearFilterCondition }}</title>\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <path\n                  d=\"M4.61289944,3.20970461 L4.70710678,3.29289322 L8,6.585 L11.2928932,3.29289322 C11.6834175,2.90236893 12.3165825,2.90236893 12.7071068,3.29289322 C13.0675907,3.65337718 13.0953203,4.22060824 12.7902954,4.61289944 L12.7071068,4.70710678 L9.415,8 L12.7071068,11.2928932 C13.0976311,11.6834175 13.0976311,12.3165825 12.7071068,12.7071068 C12.3466228,13.0675907 11.7793918,13.0953203 11.3871006,12.7902954 L11.2928932,12.7071068 L8,9.415 L4.70710678,12.7071068 C4.31658249,13.0976311 3.68341751,13.0976311 3.29289322,12.7071068 C2.93240926,12.3466228 2.90467972,11.7793918 3.20970461,11.3871006 L3.29289322,11.2928932 L6.585,8 L3.29289322,4.70710678 C2.90236893,4.31658249 2.90236893,3.68341751 3.29289322,3.29289322 C3.65337718,2.93240926 4.22060824,2.90467972 4.61289944,3.20970461 Z\"\n                  fill-rule=\"nonzero\"\n                ></path>\n              </g>\n            </svg>\n          </form>\n        </div>\n        <div class=\"devui-save-panel-operation-area\">\n          <d-button [disabled]=\"filterNameForm.invalid\" (btnClick)=\"createFilterFn(); saveDropdown.toggle()\">{{\n            i18nCategorySearchText?.confirm\n          }}</d-button>\n          <d-button bsStyle=\"common\" (btnClick)=\"saveDropdown.toggle()\">{{ i18nCategorySearchText?.cancel }}</d-button>\n        </div>\n      </div>\n    </div>\n    <div\n      *ngIf=\"allowShowMore\"\n      class=\"devui-category-search-icon\"\n      #seeMoreDropdown=\"d-dropdown\"\n      dDropDown\n      appendToBody\n      [alignOrigin]=\"primeContainer\"\n      [appendToBodyDirections]=\"['rightDown', 'rightUp', 'leftDown', 'leftUp']\"\n    >\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        dDropDownToggle\n      >\n        <title>{{ i18nCategorySearchText?.seeMore }}</title>\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M1,2 L3,2 L3,4 L1,4 L1,2 Z M1,7 L3,7 L3,9 L1,9 L1,7 Z M1,12 L3,12 L3,14 L1,14 L1,12 Z M5,2 L15,2 L15,4 L5,4 L5,2 Z M5,7 L15,7 L15,9 L5,9 L5,7 Z M5,12 L15,12 L15,14 L5,14 L5,12 Z\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n      <div dDropDownMenu class=\"devui-selected-tags-list\">\n        <ul [ngStyle]=\"{ width: PrimeContainer?.clientWidth + 'px' }\">\n          <li class=\"devui-tag-item\" *ngFor=\"let item of selectedTags; let i = index\" (click)=\"scrollToTag(i, $event)\">\n            <ng-template [ngTemplateOutlet]=\"joinLabelTypesTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-template #joinLabelTypesTemplate let-item=\"item\">\n  <div class=\"devui-tag-container\">\n    <d-tag\n      *ngIf=\"!joinLabelTypes.includes(item.type)\"\n      [deletable]=\"true\"\n      [tag]=\"item.label + ': ' + (item.value[item.filterKey || 'label'] || '')\"\n      [titleContent]=\"item.title\"\n      (tagDelete)=\"removeTag(item, $event.event)\"\n    ></d-tag>\n    <d-tags\n      *ngIf=\"joinLabelTypes.includes(item.type)\"\n      [deletable]=\"true\"\n      [tags]=\"[item]\"\n      [titleProperty]=\"'title'\"\n      (tagDelete)=\"removeTag(item, $event.event)\"\n    >\n      <ng-template let-tag=\"tag\" let-colorKey=\"tag.colorKey || 'color'\">\n        <span>{{ tag.label }}: </span>\n        <ng-container *ngFor=\"let val of tag.value.cache; let i = index\">\n          <span *ngIf=\"i > 0\" class=\"devui-color-block-split-line\"> | </span>\n          <span *ngIf=\"item.type === 'label'\" class=\"devui-color-block-sm\" [style.background]=\"val[colorKey]\"></span>\n          <span [style.color]=\"val[colorKey]\">{{ val[tag.filterKey || 'label'] || '' }}</span>\n        </ng-container>\n      </ng-template>\n    </d-tags>\n  </div>\n</ng-template>\n\n<ng-template #defaultGroupNameTemplate let-item=\"tag\">\n  <strong>{{ item?.groupName }}</strong>\n</ng-template>\n\n<ng-template #noData>\n  <div class=\"devui-no-data-tip\">{{ i18nCommonText?.noData }}</div>\n</ng-template>\n\n<ng-template [type]=\"'radio'\" let-tagOption=\"tagOption\" let-key=\"tagOption.filterKey || 'label'\">\n  <div *ngIf=\"!tagOption.options?.length\">\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n  </div>\n  <ul *ngIf=\"tagOption.options?.length\" class=\"devui-dropdown-menu-template devui-scrollbar\">\n    <li\n      *ngFor=\"let item of tagOption.options\"\n      title=\"{{ item[key] }}\"\n      class=\"devui-dropdown-item\"\n      [class.active]=\"tagOption?.value[key] === item[key]\"\n      (click)=\"chooseItem(tagOption, item)\"\n    >\n      <span>{{ item[key] }}</span>\n    </li>\n  </ul>\n</ng-template>\n\n<ng-template [type]=\"'dateRange'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <d-datepicker-calendar\n    *ngIf=\"dropdown.isOpen\"\n    id=\"{{ tagOption.field }}\"\n    style=\"overflow-x: hidden\"\n    #dDatepickerPro\n    [isRangeType]=\"true\"\n    [showTime]=\"tagOption.showTime\"\n    [ngModel]=\"tagOption.value.value\"\n    (ngModelChange)=\"dateValueChange(tagOption, dDatepickerPro)\"\n  >\n    <ng-template #footerTemplate>\n      <div class=\"devui-datepicker-footer\">\n        <d-button\n          style=\"margin-right: 8px\"\n          bsStyle=\"primary\"\n          (btnClick)=\"confirmDate(tagOption); closeMenu(dropdown)\"\n          [disabled]=\"!tagOption.value.value || tagOption.value.value.length < 2\"\n        >\n          {{ i18nCategorySearchText?.confirm }}\n        </d-button>\n      </div>\n    </ng-template>\n  </d-datepicker-calendar>\n</ng-template>\n\n<ng-template [type]=\"'checkbox'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <div *ngIf=\"!tagOption.options?.length\">\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n  </div>\n  <div *ngIf=\"tagOption.options?.length\" class=\"devui-dropdown-menu-template\">\n    <d-checkbox-group\n      [(ngModel)]=\"tagOption.value.value\"\n      [options]=\"tagOption.options\"\n      [filterKey]=\"tagOption.filterKey || 'label'\"\n      [isShowTitle]=\"true\"\n    >\n    </d-checkbox-group>\n  </div>\n  <div class=\"devui-dropdown-operation-area\">\n    <d-button (btnClick)=\"chooseItems(tagOption); closeMenu(dropdown)\">{{ i18nCategorySearchText?.confirm }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n\n<ng-template [type]=\"'label'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <div *ngIf=\"!tagOption.options?.length\">\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n  </div>\n  <div *ngIf=\"tagOption.options?.length\" class=\"devui-dropdown-menu-template\">\n    <d-checkbox-group\n      [(ngModel)]=\"tagOption.value.value\"\n      [options]=\"tagOption.options\"\n      [filterKey]=\"'$label'\"\n      [labelTemplate]=\"labelContent\"\n      [isShowTitle]=\"true\"\n    >\n      <ng-template #labelContent let-label=\"label\">\n        <span class=\"devui-color-block\" [style.background]=\"splitLabel('color', label)\" title=\"{{ splitLabel('label', label) }}\"></span>\n        <span title=\"{{ splitLabel('label', label) }}\">{{ splitLabel('label', label) }}</span>\n      </ng-template>\n    </d-checkbox-group>\n  </div>\n  <div class=\"devui-dropdown-operation-area\">\n    <d-button (btnClick)=\"chooseItems(tagOption); closeMenu(dropdown)\">{{ i18nCategorySearchText?.confirm }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n\n<ng-template [type]=\"'textInput'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <form #textInputForm=\"ngForm\">\n    <input\n      name=\"text-input\"\n      class=\"devui-category-search-type-text-input\"\n      autocomplete=\"off\"\n      dTextInput\n      [(ngModel)]=\"tagOption.value.value\"\n      [maxlength]=\"tagOption.maxLength\"\n      [placeholder]=\"tagOption.placeholder || ''\"\n      [dValidateRules]=\"tagOption.validateRules\"\n    />\n  </form>\n  <div class=\"devui-dropdown-operation-area\">\n    <d-button [disabled]=\"textInputForm.invalid\" (btnClick)=\"getTextInputValue(tagOption); closeMenu(dropdown)\">{{\n      i18nCategorySearchText?.confirm\n    }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n\n<ng-template [type]=\"'numberRange'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <div class=\"devui-input-number-operation-area\">\n    <d-input-number\n      size=\"sm\"\n      [min]=\"tagOption.min?.left\"\n      [max]=\"tagOption.max?.left\"\n      [maxLength]=\"tagOption.maxLength?.left\"\n      [step]=\"tagOption.step?.left || 1\"\n      [reg]=\"tagOption.reg?.left\"\n      [placeholder]=\"tagOption.placeholder?.left || ''\"\n      [(ngModel)]=\"tagOption.value.value[0]\"\n    >\n    </d-input-number>\n    <span> - </span>\n    <d-input-number\n      size=\"sm\"\n      [min]=\"tagOption.min?.right\"\n      [max]=\"tagOption.max?.right\"\n      [maxLength]=\"tagOption.maxLength?.right\"\n      [step]=\"tagOption.step?.right || 1\"\n      [reg]=\"tagOption.reg?.right\"\n      [placeholder]=\"tagOption.placeholder?.right || ''\"\n      [(ngModel)]=\"tagOption.value.value[1]\"\n    >\n    </d-input-number>\n  </div>\n  <div class=\"devui-dropdown-operation-area\">\n    <d-button (btnClick)=\"getNumberRangeValue(tagOption); closeMenu(dropdown)\">{{ i18nCategorySearchText?.confirm }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n\n<ng-template [type]=\"'treeSelect'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\" let-isSelected=\"isSelected\">\n  <div *ngIf=\"tagOption.multiple && tagOption.options?.length\">\n    <ul class=\"devui-select-list\">\n      <span>{{ i18nCategorySearchText?.selected }}</span>\n      <li class=\"devui-select-item devui-no-label-item\" *ngFor=\"let item of tagOption.value.value; last as isLast\">\n        {{ item[tagOption.filterKey || tagOption.treeNodeTitleKey || 'title'] }}\n        <span *ngIf=\"!isLast\">, </span>\n      </li>\n    </ul>\n  </div>\n  <div *ngIf=\"tagOption.searchable\">\n    <input\n      class=\"devui-input\"\n      autocomplete=\"off\"\n      #searchInputModel=\"ngModel\"\n      [(ngModel)]=\"treeSearchKey\"\n      (ngModelChange)=\"treeSearch(tree, $event)\"\n    />\n    <span class=\"devui-form-control-feedback\">\n      <svg\n        width=\"14px\"\n        height=\"14px\"\n        viewBox=\"0 0 14 14\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        class=\"svg-icon-search\"\n        style=\"vertical-align: middle\"\n      >\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <g transform=\"translate(-1.000000, -1.000000)\">\n            <path\n              d=\"M7.30811922,1 C10.7919973,1 13.6162384,3.82424117 13.6162384,7.30811922 C13.6162384,8.72507634 13.149053,10.0329164 12.3603151,11.0860065 L14.7360564,13.4616238 C15.0879812,13.8135487 15.0879812,14.3841316 14.7360564,14.7360564 C14.3841316,15.0879812 13.8135487,15.0879812 13.4616238,14.7360564 L11.0860065,12.3603151 C10.0329164,13.149053 8.72507634,13.6162384 7.30811922,13.6162384 C3.82424117,13.6162384 1,10.7919973 1,7.30811922 C1,3.82424117 3.82424117,1 7.30811922,1 Z M7.31,2.51 C4.6590332,2.51 2.51,4.6590332 2.51,7.31 C2.51,9.9609668 4.6590332,12.11 7.31,12.11 C9.9609668,12.11 12.11,9.9609668 12.11,7.31 C12.11,4.6590332 9.9609668,2.51 7.31,2.51 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </g>\n      </svg>\n    </span>\n  </div>\n  <div class=\"devui-category-search-tree-container\" [style.display]=\"tagOption.options?.length && !noRecord ? 'block' : 'none'\">\n    <d-operable-tree\n      #tree\n      [tree]=\"tagOption.multiple && isSelected ? tagOption.value.options : tagOption.options\"\n      [treeNodeIdKey]=\"tagOption.treeNodeIdKey || 'id'\"\n      [treeNodeChildrenKey]=\"tagOption.treeNodeChildrenKey || 'children'\"\n      [treeNodeTitleKey]=\"tagOption.filterKey || tagOption.treeNodeTitleKey || 'title'\"\n      [checkboxDisabledKey]=\"tagOption.disabledKey || 'disabled'\"\n      [checkable]=\"tagOption.multiple\"\n      [canActivateNode]=\"!tagOption.multiple\"\n      [canActivateParentNode]=\"!tagOption.leafOnly\"\n      [iconParentOpen]=\"tagOption.iconParentOpen || icons.iconParentOpen\"\n      [iconParentClose]=\"tagOption.iconParentClose || icons.iconParentClose\"\n      [iconLeaf]=\"tagOption.iconLeaf || icons.iconLeaf\"\n      (nodeChecked)=\"onOperableNodeChecked($event, tagOption)\"\n      (nodeSelected)=\"onOperableNodeSelected($event, tagOption, tree); closeMenu(dropdown)\"\n      class=\"devui-tree\"\n    >\n    </d-operable-tree>\n  </div>\n  <div *ngIf=\"!tagOption.options?.length\">\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n  </div>\n  <div *ngIf=\"noRecord\" class=\"devui-no-data-tip\">{{ i18nCommonText?.noRecordsFound }}</div>\n  <div *ngIf=\"tagOption.multiple\" class=\"devui-dropdown-operation-area\">\n    <d-button (btnClick)=\"getTreeValue(tagOption, tree); closeMenu(dropdown)\">{{ i18nCategorySearchText?.confirm }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.devui-category-search-container{position:relative;border-radius:2px;border-radius:var(--devui-border-radius, 2px);width:100%;height:32px;padding:0 8px;display:flex;align-items:flex-start;background:transparent;transition:border .3s cubic-bezier(.645,.045,.355,1);transition:border var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1));background-color:#fff;background-color:var(--devui-base-bg, #ffffff);border:1px solid #d7d8da;border:1px solid var(--devui-line, #d7d8da)}.devui-category-search-container.container-hover{border:1px solid #9b9fa8;border:1px solid var(--devui-form-control-line-hover, #9b9fa8)}.devui-category-search-container.container-hover .devui-category-search-icon svg g path{fill:#252b3a;fill:var(--devui-icon-fill-hover, #252b3a)}.devui-category-search-container .devui-category-search-line-container{width:100%;height:32px;overflow:hidden}.devui-category-search-container .devui-category-search-line-container:hover{overflow-x:auto;overflow-x:overlay}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:flex-start;width:100%;height:30px;position:relative;top:-1px}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line>li{display:flex;align-items:center;flex-grow:0;white-space:nowrap;height:100%}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line .devui-category-search-input{display:flex;justify-content:flex-start;flex-grow:1;align-items:center;min-width:160px;padding-right:20px}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line .devui-category-search-input input{min-width:240px;width:100%;height:32px;font-size:12px;font-size:var(--devui-font-size-sm, 12px)}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line .devui-category-search-input .devui-category-search-toggle{padding-left:0}.devui-category-search-container input{border:none;background:transparent}.devui-category-search-container .devui-input-container{display:flex;flex:1}.devui-category-search-container .devui-category-search-ctrl-container{display:flex;flex-wrap:nowrap}.devui-category-search-container .devui-category-search-ctrl-container .devui-category-search-separate-line{border-right:solid 1px #d7d8da;border-right:solid 1px var(--devui-line, #d7d8da);width:0;height:16px;margin:8px}.devui-tag-item{display:inline-block;margin-right:4px}.devui-tag-item:first-child{margin-left:4px}.devui-tag-item:focus{outline:none}.devui-tag-item .devui-color-block-split-line{color:#71757f;color:var(--devui-aide-text, #71757f)}.devui-tag-item .devui-color-block-sm{width:8px;height:8px;border-radius:2px;border-radius:var(--devui-border-radius, 2px);margin-right:4px;display:inline-block;position:relative;top:-1px;vertical-align:middle}span:focus{outline:none}.devui-category-search-icon{display:flex;padding-right:8px;align-items:center;height:30px}.devui-category-search-icon svg{cursor:pointer}.devui-category-search-icon svg path{fill:#71757f;fill:var(--devui-icon-fill, #71757f);transition:all cubic-bezier(.645,.045,.355,1) .3s;transition:all var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1)) var(--devui-animation-duration-slow, .3s)}.devui-category-search-icon:hover svg g path{fill:#252b3a;fill:var(--devui-icon-fill-hover, #252b3a)}input,input:focus{outline:none!important}a:focus,a:hover{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a)}d-tag{cursor:pointer}.devui-category-search-toggle{height:30px}.devui-date-picker-operation-area{border-top:1px solid #f2f2f3;border-top:1px solid var(--devui-dividing-line, #f2f2f3);margin:16px 0;padding:16px 16px 0;display:flex;justify-content:flex-end}.devui-date-picker-operation-area d-button:not(:first-child){margin-left:16px}.devui-dropdown-operation-area{border-top:1px solid #f2f2f3;border-top:1px solid var(--devui-dividing-line, #f2f2f3);padding-top:8px;margin:8px 0;display:flex;justify-content:center}.devui-dropdown-operation-area d-button:not(:first-child){margin-left:16px}.devui-input-number-operation-area{padding:16px 16px 8px;display:flex;justify-content:space-evenly}.devui-save-panel{width:400px;height:auto;margin-top:4px}.devui-save-panel .devui-save-panel-title{display:flex;justify-content:space-between;height:48px;line-height:48px;border-bottom:1px solid #f2f2f3;border-bottom:1px solid var(--devui-dividing-line, #f2f2f3);padding:0 20px;font-size:14px;font-weight:700;color:16px;color:var(--devui-font-size-page-title, 16px)}.devui-save-panel .devui-save-filter-name{padding:16px 20px}.devui-save-panel .devui-save-filter-name>form{position:relative}.devui-save-panel .devui-save-filter-name>form svg{position:absolute;right:8px;top:50%;transform:translateY(-50%);cursor:pointer}.devui-save-panel .devui-save-filter-name>form svg path{fill:#71757f;fill:var(--devui-icon-fill, #71757f)}.devui-save-panel .devui-save-filter-name>form svg:hover svg g path{fill:#252b3a;fill:var(--devui-icon-fill-hover, #252b3a)}.devui-save-panel .devui-save-filter-name>span{padding-bottom:8px;display:block;line-height:1em}.devui-save-panel .devui-save-filter-name>input{width:100%;height:32px;margin:4px auto;line-height:20px;border:1px solid #d7d8da;border:1px solid var(--devui-form-control-line, #d7d8da)}.devui-save-panel .devui-save-panel-operation-area{padding-bottom:12px;display:flex;justify-content:center}.devui-save-panel .devui-save-panel-operation-area d-button:not(:first-child){margin-left:16px}.devui-dropdown-menu-template{max-width:300px;max-height:352px}.devui-dropdown-menu-template .devui-category-search-group{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-dropdown-menu-template .devui-category-search-group.devui-dropdown-item:hover{background-color:transparent;color:#252b3a;color:var(--devui-text, #252b3a);cursor:default}.devui-selected-tags-list ul{display:flex;flex-flow:row wrap;align-items:center;justify-content:flex-start;padding:4px;max-height:390px;overflow:auto}.devui-selected-tags-list ul li{display:flex;flex-grow:0;flex-flow:row wrap}.devui-selected-tags-list ul li:first-child{margin-left:0}:host ::ng-deep .devui-tag-container{line-height:1}:host ::ng-deep .devui-tag-container d-tag>.devui-tag-item{display:block!important}:host ::ng-deep .devui-tag-container d-tag>.devui-tag-item>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;vertical-align:bottom;margin:0 4px}:host ::ng-deep .devui-checkbox-column-margin{height:32px!important;line-height:32px!important}::ng-deep .cdk-overlay-container d-datepicker[id=devui-category-search-date-picker] .devui-month-view{box-shadow:none!important}::ng-deep .cdk-overlay-container d-datepicker[id=devui-category-search-date-picker] .devui-month-view tfoot{display:none}::ng-deep .cdk-overlay-container .devui-selected-tags-list ul li .remove-button{right:8px}::ng-deep .devui-dropdown-top .devui-dropdown-menu-fix,::ng-deep .devui-dropdown-bottom .devui-dropdown-menu-fix,::ng-deep .devui-dropdown-open .devui-dropdown-menu-fix{margin-bottom:0}::ng-deep .devui-dropdown-menu-fix{min-width:200px;margin-left:0;overflow-y:auto;white-space:nowrap}::ng-deep .devui-dropdown-menu-fix.max-height{max-height:405px}::ng-deep .devui-dropdown-menu-fix .devui-checkbox-group{padding:8px 12px 0}::ng-deep .devui-dropdown-menu-fix .devui-checkbox-group .devui-color-block{width:12px;height:12px;margin-right:8px;border-radius:2px;border-radius:var(--devui-border-radius, 2px);top:-1px;position:relative;vertical-align:middle;display:inline-block}::ng-deep .devui-dropdown-menu-fix .devui-category-search-type-text-input{margin:16px 8px 8px;width:calc(100% - 16px)}::ng-deep .devui-dropdown-menu-fix .devui-select-list{display:flex;flex-wrap:wrap;max-width:300px;padding:8px}::ng-deep .devui-dropdown-menu-fix .devui-select-list span{margin-right:8px}::ng-deep .devui-dropdown-menu-fix .devui-category-search-tree-container{overflow-y:auto;max-height:270px;margin-bottom:-8px;padding:4px 0 4px 8px}::ng-deep .devui-dropdown-menu-fix .devui-yearOption,::ng-deep .devui-dropdown-menu-fix .devui-monthOption{white-space:normal}::ng-deep .devui-dropdown-menu-fix d-datepicker-calendar{display:block}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox{margin:0 -8px;padding:0 8px}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox:hover{background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox:hover label{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a)}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox:active{background-color:#f2f5fc;background-color:var(--devui-list-item-active-bg, #f2f5fc)}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox:active label{color:#252b3a;color:var(--devui-list-item-active-text, #252b3a)}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}::ng-deep .devui-dropdown-menu-fix d-input-number{width:70px}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group ul{max-height:310px}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox{transition:background-color .1s cubic-bezier(.645,.045,.355,1);transition:background-color var(--devui-animation-duration-fast, .1s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox label{transition:color .1s cubic-bezier(.645,.045,.355,1);transition:color var(--devui-animation-duration-fast, .1s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}.devui-dropdown-menu-tip{cursor:text;padding:12px 12px 0;pointer-events:none;color:#71757f;color:var(--devui-aide-text, #71757f)}.devui-dividing-line{height:1px;width:100%;background-color:#f2f2f3;background-color:var(--devui-dividing-line, #f2f2f3);margin-top:4px}.devui-dropdown-menu{margin-top:4px;padding-bottom:0}.devui-dropdown-menu .devui-dropdown-item .icon-search{margin-right:4px}.devui-no-data-text{padding:8px 0;text-align:center}.devui-datepicker-footer{text-align:right}\n"], components: [{ type: i2.DropDownAppendToBodyComponent, selector: "[dDropDown][appendToBody]", inputs: ["alignOrigin", "appendToBodyDirections"] }, { type: i3.ButtonComponent, selector: "d-button", inputs: ["id", "type", "bsStyle", "shape", "bsSize", "bsPosition", "bordered", "icon", "disabled", "showLoading", "width", "autofocus", "loadingTemplateRef"], outputs: ["btnClick"] }, { type: i4.TagComponent, selector: "d-tag", inputs: ["tag", "labelStyle", "customColor", "deletable", "titleContent", "mode", "checked", "maxWidth", "customViewTemplate"], outputs: ["tagDelete", "checkedChange"], exportAs: ["Tag"] }, { type: i4.TagsComponent, selector: "d-tags", inputs: ["tags", "displayProperty", "deletable", "mode", "titleProperty", "hideBeyondTags"], outputs: ["tagDelete"], exportAs: ["Tags"] }, { type: i5.DatepickerProCalendarComponent, selector: "d-datepicker-calendar", inputs: ["activeRangeType", "isRangeType", "showTime", "mode", "startIndexOfWeek", "splitter", "showRangeHeader", "placeholder", "allowClear", "minDate", "maxDate", "markedRangeDateList", "markedDateList"], outputs: ["confirmEvent", "cancelEvent"] }, { type: i6.CheckBoxGroupComponent, selector: "d-checkbox-group", inputs: ["name", "itemWidth", "color", "direction", "isShowTitle", "disabled", "options", "filterKey", "labelTemplate", "showAnimation", "beforeChange"], outputs: ["change"] }, { type: i7.InputNumberComponent, selector: "d-input-number", inputs: ["step", "disabled", "size", "decimalLimit", "autoFocus", "allowEmpty", "placeholder", "maxLength", "reg", "min", "max"], outputs: ["afterValueChanged", "whileValueChanging"] }, { type: i8.OperableTreeComponent, selector: "d-operable-tree", inputs: ["tree", "treeNodeIdKey", "treeNodeChildrenKey", "checkboxDisabledKey", "selectDisabledKey", "toggleDisabledKey", "iconParentOpen", "iconParentClose", "iconLeaf", "showLoading", "loadingTemplateRef", "treeNodesRef", "checkable", "deletable", "addable", "editable", "draggable", "checkboxInput", "beforeAddNode", "disableMouseEvent", "beforeDeleteNode", "beforeNodeDrop", "beforeEditNode", "canActivateNode", "canActivateParentNode", "canActivateMultipleNode", "treeNodeTitleKey", "postAddNode", "iconTemplatePosition", "virtualScroll", "virtualScrollHeight", "showAnimation", "itemSize", "minBufferPx", "maxBufferPx", "checkableRelation", "dropType"], outputs: ["nodeSelected", "nodeDblClicked", "nodeRightClicked", "nodeToggled", "afterTreeInit", "nodeDeleted", "nodeChecked", "currentNodeChecked", "nodeEdited", "editValueChange", "nodeDragStart", "nodeOnDrop"], exportAs: ["dOperableTreeComponent"] }], directives: [{ type: i9.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i9.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i2.DropDownDirective, selector: "[dDropDown]", inputs: ["isOpen", "disabled", "showAnimation", "trigger", "closeScope", "closeOnMouseLeaveMenu"], outputs: ["toggleEvent"], exportAs: ["d-dropdown"] }, { type: i2.DropDownToggleDirective, selector: "[dDropDownToggle]", inputs: ["toggleOnFocus", "autoFocus"], exportAs: ["d-dropdown-toggle"] }, { type: i9.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i9.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i2.DropDownMenuDirective, selector: "[dDropDownMenu]", exportAs: ["d-dropdown-menu"] }, { type: i10.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i11.TextDirective, selector: "[dTextInput]", inputs: ["error", "size"], exportAs: ["dTextInput"] }, { type: i10.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i10.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i9.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i10.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i10.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i10.NgForm, selector: "form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]", inputs: ["ngFormOptions"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i12.DFormControlRuleDirective, selector: "[dValidateRules][formControlName],[dValidateRules][ngModel],[dValidateRules][formControl]", inputs: ["dValidateRules", "dValidatePopConfig"], outputs: ["dRulesStatusChange"], exportAs: ["dValidateRules"] }, { type: i13.DefaultTemplateDirective, selector: "ng-template[type]", inputs: ["type"] }, { type: i10.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: CategorySearchComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-category-search', template: "<div\n  #PrimeContainer\n  class=\"devui-category-search-container devui-category-search-id-{{ id }}\"\n  [ngClass]=\"{ 'container-hover': isHover && !isFocus }\"\n  (mouseenter)=\"isHover = true\"\n  (mouseleave)=\"isHover = false\"\n>\n  <div class=\"devui-category-search-icon\" (click)=\"search()\">\n    <svg\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      class=\"svg-icon-search\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M7,0 C10.8659932,0 14,3.13400675 14,7 C14,8.57190212 13.4818819,10.0227913 12.6071076,11.1912056 L15.7071068,14.2928932 C16.0976311,14.6834175 16.0976311,15.3165825 15.7071068,15.7071068 C15.3466228,16.0675907 14.7793918,16.0953203 14.3871006,15.7902954 L14.2928932,15.7071068 L11.1912056,12.6071076 C10.0227913,13.4818819 8.57190212,14 7,14 C3.13400675,14 5.5067062e-14,10.8659932 5.5067062e-14,7 C5.5067062e-14,3.13400675 3.13400675,0 7,0 Z M7,2 C4.23857625,2 2,4.23857625 2,7 C2,9.76142375 4.23857625,12 7,12 C9.76142375,12 12,9.76142375 12,7 C12,4.23857625 9.76142375,2 7,2 Z\"\n          id=\"\uFFFD\uFFFD\u0532\uFFFD\uFFFD\"\n          fill=\"#71757F\"\n        ></path>\n      </g>\n    </svg>\n  </div>\n  <div #ScrollBarContainer class=\"devui-category-search-line-container\">\n    <ul class=\"devui-category-search-line\">\n      <li\n        class=\"devui-tag-item\"\n        *ngFor=\"let item of selectedTags\"\n        #selectedDropdown=\"d-dropdown\"\n        [ngStyle]=\"{ width: tagMaxWidth || '' }\"\n        dDropDown\n        appendToBody\n        dDropDownToggle\n        [appendToBodyDirections]=\"['rightDown', 'rightUp', 'leftDown', 'leftUp']\"\n        [closeScope]=\"checkType(item)\"\n        (toggleEvent)=\"resetContent(selectedDropdown, item)\"\n      >\n        <ng-template [ngTemplateOutlet]=\"joinLabelTypesTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n        <div dDropDownMenu class=\"devui-dropdown-menu devui-dropdown-menu-fix\" [ngClass]=\"{ 'max-height': item.type !== 'treeSelect' }\">\n          <ng-template\n            [ngTemplateOutlet]=\"item.customTemplate || templates[item.type]\"\n            [ngTemplateOutletContext]=\"{ tagOption: item, dropdown: selectedDropdown, isSelected: true }\"\n          ></ng-template>\n        </div>\n      </li>\n      <div class=\"devui-category-search-input\">\n        <div\n          class=\"devui-input-container\"\n          #inputDropdown=\"d-dropdown\"\n          dDropDown\n          appendToBody\n          [trigger]=\"'manually'\"\n          [appendToBodyDirections]=\"['rightDown', 'rightUp', 'leftDown', 'leftUp']\"\n          [closeScope]=\"checkType(currentSelectTag)\"\n          (toggleEvent)=\"resetContent(inputDropdown)\"\n        >\n          <div style=\"width: 100%\">\n            <input\n              class=\"devui-category-search-toggle\"\n              autocomplete=\"off\"\n              #InputEle\n              dDropDownToggle\n              dTextInput\n              [readOnly]=\"inputReadOnly\"\n              [placeholder]=\"placeholderText || i18nCategorySearchText?.searchPlaceholder || ''\"\n              [(ngModel)]=\"searchKey\"\n              (ngModelChange)=\"searchKeyChangeEvent($event)\"\n              (click)=\"openMenu(inputDropdown, $event)\"\n              (keyup)=\"checkInputSearching(); openMenu(inputDropdown, $event)\"\n              (keydown.backspace)=\"backspaceEvent(inputDropdown)\"\n              (keydown.enter)=\"searchInputValue($event); closeMenu(inputDropdown)\"\n              (focus)=\"isHover = false; isFocus = true\"\n              (blur)=\"isFocus = false; blurInput()\"\n            />\n          </div>\n          <div\n            *ngIf=\"!enterSearch || (enterSearch && showSearchCategory)\"\n            dDropDownMenu\n            class=\"devui-dropdown-menu devui-dropdown-menu-fix\"\n            [ngClass]=\"{ 'max-height': currentSelectTag?.type !== 'treeSelect' }\"\n          >\n            <ul *ngIf=\"!currentSelectTag\" class=\"devui-dropdown-menu-template devui-scrollbar\">\n              <ng-container *ngIf=\"!enterSearch && !currentSelectTag\">\n                <ng-container *ngFor=\"let item of categoryDisplay\">\n                  <li *ngIf=\"item.groupLength\" class=\"devui-dropdown-item devui-category-search-group\">\n                    <ng-template\n                      [ngTemplateOutlet]=\"customGroupNameTemplate || defaultGroupNameTemplate\"\n                      [ngTemplateOutletContext]=\"{ tag: item }\"\n                    ></ng-template>\n                  </li>\n                  <li\n                    *ngIf=\"item.groupLength === undefined\"\n                    class=\"devui-dropdown-item\"\n                    (click)=\"chooseCategory(item, inputDropdown); closeMenu(inputDropdown)\"\n                  >\n                    <span title=\"{{ item?.label }}\">{{ item?.label }}</span>\n                  </li>\n                </ng-container>\n                <div class=\"devui-no-data-text\" *ngIf=\"showNoDataTips\">{{ i18nCategorySearchText?.noFilterConditions }}</div>\n              </ng-container>\n              <ng-container *ngIf=\"enterSearch\">\n                <li\n                  *ngIf=\"showSearchConfig.keyword\"\n                  class=\"devui-dropdown-item devui-search-description\"\n                  (click)=\"searchInputValue($event); closeMenu(inputDropdown)\"\n                >\n                  <span class=\"icon-search\"></span>{{ showSearchConfig.keywordDescription(searchKey) }}\n                </li>\n                <ng-container *ngIf=\"showSearchConfig.field\">\n                  <li *ngFor=\"let item of searchField\" (click)=\"searchCategory(item); closeMenu(inputDropdown)\" class=\"devui-dropdown-item\">\n                    <span class=\"icon-search\"></span>{{ showSearchConfig.fieldDescription(item?.label) }}\n                  </li>\n                </ng-container>\n                <div\n                  *ngIf=\"(showSearchConfig.keyword || showSearchConfig.field) && showSearchConfig.category && currentSearchCategory?.length\"\n                  class=\"devui-dividing-line\"\n                ></div>\n                <ng-container *ngIf=\"showSearchConfig.category && currentSearchCategory?.length\">\n                  <div class=\"devui-dropdown-menu-tip\" [style.paddingBottom]=\"currentSearchCategory.length ? '0' : '12px'\">\n                    {{ showSearchConfig.categoryDescription }}\n                  </div>\n                  <ul class=\"devui-dropdown-menu-template devui-scrollbar\">\n                    <li\n                      *ngFor=\"let item of currentSearchCategory\"\n                      (click)=\"showCurrentSearchCategory(item, inputDropdown)\"\n                      class=\"devui-dropdown-item\"\n                    >\n                      <span>{{ item?.label }}</span>\n                    </li>\n                  </ul>\n                </ng-container>\n              </ng-container>\n            </ul>\n            <ng-container *ngIf=\"!enterSearch && currentSelectTag\">\n              <ng-template\n                [ngTemplateOutlet]=\"currentSelectTag.customTemplate || templates[currentSelectTag.type]\"\n                [ngTemplateOutletContext]=\"{ tagOption: currentSelectTag, dropdown: inputDropdown }\"\n              ></ng-template>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </ul>\n  </div>\n  <div class=\"devui-category-search-ctrl-container\" *ngIf=\"selectedTags.length || searchKey\">\n    <div class=\"devui-category-search-separate-line\"></div>\n    <div *ngIf=\"allowClear\" class=\"devui-category-search-icon\" (click)=\"clearFilter($event)\">\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      >\n        <title>{{ i18nCategorySearchText?.clearFilterCondition }}</title>\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M4.61289944,3.20970461 L4.70710678,3.29289322 L8,6.585 L11.2928932,3.29289322 C11.6834175,2.90236893 12.3165825,2.90236893 12.7071068,3.29289322 C13.0675907,3.65337718 13.0953203,4.22060824 12.7902954,4.61289944 L12.7071068,4.70710678 L9.415,8 L12.7071068,11.2928932 C13.0976311,11.6834175 13.0976311,12.3165825 12.7071068,12.7071068 C12.3466228,13.0675907 11.7793918,13.0953203 11.3871006,12.7902954 L11.2928932,12.7071068 L8,9.415 L4.70710678,12.7071068 C4.31658249,13.0976311 3.68341751,13.0976311 3.29289322,12.7071068 C2.93240926,12.3466228 2.90467972,11.7793918 3.20970461,11.3871006 L3.29289322,11.2928932 L6.585,8 L3.29289322,4.70710678 C2.90236893,4.31658249 2.90236893,3.68341751 3.29289322,3.29289322 C3.65337718,2.93240926 4.22060824,2.90467972 4.61289944,3.20970461 Z\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n    </div>\n    <div\n      *ngIf=\"allowSave\"\n      class=\"devui-category-search-icon\"\n      #saveDropdown=\"d-dropdown\"\n      dDropDown\n      appendToBody\n      [appendToBodyDirections]=\"['rightDown', 'rightUp', 'leftDown', 'leftUp']\"\n      [closeScope]=\"'blank'\"\n      (toggleEvent)=\"createFilterInputAutoFocus(saveDropdown, createFilterInput, filterNameForm)\"\n    >\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        dDropDownToggle\n      >\n        <title>{{ i18nCategorySearchText?.saveFilter }}</title>\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M12,1 L15,4 L15,13 C15,14.1045695 14.1045695,15 13,15 L3,15 C1.8954305,15 1,14.1045695 1,13 L1,3 C1,1.8954305 1.8954305,1 3,1 L12,1 Z M11.171,3 L3,3 L3,13 L4,13 L4,10 C4,9.48716416 4.38604019,9.06449284 4.88337887,9.00672773 L5,9 L11,9 C11.5128358,9 11.9355072,9.38604019 11.9932723,9.88337887 L12,10 L12,13 L13,13 L13,4.829 L11.171,3 Z M9.999,10.999 L5.999,10.999 L6,13 L10,13 L9.999,10.999 Z M7,5 C7.55228475,5 8,5.44771525 8,6 C8,6.55228475 7.55228475,7 7,7 L5,7 C4.44771525,7 4,6.55228475 4,6 C4,5.44771525 4.44771525,5 5,5 L7,5 Z\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n      <div dDropDownMenu class=\"devui-save-panel\">\n        <div class=\"devui-save-panel-title\">\n          <span>{{ i18nCategorySearchText?.saveFilter }}</span>\n        </div>\n        <div class=\"devui-save-filter-name\">\n          <span>{{ i18nCategorySearchText?.filterTitle }}</span>\n          <form #filterNameForm=\"ngForm\">\n            <input\n              name=\"filter-name\"\n              class=\"devui-category-search-toggle\"\n              autocomplete=\"off\"\n              #createFilterInput\n              dTextInput\n              [(ngModel)]=\"filterName\"\n              [placeholder]=\"i18nCategorySearchText?.placeholder || ''\"\n              [dValidateRules]=\"filterNameRules\"\n            />\n            <svg\n              *ngIf=\"showFilterNameClear\"\n              (click)=\"$event.preventDefault(); $event.stopPropagation(); filterName = ''\"\n              width=\"16px\"\n              height=\"16px\"\n              viewBox=\"0 0 16 16\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <title>{{ i18nCategorySearchText?.clearFilterCondition }}</title>\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <path\n                  d=\"M4.61289944,3.20970461 L4.70710678,3.29289322 L8,6.585 L11.2928932,3.29289322 C11.6834175,2.90236893 12.3165825,2.90236893 12.7071068,3.29289322 C13.0675907,3.65337718 13.0953203,4.22060824 12.7902954,4.61289944 L12.7071068,4.70710678 L9.415,8 L12.7071068,11.2928932 C13.0976311,11.6834175 13.0976311,12.3165825 12.7071068,12.7071068 C12.3466228,13.0675907 11.7793918,13.0953203 11.3871006,12.7902954 L11.2928932,12.7071068 L8,9.415 L4.70710678,12.7071068 C4.31658249,13.0976311 3.68341751,13.0976311 3.29289322,12.7071068 C2.93240926,12.3466228 2.90467972,11.7793918 3.20970461,11.3871006 L3.29289322,11.2928932 L6.585,8 L3.29289322,4.70710678 C2.90236893,4.31658249 2.90236893,3.68341751 3.29289322,3.29289322 C3.65337718,2.93240926 4.22060824,2.90467972 4.61289944,3.20970461 Z\"\n                  fill-rule=\"nonzero\"\n                ></path>\n              </g>\n            </svg>\n          </form>\n        </div>\n        <div class=\"devui-save-panel-operation-area\">\n          <d-button [disabled]=\"filterNameForm.invalid\" (btnClick)=\"createFilterFn(); saveDropdown.toggle()\">{{\n            i18nCategorySearchText?.confirm\n          }}</d-button>\n          <d-button bsStyle=\"common\" (btnClick)=\"saveDropdown.toggle()\">{{ i18nCategorySearchText?.cancel }}</d-button>\n        </div>\n      </div>\n    </div>\n    <div\n      *ngIf=\"allowShowMore\"\n      class=\"devui-category-search-icon\"\n      #seeMoreDropdown=\"d-dropdown\"\n      dDropDown\n      appendToBody\n      [alignOrigin]=\"primeContainer\"\n      [appendToBodyDirections]=\"['rightDown', 'rightUp', 'leftDown', 'leftUp']\"\n    >\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        dDropDownToggle\n      >\n        <title>{{ i18nCategorySearchText?.seeMore }}</title>\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M1,2 L3,2 L3,4 L1,4 L1,2 Z M1,7 L3,7 L3,9 L1,9 L1,7 Z M1,12 L3,12 L3,14 L1,14 L1,12 Z M5,2 L15,2 L15,4 L5,4 L5,2 Z M5,7 L15,7 L15,9 L5,9 L5,7 Z M5,12 L15,12 L15,14 L5,14 L5,12 Z\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n      <div dDropDownMenu class=\"devui-selected-tags-list\">\n        <ul [ngStyle]=\"{ width: PrimeContainer?.clientWidth + 'px' }\">\n          <li class=\"devui-tag-item\" *ngFor=\"let item of selectedTags; let i = index\" (click)=\"scrollToTag(i, $event)\">\n            <ng-template [ngTemplateOutlet]=\"joinLabelTypesTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-template #joinLabelTypesTemplate let-item=\"item\">\n  <div class=\"devui-tag-container\">\n    <d-tag\n      *ngIf=\"!joinLabelTypes.includes(item.type)\"\n      [deletable]=\"true\"\n      [tag]=\"item.label + ': ' + (item.value[item.filterKey || 'label'] || '')\"\n      [titleContent]=\"item.title\"\n      (tagDelete)=\"removeTag(item, $event.event)\"\n    ></d-tag>\n    <d-tags\n      *ngIf=\"joinLabelTypes.includes(item.type)\"\n      [deletable]=\"true\"\n      [tags]=\"[item]\"\n      [titleProperty]=\"'title'\"\n      (tagDelete)=\"removeTag(item, $event.event)\"\n    >\n      <ng-template let-tag=\"tag\" let-colorKey=\"tag.colorKey || 'color'\">\n        <span>{{ tag.label }}: </span>\n        <ng-container *ngFor=\"let val of tag.value.cache; let i = index\">\n          <span *ngIf=\"i > 0\" class=\"devui-color-block-split-line\"> | </span>\n          <span *ngIf=\"item.type === 'label'\" class=\"devui-color-block-sm\" [style.background]=\"val[colorKey]\"></span>\n          <span [style.color]=\"val[colorKey]\">{{ val[tag.filterKey || 'label'] || '' }}</span>\n        </ng-container>\n      </ng-template>\n    </d-tags>\n  </div>\n</ng-template>\n\n<ng-template #defaultGroupNameTemplate let-item=\"tag\">\n  <strong>{{ item?.groupName }}</strong>\n</ng-template>\n\n<ng-template #noData>\n  <div class=\"devui-no-data-tip\">{{ i18nCommonText?.noData }}</div>\n</ng-template>\n\n<ng-template [type]=\"'radio'\" let-tagOption=\"tagOption\" let-key=\"tagOption.filterKey || 'label'\">\n  <div *ngIf=\"!tagOption.options?.length\">\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n  </div>\n  <ul *ngIf=\"tagOption.options?.length\" class=\"devui-dropdown-menu-template devui-scrollbar\">\n    <li\n      *ngFor=\"let item of tagOption.options\"\n      title=\"{{ item[key] }}\"\n      class=\"devui-dropdown-item\"\n      [class.active]=\"tagOption?.value[key] === item[key]\"\n      (click)=\"chooseItem(tagOption, item)\"\n    >\n      <span>{{ item[key] }}</span>\n    </li>\n  </ul>\n</ng-template>\n\n<ng-template [type]=\"'dateRange'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <d-datepicker-calendar\n    *ngIf=\"dropdown.isOpen\"\n    id=\"{{ tagOption.field }}\"\n    style=\"overflow-x: hidden\"\n    #dDatepickerPro\n    [isRangeType]=\"true\"\n    [showTime]=\"tagOption.showTime\"\n    [ngModel]=\"tagOption.value.value\"\n    (ngModelChange)=\"dateValueChange(tagOption, dDatepickerPro)\"\n  >\n    <ng-template #footerTemplate>\n      <div class=\"devui-datepicker-footer\">\n        <d-button\n          style=\"margin-right: 8px\"\n          bsStyle=\"primary\"\n          (btnClick)=\"confirmDate(tagOption); closeMenu(dropdown)\"\n          [disabled]=\"!tagOption.value.value || tagOption.value.value.length < 2\"\n        >\n          {{ i18nCategorySearchText?.confirm }}\n        </d-button>\n      </div>\n    </ng-template>\n  </d-datepicker-calendar>\n</ng-template>\n\n<ng-template [type]=\"'checkbox'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <div *ngIf=\"!tagOption.options?.length\">\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n  </div>\n  <div *ngIf=\"tagOption.options?.length\" class=\"devui-dropdown-menu-template\">\n    <d-checkbox-group\n      [(ngModel)]=\"tagOption.value.value\"\n      [options]=\"tagOption.options\"\n      [filterKey]=\"tagOption.filterKey || 'label'\"\n      [isShowTitle]=\"true\"\n    >\n    </d-checkbox-group>\n  </div>\n  <div class=\"devui-dropdown-operation-area\">\n    <d-button (btnClick)=\"chooseItems(tagOption); closeMenu(dropdown)\">{{ i18nCategorySearchText?.confirm }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n\n<ng-template [type]=\"'label'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <div *ngIf=\"!tagOption.options?.length\">\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n  </div>\n  <div *ngIf=\"tagOption.options?.length\" class=\"devui-dropdown-menu-template\">\n    <d-checkbox-group\n      [(ngModel)]=\"tagOption.value.value\"\n      [options]=\"tagOption.options\"\n      [filterKey]=\"'$label'\"\n      [labelTemplate]=\"labelContent\"\n      [isShowTitle]=\"true\"\n    >\n      <ng-template #labelContent let-label=\"label\">\n        <span class=\"devui-color-block\" [style.background]=\"splitLabel('color', label)\" title=\"{{ splitLabel('label', label) }}\"></span>\n        <span title=\"{{ splitLabel('label', label) }}\">{{ splitLabel('label', label) }}</span>\n      </ng-template>\n    </d-checkbox-group>\n  </div>\n  <div class=\"devui-dropdown-operation-area\">\n    <d-button (btnClick)=\"chooseItems(tagOption); closeMenu(dropdown)\">{{ i18nCategorySearchText?.confirm }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n\n<ng-template [type]=\"'textInput'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <form #textInputForm=\"ngForm\">\n    <input\n      name=\"text-input\"\n      class=\"devui-category-search-type-text-input\"\n      autocomplete=\"off\"\n      dTextInput\n      [(ngModel)]=\"tagOption.value.value\"\n      [maxlength]=\"tagOption.maxLength\"\n      [placeholder]=\"tagOption.placeholder || ''\"\n      [dValidateRules]=\"tagOption.validateRules\"\n    />\n  </form>\n  <div class=\"devui-dropdown-operation-area\">\n    <d-button [disabled]=\"textInputForm.invalid\" (btnClick)=\"getTextInputValue(tagOption); closeMenu(dropdown)\">{{\n      i18nCategorySearchText?.confirm\n    }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n\n<ng-template [type]=\"'numberRange'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\">\n  <div class=\"devui-input-number-operation-area\">\n    <d-input-number\n      size=\"sm\"\n      [min]=\"tagOption.min?.left\"\n      [max]=\"tagOption.max?.left\"\n      [maxLength]=\"tagOption.maxLength?.left\"\n      [step]=\"tagOption.step?.left || 1\"\n      [reg]=\"tagOption.reg?.left\"\n      [placeholder]=\"tagOption.placeholder?.left || ''\"\n      [(ngModel)]=\"tagOption.value.value[0]\"\n    >\n    </d-input-number>\n    <span> - </span>\n    <d-input-number\n      size=\"sm\"\n      [min]=\"tagOption.min?.right\"\n      [max]=\"tagOption.max?.right\"\n      [maxLength]=\"tagOption.maxLength?.right\"\n      [step]=\"tagOption.step?.right || 1\"\n      [reg]=\"tagOption.reg?.right\"\n      [placeholder]=\"tagOption.placeholder?.right || ''\"\n      [(ngModel)]=\"tagOption.value.value[1]\"\n    >\n    </d-input-number>\n  </div>\n  <div class=\"devui-dropdown-operation-area\">\n    <d-button (btnClick)=\"getNumberRangeValue(tagOption); closeMenu(dropdown)\">{{ i18nCategorySearchText?.confirm }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n\n<ng-template [type]=\"'treeSelect'\" let-tagOption=\"tagOption\" let-dropdown=\"dropdown\" let-isSelected=\"isSelected\">\n  <div *ngIf=\"tagOption.multiple && tagOption.options?.length\">\n    <ul class=\"devui-select-list\">\n      <span>{{ i18nCategorySearchText?.selected }}</span>\n      <li class=\"devui-select-item devui-no-label-item\" *ngFor=\"let item of tagOption.value.value; last as isLast\">\n        {{ item[tagOption.filterKey || tagOption.treeNodeTitleKey || 'title'] }}\n        <span *ngIf=\"!isLast\">, </span>\n      </li>\n    </ul>\n  </div>\n  <div *ngIf=\"tagOption.searchable\">\n    <input\n      class=\"devui-input\"\n      autocomplete=\"off\"\n      #searchInputModel=\"ngModel\"\n      [(ngModel)]=\"treeSearchKey\"\n      (ngModelChange)=\"treeSearch(tree, $event)\"\n    />\n    <span class=\"devui-form-control-feedback\">\n      <svg\n        width=\"14px\"\n        height=\"14px\"\n        viewBox=\"0 0 14 14\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        class=\"svg-icon-search\"\n        style=\"vertical-align: middle\"\n      >\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <g transform=\"translate(-1.000000, -1.000000)\">\n            <path\n              d=\"M7.30811922,1 C10.7919973,1 13.6162384,3.82424117 13.6162384,7.30811922 C13.6162384,8.72507634 13.149053,10.0329164 12.3603151,11.0860065 L14.7360564,13.4616238 C15.0879812,13.8135487 15.0879812,14.3841316 14.7360564,14.7360564 C14.3841316,15.0879812 13.8135487,15.0879812 13.4616238,14.7360564 L11.0860065,12.3603151 C10.0329164,13.149053 8.72507634,13.6162384 7.30811922,13.6162384 C3.82424117,13.6162384 1,10.7919973 1,7.30811922 C1,3.82424117 3.82424117,1 7.30811922,1 Z M7.31,2.51 C4.6590332,2.51 2.51,4.6590332 2.51,7.31 C2.51,9.9609668 4.6590332,12.11 7.31,12.11 C9.9609668,12.11 12.11,9.9609668 12.11,7.31 C12.11,4.6590332 9.9609668,2.51 7.31,2.51 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </g>\n      </svg>\n    </span>\n  </div>\n  <div class=\"devui-category-search-tree-container\" [style.display]=\"tagOption.options?.length && !noRecord ? 'block' : 'none'\">\n    <d-operable-tree\n      #tree\n      [tree]=\"tagOption.multiple && isSelected ? tagOption.value.options : tagOption.options\"\n      [treeNodeIdKey]=\"tagOption.treeNodeIdKey || 'id'\"\n      [treeNodeChildrenKey]=\"tagOption.treeNodeChildrenKey || 'children'\"\n      [treeNodeTitleKey]=\"tagOption.filterKey || tagOption.treeNodeTitleKey || 'title'\"\n      [checkboxDisabledKey]=\"tagOption.disabledKey || 'disabled'\"\n      [checkable]=\"tagOption.multiple\"\n      [canActivateNode]=\"!tagOption.multiple\"\n      [canActivateParentNode]=\"!tagOption.leafOnly\"\n      [iconParentOpen]=\"tagOption.iconParentOpen || icons.iconParentOpen\"\n      [iconParentClose]=\"tagOption.iconParentClose || icons.iconParentClose\"\n      [iconLeaf]=\"tagOption.iconLeaf || icons.iconLeaf\"\n      (nodeChecked)=\"onOperableNodeChecked($event, tagOption)\"\n      (nodeSelected)=\"onOperableNodeSelected($event, tagOption, tree); closeMenu(dropdown)\"\n      class=\"devui-tree\"\n    >\n    </d-operable-tree>\n  </div>\n  <div *ngIf=\"!tagOption.options?.length\">\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n  </div>\n  <div *ngIf=\"noRecord\" class=\"devui-no-data-tip\">{{ i18nCommonText?.noRecordsFound }}</div>\n  <div *ngIf=\"tagOption.multiple\" class=\"devui-dropdown-operation-area\">\n    <d-button (btnClick)=\"getTreeValue(tagOption, tree); closeMenu(dropdown)\">{{ i18nCategorySearchText?.confirm }}</d-button>\n    <d-button bsStyle=\"common\" (btnClick)=\"closeMenu(dropdown)\">{{ i18nCategorySearchText?.cancel }}</d-button>\n  </div>\n</ng-template>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.devui-category-search-container{position:relative;border-radius:2px;border-radius:var(--devui-border-radius, 2px);width:100%;height:32px;padding:0 8px;display:flex;align-items:flex-start;background:transparent;transition:border .3s cubic-bezier(.645,.045,.355,1);transition:border var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1));background-color:#fff;background-color:var(--devui-base-bg, #ffffff);border:1px solid #d7d8da;border:1px solid var(--devui-line, #d7d8da)}.devui-category-search-container.container-hover{border:1px solid #9b9fa8;border:1px solid var(--devui-form-control-line-hover, #9b9fa8)}.devui-category-search-container.container-hover .devui-category-search-icon svg g path{fill:#252b3a;fill:var(--devui-icon-fill-hover, #252b3a)}.devui-category-search-container .devui-category-search-line-container{width:100%;height:32px;overflow:hidden}.devui-category-search-container .devui-category-search-line-container:hover{overflow-x:auto;overflow-x:overlay}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:flex-start;width:100%;height:30px;position:relative;top:-1px}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line>li{display:flex;align-items:center;flex-grow:0;white-space:nowrap;height:100%}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line .devui-category-search-input{display:flex;justify-content:flex-start;flex-grow:1;align-items:center;min-width:160px;padding-right:20px}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line .devui-category-search-input input{min-width:240px;width:100%;height:32px;font-size:12px;font-size:var(--devui-font-size-sm, 12px)}.devui-category-search-container .devui-category-search-line-container .devui-category-search-line .devui-category-search-input .devui-category-search-toggle{padding-left:0}.devui-category-search-container input{border:none;background:transparent}.devui-category-search-container .devui-input-container{display:flex;flex:1}.devui-category-search-container .devui-category-search-ctrl-container{display:flex;flex-wrap:nowrap}.devui-category-search-container .devui-category-search-ctrl-container .devui-category-search-separate-line{border-right:solid 1px #d7d8da;border-right:solid 1px var(--devui-line, #d7d8da);width:0;height:16px;margin:8px}.devui-tag-item{display:inline-block;margin-right:4px}.devui-tag-item:first-child{margin-left:4px}.devui-tag-item:focus{outline:none}.devui-tag-item .devui-color-block-split-line{color:#71757f;color:var(--devui-aide-text, #71757f)}.devui-tag-item .devui-color-block-sm{width:8px;height:8px;border-radius:2px;border-radius:var(--devui-border-radius, 2px);margin-right:4px;display:inline-block;position:relative;top:-1px;vertical-align:middle}span:focus{outline:none}.devui-category-search-icon{display:flex;padding-right:8px;align-items:center;height:30px}.devui-category-search-icon svg{cursor:pointer}.devui-category-search-icon svg path{fill:#71757f;fill:var(--devui-icon-fill, #71757f);transition:all cubic-bezier(.645,.045,.355,1) .3s;transition:all var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1)) var(--devui-animation-duration-slow, .3s)}.devui-category-search-icon:hover svg g path{fill:#252b3a;fill:var(--devui-icon-fill-hover, #252b3a)}input,input:focus{outline:none!important}a:focus,a:hover{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a)}d-tag{cursor:pointer}.devui-category-search-toggle{height:30px}.devui-date-picker-operation-area{border-top:1px solid #f2f2f3;border-top:1px solid var(--devui-dividing-line, #f2f2f3);margin:16px 0;padding:16px 16px 0;display:flex;justify-content:flex-end}.devui-date-picker-operation-area d-button:not(:first-child){margin-left:16px}.devui-dropdown-operation-area{border-top:1px solid #f2f2f3;border-top:1px solid var(--devui-dividing-line, #f2f2f3);padding-top:8px;margin:8px 0;display:flex;justify-content:center}.devui-dropdown-operation-area d-button:not(:first-child){margin-left:16px}.devui-input-number-operation-area{padding:16px 16px 8px;display:flex;justify-content:space-evenly}.devui-save-panel{width:400px;height:auto;margin-top:4px}.devui-save-panel .devui-save-panel-title{display:flex;justify-content:space-between;height:48px;line-height:48px;border-bottom:1px solid #f2f2f3;border-bottom:1px solid var(--devui-dividing-line, #f2f2f3);padding:0 20px;font-size:14px;font-weight:700;color:16px;color:var(--devui-font-size-page-title, 16px)}.devui-save-panel .devui-save-filter-name{padding:16px 20px}.devui-save-panel .devui-save-filter-name>form{position:relative}.devui-save-panel .devui-save-filter-name>form svg{position:absolute;right:8px;top:50%;transform:translateY(-50%);cursor:pointer}.devui-save-panel .devui-save-filter-name>form svg path{fill:#71757f;fill:var(--devui-icon-fill, #71757f)}.devui-save-panel .devui-save-filter-name>form svg:hover svg g path{fill:#252b3a;fill:var(--devui-icon-fill-hover, #252b3a)}.devui-save-panel .devui-save-filter-name>span{padding-bottom:8px;display:block;line-height:1em}.devui-save-panel .devui-save-filter-name>input{width:100%;height:32px;margin:4px auto;line-height:20px;border:1px solid #d7d8da;border:1px solid var(--devui-form-control-line, #d7d8da)}.devui-save-panel .devui-save-panel-operation-area{padding-bottom:12px;display:flex;justify-content:center}.devui-save-panel .devui-save-panel-operation-area d-button:not(:first-child){margin-left:16px}.devui-dropdown-menu-template{max-width:300px;max-height:352px}.devui-dropdown-menu-template .devui-category-search-group{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-dropdown-menu-template .devui-category-search-group.devui-dropdown-item:hover{background-color:transparent;color:#252b3a;color:var(--devui-text, #252b3a);cursor:default}.devui-selected-tags-list ul{display:flex;flex-flow:row wrap;align-items:center;justify-content:flex-start;padding:4px;max-height:390px;overflow:auto}.devui-selected-tags-list ul li{display:flex;flex-grow:0;flex-flow:row wrap}.devui-selected-tags-list ul li:first-child{margin-left:0}:host ::ng-deep .devui-tag-container{line-height:1}:host ::ng-deep .devui-tag-container d-tag>.devui-tag-item{display:block!important}:host ::ng-deep .devui-tag-container d-tag>.devui-tag-item>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;vertical-align:bottom;margin:0 4px}:host ::ng-deep .devui-checkbox-column-margin{height:32px!important;line-height:32px!important}::ng-deep .cdk-overlay-container d-datepicker[id=devui-category-search-date-picker] .devui-month-view{box-shadow:none!important}::ng-deep .cdk-overlay-container d-datepicker[id=devui-category-search-date-picker] .devui-month-view tfoot{display:none}::ng-deep .cdk-overlay-container .devui-selected-tags-list ul li .remove-button{right:8px}::ng-deep .devui-dropdown-top .devui-dropdown-menu-fix,::ng-deep .devui-dropdown-bottom .devui-dropdown-menu-fix,::ng-deep .devui-dropdown-open .devui-dropdown-menu-fix{margin-bottom:0}::ng-deep .devui-dropdown-menu-fix{min-width:200px;margin-left:0;overflow-y:auto;white-space:nowrap}::ng-deep .devui-dropdown-menu-fix.max-height{max-height:405px}::ng-deep .devui-dropdown-menu-fix .devui-checkbox-group{padding:8px 12px 0}::ng-deep .devui-dropdown-menu-fix .devui-checkbox-group .devui-color-block{width:12px;height:12px;margin-right:8px;border-radius:2px;border-radius:var(--devui-border-radius, 2px);top:-1px;position:relative;vertical-align:middle;display:inline-block}::ng-deep .devui-dropdown-menu-fix .devui-category-search-type-text-input{margin:16px 8px 8px;width:calc(100% - 16px)}::ng-deep .devui-dropdown-menu-fix .devui-select-list{display:flex;flex-wrap:wrap;max-width:300px;padding:8px}::ng-deep .devui-dropdown-menu-fix .devui-select-list span{margin-right:8px}::ng-deep .devui-dropdown-menu-fix .devui-category-search-tree-container{overflow-y:auto;max-height:270px;margin-bottom:-8px;padding:4px 0 4px 8px}::ng-deep .devui-dropdown-menu-fix .devui-yearOption,::ng-deep .devui-dropdown-menu-fix .devui-monthOption{white-space:normal}::ng-deep .devui-dropdown-menu-fix d-datepicker-calendar{display:block}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox{margin:0 -8px;padding:0 8px}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox:hover{background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox:hover label{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a)}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox:active{background-color:#f2f5fc;background-color:var(--devui-list-item-active-bg, #f2f5fc)}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox:active label{color:#252b3a;color:var(--devui-list-item-active-text, #252b3a)}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}::ng-deep .devui-dropdown-menu-fix d-input-number{width:70px}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group ul{max-height:310px}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox{transition:background-color .1s cubic-bezier(.645,.045,.355,1);transition:background-color var(--devui-animation-duration-fast, .1s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}::ng-deep .devui-dropdown-menu-template .devui-checkbox-group d-checkbox .devui-checkbox label{transition:color .1s cubic-bezier(.645,.045,.355,1);transition:color var(--devui-animation-duration-fast, .1s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}.devui-dropdown-menu-tip{cursor:text;padding:12px 12px 0;pointer-events:none;color:#71757f;color:var(--devui-aide-text, #71757f)}.devui-dividing-line{height:1px;width:100%;background-color:#f2f2f3;background-color:var(--devui-dividing-line, #f2f2f3);margin-top:4px}.devui-dropdown-menu{margin-top:4px;padding-bottom:0}.devui-dropdown-menu .devui-dropdown-item .icon-search{margin-right:4px}.devui-no-data-text{padding:8px 0;text-align:center}.devui-datepicker-footer{text-align:right}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.I18nService }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }]; }, propDecorators: { category: [{
                type: Input
            }], defaultSearchField: [{
                type: Input
            }], selectedTags: [{
                type: Input
            }], allowClear: [{
                type: Input
            }], allowSave: [{
                type: Input
            }], allowShowMore: [{
                type: Input
            }], toggleScrollToTail: [{
                type: Input
            }], searchKey: [{
                type: Input
            }], placeholderText: [{
                type: Input
            }], inputReadOnly: [{
                type: Input
            }], showSearchCategory: [{
                type: Input
            }], categoryInGroup: [{
                type: Input
            }], groupOrderConfig: [{
                type: Input
            }], customGroupNameTemplate: [{
                type: Input
            }], tagMaxWidth: [{
                type: Input
            }], filterNameRules: [{
                type: Input
            }], beforeTagChange: [{
                type: Input
            }], toggleEvent: [{
                type: Input
            }], searchEvent: [{
                type: Output
            }], selectedTagsChange: [{
                type: Output
            }], createFilterEvent: [{
                type: Output
            }], clearAllEvent: [{
                type: Output
            }], searchKeyChange: [{
                type: Output
            }], inputEle: [{
                type: ViewChild,
                args: ['InputEle']
            }], scrollBarContainer: [{
                type: ViewChild,
                args: ['ScrollBarContainer']
            }], primeContainer: [{
                type: ViewChild,
                args: ['PrimeContainer']
            }], selectedDropdownList: [{
                type: ViewChildren,
                args: ['selectedDropdown']
            }], datePickerElements: [{
                type: ViewChildren,
                args: [DatepickerProCalendarComponent, { read: ElementRef }]
            }], defaultTemplates: [{
                type: ViewChildren,
                args: [DefaultTemplateDirective]
            }], contentTemplates: [{
                type: ContentChildren,
                args: [ContentTemplateDirective]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2F0ZWdvcnktc2VhcmNoLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2RldnVpL2NhdGVnb3J5LXNlYXJjaC9jYXRlZ29yeS1zZWFyY2guY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZGV2dWkvY2F0ZWdvcnktc2VhcmNoL2NhdGVnb3J5LXNlYXJjaC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUdMLFNBQVMsRUFDVCxlQUFlLEVBQ2YsVUFBVSxFQUNWLFlBQVksRUFDWixNQUFNLEVBQ04sS0FBSyxFQUdMLE1BQU0sRUFDTixTQUFTLEVBRVQsV0FBVyxFQUNYLFNBQVMsRUFDVCxZQUFZLEVBQ2IsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLDhCQUE4QixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFHekUsT0FBTyxFQUFpQixXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0QsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3BELE9BQU8sRUFBaUIsb0JBQW9CLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNyRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDdEQsT0FBTyxFQUFFLFNBQVMsRUFBYyxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdEQsT0FBTyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDOUQsT0FBTyxFQUNMLDBCQUEwQixFQUMxQixNQUFNLEVBTVAsTUFBTSx3QkFBd0IsQ0FBQztBQUNoQyxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN4RSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4QkFB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QkFBb0I7Z0JBQ0YsY0FBYztzQkFBMUMsU0FBUzt1QkFBQyxnQkFBZ0I7Z0JBQ08sb0JBQW9CO3NCQUFyRCxZQUFZO3VCQUFDLGtCQUFrQjtnQkFDb0Msa0JBQWtCO3NCQUFyRixZQUFZO3VCQUFDLDhCQUE4QixFQUFFLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtnQkFDMUIsZ0JBQWdCO3NCQUF2RCxZQUFZO3VCQUFDLHdCQUF3QjtnQkFDSyxnQkFBZ0I7c0JBQTFELGVBQWU7dUJBQUMsd0JBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ29tcG9uZW50LFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5qZWN0LFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE91dHB1dCxcbiAgUXVlcnlMaXN0LFxuICBTaW1wbGVDaGFuZ2VzLFxuICBUZW1wbGF0ZVJlZixcbiAgVmlld0NoaWxkLFxuICBWaWV3Q2hpbGRyZW5cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ0Zvcm0gfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBEYXRlcGlja2VyUHJvQ2FsZW5kYXJDb21wb25lbnQgfSBmcm9tICduZy1kZXZ1aS9kYXRlcGlja2VyLXBybyc7XG5pbXBvcnQgeyBEcm9wRG93bkRpcmVjdGl2ZSB9IGZyb20gJ25nLWRldnVpL2Ryb3Bkb3duJztcbmltcG9ydCB7IERWYWxpZGF0ZVJ1bGVzIH0gZnJvbSAnbmctZGV2dWkvZm9ybSc7XG5pbXBvcnQgeyBJMThuSW50ZXJmYWNlLCBJMThuU2VydmljZSB9IGZyb20gJ25nLWRldnVpL2kxOG4nO1xuaW1wb3J0IHsgSVRyZWVJdGVtIH0gZnJvbSAnbmctZGV2dWkvdHJlZSc7XG5pbXBvcnQgeyBEZWZhdWx0SWNvbnMgfSBmcm9tICduZy1kZXZ1aS90cmVlLXNlbGVjdCc7XG5pbXBvcnQgeyBEYXRlQ29udmVydGVyLCBEZWZhdWx0RGF0ZUNvbnZlcnRlciB9IGZyb20gJ25nLWRldnVpL3V0aWxzJztcbmltcG9ydCB7IGNsb25lRGVlcCwgaXNFcXVhbCwgbWVyZ2UgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IHsgZnJvbUV2ZW50LCBPYnNlcnZhYmxlLCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIHRha2VVbnRpbCwgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtcbiAgQUxMT1dFRF9TRUFSQ0hfRklFTERfVFlQRVMsXG4gIENPTE9SUyxcbiAgQ3JlYXRlRmlsdGVyRXZlbnQsXG4gIElDYXRlZ29yeVNlYXJjaFRhZ0l0ZW0sXG4gIFNlYXJjaENvbmZpZyxcbiAgU2VhcmNoRXZlbnQsXG4gIFNlbGVjdGVkVGFnc0V2ZW50XG59IGZyb20gJy4vY2F0ZWdvcnktc2VhcmNoLnR5cGUnO1xuaW1wb3J0IHsgQ29udGVudFRlbXBsYXRlRGlyZWN0aXZlIH0gZnJvbSAnLi9jb250ZW50LXRlbXBsYXRlLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBEZWZhdWx0VGVtcGxhdGVEaXJlY3RpdmUgfSBmcm9tICcuL2RlZmF1bHQtdGVtcGxhdGUuZGlyZWN0aXZlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZC1jYXRlZ29yeS1zZWFyY2gnLFxuICB0ZW1wbGF0ZVVybDogJy4vY2F0ZWdvcnktc2VhcmNoLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vY2F0ZWdvcnktc2VhcmNoLmNvbXBvbmVudC5zY3NzJ10sXG59KVxuZXhwb3J0IGNsYXNzIENhdGVnb3J5U2VhcmNoQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIEFmdGVyVmlld0luaXQsIEFmdGVyQ29udGVudEluaXQge1xuICBzdGF0aWMgSURfU0VFRCA9IDA7XG4gIEBJbnB1dCgpIGNhdGVnb3J5OiBBcnJheTxJQ2F0ZWdvcnlTZWFyY2hUYWdJdGVtPjtcbiAgQElucHV0KCkgZGVmYXVsdFNlYXJjaEZpZWxkID0gW107XG4gIEBJbnB1dCgpIHNlbGVjdGVkVGFnczogQXJyYXk8SUNhdGVnb3J5U2VhcmNoVGFnSXRlbT4gPSBbXTtcbiAgQElucHV0KCkgYWxsb3dDbGVhciA9IHRydWU7XG4gIEBJbnB1dCgpIGFsbG93U2F2ZSA9IHRydWU7XG4gIEBJbnB1dCgpIGFsbG93U2hvd01vcmUgPSBmYWxzZTtcbiAgQElucHV0KCkgdG9nZ2xlU2Nyb2xsVG9UYWlsID0gZmFsc2U7XG4gIEBJbnB1dCgpIHNlYXJjaEtleSA9ICcnO1xuICBASW5wdXQoKSBwbGFjZWhvbGRlclRleHQ6IHN0cmluZztcbiAgQElucHV0KCkgaW5wdXRSZWFkT25seSA9IGZhbHNlO1xuICBASW5wdXQoKSBzaG93U2VhcmNoQ2F0ZWdvcnk6IFNlYXJjaENvbmZpZyB8IGJvb2xlYW4gPSB0cnVlOyAvLyDphY3nva7mmK/lkKbmmL7npLrmkJzntKLnm7jlhbPkuIvmi4npgInpoblcbiAgQElucHV0KCkgY2F0ZWdvcnlJbkdyb3VwID0gZmFsc2U7IC8vIOaYr+WQpuaMiee7hOWIq+aYvuekuuWIhuexu+S4i+aLieWIl+ihqFxuICBASW5wdXQoKSBncm91cE9yZGVyQ29uZmlnOiBBcnJheTxzdHJpbmc+OyAvLyDnlKjmiLfphY3nva7nu4Tpobrluo9cbiAgQElucHV0KCkgY3VzdG9tR3JvdXBOYW1lVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47IC8vIOeUqOaIt+iHquWumuS5iee7hOWQjeensOaYvuekuuaooeadv1xuICBASW5wdXQoKSB0YWdNYXhXaWR0aDogbnVtYmVyO1xuICBASW5wdXQoKSBmaWx0ZXJOYW1lUnVsZXM6IERWYWxpZGF0ZVJ1bGVzID0gW107XG4gIEBJbnB1dCgpIGJlZm9yZVRhZ0NoYW5nZTogKHRhZywgc2VhcmNoS2V5LCBvcGVyYXRpb24pID0+IGJvb2xlYW4gfCBQcm9taXNlPGJvb2xlYW4+IHwgT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgQElucHV0KCkgdG9nZ2xlRXZlbnQ6IChkcm9wZG93biwgdGFnPywgY3VycmVudFNlbGVjdFRhZz8pID0+IHZvaWQ7XG4gIEBPdXRwdXQoKSBzZWFyY2hFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8U2VhcmNoRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBzZWxlY3RlZFRhZ3NDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPFNlbGVjdGVkVGFnc0V2ZW50PigpO1xuICBAT3V0cHV0KCkgY3JlYXRlRmlsdGVyRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPENyZWF0ZUZpbHRlckV2ZW50PigpO1xuICBAT3V0cHV0KCkgY2xlYXJBbGxFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8TW91c2VFdmVudD4oKTtcbiAgQE91dHB1dCgpIHNlYXJjaEtleUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8U3RyaW5nPigpO1xuICBAVmlld0NoaWxkKCdJbnB1dEVsZScpIGlucHV0RWxlOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdTY3JvbGxCYXJDb250YWluZXInKSBzY3JvbGxCYXJDb250YWluZXI6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ1ByaW1lQ29udGFpbmVyJykgcHJpbWVDb250YWluZXI6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGRyZW4oJ3NlbGVjdGVkRHJvcGRvd24nKSBzZWxlY3RlZERyb3Bkb3duTGlzdDogUXVlcnlMaXN0PERyb3BEb3duRGlyZWN0aXZlPjtcbiAgQFZpZXdDaGlsZHJlbihEYXRlcGlja2VyUHJvQ2FsZW5kYXJDb21wb25lbnQsIHsgcmVhZDogRWxlbWVudFJlZiB9KSBkYXRlUGlja2VyRWxlbWVudHM6IFF1ZXJ5TGlzdDxFbGVtZW50UmVmPjtcbiAgQFZpZXdDaGlsZHJlbihEZWZhdWx0VGVtcGxhdGVEaXJlY3RpdmUpIGRlZmF1bHRUZW1wbGF0ZXM6IFF1ZXJ5TGlzdDxEZWZhdWx0VGVtcGxhdGVEaXJlY3RpdmU+O1xuICBAQ29udGVudENoaWxkcmVuKENvbnRlbnRUZW1wbGF0ZURpcmVjdGl2ZSkgY29udGVudFRlbXBsYXRlczogUXVlcnlMaXN0PENvbnRlbnRUZW1wbGF0ZURpcmVjdGl2ZT47XG4gIHB1YmxpYyBjdXJyZW50U2VsZWN0VGFnID0gdW5kZWZpbmVkO1xuICBwdWJsaWMgY3VycmVudFRhZzogSUNhdGVnb3J5U2VhcmNoVGFnSXRlbTtcbiAgcHVibGljIHNlYXJjaEZpZWxkO1xuICBwdWJsaWMgaWQ6IG51bWJlcjtcbiAgZGF0ZUNvbnZlcnRlcjogRGF0ZUNvbnZlcnRlcjtcbiAgZmlsdGVyTmFtZSA9ICcnO1xuICB0cmVlU2VhcmNoS2V5ID0gJyc7XG4gIHNlYXJjaEtleUNhY2hlID0gJyc7XG4gIGVudGVyU2VhcmNoID0gZmFsc2U7XG4gIGlzU2hvd1NhdmVQYW5lbCA9IGZhbHNlO1xuICBpc1NlYXJjaENhdGVnb3J5ID0gZmFsc2U7XG4gIGlzSG92ZXIgPSBmYWxzZTtcbiAgaXNGb2N1cyA9IGZhbHNlO1xuICBub1JlY29yZCA9IGZhbHNlO1xuICBzaG93Tm9EYXRhVGlwcyA9IGZhbHNlO1xuICBpY29ucyA9IERlZmF1bHRJY29ucztcbiAgZGVzdHJveSQgPSBuZXcgU3ViamVjdCgpO1xuICBpMThuQ29tbW9uVGV4dDogSTE4bkludGVyZmFjZVsnY29tbW9uJ107XG4gIGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ6IEkxOG5JbnRlcmZhY2VbJ2NhdGVnb3J5U2VhcmNoJ107XG4gIGN1cnJlbnRTZWFyY2hDYXRlZ29yeTogQXJyYXk8SUNhdGVnb3J5U2VhcmNoVGFnSXRlbT47XG4gIGNhdGVnb3J5RGlzcGxheTogQXJyYXk8SUNhdGVnb3J5U2VhcmNoVGFnSXRlbT47XG4gIGN1cnJlbnRPcGVuRHJvcGRvd246IERyb3BEb3duRGlyZWN0aXZlO1xuICBjdXJyZW50U2Nyb2xsVGFnSW5kZXg6IG51bWJlcjsgLy8g5b2T5YmN6KaB5rua5Yqo6Iez55qE5qCH562+57Si5byVXG4gIHNjcm9sbFRpbWVvdXQ6IGFueTsgLy8g5aaC5p6c5qCH562+5Zyo5Y+v6KeG6IyD5Zu05YaF5YiZ5bu25pe25bGV5byA5LiL5ouJ55qE5a6a5pe25ZmoXG4gIHNjcm9sbFRvVGFpbEZsYWcgPSB0cnVlOyAvLyDmmK/lkKblnKjmm7TmlrDmoIfnrb7lhoXlrrnlkI7mu5rliqjoh7PovpPlhaXmoYbnmoTlvIDlhbNcbiAgRFJPUERPV05fQU5JTUFUSU9OX1RJTUVPVVQgPSAyMDA7IC8vIOS4i+aLieWKqOeUu+W7tui/n1xuICBERUxBWSA9IDMwMDsgLy8g6Ziy5oqW5bu26L+fXG4gIHRlbXBsYXRlcyA9IHt9OyAvLyDmiYDmnInnsbvlnovpu5jorqTmqKHmnb9cbiAgY3VzdG9tVGVtcGxhdGVzID0ge307IC8vIOaMiWZpZWxk5qCH6K6w55qE6Ieq5a6a5LmJ5qih5p2/6ZuG5ZCIXG4gIGpvaW5MYWJlbFR5cGVzID0gWydjaGVja2JveCcsICdsYWJlbCddO1xuICB2YWx1ZUlzQXJyYXlUeXBlcyA9IFsnbnVtYmVyUmFuZ2UnLCAndHJlZVNlbGVjdCddO1xuICBzaG93U2VhcmNoQ29uZmlnOiBTZWFyY2hDb25maWc7XG4gIGRvY3VtZW50OiBEb2N1bWVudDtcblxuICBnZXQgc2hvd0ZpbHRlck5hbWVDbGVhcigpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMuZmlsdGVyTmFtZSA9PT0gJ3N0cmluZycgJiYgdGhpcy5maWx0ZXJOYW1lLmxlbmd0aCA+IDA7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGkxOG46IEkxOG5TZXJ2aWNlLCBASW5qZWN0KERPQ1VNRU5UKSBwcml2YXRlIGRvYzogYW55KSB7XG4gICAgdGhpcy5kb2N1bWVudCA9IHRoaXMuZG9jO1xuICAgIHRoaXMuZGF0ZUNvbnZlcnRlciA9IG5ldyBEZWZhdWx0RGF0ZUNvbnZlcnRlcigpO1xuICAgIHRoaXMuaWQgPSBDYXRlZ29yeVNlYXJjaENvbXBvbmVudC5JRF9TRUVEKys7XG4gICAgdGhpcy5zZXRJMThuVGV4dCgpO1xuICAgIHRoaXMuc2hvd1NlYXJjaENvbmZpZyA9IHtcbiAgICAgIGtleXdvcmQ6IHRydWUsXG4gICAgICBrZXl3b3JkRGVzY3JpcHRpb246IHRoaXMuaTE4bkNhdGVnb3J5U2VhcmNoVGV4dC5nZXRTZWFyY2hNZXNzYWdlLFxuICAgICAgZmllbGQ6IHRydWUsXG4gICAgICBmaWVsZERlc2NyaXB0aW9uOiB0aGlzLmkxOG5DYXRlZ29yeVNlYXJjaFRleHQuZ2V0RmluZGluZ01lc3NhZ2UsXG4gICAgICBjYXRlZ29yeTogdHJ1ZSxcbiAgICAgIGNhdGVnb3J5RGVzY3JpcHRpb246IHRoaXMuaTE4bkNhdGVnb3J5U2VhcmNoVGV4dC5zZWxlY3RGaWx0ZXJDb25kaXRpb24sXG4gICAgfTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoY2hhbmdlc1snZGVmYXVsdFNlYXJjaEZpZWxkJ10gfHwgY2hhbmdlc1snY2F0ZWdvcnknXSB8fCBjaGFuZ2VzWydzZWxlY3RlZFRhZ3MnXSkge1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzWydzZWFyY2hLZXknXSkge1xuICAgICAgdGhpcy5zZXRTZWFyY2hLZXlUYWcoKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ3Nob3dTZWFyY2hDYXRlZ29yeSddKSB7XG4gICAgICB0aGlzLnNldFNlYXJjaFNob3coKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ3RhZ01heFdpZHRoJ10pIHtcbiAgICAgIHRoaXMuc2V0VGFnc01heFdpZHRoKCk7XG4gICAgfVxuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIC8vIOiOt+WPluaJgOaciem7mOiupOaooeadv++8jOinhOmBv+iEj+ajgOafpea3u+WKoOW7tuaXtlxuICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgIHRoaXMuZGVmYXVsdFRlbXBsYXRlcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVzW2l0ZW0udHlwZV0gPSBpdGVtLnRlbXBsYXRlO1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgaWYgKHRoaXMuc2Nyb2xsQmFyQ29udGFpbmVyICYmIHRoaXMuaW5wdXRFbGUpIHtcbiAgICAgIC8vIOWIneWni+WMluWmguaenOaciea7muWKqOadoeebtOaOpeS9jeenu+iHs+i+k+WFpeahhlxuICAgICAgdGhpcy5zY3JvbGxUb1RhaWwodHJ1ZSk7XG4gICAgICAvLyDnm5HlkKzmu5rliqjkuovku7bvvIzlnKjot7Povazoh7PmjIflrprmoIfnrb7lkI7op6blj5HlhbbkuIvmi4nliJfooahcbiAgICAgIGZyb21FdmVudCh0aGlzLnNjcm9sbEJhckNvbnRhaW5lci5uYXRpdmVFbGVtZW50LCAnc2Nyb2xsJylcbiAgICAgICAgLnBpcGUoXG4gICAgICAgICAgdGFrZVVudGlsKHRoaXMuZGVzdHJveSQpLFxuICAgICAgICAgIHRhcCgoKSA9PiB7XG4gICAgICAgICAgICAvLyDmjIflrprmoIfnrb7lnKjlj6/op4bojIPlm7TliJnlsZXlvIDkuIvmi4nvvIzkuI3lnKjlj6/op4bojIPlm7TvvIzljbPop6blj5Hmu5rliqjlkI7muIXpmaTlrprml7bnmoTlsZXlvIDkuIvmi4nliqjkvZxcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsVGltZW91dCk7XG4gICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IOaXoOazleWMuuWIhuaJi+WKqOWSjOiHquWKqOa7muWKqO+8jOW+heWkhOeQhua7muWKqOaXtuWFs+mXreW3suaJk+W8gOeahOS4i+aLiVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC8vIDMwMOavq+enkuWGheS4jeWGjeinpuWPkea7muWKqOS6i+S7tuWImeWxleW8gOS4i+aLieWIl+ihqFxuICAgICAgICAgIGRlYm91bmNlVGltZSh0aGlzLkRFTEFZKVxuICAgICAgICApXG4gICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50KSA9PiB0aGlzLm9wZW5DdXJyZW50U2Nyb2xsVGFnTWVudShldmVudCkpO1xuICAgIH1cbiAgfVxuXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICB0aGlzLnNldEN1c3RvbVRlbXBsYXRlKHRoaXMuY29udGVudFRlbXBsYXRlcyk7XG4gICAgdGhpcy5jb250ZW50VGVtcGxhdGVzLmNoYW5nZXMuc3Vic2NyaWJlKChkYXRhKSA9PiB0aGlzLnNldEN1c3RvbVRlbXBsYXRlKGRhdGEpKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuZGVzdHJveSQubmV4dCgpO1xuICAgIHRoaXMuZGVzdHJveSQuY29tcGxldGUoKTtcbiAgfVxuXG4gIHNldEN1c3RvbVRlbXBsYXRlKGRhdGEpIHtcbiAgICBpZiAoZGF0YT8ubGVuZ3RoICYmIHRoaXMuY2F0ZWdvcnkpIHtcbiAgICAgIHRoaXMuY3VzdG9tVGVtcGxhdGVzID0ge307XG4gICAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgdGhpcy5jdXN0b21UZW1wbGF0ZXNbaXRlbS5maWVsZF0gPSBpdGVtLnRlbXBsYXRlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNhdGVnb3J5LmZvckVhY2goKHRhZykgPT4ge1xuICAgICAgICB0YWcuY3VzdG9tVGVtcGxhdGUgPSB0aGlzLmN1c3RvbVRlbXBsYXRlc1t0YWcuZmllbGRdO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlbGVjdGVkVGFncy5mb3JFYWNoKCh0YWcpID0+IHtcbiAgICAgICAgdGFnLmN1c3RvbVRlbXBsYXRlID0gdGhpcy5jdXN0b21UZW1wbGF0ZXNbdGFnLmZpZWxkXTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHNldEkxOG5UZXh0KCkge1xuICAgIHRoaXMuaTE4bkNvbW1vblRleHQgPSB0aGlzLmkxOG4uZ2V0STE4blRleHQoKS5jb21tb247XG4gICAgdGhpcy5pMThuQ2F0ZWdvcnlTZWFyY2hUZXh0ID0gdGhpcy5pMThuLmdldEkxOG5UZXh0KCkuY2F0ZWdvcnlTZWFyY2g7XG4gICAgdGhpcy5pMThuXG4gICAgICAubGFuZ0NoYW5nZSgpXG4gICAgICAucGlwZSh0YWtlVW50aWwodGhpcy5kZXN0cm95JCkpXG4gICAgICAuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMuaTE4bkNvbW1vblRleHQgPSBkYXRhLmNvbW1vbjtcbiAgICAgICAgdGhpcy5pMThuQ2F0ZWdvcnlTZWFyY2hUZXh0ID0gZGF0YS5jYXRlZ29yeVNlYXJjaDtcbiAgICAgICAgLy8g5YWz6ZSu5a2X5YiG57G75YaF5paH5pys5LiN6IO96ZqP6K+t6KiA5a+56LGh5Y+Y5YyW77yM6ZyA6YeN5paw6LWL5YC8XG4gICAgICAgIGNvbnN0IFtrZXl3b3JkXSA9IHRoaXMuc2VsZWN0ZWRUYWdzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5maWVsZCA9PT0gJ2RldnVpQ2F0ZWdvcnlTZWFyY2hLZXl3b3JkJyk7XG4gICAgICAgIGlmIChrZXl3b3JkKSB7XG4gICAgICAgICAga2V5d29yZC5sYWJlbCA9IHRoaXMuaTE4bkNhdGVnb3J5U2VhcmNoVGV4dFsna2V5d29yZCddO1xuICAgICAgICAgIGtleXdvcmQudGl0bGUgPSBgJHtrZXl3b3JkLmxhYmVsfToke2tleXdvcmQudmFsdWU/LmxhYmVsfWA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLy8g5o+S5YWldGFnIG1heC13aWR0aCDmoLflvI/mjqfliLbmmK/lkKbmmL7npLrnnIHnlaXlj7dcbiAgc2V0VGFnc01heFdpZHRoKCkge1xuICAgIGlmICh0aGlzLnRhZ01heFdpZHRoKSB7XG4gICAgICBjb25zdCBydWxlID0gYC5kZXZ1aS1jYXRlZ29yeS1zZWFyY2gtaWQtJHt0aGlzLmlkfSAuZGV2dWktdGFnLWNvbnRhaW5lciBkLXRhZz4uZGV2dWktdGFnLWl0ZW0+c3BhbnttYXgtd2lkdGg6JHt0aGlzLnRhZ01heFdpZHRofXB4fWA7XG4gICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlLmlubmVyVGV4dCA9IHJ1bGU7XG4gICAgICB0aGlzLmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfVxuXG4gIHNldFNlYXJjaFNob3coKSB7XG4gICAgY29uc3QgY3VzdG9tQ29uZmlnID1cbiAgICAgIHR5cGVvZiB0aGlzLnNob3dTZWFyY2hDYXRlZ29yeSA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgID8ge1xuICAgICAgICAgIGtleXdvcmQ6IHRoaXMuc2hvd1NlYXJjaENhdGVnb3J5LFxuICAgICAgICAgIGZpZWxkOiB0aGlzLnNob3dTZWFyY2hDYXRlZ29yeSxcbiAgICAgICAgICBjYXRlZ29yeTogdGhpcy5zaG93U2VhcmNoQ2F0ZWdvcnksXG4gICAgICAgIH1cbiAgICAgICAgOiB0aGlzLnNob3dTZWFyY2hDYXRlZ29yeTtcbiAgICB0aGlzLnNob3dTZWFyY2hDb25maWcgPSB7IC4uLnRoaXMuc2hvd1NlYXJjaENvbmZpZywgLi4uY3VzdG9tQ29uZmlnIH07XG4gIH1cblxuICBzZXRTZWFyY2hLZXlUYWcoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zZWxlY3RlZFRhZ3MuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmZpZWxkICE9PSAnZGV2dWlDYXRlZ29yeVNlYXJjaEtleXdvcmQnKTtcbiAgICBpZiAodGhpcy5zZWFyY2hLZXkgJiYgIXRoaXMuY3VycmVudFNlbGVjdFRhZykge1xuICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmkxOG5DYXRlZ29yeVNlYXJjaFRleHRbJ2tleXdvcmQnXTtcbiAgICAgIGNvbnN0IHNlYXJjaEtleVRhZyA9IHtcbiAgICAgICAgb3B0aW9uczogW10sXG4gICAgICAgIGZpZWxkOiAnZGV2dWlDYXRlZ29yeVNlYXJjaEtleXdvcmQnLFxuICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgIHR5cGU6ICdrZXl3b3JkJyxcbiAgICAgICAgdGl0bGU6IGAke2xhYmVsfToke3RoaXMuc2VhcmNoS2V5fWAsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgbGFiZWw6IHRoaXMuc2VhcmNoS2V5LFxuICAgICAgICAgIHZhbHVlOiB0aGlzLnNlYXJjaEtleSxcbiAgICAgICAgICBjYWNoZTogdGhpcy5zZWFyY2hLZXksXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZFRhZ3Moc2VhcmNoS2V5VGFnLCB0cnVlLCByZXN1bHQpO1xuICAgICAgdGhpcy5zZWFyY2hLZXlDYWNoZSA9IHRoaXMuc2VhcmNoS2V5O1xuICAgIH1cbiAgICB0aGlzLnNlYXJjaEtleSA9ICcnO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5lbnRlclNlYXJjaCA9IGZhbHNlO1xuICAgIH0sIHRoaXMuREVMQVkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuc2V0VmFsdWUodGhpcy5jYXRlZ29yeSk7XG4gICAgdGhpcy5zZXRWYWx1ZSh0aGlzLnNlbGVjdGVkVGFncywgdHJ1ZSk7XG4gICAgdGhpcy5pbml0Q2F0ZWdvcnlEaXNwbGF5KCk7XG4gICAgaWYgKHRoaXMuZGVmYXVsdFNlYXJjaEZpZWxkICYmIHRoaXMuZGVmYXVsdFNlYXJjaEZpZWxkLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZWFyY2hGaWVsZCA9IHRoaXMuY2F0ZWdvcnkuZmlsdGVyKFxuICAgICAgICAoaXRlbSkgPT4gdGhpcy5kZWZhdWx0U2VhcmNoRmllbGQuaW5jbHVkZXMoaXRlbS5maWVsZCkgJiYgQUxMT1dFRF9TRUFSQ0hfRklFTERfVFlQRVMuaW5jbHVkZXMoaXRlbS50eXBlKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8g5Yid5aeL5YyW5pe25Yik5pat5bey6YCJ5Lit5YiG57G75Lit5pyA5ZCO5LiA6aG55piv5ZCm6LWL5YC877yM5pyq6LWL5YC85YiZ6K+G5Yir5Li65q2j5Zyo5aSE55CG55qE5YiG57G777yM5LyY5YWI5pi+56S66LWL5YC85LiL5ouJ5YiX6KGoXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRUYWdzLmxlbmd0aCkge1xuICAgICAgY29uc3QgW2xhc3RJdGVtXSA9IHRoaXMuc2VsZWN0ZWRUYWdzLnNsaWNlKC0xKTtcbiAgICAgIGNvbnN0IGlzTnVsbCA9IGxhc3RJdGVtLnZhbHVlW2xhc3RJdGVtLmZpbHRlcktleSB8fCAnbGFiZWwnXSA9PT0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5jdXJyZW50U2VsZWN0VGFnID0gaXNOdWxsICYmIChsYXN0SXRlbS52YWx1ZS52YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGxhc3RJdGVtLnZhbHVlLnZhbHVlID09PSBbXSkgPyBsYXN0SXRlbSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvLyDliJ3lp4vljJZ0YWfnmoR2YWx1ZeWxnuaAp++8mntmaWx0ZXJLZXkgfCBsYWJlbCwgdmFsdWUsIGRhdGF9XG4gIGluaXRDYXRlZ29yeUl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IHByZVZhbHVlID0gdGhpcy52YWx1ZUlzQXJyYXlUeXBlcy5pbmNsdWRlcyhpdGVtLnR5cGUpID8geyB2YWx1ZTogW10gfSA6IHsgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgIHByZVZhbHVlW2l0ZW0uZmlsdGVyS2V5IHx8ICdsYWJlbCddID0gdW5kZWZpbmVkO1xuICAgIGlmIChpdGVtLnZhbHVlKSB7XG4gICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcHJlVmFsdWUpIHtcbiAgICAgICAgaWYgKGl0ZW0udmFsdWVbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGl0ZW0udmFsdWVbcHJvcF0gPSBwcmVWYWx1ZVtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtLnZhbHVlID0gcHJlVmFsdWU7XG4gICAgfVxuICAgIGl0ZW0udmFsdWUuY2FjaGUgPSAoaXRlbS52YWx1ZS52YWx1ZSAmJiB0eXBlb2YgaXRlbS52YWx1ZS52YWx1ZSA9PT0gJ29iamVjdCcgJiYgY2xvbmVEZWVwKGl0ZW0udmFsdWUudmFsdWUpKSB8fCBpdGVtLnZhbHVlLnZhbHVlO1xuICAgIGlmIChpdGVtLnR5cGUgPT09ICd0cmVlU2VsZWN0JyAmJiBpdGVtLm9wdGlvbnMgJiYgaXRlbS5vcHRpb25zLmxlbmd0aCkge1xuICAgICAgaXRlbS52YWx1ZS5vcHRpb25zID0gY2xvbmVEZWVwKGl0ZW0ub3B0aW9ucyk7XG4gICAgfVxuICAgIGl0ZW0uY3VzdG9tVGVtcGxhdGUgPSB0aGlzLmN1c3RvbVRlbXBsYXRlc1tpdGVtLmZpZWxkXSB8fCBpdGVtLmN1c3RvbVRlbXBsYXRlO1xuICAgIHJldHVybiBpdGVtO1xuICB9XG5cbiAgc2V0VmFsdWUoZGF0YSwgaXNTZWxlY3RlZFRhZ3MgPSBmYWxzZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWRUYWdzKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgICAgICAgIGNvbnN0IG9yaWdpbkl0ZW0gPSB0aGlzLmNhdGVnb3J5LmZpbmQoKGNhdGVnb3J5SXRlbSkgPT4gY2F0ZWdvcnlJdGVtLmZpZWxkID09PSBpdGVtLmZpZWxkKTtcbiAgICAgICAgICBtZXJnZShpdGVtLCBvcmlnaW5JdGVtKTtcbiAgICAgICAgICBpZiAoaXRlbS52YWx1ZS52YWx1ZSkge1xuICAgICAgICAgICAgaXRlbS52YWx1ZS5jYWNoZSA9IGNsb25lRGVlcChpdGVtLnZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuam9pbkxhYmVsVHlwZXMuaW5jbHVkZXMoaXRlbS50eXBlKSA/IHRoaXMuZ2V0SXRlbVZhbHVlKGl0ZW0udmFsdWUudmFsdWUsIGl0ZW0uZmlsdGVyS2V5IHx8ICdsYWJlbCcpIDogJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0udGl0bGUgPSB0aGlzLnNldFRpdGxlKGl0ZW0sIGl0ZW0udHlwZSwgcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtID0gdGhpcy5pbml0Q2F0ZWdvcnlJdGVtKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZXRUaXRsZSh0YWc6IElDYXRlZ29yeVNlYXJjaFRhZ0l0ZW0sIHR5cGU6IHN0cmluZywgcmVzdWx0Pzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuam9pbkxhYmVsVHlwZXMuaW5jbHVkZXModHlwZSlcbiAgICAgID8gYCR7dGFnLmxhYmVsfTogJHtyZXN1bHQgfHwgJyd9YFxuICAgICAgOiBgJHt0YWcubGFiZWx9OiAke3Jlc3VsdCB8fCAodGFnLnZhbHVlICYmIHRhZy52YWx1ZVt0YWcuZmlsdGVyS2V5IHx8ICdsYWJlbCddKSB8fCAnJ31gO1xuICB9XG5cbiAgaW5pdENhdGVnb3J5RGlzcGxheSgpIHtcbiAgICBjb25zdCBzZWxlY3RlZFRhZ3NGaWVsZCA9IHRoaXMuc2VsZWN0ZWRUYWdzLm1hcCgoaXRlbSkgPT4gaXRlbS5maWVsZCk7XG4gICAgaWYgKHRoaXMuY2F0ZWdvcnlJbkdyb3VwKSB7XG4gICAgICBjb25zdCBncm91cE9iaiA9IHt9O1xuICAgICAgdGhpcy5jYXRlZ29yeS5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLmluc2VydENhdGVnb3J5VG9Hcm91cChpdGVtLmdyb3VwLCBncm91cE9iaiwgaXRlbSwgc2VsZWN0ZWRUYWdzRmllbGQuaW5kZXhPZihpdGVtLmZpZWxkKSA9PT0gLTEpKTtcbiAgICAgIGNvbnN0IGtleXMgPSB0aGlzLmdyb3VwT3JkZXJDb25maWcgfHwgT2JqZWN0LmtleXMoZ3JvdXBPYmopO1xuICAgICAgdGhpcy5jYXRlZ29yeURpc3BsYXkgPSBbXTtcbiAgICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmIChncm91cE9ialtrZXldKSB7XG4gICAgICAgICAgY29uc3QgZ3JvdXBJdGVtID0gPElDYXRlZ29yeVNlYXJjaFRhZ0l0ZW0+e307XG4gICAgICAgICAgZ3JvdXBJdGVtLmdyb3VwTmFtZSA9IGtleTtcbiAgICAgICAgICBncm91cEl0ZW0uZ3JvdXBMZW5ndGggPSBncm91cE9ialtrZXldLmxlbmd0aDtcbiAgICAgICAgICB0aGlzLmNhdGVnb3J5RGlzcGxheS5wdXNoKGdyb3VwSXRlbSwgLi4uZ3JvdXBPYmpba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhdGVnb3J5RGlzcGxheSA9XG4gICAgICAgIHNlbGVjdGVkVGFnc0ZpZWxkICYmIHNlbGVjdGVkVGFnc0ZpZWxkLmxlbmd0aFxuICAgICAgICAgID8gdGhpcy5jYXRlZ29yeS5maWx0ZXIoKGl0ZW0pID0+IHNlbGVjdGVkVGFnc0ZpZWxkLmluZGV4T2YoaXRlbS5maWVsZCkgPT09IC0xKVxuICAgICAgICAgIDogdGhpcy5jYXRlZ29yeTtcbiAgICB9XG4gIH1cblxuICBpbnNlcnRDYXRlZ29yeVRvR3JvdXAoZ3JvdXBOYW1lLCBncm91cE9iaiwgaXRlbSwgaXNJbnNlcnQpIHtcbiAgICBpZiAoIWdyb3VwTmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBncm91cE9ialtncm91cE5hbWVdID0gZ3JvdXBPYmpbZ3JvdXBOYW1lXSB8fCBbXTtcbiAgICBpZiAoaXNJbnNlcnQpIHtcbiAgICAgIGdyb3VwT2JqW2dyb3VwTmFtZV0ucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2goKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zZXRTZWFyY2hLZXlUYWcoKTtcbiAgICB0aGlzLnNlYXJjaEV2ZW50LmVtaXQoeyBzZWxlY3RlZFRhZ3M6IHJlc3VsdCwgc2VhcmNoS2V5OiB0aGlzLnNlYXJjaEtleUNhY2hlIH0pO1xuICAgIHRoaXMuaXNGb2N1cyA9IHRydWU7XG4gIH1cblxuICBzZWFyY2hDYXRlZ29yeShpdGVtKSB7XG4gICAgY29uc3QgdmFsaWRGaWVsZCA9IGl0ZW07XG4gICAgdGhpcy51cGRhdGVGaWVsZFZhbHVlKHZhbGlkRmllbGQsIHRoaXMuc2VhcmNoS2V5KTtcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkVGFncyh2YWxpZEZpZWxkKTtcbiAgICB0aGlzLnNlYXJjaEtleSA9ICcnO1xuICAgIHRoaXMuZW50ZXJTZWFyY2ggPSBmYWxzZTtcbiAgICB0aGlzLmZpbmlzaENob29zZSgpO1xuICB9XG5cbiAgc2VhcmNoSW5wdXRWYWx1ZShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zZXRTZWFyY2hLZXlUYWcoKTtcbiAgICB0aGlzLnNlYXJjaEV2ZW50LmVtaXQoeyBzZWxlY3RlZFRhZ3M6IHJlc3VsdCwgc2VhcmNoS2V5OiB0aGlzLnNlYXJjaEtleUNhY2hlIH0pO1xuICB9XG5cbiAgY2hvb3NlQ2F0ZWdvcnkoaXRlbSwgaW5wdXREcm9wZG93bjogRHJvcERvd25EaXJlY3RpdmUpIHtcbiAgICAvLyDngrnpgInliIbnu4TlkI3np7DkuI3lpITnkIZcbiAgICBpZiAoaXRlbS5ncm91cExlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50U2VsZWN0VGFnID0gaXRlbTtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTZWxlY3RUYWcudHlwZSA9PT0gJ2xhYmVsJykge1xuICAgICAgICB0aGlzLmN1cnJlbnRTZWxlY3RUYWcgPSB0aGlzLm1lcmdlVG9MYWJlbCh0aGlzLmN1cnJlbnRTZWxlY3RUYWcpO1xuICAgICAgfVxuICAgICAgaW5wdXREcm9wZG93bi5pc09wZW4gPSB0cnVlO1xuICAgIH0sIHRoaXMuRFJPUERPV05fQU5JTUFUSU9OX1RJTUVPVVQpO1xuICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRUYWdzKGl0ZW0sIGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZVNlbGVjdGVkVGFncyh0YWcsIHZhbHVlQ2hhbmdlZCA9IHRydWUsIHJlc3VsdD86IGFueSkge1xuICAgIHRoaXMuY2FuQ2hhbmdlKHRhZywgJ2FkZCcpLnRoZW4oKHZhbCkgPT4ge1xuICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNlbGVjdGVkVGFncy5tYXAoKGl0ZW0pID0+IGl0ZW0uZmllbGQpLmluZGV4T2YodGFnLmZpZWxkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGlmICghdGFnLnZhbHVlLnZhbHVlKSB7XG4gICAgICAgICAgLy8g6YCa6L+H6L6T5YWl6YCJ5oup5YiG57G75pe26YG/5YWN56m65YC86KaG55uW5bey6YCJ5YC8XG4gICAgICAgICAgbWVyZ2UodGFnLCB0aGlzLnNlbGVjdGVkVGFnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzW2luZGV4XSA9IHRhZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzLnB1c2godGFnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzb2x2ZUNhdGVnb3J5RGlzcGxheSh0YWcsICdkZWxldGUnKTtcbiAgICAgIGlmICh2YWx1ZUNoYW5nZWQpIHtcbiAgICAgICAgLy8g5Y+q5Zyo5paw5aKe5qCH562+5pe25L2N56e75rua5Yqo5p2hXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbFRvVGFpbEZsYWcpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2Nyb2xsVG9UYWlsKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzQ2hhbmdlLmVtaXQoeyBzZWxlY3RlZFRhZ3M6IHJlc3VsdCB8fCB0aGlzLnNlbGVjdGVkVGFncywgY3VycmVudENoYW5nZVRhZzogdGFnLCBvcGVyYXRpb246ICdhZGQnIH0pO1xuICAgICAgICB0aGlzLmlzU2VhcmNoQ2F0ZWdvcnkgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIOWIpOaWrea7muWKqOadoeaYr+WQpuWtmOWcqO+8jOWmguaenOWtmOWcqOiHquWKqOa7muWKqOWIsOacq+WwvueahOi+k+WFpeahhlxuICBzY3JvbGxUb1RhaWwoaXNJbml0PzogYm9vbGVhbikge1xuICAgIGNvbnN0IGRvbSA9IHRoaXMuc2Nyb2xsQmFyQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKHRoaXMudG9nZ2xlU2Nyb2xsVG9UYWlsICYmIGRvbS5zY3JvbGxXaWR0aCA+IGRvbS5jbGllbnRXaWR0aCkge1xuICAgICAgaWYgKGlzSW5pdCkge1xuICAgICAgICBkb20uc2Nyb2xsTGVmdCA9IGRvbS5zY3JvbGxXaWR0aCAtIGRvbS5jbGllbnRXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5wdXRFbGUubmF0aXZlRWxlbWVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICduZWFyZXN0JywgaW5saW5lOiAnbmVhcmVzdCcgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNJbml0KSB7XG4gICAgICAvLyDliJ3lp4vljJbkuI3ogZrnhKbvvIzpgb/lhY3lsZXlvIDkuIvmi4lcbiAgICAgIHRoaXMuaW5wdXRFbGUubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOa7muWKqOiHs+aMh+WumueahHRhZ1xuICBzY3JvbGxUb1RhZyhpbmRleDogbnVtYmVyLCBldmVudDogRXZlbnQpIHtcbiAgICBjb25zdCB0YWdzID0gdGhpcy5zY3JvbGxCYXJDb250YWluZXI/Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgndWwuZGV2dWktY2F0ZWdvcnktc2VhcmNoLWxpbmU+bGknKTtcbiAgICBpZiAodGFnc1tpbmRleF0pIHtcbiAgICAgIHRoaXMuY3VycmVudFNjcm9sbFRhZ0luZGV4ID0gaW5kZXg7XG4gICAgICB0YWdzW2luZGV4XS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICduZWFyZXN0JywgaW5saW5lOiAnbmVhcmVzdCcgfSk7XG4gICAgICB0aGlzLnNjcm9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMub3BlbkN1cnJlbnRTY3JvbGxUYWdNZW51KGV2ZW50KSwgdGhpcy5ERUxBWSk7XG4gICAgfVxuICB9XG5cbiAgb3BlbkN1cnJlbnRTY3JvbGxUYWdNZW51KGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFNjcm9sbFRhZ0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGRyb3Bkb3duQXJyID0gdGhpcy5zZWxlY3RlZERyb3Bkb3duTGlzdC50b0FycmF5KCk7XG4gICAgICB0aGlzLm9wZW5NZW51KGRyb3Bkb3duQXJyW3RoaXMuY3VycmVudFNjcm9sbFRhZ0luZGV4XSwgZXZlbnQpO1xuICAgICAgdGhpcy5jdXJyZW50U2Nyb2xsVGFnSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlRmllbGRWYWx1ZShmaWVsZCwgdmFsdWUpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCBmaWx0ZXJLZXkgPSBmaWVsZC5maWx0ZXJLZXkgfHwgJ2xhYmVsJztcbiAgICBjb25zdCBjb2xvcktleSA9IGZpZWxkLmNvbG9yS2V5IHx8ICdjb2xvcic7XG4gICAgcmVzdWx0W2ZpbHRlcktleV0gPSB2YWx1ZTtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgZmllbGQudmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGZpZWxkLnRpdGxlID0gdGhpcy5zZXRUaXRsZShmaWVsZCwgJ3JhZGlvJywgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2xhYmVsJykge1xuICAgICAgaWYgKCFmaWVsZC5vcHRpb25zWzBdPy4kbGFiZWwpIHtcbiAgICAgICAgdGhpcy5tZXJnZVRvTGFiZWwoZmllbGQpO1xuICAgICAgfVxuICAgICAgcmVzdWx0W2NvbG9yS2V5XSA9IENPTE9SU1tNYXRoLmZsb29yKENPTE9SUy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpKV07XG4gICAgICByZXN1bHRbJyRsYWJlbCddID0gYCR7dmFsdWV9XyR7cmVzdWx0W2NvbG9yS2V5XX1gO1xuICAgIH1cbiAgICBpZiAoWydsYWJlbCcsICdjaGVja2JveCddLmluY2x1ZGVzKGZpZWxkLnR5cGUpKSB7XG4gICAgICBmaWVsZC52YWx1ZS52YWx1ZSA9IFtyZXN1bHRdO1xuICAgICAgLy8gc2V0VGl0bGXkuK1jaGVja2JveOS4jmxhYmVs5ZCM5qC35aSE55CG77yM5LiN6ZyA6KaB6ZKI5a+5bGFiZWzkv67mlLnnsbvlnovlj4LmlbBcbiAgICAgIGZpZWxkLnRpdGxlID0gdGhpcy5zZXRUaXRsZShmaWVsZCwgJ2NoZWNrYm94JywgdmFsdWUpO1xuICAgIH1cbiAgICBmaWVsZC52YWx1ZVtmaWx0ZXJLZXldID0gdmFsdWU7XG4gICAgZmllbGQudmFsdWUuY2FjaGUgPSBjbG9uZURlZXAoZmllbGQudmFsdWUudmFsdWUpO1xuICB9XG5cbiAgcmVtb3ZlVGFnKHRhZzogSUNhdGVnb3J5U2VhcmNoVGFnSXRlbSwgZXZlbnQ/OiBFdmVudCkge1xuICAgIHRoaXMuY2FuQ2hhbmdlKHRhZywgJ2RlbGV0ZScpLnRoZW4oKHZhbCkgPT4ge1xuICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuYmVmb3JlVGFnQ2hhbmdlICYmIGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGFnID0gdGhpcy5yZXNldFZhbHVlKHRhZyk7XG4gICAgICB0aGlzLnNlbGVjdGVkVGFncyA9IHRoaXMuc2VsZWN0ZWRUYWdzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5maWVsZCAhPT0gdGFnLmZpZWxkKTtcbiAgICAgIGlmICh0YWcudHlwZSAhPT0gJ2tleXdvcmQnKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzQ2hhbmdlLmVtaXQoeyBzZWxlY3RlZFRhZ3M6IHRoaXMuc2VsZWN0ZWRUYWdzLCBjdXJyZW50Q2hhbmdlVGFnOiB0YWcsIG9wZXJhdGlvbjogJ2RlbGV0ZScgfSk7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNhdGVnb3J5RGlzcGxheSh0YWcsICdhZGQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VhcmNoS2V5ID0gdGhpcy5zZWFyY2hLZXkgPT09IHRoaXMuc2VhcmNoS2V5Q2FjaGUgPyAnJyA6IHRoaXMuc2VhcmNoS2V5O1xuICAgICAgICB0aGlzLnNlYXJjaEtleUNhY2hlID0gJyc7XG4gICAgICAgIHRoaXMuc2VhcmNoRXZlbnQuZW1pdCh7IHNlbGVjdGVkVGFnczogdGhpcy5zZWxlY3RlZFRhZ3MsIHNlYXJjaEtleTogJycgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnRTZWxlY3RUYWcgPSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH1cblxuICBjaGVja0lucHV0U2VhcmNoaW5nKCkge1xuICAgIHRoaXMuaXNGb2N1cyA9IHRydWU7XG4gICAgaWYgKHRoaXMuc2VhcmNoS2V5ID09PSAnJykge1xuICAgICAgdGhpcy5lbnRlclNlYXJjaCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVudGVyU2VhcmNoID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyDop6PlhrNkcm9wZG93bk1lbnXlsZXlvIDml7bnhKbngrnkvJroh6rliqjliLB0b2dnbGXkuIrnmoTpl67pophcbiAgZm9jdXNJbnB1dCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuaW5wdXRFbGUubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g5aSx54Sm5pe25YWz6Zet5b2T5YmN5LiL5ouJ5YiX6KGo77yM5bu25pe255So5Lul6Ziy5q2i5YWz6Zet5o6J54K55Ye75YiG57G75bGV5byA55qE5YaF5a655YiX6KGoXG4gIGJsdXJJbnB1dCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5jdXJyZW50U2VsZWN0VGFnICYmIHRoaXMuY3VycmVudE9wZW5Ecm9wZG93bikge1xuICAgICAgICB0aGlzLmN1cnJlbnRPcGVuRHJvcGRvd24uaXNPcGVuID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSwgdGhpcy5ERUxBWSk7XG4gIH1cblxuICBvcGVuTWVudShpbnB1dERyb3Bkb3duOiBEcm9wRG93bkRpcmVjdGl2ZSwgZXZlbnQpIHtcbiAgICBpZiAoaW5wdXREcm9wZG93bi5pc09wZW4gfHwgKGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgKGV2ZW50LmNvZGUgPT09ICdFbnRlcicgfHwgZXZlbnQuY29kZSA9PT0gJ0JhY2tzcGFjZScpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghaW5wdXREcm9wZG93bi5pc09wZW4pIHtcbiAgICAgICAgaW5wdXREcm9wZG93bi50b2dnbGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlTWVudShpbnB1dERyb3Bkb3duOiBEcm9wRG93bkRpcmVjdGl2ZSkge1xuICAgIGlmIChpbnB1dERyb3Bkb3duLmlzT3Blbikge1xuICAgICAgaW5wdXREcm9wZG93bi50b2dnbGUoKTtcbiAgICB9XG4gIH1cblxuICBiYWNrc3BhY2VFdmVudChpbnB1dERyb3Bkb3duKSB7XG4gICAgaWYgKHRoaXMuc2VhcmNoS2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmN1cnJlbnRTZWxlY3RUYWcpIHtcbiAgICAgIHRoaXMuY3VycmVudFNlbGVjdFRhZyA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuY2xvc2VNZW51KGlucHV0RHJvcGRvd24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNhbkNoYW5nZSh0aGlzLnNlbGVjdGVkVGFnc1t0aGlzLnNlbGVjdGVkVGFncy5sZW5ndGggLSAxXSwgJ2RlbGV0ZScpLnRoZW4oKHZhbCkgPT4ge1xuICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hhbmdlVGFnID0gdGhpcy5zZWxlY3RlZFRhZ3MucG9wKCk7XG4gICAgICB0aGlzLnJlc29sdmVDYXRlZ29yeURpc3BsYXkoY2hhbmdlVGFnLCAnYWRkJyk7XG4gICAgICBpZiAoY2hhbmdlVGFnKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzQ2hhbmdlLmVtaXQoeyBzZWxlY3RlZFRhZ3M6IHRoaXMuc2VsZWN0ZWRUYWdzLCBjdXJyZW50Q2hhbmdlVGFnOiBjaGFuZ2VUYWcsIG9wZXJhdGlvbjogJ2RlbGV0ZScgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jbG9zZU1lbnUoaW5wdXREcm9wZG93bik7XG4gIH1cblxuICBjYW5DaGFuZ2UodGFnLCBvcGVyYXRpb246ICdkZWxldGUnIHwgJ2FkZCcpIHtcbiAgICBsZXQgY2hhbmdlUmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgIGlmICh0aGlzLmJlZm9yZVRhZ0NoYW5nZSkge1xuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSB0aGlzLmJlZm9yZVRhZ0NoYW5nZSh0YWcsIHRoaXMuc2VhcmNoS2V5LCBvcGVyYXRpb24pO1xuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChyZXN1bHQudGhlbikge1xuICAgICAgICAgIGNoYW5nZVJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgY2hhbmdlUmVzdWx0ID0gKHJlc3VsdCBhcyBPYnNlcnZhYmxlPGJvb2xlYW4+KS50b1Byb21pc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VSZXN1bHQgPSBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlUmVzdWx0O1xuICB9XG5cbiAgZmluaXNoQ2hvb3NlKCkge1xuICAgIHRoaXMuY3VycmVudFNlbGVjdFRhZyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlucHV0RWxlLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgfVxuXG4gIGNsZWFyRmlsdGVyKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRUYWdzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZWxlY3RlZFRhZ3MuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5yZXNldFZhbHVlKGl0ZW0pKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzID0gW107XG4gICAgfVxuICAgIGlmICh0aGlzLnNlYXJjaEtleSB8fCB0aGlzLnNlYXJjaEtleUNhY2hlKSB7XG4gICAgICB0aGlzLnNlYXJjaEtleSA9ICcnO1xuICAgICAgdGhpcy5zZWFyY2hLZXlDYWNoZSA9ICcnO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXJyZW50U2VsZWN0VGFnKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZWxlY3RUYWcgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0ZWRUYWdzQ2hhbmdlLmVtaXQoeyBzZWxlY3RlZFRhZ3M6IFtdLCBjdXJyZW50Q2hhbmdlVGFnOiB1bmRlZmluZWQsIG9wZXJhdGlvbjogJ2NsZWFyJyB9KTtcbiAgICB0aGlzLmNsZWFyQWxsRXZlbnQuZW1pdChldmVudCk7XG4gICAgdGhpcy5pbml0Q2F0ZWdvcnlEaXNwbGF5KCk7XG4gIH1cblxuICByZXNvbHZlQ2F0ZWdvcnlEaXNwbGF5KHRhZywgdHlwZSkge1xuICAgIGlmICh0YWcgJiYgdHlwZSA9PT0gJ2FkZCcpIHtcbiAgICAgIGlmICh0aGlzLmNhdGVnb3J5SW5Hcm91cCkge1xuICAgICAgICBjb25zdCBncm91cEluZGV4ID0gdGhpcy5jYXRlZ29yeURpc3BsYXkuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLmdyb3VwTmFtZSA9PT0gdGFnLmdyb3VwKTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeURpc3BsYXlbZ3JvdXBJbmRleF0uZ3JvdXBMZW5ndGgrKztcbiAgICAgICAgdGhpcy5jYXRlZ29yeURpc3BsYXkuc3BsaWNlKGdyb3VwSW5kZXggKyAxLCAwLCB0YWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYXRlZ29yeURpc3BsYXkucHVzaCh0YWcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgIGlmICh0aGlzLmNhdGVnb3J5SW5Hcm91cCkge1xuICAgICAgICBjb25zdCB0YWdJbmRleCA9IHRoaXMuY2F0ZWdvcnlEaXNwbGF5LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5maWVsZCA9PT0gdGFnLmZpZWxkKTtcbiAgICAgICAgaWYgKHRhZ0luZGV4ID49IDApIHtcbiAgICAgICAgICBjb25zdCBncm91cEluZGV4ID0gdGhpcy5jYXRlZ29yeURpc3BsYXkuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLmdyb3VwTmFtZSA9PT0gdGFnLmdyb3VwKTtcbiAgICAgICAgICB0aGlzLmNhdGVnb3J5RGlzcGxheVtncm91cEluZGV4XS5ncm91cExlbmd0aC0tO1xuICAgICAgICAgIHRoaXMuY2F0ZWdvcnlEaXNwbGF5LnNwbGljZSh0YWdJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlEaXNwbGF5ID0gdGhpcy5jYXRlZ29yeURpc3BsYXkuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmZpZWxkICE9PSB0YWcuZmllbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUZpbHRlckZuKCkge1xuICAgIHRoaXMuY3JlYXRlRmlsdGVyRXZlbnQuZW1pdCh7IG5hbWU6IHRoaXMuZmlsdGVyTmFtZSwgc2VsZWN0ZWRUYWdzOiB0aGlzLnNlbGVjdGVkVGFncywga2V5d29yZDogdGhpcy5zZWFyY2hLZXkgfSk7XG4gICAgdGhpcy5maWx0ZXJOYW1lID0gJyc7XG4gIH1cblxuICBjcmVhdGVGaWx0ZXJJbnB1dEF1dG9Gb2N1cyhkcm9wZG93bjogRHJvcERvd25EaXJlY3RpdmUsIGlucHV0RWxtOiBIVE1MRWxlbWVudCwgZmlsdGVyTmFtZUZvcm06IE5nRm9ybSkge1xuICAgIGlmIChkcm9wZG93bi5pc09wZW4pIHtcbiAgICAgIGZpbHRlck5hbWVGb3JtLmZvcm0ucmVzZXQoKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gaW5wdXRFbG0uZm9jdXMoKSk7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoS2V5Q2hhbmdlRXZlbnQoZXZlbnQ6IHN0cmluZykge1xuICAgIHRoaXMuZW50ZXJTZWFyY2ggPSAhIWV2ZW50O1xuICAgIHRoaXMuY3VycmVudFNlYXJjaENhdGVnb3J5ID0gdGhpcy5jYXRlZ29yeS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW1bJ2xhYmVsJ10udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhldmVudC50b0xvd2VyQ2FzZSgpKSk7XG4gICAgdGhpcy5zZWFyY2hLZXlDaGFuZ2UuZW1pdChldmVudCk7XG4gIH1cblxuICBjaGVja1R5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUudHlwZSA9PT0gJ3JhZGlvJyA/ICdhbGwnIDogJ2JsYW5rJztcbiAgfVxuXG4gIHJlc2V0VmFsdWUodGFnKSB7XG4gICAgdGFnLnZhbHVlID0gdGhpcy52YWx1ZUlzQXJyYXlUeXBlcy5pbmNsdWRlcyh0YWcudHlwZSkgPyB7IHZhbHVlOiBbXSB9IDogeyB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgdGFnLnZhbHVlW3RhZy5maWx0ZXJLZXkgfHwgJ2xhYmVsJ10gPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHRhZztcbiAgfVxuXG4gIGFmdGVyRHJvcGRvd25DbG9zZWQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRTZWxlY3RUYWcgPSB1bmRlZmluZWQ7XG4gICAgfSwgdGhpcy5EUk9QRE9XTl9BTklNQVRJT05fVElNRU9VVCArIDEwMCk7XG4gIH1cblxuICAvKiDlkITnsbvlnovmqKHmnb/osIPnlKjmlrnms5UgKi9cblxuICAvLyByYWRpbyDljZXpgIkg5aSE55CG6YCJ5Lit6aG55pa55rOVXG4gIGNob29zZUl0ZW0odGFnLCBjaG9vc2VJdGVtKSB7XG4gICAgdGhpcy5hZnRlckRyb3Bkb3duQ2xvc2VkKCk7XG4gICAgdGFnLnZhbHVlID0gY2xvbmVEZWVwKGNob29zZUl0ZW0pO1xuICAgIHRhZy52YWx1ZS5jYWNoZSA9IHRhZy52YWx1ZS52YWx1ZTtcbiAgICB0YWcudGl0bGUgPSB0aGlzLnNldFRpdGxlKHRhZywgJ3JhZGlvJyk7XG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZFRhZ3ModGFnKTtcbiAgfVxuXG4gIGNvbmZpcm1EYXRlKHRhZykge1xuICAgIHRoaXMuYWZ0ZXJEcm9wZG93bkNsb3NlZCgpO1xuICAgIHRhZy52YWx1ZS5jYWNoZSA9IGNsb25lRGVlcCh0YWcudmFsdWUudmFsdWUpO1xuICAgIHRhZy52YWx1ZVt0YWcuZmlsdGVyS2V5IHx8ICdsYWJlbCddID0gdGFnLnNob3dUaW1lXG4gICAgICA/IHRoaXMuZGF0ZUNvbnZlcnRlci5mb3JtYXREYXRlVGltZSh0YWcudmFsdWUudmFsdWVbMF0pICsgJyAtICcgKyB0aGlzLmRhdGVDb252ZXJ0ZXIuZm9ybWF0RGF0ZVRpbWUodGFnLnZhbHVlLnZhbHVlWzFdKVxuICAgICAgOiB0aGlzLmRhdGVDb252ZXJ0ZXIuZm9ybWF0KHRhZy52YWx1ZS52YWx1ZVswXSkgKyAnIC0gJyArIHRoaXMuZGF0ZUNvbnZlcnRlci5mb3JtYXQodGFnLnZhbHVlLnZhbHVlWzFdKTtcbiAgICB0YWcudGl0bGUgPSB0aGlzLnNldFRpdGxlKHRhZywgJ2RhdGVSYW5nZScpO1xuICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRUYWdzKHRhZyk7XG4gIH1cblxuICBkYXRlVmFsdWVDaGFuZ2UodGFnLCBkYXRlcGlja2VycHJvOiBEYXRlcGlja2VyUHJvQ2FsZW5kYXJDb21wb25lbnQpIHtcbiAgICBpZiAoZGF0ZXBpY2tlcnByby5kYXRlVmFsdWUubGVuZ3RoKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGRhdGVwaWNrZXJwcm8uY3VycmVudEFjdGl2ZUlucHV0ID09PSAnc3RhcnQnID8gMCA6IDE7XG4gICAgICBpZiAodGFnLnZhbHVlLnZhbHVlICYmICFkYXRlcGlja2VycHJvLmRhdGVWYWx1ZS5pbmNsdWRlcygnJykpIHtcbiAgICAgICAgdGFnLnZhbHVlLnZhbHVlW2luZGV4XSA9IGRhdGVwaWNrZXJwcm8uY3VyQWN0aXZlRGF0ZTtcbiAgICAgICAgdGFnLnZhbHVlLnZhbHVlID0gWy4uLnRhZy52YWx1ZS52YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWcudmFsdWUudmFsdWUgPSBbZGF0ZXBpY2tlcnByby5jdXJBY3RpdmVEYXRlXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFnLnZhbHVlLnZhbHVlID0gW107XG4gICAgfVxuICB9XG5cbiAgLy8gY2hlY2tib3ggfCBsYWJlbCDlpJrpgIkg5aSE55CG6YCJ5Lit6aG55pa55rOVXG4gIGNob29zZUl0ZW1zKHRhZykge1xuICAgIHRoaXMuYWZ0ZXJEcm9wZG93bkNsb3NlZCgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZ2V0SXRlbVZhbHVlKHRhZy52YWx1ZS52YWx1ZSwgdGFnLmZpbHRlcktleSB8fCAnbGFiZWwnKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICB0YWcudGl0bGUgPSB0aGlzLnNldFRpdGxlKHRhZywgJ2NoZWNrYm94JywgcmVzdWx0KTtcbiAgICAgIHRhZy52YWx1ZVt0YWcuZmlsdGVyS2V5IHx8ICdsYWJlbCddID0gcmVzdWx0O1xuICAgICAgdGFnLnZhbHVlLmNhY2hlID0gY2xvbmVEZWVwKHRhZy52YWx1ZS52YWx1ZSk7XG4gICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkVGFncyh0YWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZVRhZyh0YWcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoZWNrYm94IHwgbGFiZWwg5bCG6YCJ5Lit6aG55a+55bqUZmlsdGVyS2V555qE5YC85ZCI5bm255qE5pa55rOV77yM5b2T5YmN5aSa6YCJ5bey6YCa6L+HZGF0YeWxleekuu+8jOWPr+iAg+iZkeenu+mZpFxuICBnZXRJdGVtVmFsdWUodmFsdWUsIGtleSkge1xuICAgIGlmICh2YWx1ZSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUubWFwKChpdGVtKSA9PiBpdGVtW2tleV0pO1xuICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcsJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gY2hlY2tib3ggfCBsYWJlbCDlvZPkuIvmi4noj5zljZXlsZXlvIDph43nva7lpJrpgInnmoTpgInkuK3nirbmgIFcbiAgcmVzZXRDb250ZW50KGRyb3Bkb3duOiBEcm9wRG93bkRpcmVjdGl2ZSwgdGFnPzogYW55KSB7XG4gICAgaWYgKHRoaXMudG9nZ2xlRXZlbnQpIHtcbiAgICAgIHRoaXMudG9nZ2xlRXZlbnQoZHJvcGRvd24sIHRhZywgdGhpcy5jdXJyZW50U2VsZWN0VGFnKTtcbiAgICB9XG4gICAgaWYgKGRyb3Bkb3duLmlzT3Blbikge1xuICAgICAgdGhpcy5jdXJyZW50T3BlbkRyb3Bkb3duID0gZHJvcGRvd247XG4gICAgICBpZiAodGFnPy50eXBlID09PSAna2V5d29yZCcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hLZXkgPSB0aGlzLnNlYXJjaEtleUNhY2hlO1xuICAgICAgICB0aGlzLmlucHV0RWxlLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgZHJvcGRvd24uaXNPcGVuID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xlYXJDdXJyZW50U2VsZWN0VGFnRnJvbVNlYXJjaCgpO1xuICAgICAgdGhpcy5jdXJyZW50T3BlbkRyb3Bkb3duID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zaG93Tm9EYXRhVGlwcyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGFnKSB7XG4gICAgICB0aGlzLnNjcm9sbFRvVGFpbEZsYWcgPSBmYWxzZTtcbiAgICAgIGlmICghaXNFcXVhbCh0YWcudmFsdWUudmFsdWUsIHRhZy52YWx1ZS5jYWNoZSkpIHtcbiAgICAgICAgdGFnLnZhbHVlLnZhbHVlID0gY2xvbmVEZWVwKHRhZy52YWx1ZS5jYWNoZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlQWNjb3JkaW5nVHlwZSh0YWcudHlwZSwgdGFnLnZhbHVlLm9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50U2VsZWN0VGFnKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZWxlY3RUYWcudmFsdWUudmFsdWUgPSB0aGlzLnZhbHVlSXNBcnJheVR5cGVzLmluY2x1ZGVzKHRoaXMuY3VycmVudFNlbGVjdFRhZy50eXBlKSA/IFtdIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5oYW5kbGVBY2NvcmRpbmdUeXBlKHRoaXMuY3VycmVudFNlbGVjdFRhZy50eXBlLCB0aGlzLmN1cnJlbnRTZWxlY3RUYWcub3B0aW9ucyk7XG4gICAgICB0aGlzLnNjcm9sbFRvVGFpbEZsYWcgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLnNob3dOb0RhdGFUaXBzID0gdGhpcy5jYXRlZ29yeURpc3BsYXkubGVuZ3RoID09PSAwIHx8ICF0aGlzLmNhdGVnb3J5RGlzcGxheS5zb21lKChpdGVtKSA9PiBpdGVtICYmIGl0ZW0uZ3JvdXBMZW5ndGggPT09IHVuZGVmaW5lZCk7XG4gIH1cblxuICBzaG93Q3VycmVudFNlYXJjaENhdGVnb3J5KGl0ZW0sIGlucHV0RHJvcGRvd246IERyb3BEb3duRGlyZWN0aXZlKSB7XG4gICAgdGhpcy5pc1NlYXJjaENhdGVnb3J5ID0gdHJ1ZTtcbiAgICB0aGlzLmNsZWFyU2VhcmNoS2V5KCk7XG4gICAgdGhpcy5jbG9zZU1lbnUoaW5wdXREcm9wZG93bik7XG4gICAgdGhpcy5jaG9vc2VDYXRlZ29yeShpdGVtLCBpbnB1dERyb3Bkb3duKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY2hlY2tJbnB1dFNlYXJjaGluZygpLCB0aGlzLkRFTEFZKTtcbiAgfVxuXG4gIGNsZWFyQ3VycmVudFNlbGVjdFRhZ0Zyb21TZWFyY2goKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFNlbGVjdFRhZykge1xuICAgICAgaWYgKHRoaXMuaXNTZWFyY2hDYXRlZ29yeSkge1xuICAgICAgICB0aGlzLmlzU2VhcmNoQ2F0ZWdvcnkgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmZpbmlzaENob29zZSgpLCB0aGlzLkRFTEFZKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVBY2NvcmRpbmdUeXBlKHR5cGU6IHN0cmluZywgb3B0aW9uczogQXJyYXk8YW55Pikge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3RyZWVTZWxlY3QnOlxuICAgICAgb3B0aW9ucyA9IGNsb25lRGVlcChvcHRpb25zKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHRJbnB1dCc6XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXREb206IEhUTUxFbGVtZW50ID0gdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGV2dWktY2F0ZWdvcnktc2VhcmNoLXR5cGUtdGV4dC1pbnB1dCcpO1xuICAgICAgICBpZiAoaW5wdXREb20pIHtcbiAgICAgICAgICBpbnB1dERvbS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLkRST1BET1dOX0FOSU1BVElPTl9USU1FT1VUKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9XG5cbiAgLy8gbGFiZWwg5ZCI5bm25ZCN56ew5ZKM6aKc6Imy5a2X5q616LWL57uZdGFn77yM5b6FW3RhZ13mlK/mjIHkvKDlhaXlr7nosaHlkI7lj6/np7vpmaRcbiAgbWVyZ2VUb0xhYmVsKG9iaikge1xuICAgIGlmIChvYmogJiYgb2JqLm9wdGlvbnMgJiYgQXJyYXkuaXNBcnJheShvYmoub3B0aW9ucykpIHtcbiAgICAgIG9iai5vcHRpb25zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLiRsYWJlbCA9IGAke2l0ZW1bb2JqLmZpbHRlcktleSB8fCAnbGFiZWwnXX1fJHtpdGVtW29iai5jb2xvcktleSB8fCAnY29sb3InXX1gO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvLyBsYWJlbCDmi4bliIblkI3np7DlkozpopzoibLnlKjkuo7kuIvmi4npgInpobnmmL7npLpcbiAgc3BsaXRMYWJlbChrZXksIHZhbHVlKSB7XG4gICAgLy8g5Yid5aeL5YyW6YCJ5Lit57G75Yir55Sf5oiQ5qCH562+5pe277yMdmFsdWXkuLpsYWJlbOeahOWvueixoe+8jOS4jemcgOimgeWvueWAvOi/m+ihjOaTjeS9nFxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IHZhbHVlICYmIHZhbHVlLnNwbGl0KCdfJyk7XG4gICAgY29uc3Qgb2JqID0gcmVzICYmIHsgbGFiZWw6IHJlc1swXSwgY29sb3I6IHJlc1sxXSB9O1xuICAgIHJldHVybiBvYmogJiYgb2JqW2tleV07XG4gIH1cblxuICAvLyB0ZXh0SW5wdXQg5paH5pys6L6T5YWl5qGGIOWkhOeQhumAieS4remhueaWueazlVxuICBnZXRUZXh0SW5wdXRWYWx1ZSh0YWcpIHtcbiAgICB0aGlzLmFmdGVyRHJvcGRvd25DbG9zZWQoKTtcbiAgICB0YWcudmFsdWVbdGFnLmZpbHRlcktleSB8fCAnbGFiZWwnXSA9IHRhZy52YWx1ZS5jYWNoZSA9IHRhZy52YWx1ZS52YWx1ZTtcbiAgICB0YWcudGl0bGUgPSB0aGlzLnNldFRpdGxlKHRhZywgJ3RleHRJbnB1dCcpO1xuICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRUYWdzKHRhZyk7XG4gIH1cblxuICAvLyBudW1iZXJSYW5nZSDmlbDlrZfojIPlm7Qg5aSE55CG6YCJ5Lit6aG55pa55rOVXG4gIGdldE51bWJlclJhbmdlVmFsdWUodGFnKSB7XG4gICAgdGhpcy5hZnRlckRyb3Bkb3duQ2xvc2VkKCk7XG4gICAgY29uc3Qgc3RhcnROdW0gPSB0YWcudmFsdWUudmFsdWVbMF0gfHwgMDtcbiAgICBjb25zdCBlbmROdW0gPSB0YWcudmFsdWUudmFsdWVbMV0gfHwgMDtcbiAgICB0YWcudmFsdWUudmFsdWUgPSBbc3RhcnROdW0sIGVuZE51bV07XG4gICAgdGFnLnZhbHVlLmNhY2hlID0gW3N0YXJ0TnVtLCBlbmROdW1dO1xuICAgIHRhZy52YWx1ZVt0YWcuZmlsdGVyS2V5IHx8ICdsYWJlbCddID0gYCR7c3RhcnROdW19IC0gJHtlbmROdW19YDtcbiAgICB0YWcudGl0bGUgPSB0aGlzLnNldFRpdGxlKHRhZywgJ251bWJlclJhbmdlJyk7XG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZFRhZ3ModGFnKTtcbiAgfVxuXG4gIC8vIHRyZWVTZWxlY3Qg5qCRIOWkhOeQhumAieS4remhueaWueazlVxuICBnZXRUcmVlVmFsdWUodGFnLCB0cmVlKSB7XG4gICAgdGhpcy5hZnRlckRyb3Bkb3duQ2xvc2VkKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgY29uc3Qgc2VsZWN0ZWRJZHMgPSBbXTtcbiAgICB0YWcudmFsdWUudmFsdWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgcmVzdWx0LnB1c2goaXRlbVt0YWcuZmlsdGVyS2V5IHx8IHRhZy50cmVlTm9kZVRpdGxlS2V5IHx8ICd0aXRsZSddKTtcbiAgICAgIHNlbGVjdGVkSWRzLnB1c2goaXRlbVt0YWcudHJlZU5vZGVJZEtleSB8fCAnaWQnXSk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcbiAgICAgIHRhZy52YWx1ZS5vcHRpb25zID0gY2xvbmVEZWVwKHRhZy5vcHRpb25zKTtcbiAgICAgIHRhZy52YWx1ZS5jYWNoZSA9IGNsb25lRGVlcCh0YWcudmFsdWUudmFsdWUpO1xuICAgICAgdGFnLnZhbHVlW3RhZy5maWx0ZXJLZXkgfHwgJ2xhYmVsJ10gPSByZXN1bHQuam9pbignLCcpO1xuICAgICAgdGFnLnRpdGxlID0gdGhpcy5zZXRUaXRsZSh0YWcsICd0cmVlU2VsZWN0Jyk7XG4gICAgICBpZiAodGFnLm11bHRpcGxlKSB7XG4gICAgICAgIGNvbnN0IGhhbGZDaGVja2VkSWRzID0gW107XG4gICAgICAgIHRyZWUubm9kZXMuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5kYXRhLmhhbGZDaGVja2VkICYmIGhhbGZDaGVja2VkSWRzLnB1c2goaXRlbS5pZCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZVRyZWVEYXRhKHRhZywgdGFnLnZhbHVlLm9wdGlvbnMsIHNlbGVjdGVkSWRzLCBoYWxmQ2hlY2tlZElkcyk7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkVGFncyh0YWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZVRhZyh0YWcpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVRyZWVEYXRhKHRhZywgZGF0YSwgc2VsZWN0ZWRJZHMsIGhhbGZDaGVja2VkSWRzKSB7XG4gICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBpdGVtSWQgPSBpdGVtW3RhZy50cmVlTm9kZUlkS2V5IHx8ICdpZCddO1xuICAgICAgY29uc3QgY2hpbGREYXRhID0gaXRlbVt0YWcudHJlZU5vZGVDaGlsZHJlbktleSB8fCAnY2hpbGRyZW4nXTtcbiAgICAgIGl0ZW0uaXNDaGVja2VkID0gc2VsZWN0ZWRJZHMuaW5jbHVkZXMoaXRlbUlkKTtcbiAgICAgIGl0ZW0uaGFsZkNoZWNrZWQgPSBoYWxmQ2hlY2tlZElkcy5pbmNsdWRlcyhpdGVtSWQpO1xuICAgICAgaWYgKGNoaWxkRGF0YSAmJiBjaGlsZERhdGEubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJlZURhdGEodGFnLCBjaGlsZERhdGEsIHNlbGVjdGVkSWRzLCBoYWxmQ2hlY2tlZElkcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvbk9wZXJhYmxlTm9kZUNoZWNrZWQoc2VsZWN0ZWROb2RlczogSVRyZWVJdGVtW10sIHRhZzogSUNhdGVnb3J5U2VhcmNoVGFnSXRlbSkge1xuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWVFeHRyYWN0b3IgPSAobm9kZXMpID0+IHtcbiAgICAgIHJldHVybiB0YWcubGVhZk9ubHlcbiAgICAgICAgPyBub2Rlcy5maWx0ZXIoKG5vZGUpID0+ICFub2RlLmRhdGEuaXNQYXJlbnQpLm1hcCgobm9kZSkgPT4gbm9kZS5kYXRhLm9yaWdpbkl0ZW0pXG4gICAgICAgIDogbm9kZXMubWFwKChub2RlKSA9PiBub2RlLmRhdGEub3JpZ2luSXRlbSk7XG4gICAgfTtcbiAgICBpZiAodGFnLm11bHRpcGxlKSB7XG4gICAgICB0YWcudmFsdWUudmFsdWUgPSBzZWxlY3RlZFZhbHVlRXh0cmFjdG9yKHNlbGVjdGVkTm9kZXMpO1xuICAgIH1cbiAgfVxuXG4gIG9uT3BlcmFibGVOb2RlU2VsZWN0ZWQoc2VsZWN0ZWROb2RlOiBJVHJlZUl0ZW0sIHRhZzogSUNhdGVnb3J5U2VhcmNoVGFnSXRlbSwgdHJlZSkge1xuICAgIGlmICh0YWcubXVsdGlwbGUgfHwgKHRhZy5sZWFmT25seSAmJiBzZWxlY3RlZE5vZGUuZGF0YS5pc1BhcmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNlbGVjdGVkTm9kZS5kYXRhLmlzQWN0aXZlKSB7XG4gICAgICB0YWcudmFsdWUudmFsdWUgPSBbc2VsZWN0ZWROb2RlLmRhdGEub3JpZ2luSXRlbV07XG4gICAgICB0aGlzLmdldFRyZWVWYWx1ZSh0YWcsIHRyZWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RlZE5vZGUuZGF0YS5pc0FjdGl2ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdHJlZVNlYXJjaCh0cmVlLCB2YWx1ZSkge1xuICAgIHRyZWUub3BlcmFibGVUcmVlLnRyZWVGYWN0b3J5LnNlYXJjaFRyZWUodmFsdWUsIHRydWUpO1xuICB9XG5cbiAgY2xlYXJTZWFyY2hLZXkoKSB7XG4gICAgdGhpcy5zZWFyY2hLZXkgPSAnJztcbiAgfVxufVxuIiwiPGRpdlxuICAjUHJpbWVDb250YWluZXJcbiAgY2xhc3M9XCJkZXZ1aS1jYXRlZ29yeS1zZWFyY2gtY29udGFpbmVyIGRldnVpLWNhdGVnb3J5LXNlYXJjaC1pZC17eyBpZCB9fVwiXG4gIFtuZ0NsYXNzXT1cInsgJ2NvbnRhaW5lci1ob3Zlcic6IGlzSG92ZXIgJiYgIWlzRm9jdXMgfVwiXG4gIChtb3VzZWVudGVyKT1cImlzSG92ZXIgPSB0cnVlXCJcbiAgKG1vdXNlbGVhdmUpPVwiaXNIb3ZlciA9IGZhbHNlXCJcbj5cbiAgPGRpdiBjbGFzcz1cImRldnVpLWNhdGVnb3J5LXNlYXJjaC1pY29uXCIgKGNsaWNrKT1cInNlYXJjaCgpXCI+XG4gICAgPHN2Z1xuICAgICAgd2lkdGg9XCIxNnB4XCJcbiAgICAgIGhlaWdodD1cIjE2cHhcIlxuICAgICAgdmlld0JveD1cIjAgMCAxNiAxNlwiXG4gICAgICB2ZXJzaW9uPVwiMS4xXCJcbiAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgIGNsYXNzPVwic3ZnLWljb24tc2VhcmNoXCJcbiAgICA+XG4gICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJNNywwIEMxMC44NjU5OTMyLDAgMTQsMy4xMzQwMDY3NSAxNCw3IEMxNCw4LjU3MTkwMjEyIDEzLjQ4MTg4MTksMTAuMDIyNzkxMyAxMi42MDcxMDc2LDExLjE5MTIwNTYgTDE1LjcwNzEwNjgsMTQuMjkyODkzMiBDMTYuMDk3NjMxMSwxNC42ODM0MTc1IDE2LjA5NzYzMTEsMTUuMzE2NTgyNSAxNS43MDcxMDY4LDE1LjcwNzEwNjggQzE1LjM0NjYyMjgsMTYuMDY3NTkwNyAxNC43NzkzOTE4LDE2LjA5NTMyMDMgMTQuMzg3MTAwNiwxNS43OTAyOTU0IEwxNC4yOTI4OTMyLDE1LjcwNzEwNjggTDExLjE5MTIwNTYsMTIuNjA3MTA3NiBDMTAuMDIyNzkxMywxMy40ODE4ODE5IDguNTcxOTAyMTIsMTQgNywxNCBDMy4xMzQwMDY3NSwxNCA1LjUwNjcwNjJlLTE0LDEwLjg2NTk5MzIgNS41MDY3MDYyZS0xNCw3IEM1LjUwNjcwNjJlLTE0LDMuMTM0MDA2NzUgMy4xMzQwMDY3NSwwIDcsMCBaIE03LDIgQzQuMjM4NTc2MjUsMiAyLDQuMjM4NTc2MjUgMiw3IEMyLDkuNzYxNDIzNzUgNC4yMzg1NzYyNSwxMiA3LDEyIEM5Ljc2MTQyMzc1LDEyIDEyLDkuNzYxNDIzNzUgMTIsNyBDMTIsNC4yMzg1NzYyNSA5Ljc2MTQyMzc1LDIgNywyIFpcIlxuICAgICAgICAgIGlkPVwi77+977+91LLvv73vv71cIlxuICAgICAgICAgIGZpbGw9XCIjNzE3NTdGXCJcbiAgICAgICAgPjwvcGF0aD5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgPC9kaXY+XG4gIDxkaXYgI1Njcm9sbEJhckNvbnRhaW5lciBjbGFzcz1cImRldnVpLWNhdGVnb3J5LXNlYXJjaC1saW5lLWNvbnRhaW5lclwiPlxuICAgIDx1bCBjbGFzcz1cImRldnVpLWNhdGVnb3J5LXNlYXJjaC1saW5lXCI+XG4gICAgICA8bGlcbiAgICAgICAgY2xhc3M9XCJkZXZ1aS10YWctaXRlbVwiXG4gICAgICAgICpuZ0Zvcj1cImxldCBpdGVtIG9mIHNlbGVjdGVkVGFnc1wiXG4gICAgICAgICNzZWxlY3RlZERyb3Bkb3duPVwiZC1kcm9wZG93blwiXG4gICAgICAgIFtuZ1N0eWxlXT1cInsgd2lkdGg6IHRhZ01heFdpZHRoIHx8ICcnIH1cIlxuICAgICAgICBkRHJvcERvd25cbiAgICAgICAgYXBwZW5kVG9Cb2R5XG4gICAgICAgIGREcm9wRG93blRvZ2dsZVxuICAgICAgICBbYXBwZW5kVG9Cb2R5RGlyZWN0aW9uc109XCJbJ3JpZ2h0RG93bicsICdyaWdodFVwJywgJ2xlZnREb3duJywgJ2xlZnRVcCddXCJcbiAgICAgICAgW2Nsb3NlU2NvcGVdPVwiY2hlY2tUeXBlKGl0ZW0pXCJcbiAgICAgICAgKHRvZ2dsZUV2ZW50KT1cInJlc2V0Q29udGVudChzZWxlY3RlZERyb3Bkb3duLCBpdGVtKVwiXG4gICAgICA+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJqb2luTGFiZWxUeXBlc1RlbXBsYXRlXCIgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgaXRlbTogaXRlbSB9XCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgPGRpdiBkRHJvcERvd25NZW51IGNsYXNzPVwiZGV2dWktZHJvcGRvd24tbWVudSBkZXZ1aS1kcm9wZG93bi1tZW51LWZpeFwiIFtuZ0NsYXNzXT1cInsgJ21heC1oZWlnaHQnOiBpdGVtLnR5cGUgIT09ICd0cmVlU2VsZWN0JyB9XCI+XG4gICAgICAgICAgPG5nLXRlbXBsYXRlXG4gICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJpdGVtLmN1c3RvbVRlbXBsYXRlIHx8IHRlbXBsYXRlc1tpdGVtLnR5cGVdXCJcbiAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7IHRhZ09wdGlvbjogaXRlbSwgZHJvcGRvd246IHNlbGVjdGVkRHJvcGRvd24sIGlzU2VsZWN0ZWQ6IHRydWUgfVwiXG4gICAgICAgICAgPjwvbmctdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS1jYXRlZ29yeS1zZWFyY2gtaW5wdXRcIj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiZGV2dWktaW5wdXQtY29udGFpbmVyXCJcbiAgICAgICAgICAjaW5wdXREcm9wZG93bj1cImQtZHJvcGRvd25cIlxuICAgICAgICAgIGREcm9wRG93blxuICAgICAgICAgIGFwcGVuZFRvQm9keVxuICAgICAgICAgIFt0cmlnZ2VyXT1cIidtYW51YWxseSdcIlxuICAgICAgICAgIFthcHBlbmRUb0JvZHlEaXJlY3Rpb25zXT1cIlsncmlnaHREb3duJywgJ3JpZ2h0VXAnLCAnbGVmdERvd24nLCAnbGVmdFVwJ11cIlxuICAgICAgICAgIFtjbG9zZVNjb3BlXT1cImNoZWNrVHlwZShjdXJyZW50U2VsZWN0VGFnKVwiXG4gICAgICAgICAgKHRvZ2dsZUV2ZW50KT1cInJlc2V0Q29udGVudChpbnB1dERyb3Bkb3duKVwiXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6IDEwMCVcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBjbGFzcz1cImRldnVpLWNhdGVnb3J5LXNlYXJjaC10b2dnbGVcIlxuICAgICAgICAgICAgICBhdXRvY29tcGxldGU9XCJvZmZcIlxuICAgICAgICAgICAgICAjSW5wdXRFbGVcbiAgICAgICAgICAgICAgZERyb3BEb3duVG9nZ2xlXG4gICAgICAgICAgICAgIGRUZXh0SW5wdXRcbiAgICAgICAgICAgICAgW3JlYWRPbmx5XT1cImlucHV0UmVhZE9ubHlcIlxuICAgICAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJUZXh0IHx8IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LnNlYXJjaFBsYWNlaG9sZGVyIHx8ICcnXCJcbiAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJzZWFyY2hLZXlcIlxuICAgICAgICAgICAgICAobmdNb2RlbENoYW5nZSk9XCJzZWFyY2hLZXlDaGFuZ2VFdmVudCgkZXZlbnQpXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIm9wZW5NZW51KGlucHV0RHJvcGRvd24sICRldmVudClcIlxuICAgICAgICAgICAgICAoa2V5dXApPVwiY2hlY2tJbnB1dFNlYXJjaGluZygpOyBvcGVuTWVudShpbnB1dERyb3Bkb3duLCAkZXZlbnQpXCJcbiAgICAgICAgICAgICAgKGtleWRvd24uYmFja3NwYWNlKT1cImJhY2tzcGFjZUV2ZW50KGlucHV0RHJvcGRvd24pXCJcbiAgICAgICAgICAgICAgKGtleWRvd24uZW50ZXIpPVwic2VhcmNoSW5wdXRWYWx1ZSgkZXZlbnQpOyBjbG9zZU1lbnUoaW5wdXREcm9wZG93bilcIlxuICAgICAgICAgICAgICAoZm9jdXMpPVwiaXNIb3ZlciA9IGZhbHNlOyBpc0ZvY3VzID0gdHJ1ZVwiXG4gICAgICAgICAgICAgIChibHVyKT1cImlzRm9jdXMgPSBmYWxzZTsgYmx1cklucHV0KClcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAqbmdJZj1cIiFlbnRlclNlYXJjaCB8fCAoZW50ZXJTZWFyY2ggJiYgc2hvd1NlYXJjaENhdGVnb3J5KVwiXG4gICAgICAgICAgICBkRHJvcERvd25NZW51XG4gICAgICAgICAgICBjbGFzcz1cImRldnVpLWRyb3Bkb3duLW1lbnUgZGV2dWktZHJvcGRvd24tbWVudS1maXhcIlxuICAgICAgICAgICAgW25nQ2xhc3NdPVwieyAnbWF4LWhlaWdodCc6IGN1cnJlbnRTZWxlY3RUYWc/LnR5cGUgIT09ICd0cmVlU2VsZWN0JyB9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8dWwgKm5nSWY9XCIhY3VycmVudFNlbGVjdFRhZ1wiIGNsYXNzPVwiZGV2dWktZHJvcGRvd24tbWVudS10ZW1wbGF0ZSBkZXZ1aS1zY3JvbGxiYXJcIj5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFlbnRlclNlYXJjaCAmJiAhY3VycmVudFNlbGVjdFRhZ1wiPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgY2F0ZWdvcnlEaXNwbGF5XCI+XG4gICAgICAgICAgICAgICAgICA8bGkgKm5nSWY9XCJpdGVtLmdyb3VwTGVuZ3RoXCIgY2xhc3M9XCJkZXZ1aS1kcm9wZG93bi1pdGVtIGRldnVpLWNhdGVnb3J5LXNlYXJjaC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJjdXN0b21Hcm91cE5hbWVUZW1wbGF0ZSB8fCBkZWZhdWx0R3JvdXBOYW1lVGVtcGxhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7IHRhZzogaXRlbSB9XCJcbiAgICAgICAgICAgICAgICAgICAgPjwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiaXRlbS5ncm91cExlbmd0aCA9PT0gdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkZXZ1aS1kcm9wZG93bi1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImNob29zZUNhdGVnb3J5KGl0ZW0sIGlucHV0RHJvcGRvd24pOyBjbG9zZU1lbnUoaW5wdXREcm9wZG93bilcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT1cInt7IGl0ZW0/LmxhYmVsIH19XCI+e3sgaXRlbT8ubGFiZWwgfX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS1uby1kYXRhLXRleHRcIiAqbmdJZj1cInNob3dOb0RhdGFUaXBzXCI+e3sgaTE4bkNhdGVnb3J5U2VhcmNoVGV4dD8ubm9GaWx0ZXJDb25kaXRpb25zIH19PC9kaXY+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZW50ZXJTZWFyY2hcIj5cbiAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICpuZ0lmPVwic2hvd1NlYXJjaENvbmZpZy5rZXl3b3JkXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGV2dWktZHJvcGRvd24taXRlbSBkZXZ1aS1zZWFyY2gtZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlYXJjaElucHV0VmFsdWUoJGV2ZW50KTsgY2xvc2VNZW51KGlucHV0RHJvcGRvd24pXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb24tc2VhcmNoXCI+PC9zcGFuPnt7IHNob3dTZWFyY2hDb25maWcua2V5d29yZERlc2NyaXB0aW9uKHNlYXJjaEtleSkgfX1cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJzaG93U2VhcmNoQ29uZmlnLmZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IGl0ZW0gb2Ygc2VhcmNoRmllbGRcIiAoY2xpY2spPVwic2VhcmNoQ2F0ZWdvcnkoaXRlbSk7IGNsb3NlTWVudShpbnB1dERyb3Bkb3duKVwiIGNsYXNzPVwiZGV2dWktZHJvcGRvd24taXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb24tc2VhcmNoXCI+PC9zcGFuPnt7IHNob3dTZWFyY2hDb25maWcuZmllbGREZXNjcmlwdGlvbihpdGVtPy5sYWJlbCkgfX1cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgKm5nSWY9XCIoc2hvd1NlYXJjaENvbmZpZy5rZXl3b3JkIHx8IHNob3dTZWFyY2hDb25maWcuZmllbGQpICYmIHNob3dTZWFyY2hDb25maWcuY2F0ZWdvcnkgJiYgY3VycmVudFNlYXJjaENhdGVnb3J5Py5sZW5ndGhcIlxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkZXZ1aS1kaXZpZGluZy1saW5lXCJcbiAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInNob3dTZWFyY2hDb25maWcuY2F0ZWdvcnkgJiYgY3VycmVudFNlYXJjaENhdGVnb3J5Py5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS1kcm9wZG93bi1tZW51LXRpcFwiIFtzdHlsZS5wYWRkaW5nQm90dG9tXT1cImN1cnJlbnRTZWFyY2hDYXRlZ29yeS5sZW5ndGggPyAnMCcgOiAnMTJweCdcIj5cbiAgICAgICAgICAgICAgICAgICAge3sgc2hvd1NlYXJjaENvbmZpZy5jYXRlZ29yeURlc2NyaXB0aW9uIH19XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImRldnVpLWRyb3Bkb3duLW1lbnUtdGVtcGxhdGUgZGV2dWktc2Nyb2xsYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBpdGVtIG9mIGN1cnJlbnRTZWFyY2hDYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNob3dDdXJyZW50U2VhcmNoQ2F0ZWdvcnkoaXRlbSwgaW5wdXREcm9wZG93bilcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGV2dWktZHJvcGRvd24taXRlbVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eyBpdGVtPy5sYWJlbCB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhZW50ZXJTZWFyY2ggJiYgY3VycmVudFNlbGVjdFRhZ1wiPlxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGVcbiAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJjdXJyZW50U2VsZWN0VGFnLmN1c3RvbVRlbXBsYXRlIHx8IHRlbXBsYXRlc1tjdXJyZW50U2VsZWN0VGFnLnR5cGVdXCJcbiAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyB0YWdPcHRpb246IGN1cnJlbnRTZWxlY3RUYWcsIGRyb3Bkb3duOiBpbnB1dERyb3Bkb3duIH1cIlxuICAgICAgICAgICAgICA+PC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvdWw+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiZGV2dWktY2F0ZWdvcnktc2VhcmNoLWN0cmwtY29udGFpbmVyXCIgKm5nSWY9XCJzZWxlY3RlZFRhZ3MubGVuZ3RoIHx8IHNlYXJjaEtleVwiPlxuICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS1jYXRlZ29yeS1zZWFyY2gtc2VwYXJhdGUtbGluZVwiPjwvZGl2PlxuICAgIDxkaXYgKm5nSWY9XCJhbGxvd0NsZWFyXCIgY2xhc3M9XCJkZXZ1aS1jYXRlZ29yeS1zZWFyY2gtaWNvblwiIChjbGljayk9XCJjbGVhckZpbHRlcigkZXZlbnQpXCI+XG4gICAgICA8c3ZnXG4gICAgICAgIHdpZHRoPVwiMTZweFwiXG4gICAgICAgIGhlaWdodD1cIjE2cHhcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgPlxuICAgICAgICA8dGl0bGU+e3sgaTE4bkNhdGVnb3J5U2VhcmNoVGV4dD8uY2xlYXJGaWx0ZXJDb25kaXRpb24gfX08L3RpdGxlPlxuICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBkPVwiTTQuNjEyODk5NDQsMy4yMDk3MDQ2MSBMNC43MDcxMDY3OCwzLjI5Mjg5MzIyIEw4LDYuNTg1IEwxMS4yOTI4OTMyLDMuMjkyODkzMjIgQzExLjY4MzQxNzUsMi45MDIzNjg5MyAxMi4zMTY1ODI1LDIuOTAyMzY4OTMgMTIuNzA3MTA2OCwzLjI5Mjg5MzIyIEMxMy4wNjc1OTA3LDMuNjUzMzc3MTggMTMuMDk1MzIwMyw0LjIyMDYwODI0IDEyLjc5MDI5NTQsNC42MTI4OTk0NCBMMTIuNzA3MTA2OCw0LjcwNzEwNjc4IEw5LjQxNSw4IEwxMi43MDcxMDY4LDExLjI5Mjg5MzIgQzEzLjA5NzYzMTEsMTEuNjgzNDE3NSAxMy4wOTc2MzExLDEyLjMxNjU4MjUgMTIuNzA3MTA2OCwxMi43MDcxMDY4IEMxMi4zNDY2MjI4LDEzLjA2NzU5MDcgMTEuNzc5MzkxOCwxMy4wOTUzMjAzIDExLjM4NzEwMDYsMTIuNzkwMjk1NCBMMTEuMjkyODkzMiwxMi43MDcxMDY4IEw4LDkuNDE1IEw0LjcwNzEwNjc4LDEyLjcwNzEwNjggQzQuMzE2NTgyNDksMTMuMDk3NjMxMSAzLjY4MzQxNzUxLDEzLjA5NzYzMTEgMy4yOTI4OTMyMiwxMi43MDcxMDY4IEMyLjkzMjQwOTI2LDEyLjM0NjYyMjggMi45MDQ2Nzk3MiwxMS43NzkzOTE4IDMuMjA5NzA0NjEsMTEuMzg3MTAwNiBMMy4yOTI4OTMyMiwxMS4yOTI4OTMyIEw2LjU4NSw4IEwzLjI5Mjg5MzIyLDQuNzA3MTA2NzggQzIuOTAyMzY4OTMsNC4zMTY1ODI0OSAyLjkwMjM2ODkzLDMuNjgzNDE3NTEgMy4yOTI4OTMyMiwzLjI5Mjg5MzIyIEMzLjY1MzM3NzE4LDIuOTMyNDA5MjYgNC4yMjA2MDgyNCwyLjkwNDY3OTcyIDQuNjEyODk5NDQsMy4yMDk3MDQ2MSBaXCJcbiAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgID48L3BhdGg+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgICpuZ0lmPVwiYWxsb3dTYXZlXCJcbiAgICAgIGNsYXNzPVwiZGV2dWktY2F0ZWdvcnktc2VhcmNoLWljb25cIlxuICAgICAgI3NhdmVEcm9wZG93bj1cImQtZHJvcGRvd25cIlxuICAgICAgZERyb3BEb3duXG4gICAgICBhcHBlbmRUb0JvZHlcbiAgICAgIFthcHBlbmRUb0JvZHlEaXJlY3Rpb25zXT1cIlsncmlnaHREb3duJywgJ3JpZ2h0VXAnLCAnbGVmdERvd24nLCAnbGVmdFVwJ11cIlxuICAgICAgW2Nsb3NlU2NvcGVdPVwiJ2JsYW5rJ1wiXG4gICAgICAodG9nZ2xlRXZlbnQpPVwiY3JlYXRlRmlsdGVySW5wdXRBdXRvRm9jdXMoc2F2ZURyb3Bkb3duLCBjcmVhdGVGaWx0ZXJJbnB1dCwgZmlsdGVyTmFtZUZvcm0pXCJcbiAgICA+XG4gICAgICA8c3ZnXG4gICAgICAgIHdpZHRoPVwiMTZweFwiXG4gICAgICAgIGhlaWdodD1cIjE2cHhcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgICBkRHJvcERvd25Ub2dnbGVcbiAgICAgID5cbiAgICAgICAgPHRpdGxlPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LnNhdmVGaWx0ZXIgfX08L3RpdGxlPlxuICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBkPVwiTTEyLDEgTDE1LDQgTDE1LDEzIEMxNSwxNC4xMDQ1Njk1IDE0LjEwNDU2OTUsMTUgMTMsMTUgTDMsMTUgQzEuODk1NDMwNSwxNSAxLDE0LjEwNDU2OTUgMSwxMyBMMSwzIEMxLDEuODk1NDMwNSAxLjg5NTQzMDUsMSAzLDEgTDEyLDEgWiBNMTEuMTcxLDMgTDMsMyBMMywxMyBMNCwxMyBMNCwxMCBDNCw5LjQ4NzE2NDE2IDQuMzg2MDQwMTksOS4wNjQ0OTI4NCA0Ljg4MzM3ODg3LDkuMDA2NzI3NzMgTDUsOSBMMTEsOSBDMTEuNTEyODM1OCw5IDExLjkzNTUwNzIsOS4zODYwNDAxOSAxMS45OTMyNzIzLDkuODgzMzc4ODcgTDEyLDEwIEwxMiwxMyBMMTMsMTMgTDEzLDQuODI5IEwxMS4xNzEsMyBaIE05Ljk5OSwxMC45OTkgTDUuOTk5LDEwLjk5OSBMNiwxMyBMMTAsMTMgTDkuOTk5LDEwLjk5OSBaIE03LDUgQzcuNTUyMjg0NzUsNSA4LDUuNDQ3NzE1MjUgOCw2IEM4LDYuNTUyMjg0NzUgNy41NTIyODQ3NSw3IDcsNyBMNSw3IEM0LjQ0NzcxNTI1LDcgNCw2LjU1MjI4NDc1IDQsNiBDNCw1LjQ0NzcxNTI1IDQuNDQ3NzE1MjUsNSA1LDUgTDcsNSBaXCJcbiAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgID48L3BhdGg+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvc3ZnPlxuICAgICAgPGRpdiBkRHJvcERvd25NZW51IGNsYXNzPVwiZGV2dWktc2F2ZS1wYW5lbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2dWktc2F2ZS1wYW5lbC10aXRsZVwiPlxuICAgICAgICAgIDxzcGFuPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LnNhdmVGaWx0ZXIgfX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2dWktc2F2ZS1maWx0ZXItbmFtZVwiPlxuICAgICAgICAgIDxzcGFuPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LmZpbHRlclRpdGxlIH19PC9zcGFuPlxuICAgICAgICAgIDxmb3JtICNmaWx0ZXJOYW1lRm9ybT1cIm5nRm9ybVwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIG5hbWU9XCJmaWx0ZXItbmFtZVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiZGV2dWktY2F0ZWdvcnktc2VhcmNoLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGF1dG9jb21wbGV0ZT1cIm9mZlwiXG4gICAgICAgICAgICAgICNjcmVhdGVGaWx0ZXJJbnB1dFxuICAgICAgICAgICAgICBkVGV4dElucHV0XG4gICAgICAgICAgICAgIFsobmdNb2RlbCldPVwiZmlsdGVyTmFtZVwiXG4gICAgICAgICAgICAgIFtwbGFjZWhvbGRlcl09XCJpMThuQ2F0ZWdvcnlTZWFyY2hUZXh0Py5wbGFjZWhvbGRlciB8fCAnJ1wiXG4gICAgICAgICAgICAgIFtkVmFsaWRhdGVSdWxlc109XCJmaWx0ZXJOYW1lUnVsZXNcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgKm5nSWY9XCJzaG93RmlsdGVyTmFtZUNsZWFyXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGZpbHRlck5hbWUgPSAnJ1wiXG4gICAgICAgICAgICAgIHdpZHRoPVwiMTZweFwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjE2cHhcIlxuICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgICAgICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8dGl0bGU+e3sgaTE4bkNhdGVnb3J5U2VhcmNoVGV4dD8uY2xlYXJGaWx0ZXJDb25kaXRpb24gfX08L3RpdGxlPlxuICAgICAgICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICBkPVwiTTQuNjEyODk5NDQsMy4yMDk3MDQ2MSBMNC43MDcxMDY3OCwzLjI5Mjg5MzIyIEw4LDYuNTg1IEwxMS4yOTI4OTMyLDMuMjkyODkzMjIgQzExLjY4MzQxNzUsMi45MDIzNjg5MyAxMi4zMTY1ODI1LDIuOTAyMzY4OTMgMTIuNzA3MTA2OCwzLjI5Mjg5MzIyIEMxMy4wNjc1OTA3LDMuNjUzMzc3MTggMTMuMDk1MzIwMyw0LjIyMDYwODI0IDEyLjc5MDI5NTQsNC42MTI4OTk0NCBMMTIuNzA3MTA2OCw0LjcwNzEwNjc4IEw5LjQxNSw4IEwxMi43MDcxMDY4LDExLjI5Mjg5MzIgQzEzLjA5NzYzMTEsMTEuNjgzNDE3NSAxMy4wOTc2MzExLDEyLjMxNjU4MjUgMTIuNzA3MTA2OCwxMi43MDcxMDY4IEMxMi4zNDY2MjI4LDEzLjA2NzU5MDcgMTEuNzc5MzkxOCwxMy4wOTUzMjAzIDExLjM4NzEwMDYsMTIuNzkwMjk1NCBMMTEuMjkyODkzMiwxMi43MDcxMDY4IEw4LDkuNDE1IEw0LjcwNzEwNjc4LDEyLjcwNzEwNjggQzQuMzE2NTgyNDksMTMuMDk3NjMxMSAzLjY4MzQxNzUxLDEzLjA5NzYzMTEgMy4yOTI4OTMyMiwxMi43MDcxMDY4IEMyLjkzMjQwOTI2LDEyLjM0NjYyMjggMi45MDQ2Nzk3MiwxMS43NzkzOTE4IDMuMjA5NzA0NjEsMTEuMzg3MTAwNiBMMy4yOTI4OTMyMiwxMS4yOTI4OTMyIEw2LjU4NSw4IEwzLjI5Mjg5MzIyLDQuNzA3MTA2NzggQzIuOTAyMzY4OTMsNC4zMTY1ODI0OSAyLjkwMjM2ODkzLDMuNjgzNDE3NTEgMy4yOTI4OTMyMiwzLjI5Mjg5MzIyIEMzLjY1MzM3NzE4LDIuOTMyNDA5MjYgNC4yMjA2MDgyNCwyLjkwNDY3OTcyIDQuNjEyODk5NDQsMy4yMDk3MDQ2MSBaXCJcbiAgICAgICAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS1zYXZlLXBhbmVsLW9wZXJhdGlvbi1hcmVhXCI+XG4gICAgICAgICAgPGQtYnV0dG9uIFtkaXNhYmxlZF09XCJmaWx0ZXJOYW1lRm9ybS5pbnZhbGlkXCIgKGJ0bkNsaWNrKT1cImNyZWF0ZUZpbHRlckZuKCk7IHNhdmVEcm9wZG93bi50b2dnbGUoKVwiPnt7XG4gICAgICAgICAgICBpMThuQ2F0ZWdvcnlTZWFyY2hUZXh0Py5jb25maXJtXG4gICAgICAgICAgfX08L2QtYnV0dG9uPlxuICAgICAgICAgIDxkLWJ1dHRvbiBic1N0eWxlPVwiY29tbW9uXCIgKGJ0bkNsaWNrKT1cInNhdmVEcm9wZG93bi50b2dnbGUoKVwiPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LmNhbmNlbCB9fTwvZC1idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdlxuICAgICAgKm5nSWY9XCJhbGxvd1Nob3dNb3JlXCJcbiAgICAgIGNsYXNzPVwiZGV2dWktY2F0ZWdvcnktc2VhcmNoLWljb25cIlxuICAgICAgI3NlZU1vcmVEcm9wZG93bj1cImQtZHJvcGRvd25cIlxuICAgICAgZERyb3BEb3duXG4gICAgICBhcHBlbmRUb0JvZHlcbiAgICAgIFthbGlnbk9yaWdpbl09XCJwcmltZUNvbnRhaW5lclwiXG4gICAgICBbYXBwZW5kVG9Cb2R5RGlyZWN0aW9uc109XCJbJ3JpZ2h0RG93bicsICdyaWdodFVwJywgJ2xlZnREb3duJywgJ2xlZnRVcCddXCJcbiAgICA+XG4gICAgICA8c3ZnXG4gICAgICAgIHdpZHRoPVwiMTZweFwiXG4gICAgICAgIGhlaWdodD1cIjE2cHhcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgICBkRHJvcERvd25Ub2dnbGVcbiAgICAgID5cbiAgICAgICAgPHRpdGxlPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LnNlZU1vcmUgfX08L3RpdGxlPlxuICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBkPVwiTTEsMiBMMywyIEwzLDQgTDEsNCBMMSwyIFogTTEsNyBMMyw3IEwzLDkgTDEsOSBMMSw3IFogTTEsMTIgTDMsMTIgTDMsMTQgTDEsMTQgTDEsMTIgWiBNNSwyIEwxNSwyIEwxNSw0IEw1LDQgTDUsMiBaIE01LDcgTDE1LDcgTDE1LDkgTDUsOSBMNSw3IFogTTUsMTIgTDE1LDEyIEwxNSwxNCBMNSwxNCBMNSwxMiBaXCJcbiAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgID48L3BhdGg+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvc3ZnPlxuICAgICAgPGRpdiBkRHJvcERvd25NZW51IGNsYXNzPVwiZGV2dWktc2VsZWN0ZWQtdGFncy1saXN0XCI+XG4gICAgICAgIDx1bCBbbmdTdHlsZV09XCJ7IHdpZHRoOiBQcmltZUNvbnRhaW5lcj8uY2xpZW50V2lkdGggKyAncHgnIH1cIj5cbiAgICAgICAgICA8bGkgY2xhc3M9XCJkZXZ1aS10YWctaXRlbVwiICpuZ0Zvcj1cImxldCBpdGVtIG9mIHNlbGVjdGVkVGFnczsgbGV0IGkgPSBpbmRleFwiIChjbGljayk9XCJzY3JvbGxUb1RhZyhpLCAkZXZlbnQpXCI+XG4gICAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiam9pbkxhYmVsVHlwZXNUZW1wbGF0ZVwiIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7IGl0ZW06IGl0ZW0gfVwiPjwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuXG48bmctdGVtcGxhdGUgI2pvaW5MYWJlbFR5cGVzVGVtcGxhdGUgbGV0LWl0ZW09XCJpdGVtXCI+XG4gIDxkaXYgY2xhc3M9XCJkZXZ1aS10YWctY29udGFpbmVyXCI+XG4gICAgPGQtdGFnXG4gICAgICAqbmdJZj1cIiFqb2luTGFiZWxUeXBlcy5pbmNsdWRlcyhpdGVtLnR5cGUpXCJcbiAgICAgIFtkZWxldGFibGVdPVwidHJ1ZVwiXG4gICAgICBbdGFnXT1cIml0ZW0ubGFiZWwgKyAnOiAnICsgKGl0ZW0udmFsdWVbaXRlbS5maWx0ZXJLZXkgfHwgJ2xhYmVsJ10gfHwgJycpXCJcbiAgICAgIFt0aXRsZUNvbnRlbnRdPVwiaXRlbS50aXRsZVwiXG4gICAgICAodGFnRGVsZXRlKT1cInJlbW92ZVRhZyhpdGVtLCAkZXZlbnQuZXZlbnQpXCJcbiAgICA+PC9kLXRhZz5cbiAgICA8ZC10YWdzXG4gICAgICAqbmdJZj1cImpvaW5MYWJlbFR5cGVzLmluY2x1ZGVzKGl0ZW0udHlwZSlcIlxuICAgICAgW2RlbGV0YWJsZV09XCJ0cnVlXCJcbiAgICAgIFt0YWdzXT1cIltpdGVtXVwiXG4gICAgICBbdGl0bGVQcm9wZXJ0eV09XCIndGl0bGUnXCJcbiAgICAgICh0YWdEZWxldGUpPVwicmVtb3ZlVGFnKGl0ZW0sICRldmVudC5ldmVudClcIlxuICAgID5cbiAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtdGFnPVwidGFnXCIgbGV0LWNvbG9yS2V5PVwidGFnLmNvbG9yS2V5IHx8ICdjb2xvcidcIj5cbiAgICAgICAgPHNwYW4+e3sgdGFnLmxhYmVsIH19OiA8L3NwYW4+XG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IHZhbCBvZiB0YWcudmFsdWUuY2FjaGU7IGxldCBpID0gaW5kZXhcIj5cbiAgICAgICAgICA8c3BhbiAqbmdJZj1cImkgPiAwXCIgY2xhc3M9XCJkZXZ1aS1jb2xvci1ibG9jay1zcGxpdC1saW5lXCI+IHwgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuICpuZ0lmPVwiaXRlbS50eXBlID09PSAnbGFiZWwnXCIgY2xhc3M9XCJkZXZ1aS1jb2xvci1ibG9jay1zbVwiIFtzdHlsZS5iYWNrZ3JvdW5kXT1cInZhbFtjb2xvcktleV1cIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gW3N0eWxlLmNvbG9yXT1cInZhbFtjb2xvcktleV1cIj57eyB2YWxbdGFnLmZpbHRlcktleSB8fCAnbGFiZWwnXSB8fCAnJyB9fTwvc3Bhbj5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8L25nLXRlbXBsYXRlPlxuICAgIDwvZC10YWdzPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjZGVmYXVsdEdyb3VwTmFtZVRlbXBsYXRlIGxldC1pdGVtPVwidGFnXCI+XG4gIDxzdHJvbmc+e3sgaXRlbT8uZ3JvdXBOYW1lIH19PC9zdHJvbmc+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI25vRGF0YT5cbiAgPGRpdiBjbGFzcz1cImRldnVpLW5vLWRhdGEtdGlwXCI+e3sgaTE4bkNvbW1vblRleHQ/Lm5vRGF0YSB9fTwvZGl2PlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlIFt0eXBlXT1cIidyYWRpbydcIiBsZXQtdGFnT3B0aW9uPVwidGFnT3B0aW9uXCIgbGV0LWtleT1cInRhZ09wdGlvbi5maWx0ZXJLZXkgfHwgJ2xhYmVsJ1wiPlxuICA8ZGl2ICpuZ0lmPVwiIXRhZ09wdGlvbi5vcHRpb25zPy5sZW5ndGhcIj5cbiAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwibm9EYXRhXCI+PC9uZy1jb250YWluZXI+XG4gIDwvZGl2PlxuICA8dWwgKm5nSWY9XCJ0YWdPcHRpb24ub3B0aW9ucz8ubGVuZ3RoXCIgY2xhc3M9XCJkZXZ1aS1kcm9wZG93bi1tZW51LXRlbXBsYXRlIGRldnVpLXNjcm9sbGJhclwiPlxuICAgIDxsaVxuICAgICAgKm5nRm9yPVwibGV0IGl0ZW0gb2YgdGFnT3B0aW9uLm9wdGlvbnNcIlxuICAgICAgdGl0bGU9XCJ7eyBpdGVtW2tleV0gfX1cIlxuICAgICAgY2xhc3M9XCJkZXZ1aS1kcm9wZG93bi1pdGVtXCJcbiAgICAgIFtjbGFzcy5hY3RpdmVdPVwidGFnT3B0aW9uPy52YWx1ZVtrZXldID09PSBpdGVtW2tleV1cIlxuICAgICAgKGNsaWNrKT1cImNob29zZUl0ZW0odGFnT3B0aW9uLCBpdGVtKVwiXG4gICAgPlxuICAgICAgPHNwYW4+e3sgaXRlbVtrZXldIH19PC9zcGFuPlxuICAgIDwvbGk+XG4gIDwvdWw+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgW3R5cGVdPVwiJ2RhdGVSYW5nZSdcIiBsZXQtdGFnT3B0aW9uPVwidGFnT3B0aW9uXCIgbGV0LWRyb3Bkb3duPVwiZHJvcGRvd25cIj5cbiAgPGQtZGF0ZXBpY2tlci1jYWxlbmRhclxuICAgICpuZ0lmPVwiZHJvcGRvd24uaXNPcGVuXCJcbiAgICBpZD1cInt7IHRhZ09wdGlvbi5maWVsZCB9fVwiXG4gICAgc3R5bGU9XCJvdmVyZmxvdy14OiBoaWRkZW5cIlxuICAgICNkRGF0ZXBpY2tlclByb1xuICAgIFtpc1JhbmdlVHlwZV09XCJ0cnVlXCJcbiAgICBbc2hvd1RpbWVdPVwidGFnT3B0aW9uLnNob3dUaW1lXCJcbiAgICBbbmdNb2RlbF09XCJ0YWdPcHRpb24udmFsdWUudmFsdWVcIlxuICAgIChuZ01vZGVsQ2hhbmdlKT1cImRhdGVWYWx1ZUNoYW5nZSh0YWdPcHRpb24sIGREYXRlcGlja2VyUHJvKVwiXG4gID5cbiAgICA8bmctdGVtcGxhdGUgI2Zvb3RlclRlbXBsYXRlPlxuICAgICAgPGRpdiBjbGFzcz1cImRldnVpLWRhdGVwaWNrZXItZm9vdGVyXCI+XG4gICAgICAgIDxkLWJ1dHRvblxuICAgICAgICAgIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiA4cHhcIlxuICAgICAgICAgIGJzU3R5bGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAoYnRuQ2xpY2spPVwiY29uZmlybURhdGUodGFnT3B0aW9uKTsgY2xvc2VNZW51KGRyb3Bkb3duKVwiXG4gICAgICAgICAgW2Rpc2FibGVkXT1cIiF0YWdPcHRpb24udmFsdWUudmFsdWUgfHwgdGFnT3B0aW9uLnZhbHVlLnZhbHVlLmxlbmd0aCA8IDJcIlxuICAgICAgICA+XG4gICAgICAgICAge3sgaTE4bkNhdGVnb3J5U2VhcmNoVGV4dD8uY29uZmlybSB9fVxuICAgICAgICA8L2QtYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9uZy10ZW1wbGF0ZT5cbiAgPC9kLWRhdGVwaWNrZXItY2FsZW5kYXI+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgW3R5cGVdPVwiJ2NoZWNrYm94J1wiIGxldC10YWdPcHRpb249XCJ0YWdPcHRpb25cIiBsZXQtZHJvcGRvd249XCJkcm9wZG93blwiPlxuICA8ZGl2ICpuZ0lmPVwiIXRhZ09wdGlvbi5vcHRpb25zPy5sZW5ndGhcIj5cbiAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwibm9EYXRhXCI+PC9uZy1jb250YWluZXI+XG4gIDwvZGl2PlxuICA8ZGl2ICpuZ0lmPVwidGFnT3B0aW9uLm9wdGlvbnM/Lmxlbmd0aFwiIGNsYXNzPVwiZGV2dWktZHJvcGRvd24tbWVudS10ZW1wbGF0ZVwiPlxuICAgIDxkLWNoZWNrYm94LWdyb3VwXG4gICAgICBbKG5nTW9kZWwpXT1cInRhZ09wdGlvbi52YWx1ZS52YWx1ZVwiXG4gICAgICBbb3B0aW9uc109XCJ0YWdPcHRpb24ub3B0aW9uc1wiXG4gICAgICBbZmlsdGVyS2V5XT1cInRhZ09wdGlvbi5maWx0ZXJLZXkgfHwgJ2xhYmVsJ1wiXG4gICAgICBbaXNTaG93VGl0bGVdPVwidHJ1ZVwiXG4gICAgPlxuICAgIDwvZC1jaGVja2JveC1ncm91cD5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJkZXZ1aS1kcm9wZG93bi1vcGVyYXRpb24tYXJlYVwiPlxuICAgIDxkLWJ1dHRvbiAoYnRuQ2xpY2spPVwiY2hvb3NlSXRlbXModGFnT3B0aW9uKTsgY2xvc2VNZW51KGRyb3Bkb3duKVwiPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LmNvbmZpcm0gfX08L2QtYnV0dG9uPlxuICAgIDxkLWJ1dHRvbiBic1N0eWxlPVwiY29tbW9uXCIgKGJ0bkNsaWNrKT1cImNsb3NlTWVudShkcm9wZG93bilcIj57eyBpMThuQ2F0ZWdvcnlTZWFyY2hUZXh0Py5jYW5jZWwgfX08L2QtYnV0dG9uPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSBbdHlwZV09XCInbGFiZWwnXCIgbGV0LXRhZ09wdGlvbj1cInRhZ09wdGlvblwiIGxldC1kcm9wZG93bj1cImRyb3Bkb3duXCI+XG4gIDxkaXYgKm5nSWY9XCIhdGFnT3B0aW9uLm9wdGlvbnM/Lmxlbmd0aFwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJub0RhdGFcIj48L25nLWNvbnRhaW5lcj5cbiAgPC9kaXY+XG4gIDxkaXYgKm5nSWY9XCJ0YWdPcHRpb24ub3B0aW9ucz8ubGVuZ3RoXCIgY2xhc3M9XCJkZXZ1aS1kcm9wZG93bi1tZW51LXRlbXBsYXRlXCI+XG4gICAgPGQtY2hlY2tib3gtZ3JvdXBcbiAgICAgIFsobmdNb2RlbCldPVwidGFnT3B0aW9uLnZhbHVlLnZhbHVlXCJcbiAgICAgIFtvcHRpb25zXT1cInRhZ09wdGlvbi5vcHRpb25zXCJcbiAgICAgIFtmaWx0ZXJLZXldPVwiJyRsYWJlbCdcIlxuICAgICAgW2xhYmVsVGVtcGxhdGVdPVwibGFiZWxDb250ZW50XCJcbiAgICAgIFtpc1Nob3dUaXRsZV09XCJ0cnVlXCJcbiAgICA+XG4gICAgICA8bmctdGVtcGxhdGUgI2xhYmVsQ29udGVudCBsZXQtbGFiZWw9XCJsYWJlbFwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImRldnVpLWNvbG9yLWJsb2NrXCIgW3N0eWxlLmJhY2tncm91bmRdPVwic3BsaXRMYWJlbCgnY29sb3InLCBsYWJlbClcIiB0aXRsZT1cInt7IHNwbGl0TGFiZWwoJ2xhYmVsJywgbGFiZWwpIH19XCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiB0aXRsZT1cInt7IHNwbGl0TGFiZWwoJ2xhYmVsJywgbGFiZWwpIH19XCI+e3sgc3BsaXRMYWJlbCgnbGFiZWwnLCBsYWJlbCkgfX08L3NwYW4+XG4gICAgICA8L25nLXRlbXBsYXRlPlxuICAgIDwvZC1jaGVja2JveC1ncm91cD5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJkZXZ1aS1kcm9wZG93bi1vcGVyYXRpb24tYXJlYVwiPlxuICAgIDxkLWJ1dHRvbiAoYnRuQ2xpY2spPVwiY2hvb3NlSXRlbXModGFnT3B0aW9uKTsgY2xvc2VNZW51KGRyb3Bkb3duKVwiPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LmNvbmZpcm0gfX08L2QtYnV0dG9uPlxuICAgIDxkLWJ1dHRvbiBic1N0eWxlPVwiY29tbW9uXCIgKGJ0bkNsaWNrKT1cImNsb3NlTWVudShkcm9wZG93bilcIj57eyBpMThuQ2F0ZWdvcnlTZWFyY2hUZXh0Py5jYW5jZWwgfX08L2QtYnV0dG9uPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSBbdHlwZV09XCIndGV4dElucHV0J1wiIGxldC10YWdPcHRpb249XCJ0YWdPcHRpb25cIiBsZXQtZHJvcGRvd249XCJkcm9wZG93blwiPlxuICA8Zm9ybSAjdGV4dElucHV0Rm9ybT1cIm5nRm9ybVwiPlxuICAgIDxpbnB1dFxuICAgICAgbmFtZT1cInRleHQtaW5wdXRcIlxuICAgICAgY2xhc3M9XCJkZXZ1aS1jYXRlZ29yeS1zZWFyY2gtdHlwZS10ZXh0LWlucHV0XCJcbiAgICAgIGF1dG9jb21wbGV0ZT1cIm9mZlwiXG4gICAgICBkVGV4dElucHV0XG4gICAgICBbKG5nTW9kZWwpXT1cInRhZ09wdGlvbi52YWx1ZS52YWx1ZVwiXG4gICAgICBbbWF4bGVuZ3RoXT1cInRhZ09wdGlvbi5tYXhMZW5ndGhcIlxuICAgICAgW3BsYWNlaG9sZGVyXT1cInRhZ09wdGlvbi5wbGFjZWhvbGRlciB8fCAnJ1wiXG4gICAgICBbZFZhbGlkYXRlUnVsZXNdPVwidGFnT3B0aW9uLnZhbGlkYXRlUnVsZXNcIlxuICAgIC8+XG4gIDwvZm9ybT5cbiAgPGRpdiBjbGFzcz1cImRldnVpLWRyb3Bkb3duLW9wZXJhdGlvbi1hcmVhXCI+XG4gICAgPGQtYnV0dG9uIFtkaXNhYmxlZF09XCJ0ZXh0SW5wdXRGb3JtLmludmFsaWRcIiAoYnRuQ2xpY2spPVwiZ2V0VGV4dElucHV0VmFsdWUodGFnT3B0aW9uKTsgY2xvc2VNZW51KGRyb3Bkb3duKVwiPnt7XG4gICAgICBpMThuQ2F0ZWdvcnlTZWFyY2hUZXh0Py5jb25maXJtXG4gICAgfX08L2QtYnV0dG9uPlxuICAgIDxkLWJ1dHRvbiBic1N0eWxlPVwiY29tbW9uXCIgKGJ0bkNsaWNrKT1cImNsb3NlTWVudShkcm9wZG93bilcIj57eyBpMThuQ2F0ZWdvcnlTZWFyY2hUZXh0Py5jYW5jZWwgfX08L2QtYnV0dG9uPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSBbdHlwZV09XCInbnVtYmVyUmFuZ2UnXCIgbGV0LXRhZ09wdGlvbj1cInRhZ09wdGlvblwiIGxldC1kcm9wZG93bj1cImRyb3Bkb3duXCI+XG4gIDxkaXYgY2xhc3M9XCJkZXZ1aS1pbnB1dC1udW1iZXItb3BlcmF0aW9uLWFyZWFcIj5cbiAgICA8ZC1pbnB1dC1udW1iZXJcbiAgICAgIHNpemU9XCJzbVwiXG4gICAgICBbbWluXT1cInRhZ09wdGlvbi5taW4/LmxlZnRcIlxuICAgICAgW21heF09XCJ0YWdPcHRpb24ubWF4Py5sZWZ0XCJcbiAgICAgIFttYXhMZW5ndGhdPVwidGFnT3B0aW9uLm1heExlbmd0aD8ubGVmdFwiXG4gICAgICBbc3RlcF09XCJ0YWdPcHRpb24uc3RlcD8ubGVmdCB8fCAxXCJcbiAgICAgIFtyZWddPVwidGFnT3B0aW9uLnJlZz8ubGVmdFwiXG4gICAgICBbcGxhY2Vob2xkZXJdPVwidGFnT3B0aW9uLnBsYWNlaG9sZGVyPy5sZWZ0IHx8ICcnXCJcbiAgICAgIFsobmdNb2RlbCldPVwidGFnT3B0aW9uLnZhbHVlLnZhbHVlWzBdXCJcbiAgICA+XG4gICAgPC9kLWlucHV0LW51bWJlcj5cbiAgICA8c3Bhbj4gLSA8L3NwYW4+XG4gICAgPGQtaW5wdXQtbnVtYmVyXG4gICAgICBzaXplPVwic21cIlxuICAgICAgW21pbl09XCJ0YWdPcHRpb24ubWluPy5yaWdodFwiXG4gICAgICBbbWF4XT1cInRhZ09wdGlvbi5tYXg/LnJpZ2h0XCJcbiAgICAgIFttYXhMZW5ndGhdPVwidGFnT3B0aW9uLm1heExlbmd0aD8ucmlnaHRcIlxuICAgICAgW3N0ZXBdPVwidGFnT3B0aW9uLnN0ZXA/LnJpZ2h0IHx8IDFcIlxuICAgICAgW3JlZ109XCJ0YWdPcHRpb24ucmVnPy5yaWdodFwiXG4gICAgICBbcGxhY2Vob2xkZXJdPVwidGFnT3B0aW9uLnBsYWNlaG9sZGVyPy5yaWdodCB8fCAnJ1wiXG4gICAgICBbKG5nTW9kZWwpXT1cInRhZ09wdGlvbi52YWx1ZS52YWx1ZVsxXVwiXG4gICAgPlxuICAgIDwvZC1pbnB1dC1udW1iZXI+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiZGV2dWktZHJvcGRvd24tb3BlcmF0aW9uLWFyZWFcIj5cbiAgICA8ZC1idXR0b24gKGJ0bkNsaWNrKT1cImdldE51bWJlclJhbmdlVmFsdWUodGFnT3B0aW9uKTsgY2xvc2VNZW51KGRyb3Bkb3duKVwiPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LmNvbmZpcm0gfX08L2QtYnV0dG9uPlxuICAgIDxkLWJ1dHRvbiBic1N0eWxlPVwiY29tbW9uXCIgKGJ0bkNsaWNrKT1cImNsb3NlTWVudShkcm9wZG93bilcIj57eyBpMThuQ2F0ZWdvcnlTZWFyY2hUZXh0Py5jYW5jZWwgfX08L2QtYnV0dG9uPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSBbdHlwZV09XCIndHJlZVNlbGVjdCdcIiBsZXQtdGFnT3B0aW9uPVwidGFnT3B0aW9uXCIgbGV0LWRyb3Bkb3duPVwiZHJvcGRvd25cIiBsZXQtaXNTZWxlY3RlZD1cImlzU2VsZWN0ZWRcIj5cbiAgPGRpdiAqbmdJZj1cInRhZ09wdGlvbi5tdWx0aXBsZSAmJiB0YWdPcHRpb24ub3B0aW9ucz8ubGVuZ3RoXCI+XG4gICAgPHVsIGNsYXNzPVwiZGV2dWktc2VsZWN0LWxpc3RcIj5cbiAgICAgIDxzcGFuPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LnNlbGVjdGVkIH19PC9zcGFuPlxuICAgICAgPGxpIGNsYXNzPVwiZGV2dWktc2VsZWN0LWl0ZW0gZGV2dWktbm8tbGFiZWwtaXRlbVwiICpuZ0Zvcj1cImxldCBpdGVtIG9mIHRhZ09wdGlvbi52YWx1ZS52YWx1ZTsgbGFzdCBhcyBpc0xhc3RcIj5cbiAgICAgICAge3sgaXRlbVt0YWdPcHRpb24uZmlsdGVyS2V5IHx8IHRhZ09wdGlvbi50cmVlTm9kZVRpdGxlS2V5IHx8ICd0aXRsZSddIH19XG4gICAgICAgIDxzcGFuICpuZ0lmPVwiIWlzTGFzdFwiPiwgPC9zcGFuPlxuICAgICAgPC9saT5cbiAgICA8L3VsPlxuICA8L2Rpdj5cbiAgPGRpdiAqbmdJZj1cInRhZ09wdGlvbi5zZWFyY2hhYmxlXCI+XG4gICAgPGlucHV0XG4gICAgICBjbGFzcz1cImRldnVpLWlucHV0XCJcbiAgICAgIGF1dG9jb21wbGV0ZT1cIm9mZlwiXG4gICAgICAjc2VhcmNoSW5wdXRNb2RlbD1cIm5nTW9kZWxcIlxuICAgICAgWyhuZ01vZGVsKV09XCJ0cmVlU2VhcmNoS2V5XCJcbiAgICAgIChuZ01vZGVsQ2hhbmdlKT1cInRyZWVTZWFyY2godHJlZSwgJGV2ZW50KVwiXG4gICAgLz5cbiAgICA8c3BhbiBjbGFzcz1cImRldnVpLWZvcm0tY29udHJvbC1mZWVkYmFja1wiPlxuICAgICAgPHN2Z1xuICAgICAgICB3aWR0aD1cIjE0cHhcIlxuICAgICAgICBoZWlnaHQ9XCIxNHB4XCJcbiAgICAgICAgdmlld0JveD1cIjAgMCAxNCAxNFwiXG4gICAgICAgIHZlcnNpb249XCIxLjFcIlxuICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgICAgY2xhc3M9XCJzdmctaWNvbi1zZWFyY2hcIlxuICAgICAgICBzdHlsZT1cInZlcnRpY2FsLWFsaWduOiBtaWRkbGVcIlxuICAgICAgPlxuICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMS4wMDAwMDAsIC0xLjAwMDAwMClcIj5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGQ9XCJNNy4zMDgxMTkyMiwxIEMxMC43OTE5OTczLDEgMTMuNjE2MjM4NCwzLjgyNDI0MTE3IDEzLjYxNjIzODQsNy4zMDgxMTkyMiBDMTMuNjE2MjM4NCw4LjcyNTA3NjM0IDEzLjE0OTA1MywxMC4wMzI5MTY0IDEyLjM2MDMxNTEsMTEuMDg2MDA2NSBMMTQuNzM2MDU2NCwxMy40NjE2MjM4IEMxNS4wODc5ODEyLDEzLjgxMzU0ODcgMTUuMDg3OTgxMiwxNC4zODQxMzE2IDE0LjczNjA1NjQsMTQuNzM2MDU2NCBDMTQuMzg0MTMxNiwxNS4wODc5ODEyIDEzLjgxMzU0ODcsMTUuMDg3OTgxMiAxMy40NjE2MjM4LDE0LjczNjA1NjQgTDExLjA4NjAwNjUsMTIuMzYwMzE1MSBDMTAuMDMyOTE2NCwxMy4xNDkwNTMgOC43MjUwNzYzNCwxMy42MTYyMzg0IDcuMzA4MTE5MjIsMTMuNjE2MjM4NCBDMy44MjQyNDExNywxMy42MTYyMzg0IDEsMTAuNzkxOTk3MyAxLDcuMzA4MTE5MjIgQzEsMy44MjQyNDExNyAzLjgyNDI0MTE3LDEgNy4zMDgxMTkyMiwxIFogTTcuMzEsMi41MSBDNC42NTkwMzMyLDIuNTEgMi41MSw0LjY1OTAzMzIgMi41MSw3LjMxIEMyLjUxLDkuOTYwOTY2OCA0LjY1OTAzMzIsMTIuMTEgNy4zMSwxMi4xMSBDOS45NjA5NjY4LDEyLjExIDEyLjExLDkuOTYwOTY2OCAxMi4xMSw3LjMxIEMxMi4xMSw0LjY1OTAzMzIgOS45NjA5NjY4LDIuNTEgNy4zMSwyLjUxIFpcIlxuICAgICAgICAgICAgICBmaWxsLXJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgPC9nPlxuICAgICAgICA8L2c+XG4gICAgICA8L3N2Zz5cbiAgICA8L3NwYW4+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiZGV2dWktY2F0ZWdvcnktc2VhcmNoLXRyZWUtY29udGFpbmVyXCIgW3N0eWxlLmRpc3BsYXldPVwidGFnT3B0aW9uLm9wdGlvbnM/Lmxlbmd0aCAmJiAhbm9SZWNvcmQgPyAnYmxvY2snIDogJ25vbmUnXCI+XG4gICAgPGQtb3BlcmFibGUtdHJlZVxuICAgICAgI3RyZWVcbiAgICAgIFt0cmVlXT1cInRhZ09wdGlvbi5tdWx0aXBsZSAmJiBpc1NlbGVjdGVkID8gdGFnT3B0aW9uLnZhbHVlLm9wdGlvbnMgOiB0YWdPcHRpb24ub3B0aW9uc1wiXG4gICAgICBbdHJlZU5vZGVJZEtleV09XCJ0YWdPcHRpb24udHJlZU5vZGVJZEtleSB8fCAnaWQnXCJcbiAgICAgIFt0cmVlTm9kZUNoaWxkcmVuS2V5XT1cInRhZ09wdGlvbi50cmVlTm9kZUNoaWxkcmVuS2V5IHx8ICdjaGlsZHJlbidcIlxuICAgICAgW3RyZWVOb2RlVGl0bGVLZXldPVwidGFnT3B0aW9uLmZpbHRlcktleSB8fCB0YWdPcHRpb24udHJlZU5vZGVUaXRsZUtleSB8fCAndGl0bGUnXCJcbiAgICAgIFtjaGVja2JveERpc2FibGVkS2V5XT1cInRhZ09wdGlvbi5kaXNhYmxlZEtleSB8fCAnZGlzYWJsZWQnXCJcbiAgICAgIFtjaGVja2FibGVdPVwidGFnT3B0aW9uLm11bHRpcGxlXCJcbiAgICAgIFtjYW5BY3RpdmF0ZU5vZGVdPVwiIXRhZ09wdGlvbi5tdWx0aXBsZVwiXG4gICAgICBbY2FuQWN0aXZhdGVQYXJlbnROb2RlXT1cIiF0YWdPcHRpb24ubGVhZk9ubHlcIlxuICAgICAgW2ljb25QYXJlbnRPcGVuXT1cInRhZ09wdGlvbi5pY29uUGFyZW50T3BlbiB8fCBpY29ucy5pY29uUGFyZW50T3BlblwiXG4gICAgICBbaWNvblBhcmVudENsb3NlXT1cInRhZ09wdGlvbi5pY29uUGFyZW50Q2xvc2UgfHwgaWNvbnMuaWNvblBhcmVudENsb3NlXCJcbiAgICAgIFtpY29uTGVhZl09XCJ0YWdPcHRpb24uaWNvbkxlYWYgfHwgaWNvbnMuaWNvbkxlYWZcIlxuICAgICAgKG5vZGVDaGVja2VkKT1cIm9uT3BlcmFibGVOb2RlQ2hlY2tlZCgkZXZlbnQsIHRhZ09wdGlvbilcIlxuICAgICAgKG5vZGVTZWxlY3RlZCk9XCJvbk9wZXJhYmxlTm9kZVNlbGVjdGVkKCRldmVudCwgdGFnT3B0aW9uLCB0cmVlKTsgY2xvc2VNZW51KGRyb3Bkb3duKVwiXG4gICAgICBjbGFzcz1cImRldnVpLXRyZWVcIlxuICAgID5cbiAgICA8L2Qtb3BlcmFibGUtdHJlZT5cbiAgPC9kaXY+XG4gIDxkaXYgKm5nSWY9XCIhdGFnT3B0aW9uLm9wdGlvbnM/Lmxlbmd0aFwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJub0RhdGFcIj48L25nLWNvbnRhaW5lcj5cbiAgPC9kaXY+XG4gIDxkaXYgKm5nSWY9XCJub1JlY29yZFwiIGNsYXNzPVwiZGV2dWktbm8tZGF0YS10aXBcIj57eyBpMThuQ29tbW9uVGV4dD8ubm9SZWNvcmRzRm91bmQgfX08L2Rpdj5cbiAgPGRpdiAqbmdJZj1cInRhZ09wdGlvbi5tdWx0aXBsZVwiIGNsYXNzPVwiZGV2dWktZHJvcGRvd24tb3BlcmF0aW9uLWFyZWFcIj5cbiAgICA8ZC1idXR0b24gKGJ0bkNsaWNrKT1cImdldFRyZWVWYWx1ZSh0YWdPcHRpb24sIHRyZWUpOyBjbG9zZU1lbnUoZHJvcGRvd24pXCI+e3sgaTE4bkNhdGVnb3J5U2VhcmNoVGV4dD8uY29uZmlybSB9fTwvZC1idXR0b24+XG4gICAgPGQtYnV0dG9uIGJzU3R5bGU9XCJjb21tb25cIiAoYnRuQ2xpY2spPVwiY2xvc2VNZW51KGRyb3Bkb3duKVwiPnt7IGkxOG5DYXRlZ29yeVNlYXJjaFRleHQ/LmNhbmNlbCB9fTwvZC1idXR0b24+XG4gIDwvZGl2PlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==