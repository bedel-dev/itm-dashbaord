import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, Output, TemplateRef, ViewChild } from '@angular/core';
import { fromEvent } from 'rxjs';
import { distinctUntilChanged, map, pluck, takeUntil, tap } from 'rxjs/operators';
import { GanttService } from '../gantt.service';
import * as i0 from "@angular/core";
import * as i1 from "../gantt.service";
import * as i2 from "@angular/common";
import * as i3 from "@angular/cdk/overlay";
export class GanttBarComponent {
    constructor(cdr, ganttService, ele) {
        this.cdr = cdr;
        this.ganttService = ganttService;
        this.ele = ele;
        this.mouseMoveTimer = null;
        this.mouseLeaveTimer = null;
        this.barHovering = false;
        this.progressHovering = false;
        this.focused = false;
        this.MIN_WIDTH = 10;
        this.left = 0;
        this.width = 0;
        this.EARLYOFFSET = 3;
        this.cdkOverlayOffsetX = 0;
        this.max = 100;
        this.min = 0;
        this.step = 1;
        this.mouseEventDalay = 100;
        this.tipHovered = false;
        this.mouseMoveOnBar = false;
        this.movedOut = false;
        this.scrollTimer = null;
        this.SCROLL_STEP = 10;
        this.outDirection = 'right';
        this.scrollViewRange = [0, 0];
        this.barMoveDisabled = false;
        this.barResizeDisabled = false;
        this.progressDisabled = false;
        this.progressRate = 0;
        this.originOffsetX = 0;
        this.showTitle = false;
        this.customBarClass = '';
        this.customBgClass = '';
        this.customTitleClass = '';
        this.barMoveStartEvent = new EventEmitter();
        this.barMovingEvent = new EventEmitter();
        this.barMoveEndEvent = new EventEmitter();
        this.barResizeStartEvent = new EventEmitter();
        this.barResizingEvent = new EventEmitter();
        this.barResizeEndEvent = new EventEmitter();
        this.barProgressEvent = new EventEmitter();
        this.onTouchedCallback = (v) => { };
        this.onChangeCallback = (v) => { };
    }
    ngOnInit() {
        this.checkRangeValues(this.min, this.max);
        this.checkStepValue();
        if (this.progressRate === null) {
            this.setValue(this.ensureValueInRange(null));
        }
        this.originStartDate = this.startDate;
        this.originEndDate = this.endDate;
        this.duration = this.ganttService.getDuration(this.startDate, this.endDate) + 'd';
        this.ganttScaleStatusHandler = this.ganttService.ganttScaleConfigChange.subscribe((config) => {
            if (config.startDate) {
                this.left = this.ganttService.getDatePostionOffset(this.startDate);
            }
            if (config.unit) {
                this.left = this.ganttService.getDatePostionOffset(this.startDate);
                this.width = this.ganttService.getDurationWidth(this.startDate, this.endDate);
            }
        });
    }
    ngOnChanges(changes) {
        if (Object.prototype.hasOwnProperty.call(changes, 'min')
            || Object.prototype.hasOwnProperty.call(changes, 'max')
            || Object.prototype.hasOwnProperty.call(changes, 'step')) {
            this.checkRangeValues(this.min, this.max);
            this.checkStepValue();
        }
        if (changes['progressRate'] && this.progressRate >= 0) {
            this.updateTrackAndHandle();
        }
        if (changes['startDate']) {
            this.left = this.ganttService.getDatePostionOffset(this.startDate);
            this.width = this.ganttService.getDurationWidth(this.startDate, this.endDate);
        }
        if (changes['endDate']) {
            this.width = this.ganttService.getDurationWidth(this.startDate, this.endDate);
        }
        if (changes['barMoveDisabled']) {
            if (this.barMoveDisabled) {
                this.unsubscribeMouseActions(['start'], ['barMove']);
            }
            else {
                this.subscribeMouseActions(['start'], ['barMove']);
            }
        }
        if (changes['barResizeDisabled']) {
            if (this.barResizeDisabled) {
                this.unsubscribeMouseActions(['start'], ['barResize']);
            }
            else {
                this.subscribeMouseActions(['start'], ['barResize']);
            }
        }
        if (changes['progressDisabled']) {
            if (this.progressDisabled) {
                this.unsubscribeMouseActions(['start'], ['progress']);
            }
            else {
                this.subscribeMouseActions(['start'], ['progress']);
            }
        }
    }
    ngAfterViewInit() {
        if (this.startDate && this.endDate) {
            this.registerMouseEventsListeners();
            this.registerHandleHoverPopoverListener();
            if (!this.barMoveDisabled) {
                this.subscribeMouseActions(['start'], ['barMove']);
            }
            if (!this.barResizeDisabled) {
                this.subscribeMouseActions(['start'], ['barResize']);
            }
            if (!this.progressDisabled) {
                this.subscribeMouseActions(['start'], ['progress']);
            }
        }
        if (this.progressRate && this.progressRate > 0) {
            this.updateTrackAndHandle();
        }
    }
    registerOnChange(fn) {
        this.onChangeCallback = fn;
    }
    registerOnTouched(fn) {
        this.onTouchedCallback = fn;
    }
    writeValue(newValue) {
        this.setValue(this.ensureValueInRange(newValue));
    }
    checkRangeValues(minValue, maxValue) {
        if (maxValue <= minValue) {
            throw new Error(`max value must be greater than min value`);
        }
    }
    checkStepValue() {
        if (this.step < 0 || !this.step) {
            throw new Error('step value must be greater than 0.');
        }
        else if ((this.max - this.min) % this.step) {
            throw new Error('(max - min) must be divisible by step.');
        }
    }
    ratioToValue(ratio, min, max, step) {
        let value = (max - min) * ratio + min;
        if (step > 0) {
            value = Math.round(value / step) * step;
        }
        return this.clamp(min, value, max);
    }
    convertHandlePositionToRatio(handleX, startX, totalLength) {
        return this.clamp(0, (handleX - startX) / totalLength, 1);
    }
    clamp(min, n, max) {
        return Math.max(min, Math.min(n, max));
    }
    updateStyle(percentage) {
        this.percentage = Math.min(1, Math.max(0, percentage));
        if (this.ganttBarTrack && this.ganttBarTrack.nativeElement) {
            this.ganttBarTrack.nativeElement.style.width = `${this.percentage * 100}%`;
        }
        if (this.ganttBarProgress && this.ganttBarProgress.nativeElement) {
            this.ganttBarProgress.nativeElement.style.left = `${this.percentage * 100}%`;
        }
    }
    registerMouseEventsListeners() {
        this.moveBarStartListener = fromEvent(this.ganttBarMain.nativeElement, 'mousedown').pipe(tap((e) => {
            e.stopPropagation();
            e.preventDefault();
        }), pluck('pageX'));
        this.dragProgressStartListener = fromEvent(this.ganttBarProgress.nativeElement, 'mousedown').pipe(tap((e) => {
            e.stopPropagation();
            e.preventDefault();
        }), pluck('pageX'), map((position) => this.mousePositionToAdaptiveValue(position)));
        this.resizeBarLeftStartListener = fromEvent(this.ganttBarDarggerLeft.nativeElement, 'mousedown').pipe(tap((e) => {
            e.stopPropagation();
            e.preventDefault();
        }), pluck('pageX'));
        this.resizeBarRightStartListener = fromEvent(this.ganttBarDarggerRight.nativeElement, 'mousedown').pipe(tap((e) => {
            e.stopPropagation();
            e.preventDefault();
        }), pluck('pageX'));
        this.mouseEndListener = fromEvent(document, 'mouseup');
        this.mouseMoveListener = fromEvent(document, 'mousemove').pipe(tap((e) => {
            e.stopPropagation();
            e.preventDefault();
        }), pluck('pageX'), distinctUntilChanged(), takeUntil(this.mouseEndListener));
    }
    getSliderPagePosition() {
        const rect = this.ganttBar.nativeElement.getBoundingClientRect();
        const window = this.ganttBar.nativeElement.ownerDocument.defaultView;
        return rect.left + window.pageXOffset;
    }
    getRailLength() {
        return this.ganttBarRail.nativeElement.clientWidth;
    }
    mousePositionToAdaptiveValue(handleX) {
        const sliderStartX = this.getSliderPagePosition();
        const sliderLength = this.getRailLength();
        const ratio = this.convertHandlePositionToRatio(handleX, sliderStartX, sliderLength);
        const value = this.ratioToValue(ratio, this.min, this.max, this.step);
        return parseFloat(value.toFixed(this.getDecimals(this.step)));
    }
    getDecimals(value) {
        const valueString = value.toString();
        const integerLength = valueString.indexOf('.') + 1;
        return integerLength >= 0 ? valueString.length - integerLength : 0;
    }
    progressStartDrag(value) {
        this.dragProgressStart = true;
        this.handleController(true);
        this.setValue(value);
    }
    barStartMoving(value) {
        this.scrollViewRange = [
            this.scrollElement.getBoundingClientRect().left + this.originOffsetX,
            this.scrollElement.getBoundingClientRect().right,
        ];
        this.moveBarStart = true;
        this.barMoveStartPageX = value;
        this.barOriginLeft = parseInt(this.ganttBar.nativeElement.style.left, 10);
        this.handleController(true);
        this.barMoveStartEvent.emit(this.getGanttTaskInfo());
    }
    barLeftStartResizing(value) {
        this.resizeBarLeftStart = true;
        this.barResizeStartPageX = value;
        this.barOriginLeft = parseInt(this.ganttBar.nativeElement.style.left, 10);
        this.barOriginWidth = this.ganttBar.nativeElement.style.width;
        this.handleController(true);
        this.barResizeStartEvent.emit(this.getGanttTaskInfo());
    }
    barRightStartResizing(value) {
        this.resizeBarRightStart = true;
        this.barResizeStartPageX = value;
        this.barOriginLeft = parseInt(this.ganttBar.nativeElement.style.left, 10);
        this.barOriginWidth = this.ganttBar.nativeElement.style.width;
        this.handleController(true);
        this.barResizeStartEvent.emit(this.getGanttTaskInfo());
    }
    mouseMoving(value) {
        if (this.dragProgressStart) {
            this.setValue(this.mousePositionToAdaptiveValue(value));
            this.cdr.markForCheck();
        }
        if (this.resizeBarLeftStart) {
            this.mouseMoveOnBar = true;
            const offset = value - this.barResizeStartPageX;
            const finalWidth = parseInt(this.barOriginWidth, 10) - Math.round(offset);
            if (finalWidth < this.MIN_WIDTH) {
                return;
            }
            const timeOffset = Math.round((offset / this.ganttService.getScaleUnitPixel()) * GanttService.DAY_DURATION);
            this.startDate = new Date(this.originStartDate.getTime() + timeOffset);
            this.ganttService.roundDate(this.startDate);
            if (this.endDate < this.startDate) {
                this.startDate = this.endDate;
            }
            const earlyDateTime = this.startDate.getTime() - this.EARLYOFFSET * GanttService.DAY_DURATION;
            if (offset < 0 && earlyDateTime < this.ganttService.scaleStartDate.getTime()) {
                this.ganttService.setScaleConfig({ startDate: new Date(earlyDateTime) });
                this.barOriginLeft = this.EARLYOFFSET * this.ganttService.getScaleUnitPixel() - Math.round(offset);
            }
            const finalLeft = this.barOriginLeft + Math.round(offset);
            this.left = finalLeft;
            this.width = finalWidth;
            this.dispatchGanttBarStatus();
            const info = this.getGanttTaskInfo();
            info.moveOffset = offset;
            this.barResizingEvent.emit(info);
        }
        if (this.resizeBarRightStart) {
            this.mouseMoveOnBar = true;
            const offset = value - this.barResizeStartPageX;
            const finalWidth = parseInt(this.barOriginWidth, 10) + Math.round(offset);
            if (finalWidth < this.MIN_WIDTH) {
                return;
            }
            const timeOffset = Math.round((offset / this.ganttService.getScaleUnitPixel()) * GanttService.DAY_DURATION);
            this.endDate = new Date(this.originEndDate.getTime() + timeOffset);
            this.ganttService.roundDate(this.endDate);
            if (this.endDate < this.startDate) {
                this.endDate = this.startDate;
            }
            const lateDateTime = this.endDate.getTime() + this.EARLYOFFSET * GanttService.DAY_DURATION;
            if (offset > 0 && lateDateTime > this.ganttService.scaleEndDate.getTime()) {
                this.ganttService.setScaleConfig({ endDate: new Date(lateDateTime) });
            }
            this.width = finalWidth;
            this.dispatchGanttBarStatus();
            const info = this.getGanttTaskInfo();
            info.moveOffset = offset;
            this.barResizingEvent.emit(info);
        }
        if (this.moveBarStart) {
            this.checkIsOut(value);
            if (this.movedOut) {
                return;
            }
            this.mouseMoveOnBar = true;
            const offset = value - this.barMoveStartPageX;
            const timeOffset = Math.round((Math.round(offset) / this.ganttService.getScaleUnitPixel()) * GanttService.DAY_DURATION);
            const newStartDate = new Date(this.originStartDate.getTime() + timeOffset);
            this.ganttService.roundDate(newStartDate);
            this.startDate = newStartDate;
            const newEndDate = new Date(this.originEndDate.getTime() + timeOffset);
            this.ganttService.roundDate(newEndDate);
            this.endDate = newEndDate;
            const earlyDateTime = this.startDate.getTime() - this.EARLYOFFSET * GanttService.DAY_DURATION;
            const lateDateTime = this.endDate.getTime() + this.EARLYOFFSET * GanttService.DAY_DURATION;
            if (earlyDateTime < this.ganttService.scaleStartDate.getTime()) {
                this.ganttService.setScaleConfig({ startDate: new Date(earlyDateTime) });
            }
            else if (lateDateTime > this.ganttService.scaleEndDate.getTime()) {
                this.ganttService.setScaleConfig({ endDate: new Date(lateDateTime) });
            }
            const finalLeft = this.barOriginLeft + Math.round(offset);
            this.left = finalLeft;
            this.dispatchGanttBarStatus();
            const info = this.getGanttTaskInfo();
            info.moveOffset = offset;
            this.barMovingEvent.emit(info);
        }
    }
    checkIsOut(value) {
        this.outDirection = value - this.barMoveStartPageX > 0 ? 'right' : 'left';
        if (this.outDirection === 'left') {
            this.movedOut = value < this.scrollViewRange[0];
        }
        else {
            this.movedOut = value > this.scrollViewRange[1];
        }
        if (this.movedOut) {
            this.autoScroll();
        }
        else if (this.scrollTimer) {
            const left = this.outDirection === 'left'
                ? this.scrollElement.scrollLeft + (value - this.scrollElement.getBoundingClientRect().left) - this.originOffsetX
                : this.scrollElement.scrollLeft + this.scrollElement.clientWidth - this.originOffsetX;
            this.setLeft(Math.round(left));
            this.stopAutoScroll();
            this.barMoveStartPageX = value;
        }
    }
    autoScroll() {
        if (!this.scrollTimer) {
            this.scrollTimer = setInterval(() => {
                this.outDirection === 'left'
                    ? (this.scrollElement.scrollLeft -= this.SCROLL_STEP)
                    : (this.scrollElement.scrollLeft += this.SCROLL_STEP);
            }, 10);
        }
    }
    stopAutoScroll() {
        clearInterval(this.scrollTimer);
        this.scrollTimer = null;
    }
    setLeft(left) {
        const offset = left - this.left;
        const timeOffset = (Math.round(offset) / this.ganttService.getScaleUnitPixel()) * GanttService.DAY_DURATION;
        const newStartDate = new Date(this.startDate.getTime() + timeOffset);
        this.ganttService.roundDate(newStartDate);
        this.startDate = newStartDate;
        const newEndDate = new Date(this.endDate.getTime() + timeOffset);
        this.ganttService.roundDate(newEndDate);
        this.endDate = newEndDate;
        this.originStartDate = this.startDate;
        this.originEndDate = this.endDate;
        this.barOriginLeft = left;
        this.left = left;
    }
    getGanttTaskInfo() {
        this.duration = this.ganttService.getDuration(this.startDate, this.endDate) + 'd';
        const progress = this.progressRate + '%';
        const taskInfo = {
            id: this.id,
            startDate: this.startDate,
            endDate: this.endDate,
            duration: this.duration,
            progress: progress,
            left: this.left,
            width: this.width,
        };
        return taskInfo;
    }
    mouseStopMoving() {
        this.mouseMoveOnBar = false;
        this.ganttService.roundDate(this.startDate);
        this.ganttService.roundDate(this.endDate);
        this.originStartDate = this.startDate;
        this.originEndDate = this.endDate;
        const taskInfo = this.getGanttTaskInfo();
        if (this.moveBarStart) {
            const finalLeft = this.ganttService.getDatePostionOffset(this.startDate);
            this.left = finalLeft > 0 ? finalLeft : 0;
            this.barMoveEndEvent.emit(taskInfo);
        }
        if (this.resizeBarLeftStart) {
            const finalLeft = this.ganttService.getDatePostionOffset(this.startDate);
            const finalWidth = this.ganttService.getDurationWidth(this.startDate, this.endDate);
            this.left = finalLeft > 0 ? finalLeft : 0;
            this.width = finalWidth;
            this.barResizeEndEvent.emit(taskInfo);
        }
        if (this.resizeBarRightStart) {
            const finalWidth = this.ganttService.getDurationWidth(this.startDate, this.endDate);
            this.width = finalWidth;
            this.barResizeEndEvent.emit(taskInfo);
        }
        if (this.dragProgressStart) {
            this.barProgressEvent.emit(this.progressRate);
        }
        this.handleController(false);
        this.stopAutoScroll();
        this.cdr.markForCheck();
    }
    subscribeMouseActions(mouseActions = ['start', 'move', 'end'], events = ['barMove', 'barResize', 'progress']) {
        if (mouseActions.indexOf('start') !== -1 &&
            this.dragProgressStartListener &&
            !this.dragProgressStartHandler &&
            events.indexOf('progress') !== -1) {
            this.dragProgressStartHandler = this.dragProgressStartListener.subscribe(this.progressStartDrag.bind(this));
        }
        if (mouseActions.indexOf('start') !== -1 &&
            this.moveBarStartListener &&
            !this.moveBarStartHandler &&
            events.indexOf('barMove') !== -1) {
            this.moveBarStartHandler = this.moveBarStartListener.subscribe(this.barStartMoving.bind(this));
        }
        if (mouseActions.indexOf('start') !== -1 &&
            this.resizeBarLeftStartListener &&
            !this.resizeBarLeftStartHandler &&
            events.indexOf('barResize') !== -1) {
            this.resizeBarLeftStartHandler = this.resizeBarLeftStartListener.subscribe(this.barLeftStartResizing.bind(this));
        }
        if (mouseActions.indexOf('start') !== -1 &&
            this.resizeBarRightStartListener &&
            !this.resizeBarRightStartHandler &&
            events.indexOf('barResize') !== -1) {
            this.resizeBarRightStartHandler = this.resizeBarRightStartListener.subscribe(this.barRightStartResizing.bind(this));
        }
        if (mouseActions.indexOf('move') !== -1 && this.mouseMoveListener && !this.mouseMoveHandler) {
            this.mouseMoveHandler = this.mouseMoveListener.subscribe(this.mouseMoving.bind(this));
        }
        if (mouseActions.indexOf('end') !== -1 && this.mouseEndListener && !this.mouseEndHandler) {
            this.mouseEndHandler = this.mouseEndListener.subscribe(this.mouseStopMoving.bind(this));
        }
    }
    unsubscribeMouseActions(dragStages = ['start', 'move', 'end'], events = ['barMove', 'barResize', 'progress']) {
        if (dragStages.indexOf('start') !== -1 && events.indexOf('progress') !== -1 && this.dragProgressStartHandler) {
            this.dragProgressStartHandler.unsubscribe();
            this.dragProgressStartHandler = null;
        }
        if (dragStages.indexOf('start') !== -1 && events.indexOf('barMove') !== -1 && this.moveBarStartHandler) {
            this.moveBarStartHandler.unsubscribe();
            this.moveBarStartHandler = null;
        }
        if (dragStages.indexOf('start') !== -1 && events.indexOf('barResize') !== -1 && this.resizeBarLeftStartHandler) {
            this.resizeBarLeftStartHandler.unsubscribe();
            this.resizeBarLeftStartHandler = null;
        }
        if (dragStages.indexOf('start') !== -1 && events.indexOf('barResize') !== -1 && this.resizeBarRightStartHandler) {
            this.resizeBarRightStartHandler.unsubscribe();
            this.resizeBarRightStartHandler = null;
        }
        if (dragStages.indexOf('move') !== -1 && this.mouseMoveHandler) {
            this.mouseMoveHandler.unsubscribe();
            this.mouseMoveHandler = null;
        }
        if (dragStages.indexOf('end') !== -1 && this.mouseEndHandler) {
            this.mouseEndHandler.unsubscribe();
            this.mouseEndHandler = null;
        }
    }
    handleController(movable) {
        if (movable) {
            this.focused = this.focusController();
            this.subscribeMouseActions(['move', 'end']);
        }
        else {
            this.dragProgressStart = false;
            this.moveBarStart = false;
            this.resizeBarLeftStart = false;
            this.resizeBarRightStart = false;
            this.focused = this.focusController();
            this.unsubscribeMouseActions(['move', 'end']);
        }
    }
    setValue(value) {
        if (this.progressRate !== value) {
            this.progressRate = value;
            this.updateTrackAndHandle();
        }
        this.onChangeCallback(this.progressRate);
    }
    ensureValueInRange(value) {
        let safeValue;
        if (!this.valueMustBeValid(value)) {
            safeValue = this.min;
        }
        else {
            safeValue = this.clamp(this.min, value, this.max);
        }
        return safeValue;
    }
    updateTrackAndHandle() {
        const value = this.progressRate;
        const offset = this.valueToOffset(value);
        this.updateStyle(offset / 100);
        this.cdr.markForCheck();
    }
    valueMustBeValid(value) {
        return !isNaN(typeof value !== 'number' ? parseFloat(value) : value);
    }
    valueToOffset(value) {
        return ((value - this.min) / (this.max - this.min)) * 100;
    }
    registerHandleHoverPopoverListener() {
        const mouseOverProgressListener = fromEvent(this.ganttBarProgress.nativeElement, 'mouseover');
        const mouseLeaveProgressListener = fromEvent(this.ganttBarProgress.nativeElement, 'mouseout');
        this.mouseOverProgressHandler = mouseOverProgressListener.subscribe(this.ganttProgressPopoverOnMouseHover.bind(this));
        this.mouseLeaveProgressHandler = mouseLeaveProgressListener.subscribe(this.ganttProgressPopoverOnMouseLeave.bind(this));
    }
    ganttBarPopoverOnMouseHover($event) {
        if (this.mouseLeaveTimer) {
            clearTimeout(this.mouseLeaveTimer);
        }
        this.mouseMoveTimer = setTimeout(() => {
            const barLeft = this.ganttBar.nativeElement.getClientRects()[0].left;
            const eventLeft = $event.clientX;
            this.cdkOverlayOffsetX = eventLeft - barLeft;
            this.barHovering = true;
            this.focused = this.focusController();
            this.dispatchGanttBarStatus();
            this.cdr.markForCheck();
        }, this.mouseEventDalay);
    }
    ganttBarPopoverOnMouseLeave() {
        if (this.mouseMoveTimer) {
            clearTimeout(this.mouseMoveTimer);
        }
        this.mouseLeaveTimer = setTimeout(() => {
            this.barHovering = false;
            this.focused = this.focusController();
            this.dispatchGanttBarStatus();
            this.cdr.markForCheck();
        }, this.mouseEventDalay);
    }
    mouseLeaveTip() {
        setTimeout(() => {
            this.tipHovered = false;
        }, this.mouseEventDalay);
    }
    ganttProgressPopoverOnMouseHover() {
        this.progressHovering = true;
    }
    ganttProgressPopoverOnMouseLeave() {
        this.progressHovering = false;
    }
    unregisterHandleHoverTooltip() {
        if (this.mouseOverProgressHandler) {
            this.mouseOverProgressHandler.unsubscribe();
            this.mouseOverProgressHandler = null;
        }
        if (this.mouseLeaveProgressHandler) {
            this.mouseLeaveProgressHandler.unsubscribe();
            this.mouseLeaveProgressHandler = null;
        }
    }
    clearTimer() {
        if (this.mouseLeaveTimer) {
            clearTimeout(this.mouseLeaveTimer);
        }
        if (this.mouseMoveTimer) {
            clearTimeout(this.mouseMoveTimer);
        }
    }
    focusController() {
        return this.dragProgressStart || this.moveBarStart || this.resizeBarLeftStart || this.resizeBarRightStart || this.barHovering;
    }
    dispatchGanttBarStatus() {
        const status = {
            focused: this.focused,
            startDate: this.startDate,
            endDate: this.endDate,
        };
        this.ganttService.changeGanttBarStatus(status);
    }
    ngOnDestroy() {
        this.clearTimer();
        this.unsubscribeMouseActions();
        this.unregisterHandleHoverTooltip();
        if (this.ganttScaleStatusHandler) {
            this.ganttScaleStatusHandler.unsubscribe();
            this.ganttScaleStatusHandler = null;
        }
    }
}
GanttBarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: GanttBarComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.GanttService }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });
GanttBarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: GanttBarComponent, selector: "d-gantt-bar", inputs: { barMoveDisabled: "barMoveDisabled", barResizeDisabled: "barResizeDisabled", progressDisabled: "progressDisabled", startDate: "startDate", endDate: "endDate", progressRate: "progressRate", tipTemplateRef: "tipTemplateRef", data: "data", originOffsetX: "originOffsetX", id: "id", title: "title", showTitle: "showTitle", customBarClass: "customBarClass", customBgClass: "customBgClass", customTitleClass: "customTitleClass", scrollElement: "scrollElement" }, outputs: { barMoveStartEvent: "barMoveStartEvent", barMovingEvent: "barMovingEvent", barMoveEndEvent: "barMoveEndEvent", barResizeStartEvent: "barResizeStartEvent", barResizingEvent: "barResizingEvent", barResizeEndEvent: "barResizeEndEvent", barProgressEvent: "barProgressEvent" }, viewQueries: [{ propertyName: "ganttBar", first: true, predicate: ["ganttBar"], descendants: true }, { propertyName: "ganttBarMain", first: true, predicate: ["ganttBarMain"], descendants: true }, { propertyName: "ganttBarProgress", first: true, predicate: ["ganttBarProgress"], descendants: true }, { propertyName: "ganttBarTrack", first: true, predicate: ["ganttBarTrack"], descendants: true }, { propertyName: "ganttBarRail", first: true, predicate: ["ganttBarRail"], descendants: true }, { propertyName: "ganttBarDarggerLeft", first: true, predicate: ["ganttBarDarggerLeft"], descendants: true }, { propertyName: "ganttBarDarggerRight", first: true, predicate: ["ganttBarDarggerRight"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<div\n  *ngIf=\"startDate && endDate\"\n  class=\"devui-gantt-bar {{ customBarClass }}\"\n  #ganttBar\n  cdk-overlay-origin\n  #progress=\"cdkOverlayOrigin\"\n  [style.left]=\"left + 'px'\"\n  [style.width]=\"width + 'px'\"\n  (mouseover)=\"ganttBarPopoverOnMouseHover($event)\"\n  (mouseleave)=\"ganttBarPopoverOnMouseLeave()\"\n>\n  <div class=\"devui-gantt-hover-layer\" [style.width]=\"width + 24 + 'px'\" [style.display]=\"focused ? 'block' : 'none'\">\n    <div #ganttBarDarggerLeft class=\"devui-gantt-dragger left\">\n      <div class=\"handle\" [ngClass]=\"{ disabled: barResizeDisabled }\"></div>\n    </div>\n    <div #ganttBarDarggerRight class=\"devui-gantt-dragger right\">\n      <div class=\"handle\" [ngClass]=\"{ disabled: barResizeDisabled }\"></div>\n    </div>\n  </div>\n  <div #ganttBarMain class=\"devui-gantt-main\" [ngClass]=\"{ disabled: barMoveDisabled }\">\n    <div class=\"devui-gantt-bar-rail\" #ganttBarRail></div>\n    <div class=\"devui-gantt-bar-track\" #ganttBarTrack></div>\n  </div>\n  <div\n    class=\"devui-gantt-bar-progress\"\n    #ganttBarProgress\n    [ngClass]=\"{ disabled: progressDisabled, visible: focused }\"\n    [attr.title]=\"progressRate ? progressRate : 0 + '%'\"\n  >\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      width=\"12px\"\n      height=\"16px\"\n      viewBox=\"0 0 12 16\"\n      version=\"1.1\"\n    >\n      <g id=\"gantt-bar-handle\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M7.06066017,1.35355339 C6.76776695,1.06066017 6.38388348,0.914213562 6,0.914213562 C5.61611652,0.914213562 5.23223305,1.06066017 4.93933983,1.35355339 L0.5,5.79289322 L0.5,13 C0.5,13.6903559 0.779822031,14.3153559 1.23223305,14.767767 C1.68464406,15.220178 2.30964406,15.5 3,15.5 L9,15.5 C9.69035594,15.5 10.3153559,15.220178 10.767767,14.767767 C11.220178,14.3153559 11.5,13.6903559 11.5,13 L11.5,5.79289322 L7.06066017,1.35355339 Z\"\n          stroke=\"none\"\n          fill=\"none\"\n        />\n      </g>\n    </svg>\n  </div>\n  <div class=\"devui-gantt-bar-title {{ customTitleClass }}\" *ngIf=\"showTitle\">{{ title }}</div>\n  <ng-template\n    *ngIf=\"tipTemplateRef\"\n    cdk-connected-overlay\n    [cdkConnectedOverlayOffsetX]=\"cdkOverlayOffsetX\"\n    [cdkConnectedOverlayOrigin]=\"progress\"\n    [cdkConnectedOverlayOpen]=\"(focused || tipHovered) && !mouseMoveOnBar\"\n  >\n    <div class=\"devui-gantt-tips\" (mouseover)=\"tipHovered = true\" (mouseleave)=\"mouseLeaveTip()\">\n      <ng-template [ngTemplateOutlet]=\"tipTemplateRef\" [ngTemplateOutletContext]=\"{ ganttInstance: this, data: data }\"></ng-template>\n    </div>\n  </ng-template>\n</div>\n\n<div\n  *ngIf=\"moveBarStart\"\n  class=\"moving-bg {{ customBgClass }}\"\n  [style.left]=\"originOffsetX + left + 'px'\"\n  [style.width]=\"width + 'px'\"\n></div>\n", styles: [":host{display:block}.devui-gantt-bar{position:relative;width:100%;cursor:pointer;box-sizing:border-box;height:24px;z-index:3}.devui-gantt-bar .devui-gantt-main{cursor:move}.devui-gantt-bar .devui-gantt-main.disabled{cursor:not-allowed}.devui-gantt-bar .devui-gantt-bar-rail{position:absolute;background:#e9edfa;background:var(--devui-initial, #e9edfa);box-shadow:0 1px 4px rgba(81,112,255,.19);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) rgba(81,112,255,.19);height:20px;margin-top:4px;width:100%;border-radius:2px;border-radius:var(--devui-border-radius, 2px)}.devui-gantt-bar .devui-gantt-bar-rail.disabled{background-color:#f5f5f5;background-color:var(--devui-area, #f5f5f5)}.devui-gantt-bar .devui-gantt-hover-layer{display:none;position:absolute;height:24px;top:2px;left:-12px;border-radius:2px;border-radius:var(--devui-border-radius, 2px);background-color:#fff;background-color:var(--devui-connected-overlay-bg, #ffffff);box-shadow:0 4px 16px rgba(81,112,255,.3);box-shadow:var(--devui-shadow-length-hover, 0 4px 16px 0) rgba(81,112,255,.3)}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger{position:absolute;width:12px;height:24px;cursor:col-resize;display:flex;align-items:center}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger.left{left:0}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger.right{right:0}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger .handle{width:2px;height:14px;background:#71757f;background:var(--devui-icon-fill, #71757f);border-radius:2px;border-radius:var(--devui-border-radius, 2px);margin:4px}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger .handle.disabled{cursor:not-allowed}.devui-gantt-bar .devui-gantt-bar-track{position:absolute;background-color:#5e7ce0;background-color:var(--devui-brand, #5e7ce0);box-shadow:0 1px 4px rgba(81,112,255,.4);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) rgba(81,112,255,.4);border-radius:2px 0 0 2px;border-radius:var(--devui-border-radius, 2px) 0 0 var(--devui-border-radius, 2px);height:20px;margin-top:4px;width:0}.devui-gantt-bar .devui-gantt-bar-progress{display:none;position:absolute;left:0;bottom:-8px;transform:translate(-50%);cursor:pointer}.devui-gantt-bar .devui-gantt-bar-progress>svg{display:block}.devui-gantt-bar .devui-gantt-bar-progress>svg>g>path{fill:#fff;fill:var(--devui-icon-bg, #ffffff);stroke:#252b3a;stroke:var(--devui-icon-fill-active, #252b3a)}.devui-gantt-bar .devui-gantt-bar-progress.visible{display:block}.devui-gantt-bar .devui-gantt-bar-progress.disabled{cursor:not-allowed}.devui-gantt-bar:hover .devui-gantt-bar-progress{display:block}.devui-gantt-bar .devui-gantt-bar-title{position:absolute;display:inline-flex;align-items:center;left:100%;height:100%;margin-left:12px;word-break:keep-all}.devui-gantt-tips{width:280px;min-height:100px;background:#ffffff;background:var(--devui-base-bg, #ffffff);box-shadow:0 4px 16px rgba(81,112,255,.1);box-shadow:var(--devui-shadow-length-feedback-overlay, 0 4px 16px 0) rgba(81,112,255,.1);border-radius:6px;border-radius:var(--devui-border-radius-card, 6px);padding:16px;margin-top:8px}.moving-bg{position:absolute;height:100%;top:0;bottom:0;background:rgba(94,124,224,.3);background:var(--devui-float-block-shadow, rgba(94, 124, 224, .3));opacity:.3}\n"], directives: [{ type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i3.CdkOverlayOrigin, selector: "[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]", exportAs: ["cdkOverlayOrigin"] }, { type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i3.CdkConnectedOverlay, selector: "[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]", inputs: ["cdkConnectedOverlayOrigin", "cdkConnectedOverlayPositions", "cdkConnectedOverlayPositionStrategy", "cdkConnectedOverlayOffsetX", "cdkConnectedOverlayOffsetY", "cdkConnectedOverlayWidth", "cdkConnectedOverlayHeight", "cdkConnectedOverlayMinWidth", "cdkConnectedOverlayMinHeight", "cdkConnectedOverlayBackdropClass", "cdkConnectedOverlayPanelClass", "cdkConnectedOverlayViewportMargin", "cdkConnectedOverlayScrollStrategy", "cdkConnectedOverlayOpen", "cdkConnectedOverlayDisableClose", "cdkConnectedOverlayTransformOriginOn", "cdkConnectedOverlayHasBackdrop", "cdkConnectedOverlayLockPosition", "cdkConnectedOverlayFlexibleDimensions", "cdkConnectedOverlayGrowAfterOpen", "cdkConnectedOverlayPush"], outputs: ["backdropClick", "positionChange", "attach", "detach", "overlayKeydown", "overlayOutsideClick"], exportAs: ["cdkConnectedOverlay"] }, { type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: GanttBarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-gantt-bar', template: "<div\n  *ngIf=\"startDate && endDate\"\n  class=\"devui-gantt-bar {{ customBarClass }}\"\n  #ganttBar\n  cdk-overlay-origin\n  #progress=\"cdkOverlayOrigin\"\n  [style.left]=\"left + 'px'\"\n  [style.width]=\"width + 'px'\"\n  (mouseover)=\"ganttBarPopoverOnMouseHover($event)\"\n  (mouseleave)=\"ganttBarPopoverOnMouseLeave()\"\n>\n  <div class=\"devui-gantt-hover-layer\" [style.width]=\"width + 24 + 'px'\" [style.display]=\"focused ? 'block' : 'none'\">\n    <div #ganttBarDarggerLeft class=\"devui-gantt-dragger left\">\n      <div class=\"handle\" [ngClass]=\"{ disabled: barResizeDisabled }\"></div>\n    </div>\n    <div #ganttBarDarggerRight class=\"devui-gantt-dragger right\">\n      <div class=\"handle\" [ngClass]=\"{ disabled: barResizeDisabled }\"></div>\n    </div>\n  </div>\n  <div #ganttBarMain class=\"devui-gantt-main\" [ngClass]=\"{ disabled: barMoveDisabled }\">\n    <div class=\"devui-gantt-bar-rail\" #ganttBarRail></div>\n    <div class=\"devui-gantt-bar-track\" #ganttBarTrack></div>\n  </div>\n  <div\n    class=\"devui-gantt-bar-progress\"\n    #ganttBarProgress\n    [ngClass]=\"{ disabled: progressDisabled, visible: focused }\"\n    [attr.title]=\"progressRate ? progressRate : 0 + '%'\"\n  >\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      width=\"12px\"\n      height=\"16px\"\n      viewBox=\"0 0 12 16\"\n      version=\"1.1\"\n    >\n      <g id=\"gantt-bar-handle\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M7.06066017,1.35355339 C6.76776695,1.06066017 6.38388348,0.914213562 6,0.914213562 C5.61611652,0.914213562 5.23223305,1.06066017 4.93933983,1.35355339 L0.5,5.79289322 L0.5,13 C0.5,13.6903559 0.779822031,14.3153559 1.23223305,14.767767 C1.68464406,15.220178 2.30964406,15.5 3,15.5 L9,15.5 C9.69035594,15.5 10.3153559,15.220178 10.767767,14.767767 C11.220178,14.3153559 11.5,13.6903559 11.5,13 L11.5,5.79289322 L7.06066017,1.35355339 Z\"\n          stroke=\"none\"\n          fill=\"none\"\n        />\n      </g>\n    </svg>\n  </div>\n  <div class=\"devui-gantt-bar-title {{ customTitleClass }}\" *ngIf=\"showTitle\">{{ title }}</div>\n  <ng-template\n    *ngIf=\"tipTemplateRef\"\n    cdk-connected-overlay\n    [cdkConnectedOverlayOffsetX]=\"cdkOverlayOffsetX\"\n    [cdkConnectedOverlayOrigin]=\"progress\"\n    [cdkConnectedOverlayOpen]=\"(focused || tipHovered) && !mouseMoveOnBar\"\n  >\n    <div class=\"devui-gantt-tips\" (mouseover)=\"tipHovered = true\" (mouseleave)=\"mouseLeaveTip()\">\n      <ng-template [ngTemplateOutlet]=\"tipTemplateRef\" [ngTemplateOutletContext]=\"{ ganttInstance: this, data: data }\"></ng-template>\n    </div>\n  </ng-template>\n</div>\n\n<div\n  *ngIf=\"moveBarStart\"\n  class=\"moving-bg {{ customBgClass }}\"\n  [style.left]=\"originOffsetX + left + 'px'\"\n  [style.width]=\"width + 'px'\"\n></div>\n", styles: [":host{display:block}.devui-gantt-bar{position:relative;width:100%;cursor:pointer;box-sizing:border-box;height:24px;z-index:3}.devui-gantt-bar .devui-gantt-main{cursor:move}.devui-gantt-bar .devui-gantt-main.disabled{cursor:not-allowed}.devui-gantt-bar .devui-gantt-bar-rail{position:absolute;background:#e9edfa;background:var(--devui-initial, #e9edfa);box-shadow:0 1px 4px rgba(81,112,255,.19);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) rgba(81,112,255,.19);height:20px;margin-top:4px;width:100%;border-radius:2px;border-radius:var(--devui-border-radius, 2px)}.devui-gantt-bar .devui-gantt-bar-rail.disabled{background-color:#f5f5f5;background-color:var(--devui-area, #f5f5f5)}.devui-gantt-bar .devui-gantt-hover-layer{display:none;position:absolute;height:24px;top:2px;left:-12px;border-radius:2px;border-radius:var(--devui-border-radius, 2px);background-color:#fff;background-color:var(--devui-connected-overlay-bg, #ffffff);box-shadow:0 4px 16px rgba(81,112,255,.3);box-shadow:var(--devui-shadow-length-hover, 0 4px 16px 0) rgba(81,112,255,.3)}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger{position:absolute;width:12px;height:24px;cursor:col-resize;display:flex;align-items:center}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger.left{left:0}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger.right{right:0}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger .handle{width:2px;height:14px;background:#71757f;background:var(--devui-icon-fill, #71757f);border-radius:2px;border-radius:var(--devui-border-radius, 2px);margin:4px}.devui-gantt-bar .devui-gantt-hover-layer .devui-gantt-dragger .handle.disabled{cursor:not-allowed}.devui-gantt-bar .devui-gantt-bar-track{position:absolute;background-color:#5e7ce0;background-color:var(--devui-brand, #5e7ce0);box-shadow:0 1px 4px rgba(81,112,255,.4);box-shadow:var(--devui-shadow-length-base, 0 1px 4px 0) rgba(81,112,255,.4);border-radius:2px 0 0 2px;border-radius:var(--devui-border-radius, 2px) 0 0 var(--devui-border-radius, 2px);height:20px;margin-top:4px;width:0}.devui-gantt-bar .devui-gantt-bar-progress{display:none;position:absolute;left:0;bottom:-8px;transform:translate(-50%);cursor:pointer}.devui-gantt-bar .devui-gantt-bar-progress>svg{display:block}.devui-gantt-bar .devui-gantt-bar-progress>svg>g>path{fill:#fff;fill:var(--devui-icon-bg, #ffffff);stroke:#252b3a;stroke:var(--devui-icon-fill-active, #252b3a)}.devui-gantt-bar .devui-gantt-bar-progress.visible{display:block}.devui-gantt-bar .devui-gantt-bar-progress.disabled{cursor:not-allowed}.devui-gantt-bar:hover .devui-gantt-bar-progress{display:block}.devui-gantt-bar .devui-gantt-bar-title{position:absolute;display:inline-flex;align-items:center;left:100%;height:100%;margin-left:12px;word-break:keep-all}.devui-gantt-tips{width:280px;min-height:100px;background:#ffffff;background:var(--devui-base-bg, #ffffff);box-shadow:0 4px 16px rgba(81,112,255,.1);box-shadow:var(--devui-shadow-length-feedback-overlay, 0 4px 16px 0) rgba(81,112,255,.1);border-radius:6px;border-radius:var(--devui-border-radius-card, 6px);padding:16px;margin-top:8px}.moving-bg{position:absolute;height:100%;top:0;bottom:0;background:rgba(94,124,224,.3);background:var(--devui-float-block-shadow, rgba(94, 124, 224, .3));opacity:.3}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.GanttService }, { type: i0.ElementRef }]; }, propDecorators: { ganttBar: [{
                type: ViewChild,
                args: ['ganttBar']
            }], ganttBarMain: [{
                type: ViewChild,
                args: ['ganttBarMain']
            }], ganttBarProgress: [{
                type: ViewChild,
                args: ['ganttBarProgress']
            }], ganttBarTrack: [{
                type: ViewChild,
                args: ['ganttBarTrack']
            }], ganttBarRail: [{
                type: ViewChild,
                args: ['ganttBarRail']
            }], ganttBarDarggerLeft: [{
                type: ViewChild,
                args: ['ganttBarDarggerLeft']
            }], ganttBarDarggerRight: [{
                type: ViewChild,
                args: ['ganttBarDarggerRight']
            }], barMoveDisabled: [{
                type: Input
            }], barResizeDisabled: [{
                type: Input
            }], progressDisabled: [{
                type: Input
            }], startDate: [{
                type: Input
            }], endDate: [{
                type: Input
            }], progressRate: [{
                type: Input
            }], tipTemplateRef: [{
                type: Input
            }], data: [{
                type: Input
            }], originOffsetX: [{
                type: Input
            }], id: [{
                type: Input
            }], title: [{
                type: Input
            }], showTitle: [{
                type: Input
            }], customBarClass: [{
                type: Input
            }], customBgClass: [{
                type: Input
            }], customTitleClass: [{
                type: Input
            }], scrollElement: [{
                type: Input
            }], barMoveStartEvent: [{
                type: Output
            }], barMovingEvent: [{
                type: Output
            }], barMoveEndEvent: [{
                type: Output
            }], barResizeStartEvent: [{
                type: Output
            }], barResizingEvent: [{
                type: Output
            }], barResizeEndEvent: [{
                type: Output
            }], barProgressEvent: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FudHQtYmFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2RldnVpL2dhbnR0L2dhbnR0LWJhci9nYW50dC1iYXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vZGV2dWkvZ2FudHQvZ2FudHQtYmFyL2dhbnR0LWJhci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBRUwsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsWUFBWSxFQUNaLEtBQUssRUFJTCxNQUFNLEVBRU4sV0FBVyxFQUNYLFNBQVMsRUFDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsU0FBUyxFQUE0QixNQUFNLE1BQU0sQ0FBQztBQUMzRCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFbEYsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGtCQUFrQixDQUFDOzs7OztBQU9oRCxNQUFNLE9BQU8saUJBQWlCO0lBdUc1QixZQUFvQixHQUFzQixFQUFVLFlBQTBCLEVBQVUsR0FBZTtRQUFuRixRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQUFVLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBQVUsUUFBRyxHQUFILEdBQUcsQ0FBWTtRQXZGdkcsbUJBQWMsR0FBUSxJQUFJLENBQUM7UUFDM0Isb0JBQWUsR0FBUSxJQUFJLENBQUM7UUFjcEIsZ0JBQVcsR0FBRyxLQUFLLENBQUM7UUFDcEIscUJBQWdCLEdBQUcsS0FBSyxDQUFDO1FBRzFCLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFDZixjQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLFNBQUksR0FBRyxDQUFDLENBQUM7UUFDVCxVQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ0YsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFFeEIsc0JBQWlCLEdBQUcs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O3NCQUE1QixNQUFNO2dCQUNHLGdCQUFnQjtzQkFBekIsTUFBTTtnQkFDRyxpQkFBaUI7c0JBQTFCLE1BQU07Z0JBRUcsZ0JBQWdCO3NCQUF6QixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2VzLFxuICBUZW1wbGF0ZVJlZixcbiAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgZnJvbUV2ZW50LCBPYnNlcnZhYmxlLCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXAsIHBsdWNrLCB0YWtlVW50aWwsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IEdhbnR0VGFza0luZm8gfSBmcm9tICcuLi9nYW50dC5tb2RlbCc7XG5pbXBvcnQgeyBHYW50dFNlcnZpY2UgfSBmcm9tICcuLi9nYW50dC5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZC1nYW50dC1iYXInLFxuICB0ZW1wbGF0ZVVybDogJy4vZ2FudHQtYmFyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vZ2FudHQtYmFyLmNvbXBvbmVudC5zY3NzJ10sXG59KVxuZXhwb3J0IGNsYXNzIEdhbnR0QmFyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG4gIHByaXZhdGUgbW92ZUJhclN0YXJ0TGlzdGVuZXI6IE9ic2VydmFibGU8bnVtYmVyPjtcbiAgcHJpdmF0ZSByZXNpemVCYXJMZWZ0U3RhcnRMaXN0ZW5lcjogT2JzZXJ2YWJsZTxudW1iZXI+O1xuICBwcml2YXRlIHJlc2l6ZUJhclJpZ2h0U3RhcnRMaXN0ZW5lcjogT2JzZXJ2YWJsZTxudW1iZXI+O1xuICBwcml2YXRlIGRyYWdQcm9ncmVzc1N0YXJ0TGlzdGVuZXI6IE9ic2VydmFibGU8bnVtYmVyPjtcbiAgcHJpdmF0ZSBtb3VzZU1vdmVMaXN0ZW5lcjogT2JzZXJ2YWJsZTxudW1iZXI+O1xuICBwcml2YXRlIG1vdXNlRW5kTGlzdGVuZXI6IE9ic2VydmFibGU8RXZlbnQ+O1xuXG4gIHByaXZhdGUgbW92ZUJhclN0YXJ0SGFuZGxlcjogU3Vic2NyaXB0aW9uIHwgbnVsbDtcbiAgcHJpdmF0ZSByZXNpemVCYXJMZWZ0U3RhcnRIYW5kbGVyOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuICBwcml2YXRlIHJlc2l6ZUJhclJpZ2h0U3RhcnRIYW5kbGVyOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuICBwcml2YXRlIGRyYWdQcm9ncmVzc1N0YXJ0SGFuZGxlcjogU3Vic2NyaXB0aW9uIHwgbnVsbDtcbiAgcHJpdmF0ZSBtb3VzZU1vdmVIYW5kbGVyOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuICBwcml2YXRlIG1vdXNlRW5kSGFuZGxlcjogU3Vic2NyaXB0aW9uIHwgbnVsbDtcbiAgcHJpdmF0ZSBtb3VzZU92ZXJQcm9ncmVzc0hhbmRsZXI6IFN1YnNjcmlwdGlvbiB8IG51bGw7XG4gIHByaXZhdGUgbW91c2VMZWF2ZVByb2dyZXNzSGFuZGxlcjogU3Vic2NyaXB0aW9uIHwgbnVsbDtcbiAgbW91c2VNb3ZlVGltZXI6IGFueSA9IG51bGw7XG4gIG1vdXNlTGVhdmVUaW1lcjogYW55ID0gbnVsbDtcblxuICBkcmFnUHJvZ3Jlc3NTdGFydDogYm9vbGVhbjtcbiAgbW92ZUJhclN0YXJ0OiBib29sZWFuO1xuICBwcml2YXRlIHJlc2l6ZUJhckxlZnRTdGFydDogYm9vbGVhbjtcbiAgcHJpdmF0ZSByZXNpemVCYXJSaWdodFN0YXJ0OiBib29sZWFuO1xuXG4gIHByaXZhdGUgYmFyTW92ZVN0YXJ0UGFnZVg6IG51bWJlcjtcbiAgcHJpdmF0ZSBiYXJSZXNpemVTdGFydFBhZ2VYOiBudW1iZXI7XG4gIHByaXZhdGUgYmFyT3JpZ2luTGVmdDogbnVtYmVyO1xuICBwcml2YXRlIGJhck9yaWdpbldpZHRoOiBzdHJpbmc7XG4gIHByaXZhdGUgb3JpZ2luU3RhcnREYXRlOiBEYXRlO1xuICBwcml2YXRlIG9yaWdpbkVuZERhdGU6IERhdGU7XG5cbiAgcHJpdmF0ZSBiYXJIb3ZlcmluZyA9IGZhbHNlO1xuICBwcml2YXRlIHByb2dyZXNzSG92ZXJpbmcgPSBmYWxzZTtcblxuICBwcml2YXRlIGdhbnR0U2NhbGVTdGF0dXNIYW5kbGVyOiBTdWJzY3JpcHRpb247XG4gIHB1YmxpYyBmb2N1c2VkID0gZmFsc2U7XG4gIHByaXZhdGUgTUlOX1dJRFRIID0gMTA7XG4gIGxlZnQgPSAwO1xuICB3aWR0aCA9IDA7XG4gIHByaXZhdGUgRUFSTFlPRkZTRVQgPSAzO1xuXG4gIGNka092ZXJsYXlPZmZzZXRYID0gMDtcblxuICBAVmlld0NoaWxkKCdnYW50dEJhcicpIGdhbnR0QmFyOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdnYW50dEJhck1haW4nKSBnYW50dEJhck1haW46IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2dhbnR0QmFyUHJvZ3Jlc3MnKSBnYW50dEJhclByb2dyZXNzOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdnYW50dEJhclRyYWNrJykgZ2FudHRCYXJUcmFjazogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZ2FudHRCYXJSYWlsJykgZ2FudHRCYXJSYWlsOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdnYW50dEJhckRhcmdnZXJMZWZ0JykgZ2FudHRCYXJEYXJnZ2VyTGVmdDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZ2FudHRCYXJEYXJnZ2VyUmlnaHQnKSBnYW50dEJhckRhcmdnZXJSaWdodDogRWxlbWVudFJlZjtcbiAgcHJpdmF0ZSBtYXggPSAxMDA7XG4gIHByaXZhdGUgbWluID0gMDtcbiAgcHJpdmF0ZSBzdGVwID0gMTtcbiAgcHJpdmF0ZSBtb3VzZUV2ZW50RGFsYXkgPSAxMDA7XG5cbiAgcHVibGljIGR1cmF0aW9uOiBzdHJpbmc7XG4gIHB1YmxpYyB0aXBIb3ZlcmVkID0gZmFsc2U7XG4gIHB1YmxpYyBtb3VzZU1vdmVPbkJhciA9IGZhbHNlO1xuICBwZXJjZW50YWdlOiBudW1iZXI7XG4gIHByaXZhdGUgbW92ZWRPdXQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBtb3VzZWVudGVySGFuZGxlcjogU3Vic2NyaXB0aW9uO1xuICBwcml2YXRlIG1vdXNlbGVhdmVIYW5kbGVyOiBTdWJzY3JpcHRpb247XG4gIHByaXZhdGUgc2Nyb2xsVGltZXIgPSBudWxsO1xuICBwcml2YXRlIFNDUk9MTF9TVEVQID0gMTA7XG4gIHByaXZhdGUgb3V0RGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgcHJpdmF0ZSBzY3JvbGxWaWV3UmFuZ2UgPSBbMCwgMF07XG5cbiAgQElucHV0KCkgYmFyTW92ZURpc2FibGVkID0gZmFsc2U7XG4gIEBJbnB1dCgpIGJhclJlc2l6ZURpc2FibGVkID0gZmFsc2U7XG4gIEBJbnB1dCgpIHByb2dyZXNzRGlzYWJsZWQgPSBmYWxzZTtcblxuICBASW5wdXQoKSBzdGFydERhdGU6IERhdGU7XG4gIEBJbnB1dCgpIGVuZERhdGU6IERhdGU7XG4gIEBJbnB1dCgpIHByb2dyZXNzUmF0ZSA9IDA7XG4gIEBJbnB1dCgpIHRpcFRlbXBsYXRlUmVmOiBUZW1wbGF0ZVJlZjxhbnk+O1xuICBASW5wdXQoKSBkYXRhOiBhbnk7XG5cbiAgQElucHV0KCkgb3JpZ2luT2Zmc2V0WCA9IDA7XG5cbiAgQElucHV0KCkgaWQ6IHN0cmluZztcblxuICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xuXG4gIEBJbnB1dCgpIHNob3dUaXRsZSA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpIGN1c3RvbUJhckNsYXNzID0gJyc7XG5cbiAgQElucHV0KCkgY3VzdG9tQmdDbGFzcyA9ICcnO1xuXG4gIEBJbnB1dCgpIGN1c3RvbVRpdGxlQ2xhc3MgPSAnJztcblxuICBASW5wdXQoKSBzY3JvbGxFbGVtZW50OiBIVE1MRWxlbWVudDtcblxuICBAT3V0cHV0KCkgYmFyTW92ZVN0YXJ0RXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPEdhbnR0VGFza0luZm8+KCk7XG4gIEBPdXRwdXQoKSBiYXJNb3ZpbmdFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8R2FudHRUYXNrSW5mbz4oKTtcbiAgQE91dHB1dCgpIGJhck1vdmVFbmRFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8R2FudHRUYXNrSW5mbz4oKTtcblxuICBAT3V0cHV0KCkgYmFyUmVzaXplU3RhcnRFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8R2FudHRUYXNrSW5mbz4oKTtcbiAgQE91dHB1dCgpIGJhclJlc2l6aW5nRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPEdhbnR0VGFza0luZm8+KCk7XG4gIEBPdXRwdXQoKSBiYXJSZXNpemVFbmRFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8R2FudHRUYXNrSW5mbz4oKTtcblxuICBAT3V0cHV0KCkgYmFyUHJvZ3Jlc3NFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8bnVtYmVyPigpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBnYW50dFNlcnZpY2U6IEdhbnR0U2VydmljZSwgcHJpdmF0ZSBlbGU6IEVsZW1lbnRSZWYpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5jaGVja1JhbmdlVmFsdWVzKHRoaXMubWluLCB0aGlzLm1heCk7XG4gICAgdGhpcy5jaGVja1N0ZXBWYWx1ZSgpO1xuICAgIGlmICh0aGlzLnByb2dyZXNzUmF0ZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLmVuc3VyZVZhbHVlSW5SYW5nZShudWxsKSk7XG4gICAgfVxuICAgIHRoaXMub3JpZ2luU3RhcnREYXRlID0gdGhpcy5zdGFydERhdGU7XG4gICAgdGhpcy5vcmlnaW5FbmREYXRlID0gdGhpcy5lbmREYXRlO1xuICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLmdhbnR0U2VydmljZS5nZXREdXJhdGlvbih0aGlzLnN0YXJ0RGF0ZSwgdGhpcy5lbmREYXRlKSArICdkJztcblxuICAgIHRoaXMuZ2FudHRTY2FsZVN0YXR1c0hhbmRsZXIgPSB0aGlzLmdhbnR0U2VydmljZS5nYW50dFNjYWxlQ29uZmlnQ2hhbmdlLnN1YnNjcmliZSgoY29uZmlnKSA9PiB7XG4gICAgICBpZiAoY29uZmlnLnN0YXJ0RGF0ZSkge1xuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLmdhbnR0U2VydmljZS5nZXREYXRlUG9zdGlvbk9mZnNldCh0aGlzLnN0YXJ0RGF0ZSk7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnVuaXQpIHtcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5nYW50dFNlcnZpY2UuZ2V0RGF0ZVBvc3Rpb25PZmZzZXQodGhpcy5zdGFydERhdGUpO1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5nYW50dFNlcnZpY2UuZ2V0RHVyYXRpb25XaWR0aCh0aGlzLnN0YXJ0RGF0ZSwgdGhpcy5lbmREYXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5nZXMsICdtaW4nKVxuICAgICAgfHwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5nZXMsICdtYXgnKVxuICAgICAgfHwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5nZXMsICdzdGVwJykpIHtcbiAgICAgIHRoaXMuY2hlY2tSYW5nZVZhbHVlcyh0aGlzLm1pbiwgdGhpcy5tYXgpO1xuICAgICAgdGhpcy5jaGVja1N0ZXBWYWx1ZSgpO1xuICAgIH1cblxuICAgIGlmIChjaGFuZ2VzWydwcm9ncmVzc1JhdGUnXSAmJiB0aGlzLnByb2dyZXNzUmF0ZSA+PSAwKSB7XG4gICAgICB0aGlzLnVwZGF0ZVRyYWNrQW5kSGFuZGxlKCk7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZXNbJ3N0YXJ0RGF0ZSddKSB7XG4gICAgICB0aGlzLmxlZnQgPSB0aGlzLmdhbnR0U2VydmljZS5nZXREYXRlUG9zdGlvbk9mZnNldCh0aGlzLnN0YXJ0RGF0ZSk7XG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5nYW50dFNlcnZpY2UuZ2V0RHVyYXRpb25XaWR0aCh0aGlzLnN0YXJ0RGF0ZSwgdGhpcy5lbmREYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlc1snZW5kRGF0ZSddKSB7XG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5nYW50dFNlcnZpY2UuZ2V0RHVyYXRpb25XaWR0aCh0aGlzLnN0YXJ0RGF0ZSwgdGhpcy5lbmREYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlc1snYmFyTW92ZURpc2FibGVkJ10pIHtcbiAgICAgIGlmICh0aGlzLmJhck1vdmVEaXNhYmxlZCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlTW91c2VBY3Rpb25zKFsnc3RhcnQnXSwgWydiYXJNb3ZlJ10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVNb3VzZUFjdGlvbnMoWydzdGFydCddLCBbJ2Jhck1vdmUnXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZXNbJ2JhclJlc2l6ZURpc2FibGVkJ10pIHtcbiAgICAgIGlmICh0aGlzLmJhclJlc2l6ZURpc2FibGVkKSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVNb3VzZUFjdGlvbnMoWydzdGFydCddLCBbJ2JhclJlc2l6ZSddKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTW91c2VBY3Rpb25zKFsnc3RhcnQnXSwgWydiYXJSZXNpemUnXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZXNbJ3Byb2dyZXNzRGlzYWJsZWQnXSkge1xuICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NEaXNhYmxlZCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlTW91c2VBY3Rpb25zKFsnc3RhcnQnXSwgWydwcm9ncmVzcyddKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTW91c2VBY3Rpb25zKFsnc3RhcnQnXSwgWydwcm9ncmVzcyddKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnREYXRlICYmIHRoaXMuZW5kRGF0ZSkge1xuICAgICAgdGhpcy5yZWdpc3Rlck1vdXNlRXZlbnRzTGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlSG92ZXJQb3BvdmVyTGlzdGVuZXIoKTtcbiAgICAgIGlmICghdGhpcy5iYXJNb3ZlRGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVNb3VzZUFjdGlvbnMoWydzdGFydCddLCBbJ2Jhck1vdmUnXSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5iYXJSZXNpemVEaXNhYmxlZCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZU1vdXNlQWN0aW9ucyhbJ3N0YXJ0J10sIFsnYmFyUmVzaXplJ10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMucHJvZ3Jlc3NEaXNhYmxlZCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZU1vdXNlQWN0aW9ucyhbJ3N0YXJ0J10sIFsncHJvZ3Jlc3MnXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvZ3Jlc3NSYXRlICYmIHRoaXMucHJvZ3Jlc3NSYXRlID4gMCkge1xuICAgICAgdGhpcy51cGRhdGVUcmFja0FuZEhhbmRsZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSk6IHZvaWQge1xuICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjayA9IGZuO1xuICB9XG5cbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IGFueSk6IHZvaWQge1xuICAgIHRoaXMub25Ub3VjaGVkQ2FsbGJhY2sgPSBmbjtcbiAgfVxuXG4gIHdyaXRlVmFsdWUobmV3VmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2V0VmFsdWUodGhpcy5lbnN1cmVWYWx1ZUluUmFuZ2UobmV3VmFsdWUpKTtcbiAgfVxuXG4gIHByaXZhdGUgb25Ub3VjaGVkQ2FsbGJhY2sgPSAodjogYW55KSA9PiB7fTtcblxuICBwcml2YXRlIG9uQ2hhbmdlQ2FsbGJhY2sgPSAodjogYW55KSA9PiB7fTtcblxuICBwcml2YXRlIGNoZWNrUmFuZ2VWYWx1ZXMobWluVmFsdWUsIG1heFZhbHVlKSB7XG4gICAgaWYgKG1heFZhbHVlIDw9IG1pblZhbHVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG1heCB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBtaW4gdmFsdWVgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNoZWNrU3RlcFZhbHVlKCkge1xuICAgIGlmICh0aGlzLnN0ZXAgPCAwIHx8ICF0aGlzLnN0ZXApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc3RlcCB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLicpO1xuICAgIH0gZWxzZSBpZiAoKHRoaXMubWF4IC0gdGhpcy5taW4pICUgdGhpcy5zdGVwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJyhtYXggLSBtaW4pIG11c3QgYmUgZGl2aXNpYmxlIGJ5IHN0ZXAuJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByYXRpb1RvVmFsdWUocmF0aW86IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBzdGVwOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCB2YWx1ZSA9IChtYXggLSBtaW4pICogcmF0aW8gKyBtaW47XG4gICAgaWYgKHN0ZXAgPiAwKSB7XG4gICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgLyBzdGVwKSAqIHN0ZXA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsYW1wKG1pbiwgdmFsdWUsIG1heCk7XG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRIYW5kbGVQb3NpdGlvblRvUmF0aW8oaGFuZGxlWDogbnVtYmVyLCBzdGFydFg6IG51bWJlciwgdG90YWxMZW5ndGg6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2xhbXAoMCwgKGhhbmRsZVggLSBzdGFydFgpIC8gdG90YWxMZW5ndGgsIDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGFtcChtaW46IG51bWJlciwgbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG4sIG1heCkpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTdHlsZShwZXJjZW50YWdlKSB7XG4gICAgdGhpcy5wZXJjZW50YWdlID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgcGVyY2VudGFnZSkpO1xuICAgIGlmICh0aGlzLmdhbnR0QmFyVHJhY2sgJiYgdGhpcy5nYW50dEJhclRyYWNrLm5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZ2FudHRCYXJUcmFjay5uYXRpdmVFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7dGhpcy5wZXJjZW50YWdlICogMTAwfSVgO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmdhbnR0QmFyUHJvZ3Jlc3MgJiYgdGhpcy5nYW50dEJhclByb2dyZXNzLm5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZ2FudHRCYXJQcm9ncmVzcy5uYXRpdmVFbGVtZW50LnN0eWxlLmxlZnQgPSBgJHt0aGlzLnBlcmNlbnRhZ2UgKiAxMDB9JWA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3Rlck1vdXNlRXZlbnRzTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHRoaXMubW92ZUJhclN0YXJ0TGlzdGVuZXIgPSBmcm9tRXZlbnQodGhpcy5nYW50dEJhck1haW4ubmF0aXZlRWxlbWVudCwgJ21vdXNlZG93bicpLnBpcGUoXG4gICAgICB0YXAoKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pLFxuICAgICAgcGx1Y2s8RXZlbnQsIG51bWJlcj4oJ3BhZ2VYJylcbiAgICApO1xuXG4gICAgdGhpcy5kcmFnUHJvZ3Jlc3NTdGFydExpc3RlbmVyID0gZnJvbUV2ZW50KHRoaXMuZ2FudHRCYXJQcm9ncmVzcy5uYXRpdmVFbGVtZW50LCAnbW91c2Vkb3duJykucGlwZShcbiAgICAgIHRhcCgoZTogRXZlbnQpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSksXG4gICAgICBwbHVjazxFdmVudCwgbnVtYmVyPigncGFnZVgnKSxcbiAgICAgIG1hcCgocG9zaXRpb246IG51bWJlcikgPT4gdGhpcy5tb3VzZVBvc2l0aW9uVG9BZGFwdGl2ZVZhbHVlKHBvc2l0aW9uKSlcbiAgICApO1xuXG4gICAgdGhpcy5yZXNpemVCYXJMZWZ0U3RhcnRMaXN0ZW5lciA9IGZyb21FdmVudCh0aGlzLmdhbnR0QmFyRGFyZ2dlckxlZnQubmF0aXZlRWxlbWVudCwgJ21vdXNlZG93bicpLnBpcGUoXG4gICAgICB0YXAoKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pLFxuICAgICAgcGx1Y2s8RXZlbnQsIG51bWJlcj4oJ3BhZ2VYJylcbiAgICApO1xuXG4gICAgdGhpcy5yZXNpemVCYXJSaWdodFN0YXJ0TGlzdGVuZXIgPSBmcm9tRXZlbnQodGhpcy5nYW50dEJhckRhcmdnZXJSaWdodC5uYXRpdmVFbGVtZW50LCAnbW91c2Vkb3duJykucGlwZShcbiAgICAgIHRhcCgoZTogRXZlbnQpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSksXG4gICAgICBwbHVjazxFdmVudCwgbnVtYmVyPigncGFnZVgnKVxuICAgICk7XG5cbiAgICB0aGlzLm1vdXNlRW5kTGlzdGVuZXIgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdtb3VzZXVwJyk7XG4gICAgdGhpcy5tb3VzZU1vdmVMaXN0ZW5lciA9IGZyb21FdmVudChkb2N1bWVudCwgJ21vdXNlbW92ZScpLnBpcGUoXG4gICAgICB0YXAoKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pLFxuICAgICAgcGx1Y2s8RXZlbnQsIG51bWJlcj4oJ3BhZ2VYJyksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgdGFrZVVudGlsKHRoaXMubW91c2VFbmRMaXN0ZW5lcilcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTbGlkZXJQYWdlUG9zaXRpb24oKTogbnVtYmVyIHtcbiAgICBjb25zdCByZWN0ID0gdGhpcy5nYW50dEJhci5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHdpbmRvdyA9IHRoaXMuZ2FudHRCYXIubmF0aXZlRWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICAgIHJldHVybiByZWN0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQ7XG4gIH1cblxuICBwcml2YXRlIGdldFJhaWxMZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nYW50dEJhclJhaWwubmF0aXZlRWxlbWVudC5jbGllbnRXaWR0aDtcbiAgfVxuXG4gIHByaXZhdGUgbW91c2VQb3NpdGlvblRvQWRhcHRpdmVWYWx1ZShoYW5kbGVYOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHNsaWRlclN0YXJ0WCA9IHRoaXMuZ2V0U2xpZGVyUGFnZVBvc2l0aW9uKCk7XG4gICAgY29uc3Qgc2xpZGVyTGVuZ3RoID0gdGhpcy5nZXRSYWlsTGVuZ3RoKCk7XG4gICAgY29uc3QgcmF0aW8gPSB0aGlzLmNvbnZlcnRIYW5kbGVQb3NpdGlvblRvUmF0aW8oaGFuZGxlWCwgc2xpZGVyU3RhcnRYLCBzbGlkZXJMZW5ndGgpO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5yYXRpb1RvVmFsdWUocmF0aW8sIHRoaXMubWluLCB0aGlzLm1heCwgdGhpcy5zdGVwKTtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZS50b0ZpeGVkKHRoaXMuZ2V0RGVjaW1hbHModGhpcy5zdGVwKSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREZWNpbWFscyh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB2YWx1ZVN0cmluZyA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgaW50ZWdlckxlbmd0aCA9IHZhbHVlU3RyaW5nLmluZGV4T2YoJy4nKSArIDE7XG4gICAgcmV0dXJuIGludGVnZXJMZW5ndGggPj0gMCA/IHZhbHVlU3RyaW5nLmxlbmd0aCAtIGludGVnZXJMZW5ndGggOiAwO1xuICB9XG5cbiAgcHJpdmF0ZSBwcm9ncmVzc1N0YXJ0RHJhZyh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5kcmFnUHJvZ3Jlc3NTdGFydCA9IHRydWU7XG4gICAgdGhpcy5oYW5kbGVDb250cm9sbGVyKHRydWUpO1xuICAgIHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBiYXJTdGFydE1vdmluZyh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zY3JvbGxWaWV3UmFuZ2UgPSBbXG4gICAgICB0aGlzLnNjcm9sbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIHRoaXMub3JpZ2luT2Zmc2V0WCxcbiAgICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCxcbiAgICBdO1xuICAgIHRoaXMubW92ZUJhclN0YXJ0ID0gdHJ1ZTtcbiAgICB0aGlzLmJhck1vdmVTdGFydFBhZ2VYID0gdmFsdWU7XG4gICAgdGhpcy5iYXJPcmlnaW5MZWZ0ID0gcGFyc2VJbnQodGhpcy5nYW50dEJhci5uYXRpdmVFbGVtZW50LnN0eWxlLmxlZnQsIDEwKTtcbiAgICB0aGlzLmhhbmRsZUNvbnRyb2xsZXIodHJ1ZSk7XG4gICAgdGhpcy5iYXJNb3ZlU3RhcnRFdmVudC5lbWl0KHRoaXMuZ2V0R2FudHRUYXNrSW5mbygpKTtcbiAgfVxuXG4gIHByaXZhdGUgYmFyTGVmdFN0YXJ0UmVzaXppbmcodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucmVzaXplQmFyTGVmdFN0YXJ0ID0gdHJ1ZTtcbiAgICB0aGlzLmJhclJlc2l6ZVN0YXJ0UGFnZVggPSB2YWx1ZTtcbiAgICB0aGlzLmJhck9yaWdpbkxlZnQgPSBwYXJzZUludCh0aGlzLmdhbnR0QmFyLm5hdGl2ZUVsZW1lbnQuc3R5bGUubGVmdCwgMTApO1xuICAgIHRoaXMuYmFyT3JpZ2luV2lkdGggPSB0aGlzLmdhbnR0QmFyLm5hdGl2ZUVsZW1lbnQuc3R5bGUud2lkdGg7XG4gICAgdGhpcy5oYW5kbGVDb250cm9sbGVyKHRydWUpO1xuICAgIHRoaXMuYmFyUmVzaXplU3RhcnRFdmVudC5lbWl0KHRoaXMuZ2V0R2FudHRUYXNrSW5mbygpKTtcbiAgfVxuXG4gIHByaXZhdGUgYmFyUmlnaHRTdGFydFJlc2l6aW5nKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2l6ZUJhclJpZ2h0U3RhcnQgPSB0cnVlO1xuICAgIHRoaXMuYmFyUmVzaXplU3RhcnRQYWdlWCA9IHZhbHVlO1xuICAgIHRoaXMuYmFyT3JpZ2luTGVmdCA9IHBhcnNlSW50KHRoaXMuZ2FudHRCYXIubmF0aXZlRWxlbWVudC5zdHlsZS5sZWZ0LCAxMCk7XG4gICAgdGhpcy5iYXJPcmlnaW5XaWR0aCA9IHRoaXMuZ2FudHRCYXIubmF0aXZlRWxlbWVudC5zdHlsZS53aWR0aDtcbiAgICB0aGlzLmhhbmRsZUNvbnRyb2xsZXIodHJ1ZSk7XG4gICAgdGhpcy5iYXJSZXNpemVTdGFydEV2ZW50LmVtaXQodGhpcy5nZXRHYW50dFRhc2tJbmZvKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBtb3VzZU1vdmluZyh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZHJhZ1Byb2dyZXNzU3RhcnQpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5tb3VzZVBvc2l0aW9uVG9BZGFwdGl2ZVZhbHVlKHZhbHVlKSk7XG4gICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZXNpemVCYXJMZWZ0U3RhcnQpIHtcbiAgICAgIHRoaXMubW91c2VNb3ZlT25CYXIgPSB0cnVlO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gdmFsdWUgLSB0aGlzLmJhclJlc2l6ZVN0YXJ0UGFnZVg7XG4gICAgICBjb25zdCBmaW5hbFdpZHRoID0gcGFyc2VJbnQodGhpcy5iYXJPcmlnaW5XaWR0aCwgMTApIC0gTWF0aC5yb3VuZChvZmZzZXQpO1xuXG4gICAgICBpZiAoZmluYWxXaWR0aCA8IHRoaXMuTUlOX1dJRFRIKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGltZU9mZnNldCA9IE1hdGgucm91bmQoKG9mZnNldCAvIHRoaXMuZ2FudHRTZXJ2aWNlLmdldFNjYWxlVW5pdFBpeGVsKCkpICogR2FudHRTZXJ2aWNlLkRBWV9EVVJBVElPTik7XG4gICAgICB0aGlzLnN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHRoaXMub3JpZ2luU3RhcnREYXRlLmdldFRpbWUoKSArIHRpbWVPZmZzZXQpO1xuICAgICAgdGhpcy5nYW50dFNlcnZpY2Uucm91bmREYXRlKHRoaXMuc3RhcnREYXRlKTtcbiAgICAgIGlmICh0aGlzLmVuZERhdGUgPCB0aGlzLnN0YXJ0RGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IHRoaXMuZW5kRGF0ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWFybHlEYXRlVGltZSA9IHRoaXMuc3RhcnREYXRlLmdldFRpbWUoKSAtIHRoaXMuRUFSTFlPRkZTRVQgKiBHYW50dFNlcnZpY2UuREFZX0RVUkFUSU9OO1xuICAgICAgaWYgKG9mZnNldCA8IDAgJiYgZWFybHlEYXRlVGltZSA8IHRoaXMuZ2FudHRTZXJ2aWNlLnNjYWxlU3RhcnREYXRlLmdldFRpbWUoKSkge1xuICAgICAgICB0aGlzLmdhbnR0U2VydmljZS5zZXRTY2FsZUNvbmZpZyh7IHN0YXJ0RGF0ZTogbmV3IERhdGUoZWFybHlEYXRlVGltZSkgfSk7XG4gICAgICAgIHRoaXMuYmFyT3JpZ2luTGVmdCA9IHRoaXMuRUFSTFlPRkZTRVQgKiB0aGlzLmdhbnR0U2VydmljZS5nZXRTY2FsZVVuaXRQaXhlbCgpIC0gTWF0aC5yb3VuZChvZmZzZXQpO1xuICAgICAgfVxuICAgICAgY29uc3QgZmluYWxMZWZ0ID0gdGhpcy5iYXJPcmlnaW5MZWZ0ICsgTWF0aC5yb3VuZChvZmZzZXQpO1xuICAgICAgdGhpcy5sZWZ0ID0gZmluYWxMZWZ0O1xuXG4gICAgICB0aGlzLndpZHRoID0gZmluYWxXaWR0aDtcbiAgICAgIHRoaXMuZGlzcGF0Y2hHYW50dEJhclN0YXR1cygpO1xuICAgICAgY29uc3QgaW5mbyA9IHRoaXMuZ2V0R2FudHRUYXNrSW5mbygpO1xuICAgICAgaW5mby5tb3ZlT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgdGhpcy5iYXJSZXNpemluZ0V2ZW50LmVtaXQoaW5mbyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVzaXplQmFyUmlnaHRTdGFydCkge1xuICAgICAgdGhpcy5tb3VzZU1vdmVPbkJhciA9IHRydWU7XG4gICAgICBjb25zdCBvZmZzZXQgPSB2YWx1ZSAtIHRoaXMuYmFyUmVzaXplU3RhcnRQYWdlWDtcbiAgICAgIGNvbnN0IGZpbmFsV2lkdGggPSBwYXJzZUludCh0aGlzLmJhck9yaWdpbldpZHRoLCAxMCkgKyBNYXRoLnJvdW5kKG9mZnNldCk7XG5cbiAgICAgIGlmIChmaW5hbFdpZHRoIDwgdGhpcy5NSU5fV0lEVEgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0aW1lT2Zmc2V0ID0gTWF0aC5yb3VuZCgob2Zmc2V0IC8gdGhpcy5nYW50dFNlcnZpY2UuZ2V0U2NhbGVVbml0UGl4ZWwoKSkgKiBHYW50dFNlcnZpY2UuREFZX0RVUkFUSU9OKTtcbiAgICAgIHRoaXMuZW5kRGF0ZSA9IG5ldyBEYXRlKHRoaXMub3JpZ2luRW5kRGF0ZS5nZXRUaW1lKCkgKyB0aW1lT2Zmc2V0KTtcbiAgICAgIHRoaXMuZ2FudHRTZXJ2aWNlLnJvdW5kRGF0ZSh0aGlzLmVuZERhdGUpO1xuICAgICAgaWYgKHRoaXMuZW5kRGF0ZSA8IHRoaXMuc3RhcnREYXRlKSB7XG4gICAgICAgIHRoaXMuZW5kRGF0ZSA9IHRoaXMuc3RhcnREYXRlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsYXRlRGF0ZVRpbWUgPSB0aGlzLmVuZERhdGUuZ2V0VGltZSgpICsgdGhpcy5FQVJMWU9GRlNFVCAqIEdhbnR0U2VydmljZS5EQVlfRFVSQVRJT047XG4gICAgICBpZiAob2Zmc2V0ID4gMCAmJiBsYXRlRGF0ZVRpbWUgPiB0aGlzLmdhbnR0U2VydmljZS5zY2FsZUVuZERhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgIHRoaXMuZ2FudHRTZXJ2aWNlLnNldFNjYWxlQ29uZmlnKHsgZW5kRGF0ZTogbmV3IERhdGUobGF0ZURhdGVUaW1lKSB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy53aWR0aCA9IGZpbmFsV2lkdGg7XG4gICAgICB0aGlzLmRpc3BhdGNoR2FudHRCYXJTdGF0dXMoKTtcbiAgICAgIGNvbnN0IGluZm8gPSB0aGlzLmdldEdhbnR0VGFza0luZm8oKTtcbiAgICAgIGluZm8ubW92ZU9mZnNldCA9IG9mZnNldDtcbiAgICAgIHRoaXMuYmFyUmVzaXppbmdFdmVudC5lbWl0KGluZm8pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1vdmVCYXJTdGFydCkge1xuICAgICAgdGhpcy5jaGVja0lzT3V0KHZhbHVlKTtcbiAgICAgIGlmICh0aGlzLm1vdmVkT3V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMubW91c2VNb3ZlT25CYXIgPSB0cnVlO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gdmFsdWUgLSB0aGlzLmJhck1vdmVTdGFydFBhZ2VYO1xuXG4gICAgICBjb25zdCB0aW1lT2Zmc2V0ID0gTWF0aC5yb3VuZCgoTWF0aC5yb3VuZChvZmZzZXQpIC8gdGhpcy5nYW50dFNlcnZpY2UuZ2V0U2NhbGVVbml0UGl4ZWwoKSkgKiBHYW50dFNlcnZpY2UuREFZX0RVUkFUSU9OKTtcblxuICAgICAgY29uc3QgbmV3U3RhcnREYXRlID0gbmV3IERhdGUodGhpcy5vcmlnaW5TdGFydERhdGUuZ2V0VGltZSgpICsgdGltZU9mZnNldCk7XG4gICAgICB0aGlzLmdhbnR0U2VydmljZS5yb3VuZERhdGUobmV3U3RhcnREYXRlKTtcbiAgICAgIHRoaXMuc3RhcnREYXRlID0gbmV3U3RhcnREYXRlO1xuXG4gICAgICBjb25zdCBuZXdFbmREYXRlID0gbmV3IERhdGUodGhpcy5vcmlnaW5FbmREYXRlLmdldFRpbWUoKSArIHRpbWVPZmZzZXQpO1xuICAgICAgdGhpcy5nYW50dFNlcnZpY2Uucm91bmREYXRlKG5ld0VuZERhdGUpO1xuICAgICAgdGhpcy5lbmREYXRlID0gbmV3RW5kRGF0ZTtcblxuICAgICAgY29uc3QgZWFybHlEYXRlVGltZSA9IHRoaXMuc3RhcnREYXRlLmdldFRpbWUoKSAtIHRoaXMuRUFSTFlPRkZTRVQgKiBHYW50dFNlcnZpY2UuREFZX0RVUkFUSU9OO1xuICAgICAgY29uc3QgbGF0ZURhdGVUaW1lID0gdGhpcy5lbmREYXRlLmdldFRpbWUoKSArIHRoaXMuRUFSTFlPRkZTRVQgKiBHYW50dFNlcnZpY2UuREFZX0RVUkFUSU9OO1xuICAgICAgaWYgKGVhcmx5RGF0ZVRpbWUgPCB0aGlzLmdhbnR0U2VydmljZS5zY2FsZVN0YXJ0RGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgdGhpcy5nYW50dFNlcnZpY2Uuc2V0U2NhbGVDb25maWcoeyBzdGFydERhdGU6IG5ldyBEYXRlKGVhcmx5RGF0ZVRpbWUpIH0pO1xuICAgICAgfSBlbHNlIGlmIChsYXRlRGF0ZVRpbWUgPiB0aGlzLmdhbnR0U2VydmljZS5zY2FsZUVuZERhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgIHRoaXMuZ2FudHRTZXJ2aWNlLnNldFNjYWxlQ29uZmlnKHsgZW5kRGF0ZTogbmV3IERhdGUobGF0ZURhdGVUaW1lKSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZpbmFsTGVmdCA9IHRoaXMuYmFyT3JpZ2luTGVmdCArIE1hdGgucm91bmQob2Zmc2V0KTtcbiAgICAgIHRoaXMubGVmdCA9IGZpbmFsTGVmdDtcblxuICAgICAgdGhpcy5kaXNwYXRjaEdhbnR0QmFyU3RhdHVzKCk7XG4gICAgICBjb25zdCBpbmZvID0gdGhpcy5nZXRHYW50dFRhc2tJbmZvKCk7XG4gICAgICBpbmZvLm1vdmVPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICB0aGlzLmJhck1vdmluZ0V2ZW50LmVtaXQoaW5mbyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0lzT3V0KHZhbHVlKSB7XG4gICAgdGhpcy5vdXREaXJlY3Rpb24gPSB2YWx1ZSAtIHRoaXMuYmFyTW92ZVN0YXJ0UGFnZVggPiAwID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICBpZiAodGhpcy5vdXREaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgICAgdGhpcy5tb3ZlZE91dCA9IHZhbHVlIDwgdGhpcy5zY3JvbGxWaWV3UmFuZ2VbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW92ZWRPdXQgPSB2YWx1ZSA+IHRoaXMuc2Nyb2xsVmlld1JhbmdlWzFdO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3ZlZE91dCkge1xuICAgICAgdGhpcy5hdXRvU2Nyb2xsKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbFRpbWVyKSB7XG4gICAgICBjb25zdCBsZWZ0ID1cbiAgICAgICAgdGhpcy5vdXREaXJlY3Rpb24gPT09ICdsZWZ0J1xuICAgICAgICAgID8gdGhpcy5zY3JvbGxFbGVtZW50LnNjcm9sbExlZnQgKyAodmFsdWUgLSB0aGlzLnNjcm9sbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCkgLSB0aGlzLm9yaWdpbk9mZnNldFhcbiAgICAgICAgICA6IHRoaXMuc2Nyb2xsRWxlbWVudC5zY3JvbGxMZWZ0ICsgdGhpcy5zY3JvbGxFbGVtZW50LmNsaWVudFdpZHRoIC0gdGhpcy5vcmlnaW5PZmZzZXRYO1xuICAgICAgdGhpcy5zZXRMZWZ0KE1hdGgucm91bmQobGVmdCkpO1xuICAgICAgdGhpcy5zdG9wQXV0b1Njcm9sbCgpO1xuICAgICAgdGhpcy5iYXJNb3ZlU3RhcnRQYWdlWCA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXV0b1Njcm9sbCgpIHtcbiAgICBpZiAoIXRoaXMuc2Nyb2xsVGltZXIpIHtcbiAgICAgIHRoaXMuc2Nyb2xsVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRoaXMub3V0RGlyZWN0aW9uID09PSAnbGVmdCdcbiAgICAgICAgICA/ICh0aGlzLnNjcm9sbEVsZW1lbnQuc2Nyb2xsTGVmdCAtPSB0aGlzLlNDUk9MTF9TVEVQKVxuICAgICAgICAgIDogKHRoaXMuc2Nyb2xsRWxlbWVudC5zY3JvbGxMZWZ0ICs9IHRoaXMuU0NST0xMX1NURVApO1xuICAgICAgfSwgMTApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RvcEF1dG9TY3JvbGwoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNjcm9sbFRpbWVyKTtcbiAgICB0aGlzLnNjcm9sbFRpbWVyID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgc2V0TGVmdChsZWZ0KSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbGVmdCAtIHRoaXMubGVmdDtcbiAgICBjb25zdCB0aW1lT2Zmc2V0ID0gKE1hdGgucm91bmQob2Zmc2V0KSAvIHRoaXMuZ2FudHRTZXJ2aWNlLmdldFNjYWxlVW5pdFBpeGVsKCkpICogR2FudHRTZXJ2aWNlLkRBWV9EVVJBVElPTjtcblxuICAgIGNvbnN0IG5ld1N0YXJ0RGF0ZSA9IG5ldyBEYXRlKHRoaXMuc3RhcnREYXRlLmdldFRpbWUoKSArIHRpbWVPZmZzZXQpO1xuICAgIHRoaXMuZ2FudHRTZXJ2aWNlLnJvdW5kRGF0ZShuZXdTdGFydERhdGUpO1xuICAgIHRoaXMuc3RhcnREYXRlID0gbmV3U3RhcnREYXRlO1xuXG4gICAgY29uc3QgbmV3RW5kRGF0ZSA9IG5ldyBEYXRlKHRoaXMuZW5kRGF0ZS5nZXRUaW1lKCkgKyB0aW1lT2Zmc2V0KTtcbiAgICB0aGlzLmdhbnR0U2VydmljZS5yb3VuZERhdGUobmV3RW5kRGF0ZSk7XG4gICAgdGhpcy5lbmREYXRlID0gbmV3RW5kRGF0ZTtcblxuICAgIHRoaXMub3JpZ2luU3RhcnREYXRlID0gdGhpcy5zdGFydERhdGU7XG4gICAgdGhpcy5vcmlnaW5FbmREYXRlID0gdGhpcy5lbmREYXRlO1xuICAgIHRoaXMuYmFyT3JpZ2luTGVmdCA9IGxlZnQ7XG4gICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0R2FudHRUYXNrSW5mbygpOiBHYW50dFRhc2tJbmZvIHtcbiAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5nYW50dFNlcnZpY2UuZ2V0RHVyYXRpb24odGhpcy5zdGFydERhdGUsIHRoaXMuZW5kRGF0ZSkgKyAnZCc7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSB0aGlzLnByb2dyZXNzUmF0ZSArICclJztcbiAgICBjb25zdCB0YXNrSW5mbyA9IHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgc3RhcnREYXRlOiB0aGlzLnN0YXJ0RGF0ZSxcbiAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLFxuICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgICAgbGVmdDogdGhpcy5sZWZ0LFxuICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgfTtcbiAgICByZXR1cm4gdGFza0luZm87XG4gIH1cbiAgcHJpdmF0ZSBtb3VzZVN0b3BNb3ZpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5tb3VzZU1vdmVPbkJhciA9IGZhbHNlO1xuICAgIHRoaXMuZ2FudHRTZXJ2aWNlLnJvdW5kRGF0ZSh0aGlzLnN0YXJ0RGF0ZSk7XG4gICAgdGhpcy5nYW50dFNlcnZpY2Uucm91bmREYXRlKHRoaXMuZW5kRGF0ZSk7XG4gICAgdGhpcy5vcmlnaW5TdGFydERhdGUgPSB0aGlzLnN0YXJ0RGF0ZTtcbiAgICB0aGlzLm9yaWdpbkVuZERhdGUgPSB0aGlzLmVuZERhdGU7XG4gICAgY29uc3QgdGFza0luZm8gPSB0aGlzLmdldEdhbnR0VGFza0luZm8oKTtcbiAgICBpZiAodGhpcy5tb3ZlQmFyU3RhcnQpIHtcbiAgICAgIGNvbnN0IGZpbmFsTGVmdCA9IHRoaXMuZ2FudHRTZXJ2aWNlLmdldERhdGVQb3N0aW9uT2Zmc2V0KHRoaXMuc3RhcnREYXRlKTtcbiAgICAgIHRoaXMubGVmdCA9IGZpbmFsTGVmdCA+IDAgPyBmaW5hbExlZnQgOiAwO1xuICAgICAgdGhpcy5iYXJNb3ZlRW5kRXZlbnQuZW1pdCh0YXNrSW5mbyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlc2l6ZUJhckxlZnRTdGFydCkge1xuICAgICAgY29uc3QgZmluYWxMZWZ0ID0gdGhpcy5nYW50dFNlcnZpY2UuZ2V0RGF0ZVBvc3Rpb25PZmZzZXQodGhpcy5zdGFydERhdGUpO1xuICAgICAgY29uc3QgZmluYWxXaWR0aCA9IHRoaXMuZ2FudHRTZXJ2aWNlLmdldER1cmF0aW9uV2lkdGgodGhpcy5zdGFydERhdGUsIHRoaXMuZW5kRGF0ZSk7XG4gICAgICB0aGlzLmxlZnQgPSBmaW5hbExlZnQgPiAwID8gZmluYWxMZWZ0IDogMDtcbiAgICAgIHRoaXMud2lkdGggPSBmaW5hbFdpZHRoO1xuICAgICAgdGhpcy5iYXJSZXNpemVFbmRFdmVudC5lbWl0KHRhc2tJbmZvKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVzaXplQmFyUmlnaHRTdGFydCkge1xuICAgICAgY29uc3QgZmluYWxXaWR0aCA9IHRoaXMuZ2FudHRTZXJ2aWNlLmdldER1cmF0aW9uV2lkdGgodGhpcy5zdGFydERhdGUsIHRoaXMuZW5kRGF0ZSk7XG4gICAgICB0aGlzLndpZHRoID0gZmluYWxXaWR0aDtcbiAgICAgIHRoaXMuYmFyUmVzaXplRW5kRXZlbnQuZW1pdCh0YXNrSW5mbyk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRyYWdQcm9ncmVzc1N0YXJ0KSB7XG4gICAgICB0aGlzLmJhclByb2dyZXNzRXZlbnQuZW1pdCh0aGlzLnByb2dyZXNzUmF0ZSk7XG4gICAgfVxuICAgIHRoaXMuaGFuZGxlQ29udHJvbGxlcihmYWxzZSk7XG4gICAgdGhpcy5zdG9wQXV0b1Njcm9sbCgpO1xuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdWJzY3JpYmVNb3VzZUFjdGlvbnMoXG4gICAgbW91c2VBY3Rpb25zOiBzdHJpbmdbXSA9IFsnc3RhcnQnLCAnbW92ZScsICdlbmQnXSxcbiAgICBldmVudHM6IHN0cmluZ1tdID0gWydiYXJNb3ZlJywgJ2JhclJlc2l6ZScsICdwcm9ncmVzcyddXG4gICk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIG1vdXNlQWN0aW9ucy5pbmRleE9mKCdzdGFydCcpICE9PSAtMSAmJlxuICAgICAgdGhpcy5kcmFnUHJvZ3Jlc3NTdGFydExpc3RlbmVyICYmXG4gICAgICAhdGhpcy5kcmFnUHJvZ3Jlc3NTdGFydEhhbmRsZXIgJiZcbiAgICAgIGV2ZW50cy5pbmRleE9mKCdwcm9ncmVzcycpICE9PSAtMVxuICAgICkge1xuICAgICAgdGhpcy5kcmFnUHJvZ3Jlc3NTdGFydEhhbmRsZXIgPSB0aGlzLmRyYWdQcm9ncmVzc1N0YXJ0TGlzdGVuZXIuc3Vic2NyaWJlKHRoaXMucHJvZ3Jlc3NTdGFydERyYWcuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgbW91c2VBY3Rpb25zLmluZGV4T2YoJ3N0YXJ0JykgIT09IC0xICYmXG4gICAgICB0aGlzLm1vdmVCYXJTdGFydExpc3RlbmVyICYmXG4gICAgICAhdGhpcy5tb3ZlQmFyU3RhcnRIYW5kbGVyICYmXG4gICAgICBldmVudHMuaW5kZXhPZignYmFyTW92ZScpICE9PSAtMVxuICAgICkge1xuICAgICAgdGhpcy5tb3ZlQmFyU3RhcnRIYW5kbGVyID0gdGhpcy5tb3ZlQmFyU3RhcnRMaXN0ZW5lci5zdWJzY3JpYmUodGhpcy5iYXJTdGFydE1vdmluZy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBtb3VzZUFjdGlvbnMuaW5kZXhPZignc3RhcnQnKSAhPT0gLTEgJiZcbiAgICAgIHRoaXMucmVzaXplQmFyTGVmdFN0YXJ0TGlzdGVuZXIgJiZcbiAgICAgICF0aGlzLnJlc2l6ZUJhckxlZnRTdGFydEhhbmRsZXIgJiZcbiAgICAgIGV2ZW50cy5pbmRleE9mKCdiYXJSZXNpemUnKSAhPT0gLTFcbiAgICApIHtcbiAgICAgIHRoaXMucmVzaXplQmFyTGVmdFN0YXJ0SGFuZGxlciA9IHRoaXMucmVzaXplQmFyTGVmdFN0YXJ0TGlzdGVuZXIuc3Vic2NyaWJlKHRoaXMuYmFyTGVmdFN0YXJ0UmVzaXppbmcuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgbW91c2VBY3Rpb25zLmluZGV4T2YoJ3N0YXJ0JykgIT09IC0xICYmXG4gICAgICB0aGlzLnJlc2l6ZUJhclJpZ2h0U3RhcnRMaXN0ZW5lciAmJlxuICAgICAgIXRoaXMucmVzaXplQmFyUmlnaHRTdGFydEhhbmRsZXIgJiZcbiAgICAgIGV2ZW50cy5pbmRleE9mKCdiYXJSZXNpemUnKSAhPT0gLTFcbiAgICApIHtcbiAgICAgIHRoaXMucmVzaXplQmFyUmlnaHRTdGFydEhhbmRsZXIgPSB0aGlzLnJlc2l6ZUJhclJpZ2h0U3RhcnRMaXN0ZW5lci5zdWJzY3JpYmUodGhpcy5iYXJSaWdodFN0YXJ0UmVzaXppbmcuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKG1vdXNlQWN0aW9ucy5pbmRleE9mKCdtb3ZlJykgIT09IC0xICYmIHRoaXMubW91c2VNb3ZlTGlzdGVuZXIgJiYgIXRoaXMubW91c2VNb3ZlSGFuZGxlcikge1xuICAgICAgdGhpcy5tb3VzZU1vdmVIYW5kbGVyID0gdGhpcy5tb3VzZU1vdmVMaXN0ZW5lci5zdWJzY3JpYmUodGhpcy5tb3VzZU1vdmluZy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBpZiAobW91c2VBY3Rpb25zLmluZGV4T2YoJ2VuZCcpICE9PSAtMSAmJiB0aGlzLm1vdXNlRW5kTGlzdGVuZXIgJiYgIXRoaXMubW91c2VFbmRIYW5kbGVyKSB7XG4gICAgICB0aGlzLm1vdXNlRW5kSGFuZGxlciA9IHRoaXMubW91c2VFbmRMaXN0ZW5lci5zdWJzY3JpYmUodGhpcy5tb3VzZVN0b3BNb3ZpbmcuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZU1vdXNlQWN0aW9ucyhcbiAgICBkcmFnU3RhZ2VzOiBzdHJpbmdbXSA9IFsnc3RhcnQnLCAnbW92ZScsICdlbmQnXSxcbiAgICBldmVudHM6IHN0cmluZ1tdID0gWydiYXJNb3ZlJywgJ2JhclJlc2l6ZScsICdwcm9ncmVzcyddXG4gICk6IHZvaWQge1xuICAgIGlmIChkcmFnU3RhZ2VzLmluZGV4T2YoJ3N0YXJ0JykgIT09IC0xICYmIGV2ZW50cy5pbmRleE9mKCdwcm9ncmVzcycpICE9PSAtMSAmJiB0aGlzLmRyYWdQcm9ncmVzc1N0YXJ0SGFuZGxlcikge1xuICAgICAgdGhpcy5kcmFnUHJvZ3Jlc3NTdGFydEhhbmRsZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMuZHJhZ1Byb2dyZXNzU3RhcnRIYW5kbGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ1N0YWdlcy5pbmRleE9mKCdzdGFydCcpICE9PSAtMSAmJiBldmVudHMuaW5kZXhPZignYmFyTW92ZScpICE9PSAtMSAmJiB0aGlzLm1vdmVCYXJTdGFydEhhbmRsZXIpIHtcbiAgICAgIHRoaXMubW92ZUJhclN0YXJ0SGFuZGxlci51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5tb3ZlQmFyU3RhcnRIYW5kbGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ1N0YWdlcy5pbmRleE9mKCdzdGFydCcpICE9PSAtMSAmJiBldmVudHMuaW5kZXhPZignYmFyUmVzaXplJykgIT09IC0xICYmIHRoaXMucmVzaXplQmFyTGVmdFN0YXJ0SGFuZGxlcikge1xuICAgICAgdGhpcy5yZXNpemVCYXJMZWZ0U3RhcnRIYW5kbGVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICB0aGlzLnJlc2l6ZUJhckxlZnRTdGFydEhhbmRsZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChkcmFnU3RhZ2VzLmluZGV4T2YoJ3N0YXJ0JykgIT09IC0xICYmIGV2ZW50cy5pbmRleE9mKCdiYXJSZXNpemUnKSAhPT0gLTEgJiYgdGhpcy5yZXNpemVCYXJSaWdodFN0YXJ0SGFuZGxlcikge1xuICAgICAgdGhpcy5yZXNpemVCYXJSaWdodFN0YXJ0SGFuZGxlci51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5yZXNpemVCYXJSaWdodFN0YXJ0SGFuZGxlciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGRyYWdTdGFnZXMuaW5kZXhPZignbW92ZScpICE9PSAtMSAmJiB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpIHtcbiAgICAgIHRoaXMubW91c2VNb3ZlSGFuZGxlci51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5tb3VzZU1vdmVIYW5kbGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ1N0YWdlcy5pbmRleE9mKCdlbmQnKSAhPT0gLTEgJiYgdGhpcy5tb3VzZUVuZEhhbmRsZXIpIHtcbiAgICAgIHRoaXMubW91c2VFbmRIYW5kbGVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICB0aGlzLm1vdXNlRW5kSGFuZGxlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDb250cm9sbGVyKG1vdmFibGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAobW92YWJsZSkge1xuICAgICAgdGhpcy5mb2N1c2VkID0gdGhpcy5mb2N1c0NvbnRyb2xsZXIoKTtcbiAgICAgIHRoaXMuc3Vic2NyaWJlTW91c2VBY3Rpb25zKFsnbW92ZScsICdlbmQnXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJhZ1Byb2dyZXNzU3RhcnQgPSBmYWxzZTtcbiAgICAgIHRoaXMubW92ZUJhclN0YXJ0ID0gZmFsc2U7XG4gICAgICB0aGlzLnJlc2l6ZUJhckxlZnRTdGFydCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZXNpemVCYXJSaWdodFN0YXJ0ID0gZmFsc2U7XG4gICAgICB0aGlzLmZvY3VzZWQgPSB0aGlzLmZvY3VzQ29udHJvbGxlcigpO1xuICAgICAgdGhpcy51bnN1YnNjcmliZU1vdXNlQWN0aW9ucyhbJ21vdmUnLCAnZW5kJ10pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0VmFsdWUodmFsdWU6IG51bWJlciB8IG51bGwpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wcm9ncmVzc1JhdGUgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLnByb2dyZXNzUmF0ZSA9IHZhbHVlO1xuICAgICAgdGhpcy51cGRhdGVUcmFja0FuZEhhbmRsZSgpO1xuICAgIH1cbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sodGhpcy5wcm9ncmVzc1JhdGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbnN1cmVWYWx1ZUluUmFuZ2UodmFsdWU6IG51bWJlciB8IG51bGwpOiBudW1iZXIge1xuICAgIGxldCBzYWZlVmFsdWU7XG4gICAgaWYgKCF0aGlzLnZhbHVlTXVzdEJlVmFsaWQodmFsdWUpKSB7XG4gICAgICBzYWZlVmFsdWUgPSB0aGlzLm1pbjtcbiAgICB9IGVsc2Uge1xuICAgICAgc2FmZVZhbHVlID0gdGhpcy5jbGFtcCh0aGlzLm1pbiwgdmFsdWUgYXMgbnVtYmVyLCB0aGlzLm1heCk7XG4gICAgfVxuICAgIHJldHVybiBzYWZlVmFsdWU7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVRyYWNrQW5kSGFuZGxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wcm9ncmVzc1JhdGU7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy52YWx1ZVRvT2Zmc2V0KHZhbHVlKTtcbiAgICB0aGlzLnVwZGF0ZVN0eWxlKG9mZnNldCAvIDEwMCk7XG4gICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBwcml2YXRlIHZhbHVlTXVzdEJlVmFsaWQodmFsdWU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhaXNOYU4odHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyA/IHBhcnNlRmxvYXQodmFsdWUpIDogdmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSB2YWx1ZVRvT2Zmc2V0KHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAoKHZhbHVlIC0gdGhpcy5taW4pIC8gKHRoaXMubWF4IC0gdGhpcy5taW4pKSAqIDEwMDtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJIYW5kbGVIb3ZlclBvcG92ZXJMaXN0ZW5lcigpIHtcbiAgICBjb25zdCBtb3VzZU92ZXJQcm9ncmVzc0xpc3RlbmVyID0gZnJvbUV2ZW50KHRoaXMuZ2FudHRCYXJQcm9ncmVzcy5uYXRpdmVFbGVtZW50LCAnbW91c2VvdmVyJyk7XG4gICAgY29uc3QgbW91c2VMZWF2ZVByb2dyZXNzTGlzdGVuZXIgPSBmcm9tRXZlbnQodGhpcy5nYW50dEJhclByb2dyZXNzLm5hdGl2ZUVsZW1lbnQsICdtb3VzZW91dCcpO1xuICAgIHRoaXMubW91c2VPdmVyUHJvZ3Jlc3NIYW5kbGVyID0gbW91c2VPdmVyUHJvZ3Jlc3NMaXN0ZW5lci5zdWJzY3JpYmUodGhpcy5nYW50dFByb2dyZXNzUG9wb3Zlck9uTW91c2VIb3Zlci5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm1vdXNlTGVhdmVQcm9ncmVzc0hhbmRsZXIgPSBtb3VzZUxlYXZlUHJvZ3Jlc3NMaXN0ZW5lci5zdWJzY3JpYmUodGhpcy5nYW50dFByb2dyZXNzUG9wb3Zlck9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGdhbnR0QmFyUG9wb3Zlck9uTW91c2VIb3ZlcigkZXZlbnQpIHtcbiAgICBpZiAodGhpcy5tb3VzZUxlYXZlVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1vdXNlTGVhdmVUaW1lcik7XG4gICAgfVxuICAgIHRoaXMubW91c2VNb3ZlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGJhckxlZnQgPSB0aGlzLmdhbnR0QmFyLm5hdGl2ZUVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKVswXS5sZWZ0O1xuICAgICAgY29uc3QgZXZlbnRMZWZ0ID0gJGV2ZW50LmNsaWVudFg7XG4gICAgICB0aGlzLmNka092ZXJsYXlPZmZzZXRYID0gZXZlbnRMZWZ0IC0gYmFyTGVmdDtcblxuICAgICAgdGhpcy5iYXJIb3ZlcmluZyA9IHRydWU7XG4gICAgICB0aGlzLmZvY3VzZWQgPSB0aGlzLmZvY3VzQ29udHJvbGxlcigpO1xuICAgICAgdGhpcy5kaXNwYXRjaEdhbnR0QmFyU3RhdHVzKCk7XG4gICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcbiAgICB9LCB0aGlzLm1vdXNlRXZlbnREYWxheSk7XG4gIH1cblxuICBnYW50dEJhclBvcG92ZXJPbk1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKHRoaXMubW91c2VNb3ZlVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1vdXNlTW92ZVRpbWVyKTtcbiAgICB9XG4gICAgdGhpcy5tb3VzZUxlYXZlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuYmFySG92ZXJpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuZm9jdXNlZCA9IHRoaXMuZm9jdXNDb250cm9sbGVyKCk7XG4gICAgICB0aGlzLmRpc3BhdGNoR2FudHRCYXJTdGF0dXMoKTtcbiAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgIH0sIHRoaXMubW91c2VFdmVudERhbGF5KTtcbiAgfVxuXG4gIG1vdXNlTGVhdmVUaXAoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnRpcEhvdmVyZWQgPSBmYWxzZTtcbiAgICB9LCB0aGlzLm1vdXNlRXZlbnREYWxheSk7XG4gIH1cblxuICBwcml2YXRlIGdhbnR0UHJvZ3Jlc3NQb3BvdmVyT25Nb3VzZUhvdmVyKCkge1xuICAgIHRoaXMucHJvZ3Jlc3NIb3ZlcmluZyA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIGdhbnR0UHJvZ3Jlc3NQb3BvdmVyT25Nb3VzZUxlYXZlKCkge1xuICAgIHRoaXMucHJvZ3Jlc3NIb3ZlcmluZyA9IGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnJlZ2lzdGVySGFuZGxlSG92ZXJUb29sdGlwKCkge1xuICAgIGlmICh0aGlzLm1vdXNlT3ZlclByb2dyZXNzSGFuZGxlcikge1xuICAgICAgdGhpcy5tb3VzZU92ZXJQcm9ncmVzc0hhbmRsZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMubW91c2VPdmVyUHJvZ3Jlc3NIYW5kbGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb3VzZUxlYXZlUHJvZ3Jlc3NIYW5kbGVyKSB7XG4gICAgICB0aGlzLm1vdXNlTGVhdmVQcm9ncmVzc0hhbmRsZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMubW91c2VMZWF2ZVByb2dyZXNzSGFuZGxlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjbGVhclRpbWVyKCkge1xuICAgIGlmICh0aGlzLm1vdXNlTGVhdmVUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubW91c2VMZWF2ZVRpbWVyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubW91c2VNb3ZlVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1vdXNlTW92ZVRpbWVyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZvY3VzQ29udHJvbGxlcigpIHtcbiAgICByZXR1cm4gdGhpcy5kcmFnUHJvZ3Jlc3NTdGFydCB8fCB0aGlzLm1vdmVCYXJTdGFydCB8fCB0aGlzLnJlc2l6ZUJhckxlZnRTdGFydCB8fCB0aGlzLnJlc2l6ZUJhclJpZ2h0U3RhcnQgfHwgdGhpcy5iYXJIb3ZlcmluZztcbiAgfVxuXG4gIGRpc3BhdGNoR2FudHRCYXJTdGF0dXMoKSB7XG4gICAgY29uc3Qgc3RhdHVzID0ge1xuICAgICAgZm9jdXNlZDogdGhpcy5mb2N1c2VkLFxuICAgICAgc3RhcnREYXRlOiB0aGlzLnN0YXJ0RGF0ZSxcbiAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZSxcbiAgICB9O1xuICAgIHRoaXMuZ2FudHRTZXJ2aWNlLmNoYW5nZUdhbnR0QmFyU3RhdHVzKHN0YXR1cyk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlTW91c2VBY3Rpb25zKCk7XG4gICAgdGhpcy51bnJlZ2lzdGVySGFuZGxlSG92ZXJUb29sdGlwKCk7XG4gICAgaWYgKHRoaXMuZ2FudHRTY2FsZVN0YXR1c0hhbmRsZXIpIHtcbiAgICAgIHRoaXMuZ2FudHRTY2FsZVN0YXR1c0hhbmRsZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMuZ2FudHRTY2FsZVN0YXR1c0hhbmRsZXIgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwiPGRpdlxuICAqbmdJZj1cInN0YXJ0RGF0ZSAmJiBlbmREYXRlXCJcbiAgY2xhc3M9XCJkZXZ1aS1nYW50dC1iYXIge3sgY3VzdG9tQmFyQ2xhc3MgfX1cIlxuICAjZ2FudHRCYXJcbiAgY2RrLW92ZXJsYXktb3JpZ2luXG4gICNwcm9ncmVzcz1cImNka092ZXJsYXlPcmlnaW5cIlxuICBbc3R5bGUubGVmdF09XCJsZWZ0ICsgJ3B4J1wiXG4gIFtzdHlsZS53aWR0aF09XCJ3aWR0aCArICdweCdcIlxuICAobW91c2VvdmVyKT1cImdhbnR0QmFyUG9wb3Zlck9uTW91c2VIb3ZlcigkZXZlbnQpXCJcbiAgKG1vdXNlbGVhdmUpPVwiZ2FudHRCYXJQb3BvdmVyT25Nb3VzZUxlYXZlKClcIlxuPlxuICA8ZGl2IGNsYXNzPVwiZGV2dWktZ2FudHQtaG92ZXItbGF5ZXJcIiBbc3R5bGUud2lkdGhdPVwid2lkdGggKyAyNCArICdweCdcIiBbc3R5bGUuZGlzcGxheV09XCJmb2N1c2VkID8gJ2Jsb2NrJyA6ICdub25lJ1wiPlxuICAgIDxkaXYgI2dhbnR0QmFyRGFyZ2dlckxlZnQgY2xhc3M9XCJkZXZ1aS1nYW50dC1kcmFnZ2VyIGxlZnRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJoYW5kbGVcIiBbbmdDbGFzc109XCJ7IGRpc2FibGVkOiBiYXJSZXNpemVEaXNhYmxlZCB9XCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiAjZ2FudHRCYXJEYXJnZ2VyUmlnaHQgY2xhc3M9XCJkZXZ1aS1nYW50dC1kcmFnZ2VyIHJpZ2h0XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiaGFuZGxlXCIgW25nQ2xhc3NdPVwieyBkaXNhYmxlZDogYmFyUmVzaXplRGlzYWJsZWQgfVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiAjZ2FudHRCYXJNYWluIGNsYXNzPVwiZGV2dWktZ2FudHQtbWFpblwiIFtuZ0NsYXNzXT1cInsgZGlzYWJsZWQ6IGJhck1vdmVEaXNhYmxlZCB9XCI+XG4gICAgPGRpdiBjbGFzcz1cImRldnVpLWdhbnR0LWJhci1yYWlsXCIgI2dhbnR0QmFyUmFpbD48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZGV2dWktZ2FudHQtYmFyLXRyYWNrXCIgI2dhbnR0QmFyVHJhY2s+PC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2XG4gICAgY2xhc3M9XCJkZXZ1aS1nYW50dC1iYXItcHJvZ3Jlc3NcIlxuICAgICNnYW50dEJhclByb2dyZXNzXG4gICAgW25nQ2xhc3NdPVwieyBkaXNhYmxlZDogcHJvZ3Jlc3NEaXNhYmxlZCwgdmlzaWJsZTogZm9jdXNlZCB9XCJcbiAgICBbYXR0ci50aXRsZV09XCJwcm9ncmVzc1JhdGUgPyBwcm9ncmVzc1JhdGUgOiAwICsgJyUnXCJcbiAgPlxuICAgIDxzdmdcbiAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgIHdpZHRoPVwiMTJweFwiXG4gICAgICBoZWlnaHQ9XCIxNnB4XCJcbiAgICAgIHZpZXdCb3g9XCIwIDAgMTIgMTZcIlxuICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgPlxuICAgICAgPGcgaWQ9XCJnYW50dC1iYXItaGFuZGxlXCIgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBkPVwiTTcuMDYwNjYwMTcsMS4zNTM1NTMzOSBDNi43Njc3NjY5NSwxLjA2MDY2MDE3IDYuMzgzODgzNDgsMC45MTQyMTM1NjIgNiwwLjkxNDIxMzU2MiBDNS42MTYxMTY1MiwwLjkxNDIxMzU2MiA1LjIzMjIzMzA1LDEuMDYwNjYwMTcgNC45MzkzMzk4MywxLjM1MzU1MzM5IEwwLjUsNS43OTI4OTMyMiBMMC41LDEzIEMwLjUsMTMuNjkwMzU1OSAwLjc3OTgyMjAzMSwxNC4zMTUzNTU5IDEuMjMyMjMzMDUsMTQuNzY3NzY3IEMxLjY4NDY0NDA2LDE1LjIyMDE3OCAyLjMwOTY0NDA2LDE1LjUgMywxNS41IEw5LDE1LjUgQzkuNjkwMzU1OTQsMTUuNSAxMC4zMTUzNTU5LDE1LjIyMDE3OCAxMC43Njc3NjcsMTQuNzY3NzY3IEMxMS4yMjAxNzgsMTQuMzE1MzU1OSAxMS41LDEzLjY5MDM1NTkgMTEuNSwxMyBMMTEuNSw1Ljc5Mjg5MzIyIEw3LjA2MDY2MDE3LDEuMzUzNTUzMzkgWlwiXG4gICAgICAgICAgc3Ryb2tlPVwibm9uZVwiXG4gICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAvPlxuICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImRldnVpLWdhbnR0LWJhci10aXRsZSB7eyBjdXN0b21UaXRsZUNsYXNzIH19XCIgKm5nSWY9XCJzaG93VGl0bGVcIj57eyB0aXRsZSB9fTwvZGl2PlxuICA8bmctdGVtcGxhdGVcbiAgICAqbmdJZj1cInRpcFRlbXBsYXRlUmVmXCJcbiAgICBjZGstY29ubmVjdGVkLW92ZXJsYXlcbiAgICBbY2RrQ29ubmVjdGVkT3ZlcmxheU9mZnNldFhdPVwiY2RrT3ZlcmxheU9mZnNldFhcIlxuICAgIFtjZGtDb25uZWN0ZWRPdmVybGF5T3JpZ2luXT1cInByb2dyZXNzXCJcbiAgICBbY2RrQ29ubmVjdGVkT3ZlcmxheU9wZW5dPVwiKGZvY3VzZWQgfHwgdGlwSG92ZXJlZCkgJiYgIW1vdXNlTW92ZU9uQmFyXCJcbiAgPlxuICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS1nYW50dC10aXBzXCIgKG1vdXNlb3Zlcik9XCJ0aXBIb3ZlcmVkID0gdHJ1ZVwiIChtb3VzZWxlYXZlKT1cIm1vdXNlTGVhdmVUaXAoKVwiPlxuICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInRpcFRlbXBsYXRlUmVmXCIgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgZ2FudHRJbnN0YW5jZTogdGhpcywgZGF0YTogZGF0YSB9XCI+PC9uZy10ZW1wbGF0ZT5cbiAgICA8L2Rpdj5cbiAgPC9uZy10ZW1wbGF0ZT5cbjwvZGl2PlxuXG48ZGl2XG4gICpuZ0lmPVwibW92ZUJhclN0YXJ0XCJcbiAgY2xhc3M9XCJtb3ZpbmctYmcge3sgY3VzdG9tQmdDbGFzcyB9fVwiXG4gIFtzdHlsZS5sZWZ0XT1cIm9yaWdpbk9mZnNldFggKyBsZWZ0ICsgJ3B4J1wiXG4gIFtzdHlsZS53aWR0aF09XCJ3aWR0aCArICdweCdcIlxuPjwvZGl2PlxuIl19