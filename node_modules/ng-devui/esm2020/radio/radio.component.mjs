import { Component, forwardRef, HostListener, Input } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
export class RadioComponent {
    constructor() {
        this.onChange = (_) => null;
        this.onTouched = () => null;
    }
    get name() {
        return this._name;
    }
    set name(value) {
        this._name = value;
    }
    get disabled() {
        return this._disabled;
    }
    set disabled(value) {
        this._disabled = value;
    }
    get value() {
        return this.inputValue;
    }
    set value(value) {
        this.inputValue = value;
        if (value instanceof Object) {
            this.id = '';
        }
        else {
            this.id = `${this.name}-${value}`;
        }
    }
    onRadioChange(event) {
        if (this.disabled) {
            event.preventDefault();
        }
        this.canChange().then((change) => {
            if (!change) {
                event.preventDefault();
            }
        });
    }
    ngOnInit() { }
    registerHandleChange(fn) {
        this.handleChange = fn;
    }
    writeValue(obj) {
        this._value = obj;
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    handleModelChange($event, value) {
        $event.stopPropagation();
        this._value = value;
        this.onTouched();
        this.onChange(value);
    }
    canChange() {
        let changeResult = Promise.resolve(true);
        if (this.beforeChange) {
            const result = this.beforeChange(this.value);
            if (typeof result !== 'undefined') {
                if (result.then) {
                    changeResult = result;
                }
                else if (result.subscribe) {
                    changeResult = result.toPromise();
                }
                else {
                    changeResult = Promise.resolve(result);
                }
            }
        }
        return changeResult;
    }
}
RadioComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: RadioComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
RadioComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: RadioComponent, selector: "d-radio", inputs: { name: "name", disabled: "disabled", value: "value", beforeChange: "beforeChange" }, host: { listeners: { "click": "onRadioChange($event)" } }, providers: [
        {
            provide: NG_VALUE_ACCESSOR,
            useExisting: forwardRef(() => RadioComponent),
            multi: true,
        },
    ], ngImport: i0, template: "<label class=\"devui-radio\" [class.active]=\"radioInput.checked\" [class.disabled]=\"disabled\">\n  <input\n    #radioInput\n    type=\"radio\"\n    class=\"devui-radio-input\"\n    [disabled]=\"disabled\"\n    [name]=\"name\"\n    [id]=\"id\"\n    [ngModel]=\"_value\"\n    (change)=\"handleModelChange($event, value)\"\n    [value]=\"value\"\n  />\n  <span class=\"devui-radio-material\">\n    <svg height=\"100%\" width=\"100%\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle class=\"devui-outer\" [class.disabled]=\"disabled\" cx=\"512\" cy=\"512\" r=\"486.5\" stroke-width=\"51\" />\n      <circle class=\"devui-inner\" [class.disabled]=\"disabled\" cx=\"512\" fill-rule=\"nonzero\" cy=\"512\" r=\"320\" />\n    </svg>\n  </span>\n  <span class=\"devui-radio-label\">\n    <ng-content></ng-content>\n  </span>\n</label>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}:host{padding-right:20px;display:block;line-height:18px}.devui-radio{font-size:12px;font-size:var(--devui-font-size, 12px);line-height:1.5;font-weight:400;cursor:pointer;color:#252b3a;color:var(--devui-text, #252b3a);margin:0 auto}.devui-radio.disabled{cursor:not-allowed}.devui-radio.disabled .devui-radio-label{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-radio svg .devui-outer{stroke:#d7d8da;stroke:var(--devui-line, #d7d8da);fill:transparent}.devui-radio svg .devui-outer.disabled{stroke:#dfe1e6;stroke:var(--devui-disabled-line, #dfe1e6);fill:#f5f5f5;fill:var(--devui-disabled-bg, #f5f5f5)}.devui-radio svg .devui-inner{fill:#5e7ce0;fill:var(--devui-brand, #5e7ce0)}.devui-radio:hover:not(.disabled) svg .devui-outer{stroke:#5e7ce0;stroke:var(--devui-form-control-line-active, #5e7ce0)}.devui-radio:hover:not(.disabled) .devui-radio-label{color:#7693f5;color:var(--devui-primary-hover, #7693f5)}.devui-radio:active:not(.disabled) svg .devui-outer,.devui-radio:focus:not(.disabled) svg .devui-outer{stroke:#5e7ce0;stroke:var(--devui-form-control-line-active, #5e7ce0)}.devui-radio.active svg .devui-outer{opacity:1;stroke:#5e7ce0;stroke:var(--devui-form-control-line-active, #5e7ce0);transition:stroke 50ms cubic-bezier(.5,.05,.5,.95);transition:stroke 50ms var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio.active svg .devui-outer.disabled{stroke:#beccfa;stroke:var(--devui-icon-fill-active-disabled, #beccfa);fill:transparent}.devui-radio.active svg .devui-inner{opacity:1;transform:scale(1);transition:transform .2s cubic-bezier(.5,.05,.5,.95),opacity .2s cubic-bezier(.5,.05,.5,.95);transition:transform var(--devui-animation-duration-base, .2s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95)),opacity var(--devui-animation-duration-base, .2s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio.active svg .devui-inner.disabled{fill:#beccfa;fill:var(--devui-icon-fill-active-disabled, #beccfa)}.devui-radio.active:not(.disabled):active .devui-radio-material svg .devui-outer,.devui-radio.active:not(.disabled):focus .devui-radio-material svg .devui-outer,.devui-radio.active:not(.disabled):hover .devui-radio-material svg .devui-outer{stroke:#344899;stroke:var(--devui-form-control-line-active-hover, #344899)}.devui-radio.active:not(.disabled):active .devui-radio-material svg .devui-inner,.devui-radio.active:not(.disabled):focus .devui-radio-material svg .devui-inner,.devui-radio.active:not(.disabled):hover .devui-radio-material svg .devui-inner{fill:#5e7ce0;fill:var(--devui-brand, #5e7ce0)}.devui-radio .devui-outer{opacity:1;transition:stroke 50ms cubic-bezier(.5,.05,.5,.95);transition:stroke 50ms var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio .devui-inner{opacity:0;transform:scale(0);transform-origin:50% 50%;transition:transform .2s cubic-bezier(.5,.05,.5,.95),opacity .2s cubic-bezier(.5,.05,.5,.95);transition:transform var(--devui-animation-duration-base, .2s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95)),opacity var(--devui-animation-duration-base, .2s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio .devui-radio-material{vertical-align:middle;position:relative;display:inline-block;overflow:hidden;height:16px;width:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transform:translateY(-1px)}.devui-radio .devui-radio-label{color:#252b3a;color:var(--devui-text, #252b3a);margin-left:8px;font-size:12px;font-size:var(--devui-font-size, 12px);transition:color .3s cubic-bezier(.5,.05,.5,.95);transition:color var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio .devui-radio-input{opacity:0;z-index:-1;width:0;height:0;display:none;overflow:hidden;pointer-events:none}\n"], directives: [{ type: i1.RadioControlValueAccessor, selector: "input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]", inputs: ["name", "formControlName", "value"] }, { type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: RadioComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-radio', providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => RadioComponent),
                            multi: true,
                        },
                    ], preserveWhitespaces: false, template: "<label class=\"devui-radio\" [class.active]=\"radioInput.checked\" [class.disabled]=\"disabled\">\n  <input\n    #radioInput\n    type=\"radio\"\n    class=\"devui-radio-input\"\n    [disabled]=\"disabled\"\n    [name]=\"name\"\n    [id]=\"id\"\n    [ngModel]=\"_value\"\n    (change)=\"handleModelChange($event, value)\"\n    [value]=\"value\"\n  />\n  <span class=\"devui-radio-material\">\n    <svg height=\"100%\" width=\"100%\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle class=\"devui-outer\" [class.disabled]=\"disabled\" cx=\"512\" cy=\"512\" r=\"486.5\" stroke-width=\"51\" />\n      <circle class=\"devui-inner\" [class.disabled]=\"disabled\" cx=\"512\" fill-rule=\"nonzero\" cy=\"512\" r=\"320\" />\n    </svg>\n  </span>\n  <span class=\"devui-radio-label\">\n    <ng-content></ng-content>\n  </span>\n</label>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}:host{padding-right:20px;display:block;line-height:18px}.devui-radio{font-size:12px;font-size:var(--devui-font-size, 12px);line-height:1.5;font-weight:400;cursor:pointer;color:#252b3a;color:var(--devui-text, #252b3a);margin:0 auto}.devui-radio.disabled{cursor:not-allowed}.devui-radio.disabled .devui-radio-label{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-radio svg .devui-outer{stroke:#d7d8da;stroke:var(--devui-line, #d7d8da);fill:transparent}.devui-radio svg .devui-outer.disabled{stroke:#dfe1e6;stroke:var(--devui-disabled-line, #dfe1e6);fill:#f5f5f5;fill:var(--devui-disabled-bg, #f5f5f5)}.devui-radio svg .devui-inner{fill:#5e7ce0;fill:var(--devui-brand, #5e7ce0)}.devui-radio:hover:not(.disabled) svg .devui-outer{stroke:#5e7ce0;stroke:var(--devui-form-control-line-active, #5e7ce0)}.devui-radio:hover:not(.disabled) .devui-radio-label{color:#7693f5;color:var(--devui-primary-hover, #7693f5)}.devui-radio:active:not(.disabled) svg .devui-outer,.devui-radio:focus:not(.disabled) svg .devui-outer{stroke:#5e7ce0;stroke:var(--devui-form-control-line-active, #5e7ce0)}.devui-radio.active svg .devui-outer{opacity:1;stroke:#5e7ce0;stroke:var(--devui-form-control-line-active, #5e7ce0);transition:stroke 50ms cubic-bezier(.5,.05,.5,.95);transition:stroke 50ms var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio.active svg .devui-outer.disabled{stroke:#beccfa;stroke:var(--devui-icon-fill-active-disabled, #beccfa);fill:transparent}.devui-radio.active svg .devui-inner{opacity:1;transform:scale(1);transition:transform .2s cubic-bezier(.5,.05,.5,.95),opacity .2s cubic-bezier(.5,.05,.5,.95);transition:transform var(--devui-animation-duration-base, .2s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95)),opacity var(--devui-animation-duration-base, .2s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio.active svg .devui-inner.disabled{fill:#beccfa;fill:var(--devui-icon-fill-active-disabled, #beccfa)}.devui-radio.active:not(.disabled):active .devui-radio-material svg .devui-outer,.devui-radio.active:not(.disabled):focus .devui-radio-material svg .devui-outer,.devui-radio.active:not(.disabled):hover .devui-radio-material svg .devui-outer{stroke:#344899;stroke:var(--devui-form-control-line-active-hover, #344899)}.devui-radio.active:not(.disabled):active .devui-radio-material svg .devui-inner,.devui-radio.active:not(.disabled):focus .devui-radio-material svg .devui-inner,.devui-radio.active:not(.disabled):hover .devui-radio-material svg .devui-inner{fill:#5e7ce0;fill:var(--devui-brand, #5e7ce0)}.devui-radio .devui-outer{opacity:1;transition:stroke 50ms cubic-bezier(.5,.05,.5,.95);transition:stroke 50ms var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio .devui-inner{opacity:0;transform:scale(0);transform-origin:50% 50%;transition:transform .2s cubic-bezier(.5,.05,.5,.95),opacity .2s cubic-bezier(.5,.05,.5,.95);transition:transform var(--devui-animation-duration-base, .2s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95)),opacity var(--devui-animation-duration-base, .2s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio .devui-radio-material{vertical-align:middle;position:relative;display:inline-block;overflow:hidden;height:16px;width:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transform:translateY(-1px)}.devui-radio .devui-radio-label{color:#252b3a;color:var(--devui-text, #252b3a);margin-left:8px;font-size:12px;font-size:var(--devui-font-size, 12px);transition:color .3s cubic-bezier(.5,.05,.5,.95);transition:color var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out, cubic-bezier(.5, .05, .5, .95))}.devui-radio .devui-radio-input{opacity:0;z-index:-1;width:0;height:0;display:none;overflow:hidden;pointer-events:none}\n"] }]
        }], ctorParameters: function () { return []; }, propDecorators: { name: [{
                type: Input
            }], disabled: [{
                type: Input
            }], value: [{
                type: Input
            }], beforeChange: [{
                type: Input
            }], onRadioChange: [{
                type: HostListener,
                args: ['click', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFkaW8uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vZGV2dWkvcmFkaW8vcmFkaW8uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZGV2dWkvcmFkaW8vcmFkaW8uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNuRixPQUFPLEVBQXdCLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7OztBQWdCekUsTUFBTSxPQUFPLGNBQWM7SUF1Q3pCO1FBa0JRLGFBQVEsR0FBRyxDQUFDLENBQU0sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDO1FBQzVCLGNBQVMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7SUFuQmhCLENBQUM7SUFsQ2hCLElBQ0ksSUFBSTtRQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRUQsSUFBSSxJQUFJLENBQUMsS0FBYTtRQUNwQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNyQixDQUFDO0lBRUQsSUFDSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJLFFBQVEsQ0FBQyxLQUFjO1FBQ3pCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxJQUNJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQztJQUNELElBQUksS0FBSyxDQUFDLEtBQVU7UUFDbEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxLQUFLLFlBQVksTUFBTSxFQUFFO1lBQzNCLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1NBQ2Q7YUFBTTtZQUNMLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssRUFBRSxDQUFDO1NBQ25DO0lBQ0gsQ0FBQztJQVdELGFBQWEsQ0FBQyxLQUFLO1FBQ2pCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDeEI7UUFFRCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDL0IsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDWCxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7YUFDeEI7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFLRCxRQUFRLEtBQUksQ0FBQztJQUViLG9CQUFvQixDQUFDLEVBQU87UUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFVBQVUsQ0FBQyxHQUFRO1FBQ2pCLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ3BCLENBQUM7SUFDRCxnQkFBZ0IsQ0FBQyxFQUFPO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFDRCxpQkFBaUIsQ0FBQyxFQUFPO1FBQ3ZCLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsS0FBSztRQUM3QixNQUFNLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVELFNBQVM7UUFDUCxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXpDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtZQUNyQixNQUFNLE1BQU0sR0FBUSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsRCxJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtnQkFDakMsSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFO29CQUNmLFlBQVksR0FBRyxNQUFNLENBQUM7aUJBQ3ZCO3FCQUFNLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBRTtvQkFDM0IsWUFBWSxHQUFJLE1BQThCLENBQUMsU0FBUyxFQUFFLENBQUM7aUJBQzVEO3FCQUFNO29CQUNMLFlBQVksR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUN4QzthQUNGO1NBQ0Y7UUFFRCxPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDOzsyR0FwR1UsY0FBYzsrRkFBZCxjQUFjLDJMQVRkO1FBQ1Q7WUFDRSxPQUFPLEVBQUUsaUJBQWlCO1lBQzFCLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsY0FBYyxDQUFDO1lBQzdDLEtBQUssRUFBRSxJQUFJO1NBQ1o7S0FDRiwwQkNkSCw2MUJBc0JBOzJGRExhLGNBQWM7a0JBYjFCLFNBQVM7K0JBQ0UsU0FBUyxhQUdSO3dCQUNUOzRCQUNFLE9BQU8sRUFBRSxpQkFBaUI7NEJBQzFCLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLGVBQWUsQ0FBQzs0QkFDN0MsS0FBSyxFQUFFLElBQUk7eUJBQ1o7cUJBQ0YsdUJBQ29CLEtBQUs7MEVBUXRCLElBQUk7c0JBRFAsS0FBSztnQkFVRixRQUFRO3NCQURYLEtBQUs7Z0JBVUYsS0FBSztzQkFEUixLQUFLO2dCQWFHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBU04sYUFBYTtzQkFEWixZQUFZO3VCQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgZm9yd2FyZFJlZiwgSG9zdExpc3RlbmVyLCBJbnB1dCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2QtcmFkaW8nLFxuICB0ZW1wbGF0ZVVybDogJy4vcmFkaW8uY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9yYWRpby5jb21wb25lbnQuc2NzcyddLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFJhZGlvQ29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlLFxuICAgIH0sXG4gIF0sXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxufSlcbmV4cG9ydCBjbGFzcyBSYWRpb0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQ29udHJvbFZhbHVlQWNjZXNzb3Ige1xuICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgX2Rpc2FibGVkOiBib29sZWFuO1xuICBwcml2YXRlIGlucHV0VmFsdWU6IHN0cmluZztcbiAgaWQ6IHN0cmluZztcbiAgQElucHV0KClcbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgfVxuXG4gIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9uYW1lID0gdmFsdWU7XG4gIH1cblxuICBASW5wdXQoKVxuICBnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkO1xuICB9XG5cbiAgc2V0IGRpc2FibGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fZGlzYWJsZWQgPSB2YWx1ZTtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGdldCB2YWx1ZSgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmlucHV0VmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLmlucHV0VmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgIHRoaXMuaWQgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pZCA9IGAke3RoaXMubmFtZX0tJHt2YWx1ZX1gO1xuICAgIH1cbiAgfVxuXG4gIEBJbnB1dCgpIGJlZm9yZUNoYW5nZTogKHZhbHVlKSA9PiBib29sZWFuIHwgUHJvbWlzZTxib29sZWFuPiB8IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgX3ZhbHVlOiBhbnk7XG4gIGhhbmRsZUNoYW5nZTogKGV2ZW50OiBhbnksIHZhbHVlOiBhbnkpID0+IHZvaWQ7XG5cbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snLCBbJyRldmVudCddKVxuICBvblJhZGlvQ2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5jYW5DaGFuZ2UoKS50aGVuKChjaGFuZ2UpID0+IHtcbiAgICAgIGlmICghY2hhbmdlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIG9uQ2hhbmdlID0gKF86IGFueSkgPT4gbnVsbDtcbiAgcHJpdmF0ZSBvblRvdWNoZWQgPSAoKSA9PiBudWxsO1xuXG4gIG5nT25Jbml0KCkge31cblxuICByZWdpc3RlckhhbmRsZUNoYW5nZShmbjogYW55KSB7XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSBmbjtcbiAgfVxuXG4gIHdyaXRlVmFsdWUob2JqOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLl92YWx1ZSA9IG9iajtcbiAgfVxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlID0gZm47XG4gIH1cbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IGFueSk6IHZvaWQge1xuICAgIHRoaXMub25Ub3VjaGVkID0gZm47XG4gIH1cblxuICBoYW5kbGVNb2RlbENoYW5nZSgkZXZlbnQsIHZhbHVlKSB7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5vblRvdWNoZWQoKTtcbiAgICB0aGlzLm9uQ2hhbmdlKHZhbHVlKTtcbiAgfVxuXG4gIGNhbkNoYW5nZSgpIHtcbiAgICBsZXQgY2hhbmdlUmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuXG4gICAgaWYgKHRoaXMuYmVmb3JlQ2hhbmdlKSB7XG4gICAgICBjb25zdCByZXN1bHQ6IGFueSA9IHRoaXMuYmVmb3JlQ2hhbmdlKHRoaXMudmFsdWUpO1xuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChyZXN1bHQudGhlbikge1xuICAgICAgICAgIGNoYW5nZVJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgY2hhbmdlUmVzdWx0ID0gKHJlc3VsdCBhcyBPYnNlcnZhYmxlPGJvb2xlYW4+KS50b1Byb21pc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VSZXN1bHQgPSBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjaGFuZ2VSZXN1bHQ7XG4gIH1cbn1cbiIsIjxsYWJlbCBjbGFzcz1cImRldnVpLXJhZGlvXCIgW2NsYXNzLmFjdGl2ZV09XCJyYWRpb0lucHV0LmNoZWNrZWRcIiBbY2xhc3MuZGlzYWJsZWRdPVwiZGlzYWJsZWRcIj5cbiAgPGlucHV0XG4gICAgI3JhZGlvSW5wdXRcbiAgICB0eXBlPVwicmFkaW9cIlxuICAgIGNsYXNzPVwiZGV2dWktcmFkaW8taW5wdXRcIlxuICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgW25hbWVdPVwibmFtZVwiXG4gICAgW2lkXT1cImlkXCJcbiAgICBbbmdNb2RlbF09XCJfdmFsdWVcIlxuICAgIChjaGFuZ2UpPVwiaGFuZGxlTW9kZWxDaGFuZ2UoJGV2ZW50LCB2YWx1ZSlcIlxuICAgIFt2YWx1ZV09XCJ2YWx1ZVwiXG4gIC8+XG4gIDxzcGFuIGNsYXNzPVwiZGV2dWktcmFkaW8tbWF0ZXJpYWxcIj5cbiAgICA8c3ZnIGhlaWdodD1cIjEwMCVcIiB3aWR0aD1cIjEwMCVcIiB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgIDxjaXJjbGUgY2xhc3M9XCJkZXZ1aS1vdXRlclwiIFtjbGFzcy5kaXNhYmxlZF09XCJkaXNhYmxlZFwiIGN4PVwiNTEyXCIgY3k9XCI1MTJcIiByPVwiNDg2LjVcIiBzdHJva2Utd2lkdGg9XCI1MVwiIC8+XG4gICAgICA8Y2lyY2xlIGNsYXNzPVwiZGV2dWktaW5uZXJcIiBbY2xhc3MuZGlzYWJsZWRdPVwiZGlzYWJsZWRcIiBjeD1cIjUxMlwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIiBjeT1cIjUxMlwiIHI9XCIzMjBcIiAvPlxuICAgIDwvc3ZnPlxuICA8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPVwiZGV2dWktcmFkaW8tbGFiZWxcIj5cbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gIDwvc3Bhbj5cbjwvbGFiZWw+XG4iXX0=