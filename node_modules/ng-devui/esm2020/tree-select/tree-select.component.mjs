import { __decorate, __metadata } from "tslib";
import { ChangeDetectorRef, Component, ContentChild, ElementRef, EventEmitter, forwardRef, Input, Output, Renderer2, TemplateRef, ViewChild } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { I18nService } from 'ng-devui/i18n';
import { SearchComponent } from 'ng-devui/search';
import { OperableTreeComponent } from 'ng-devui/tree';
import { addClassToOrigin, DevConfigService, removeClassFromOrigin, WithConfig } from 'ng-devui/utils';
import { Subject } from 'rxjs';
import { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';
import DefaultIcons from './tree-default-icons';
import * as i0 from "@angular/core";
import * as i1 from "ng-devui/i18n";
import * as i2 from "ng-devui/utils";
import * as i3 from "ng-devui/search";
import * as i4 from "ng-devui/tree";
import * as i5 from "@angular/common";
import * as i6 from "@angular/forms";
export class TreeSelectComponent {
    constructor(renderer, changeDetectorRef, i18n, devConfigService) {
        this.renderer = renderer;
        this.changeDetectorRef = changeDetectorRef;
        this.i18n = i18n;
        this.devConfigService = devConfigService;
        this.checkableRelation = 'both';
        this.showAnimation = true;
        this.placeholder = '';
        this.disabled = false;
        this.expandTree = false;
        this.multiple = false;
        this.treeNodeIdKey = 'id';
        this.treeNodeChildrenKey = 'children';
        this.treeNodeTitleKey = 'title';
        this.disabledKey = 'disabled';
        this.leafOnly = false;
        this.delimiter = ', '; // 废弃
        this.iconParentOpen = DefaultIcons.iconParentOpen;
        this.iconParentClose = DefaultIcons.iconParentClose;
        this.iconLeaf = DefaultIcons.iconLeaf;
        this.closeOnNodeSelected = true;
        this.width = null;
        this.searchable = false;
        this.appendTo = 'body';
        this.allowUnselect = true;
        this.enableLabelization = true;
        this.customViewDirection = 'bottom';
        // TODO: need to change to nodeToggledEvent
        this.nodeToggleEvent = new EventEmitter();
        this.valueChanged = new EventEmitter();
        this.virtualScroll = false;
        this.virtualScrollItemSize = 30;
        this.virtualScrollMinBufferPx = 300;
        this.virtualScrollMaxBufferPx = 600;
        this.virtualScrollHeightPx = 300;
        this._treeData = [];
        this.searchString = null;
        this.noRecord = false;
        this.destroy$ = new Subject();
        this._isOpen = false;
        this._sourceTree = [];
        this.readyEvent = (treeSelect) => { };
        this.onChange = (_) => null;
        this.onTouch = () => null;
    }
    set allowClear(allowClear) {
        // 废弃
        this._allowClear = allowClear;
    }
    get allowClear() {
        return !this.disabled && !this.multiple && !this.enableLabelization && this.allowUnselect && this._allowClear && !!this.selectedValue;
    }
    set treeData(treeData) {
        this._sourceTree = treeData;
        this.refreshTree(treeData);
    }
    get treeData() {
        return this._treeData;
    }
    get isOpen() {
        return this._isOpen;
    }
    set isOpen(value) {
        if (this._isOpen !== value) {
            this._isOpen = value;
            if (!value) {
                removeClassFromOrigin(this.selectHost);
                this.onTouch();
            }
            else {
                addClassToOrigin(this.selectHost);
            }
            this.changeDetectorRef.detectChanges();
        }
    }
    set value(val) {
        this._value = val;
        if (val && Array.isArray(val) && val.length) {
            this.valueType = 'array';
            this.valueLength = val.length;
        }
        else if (val && Object.keys(val).length) {
            this.valueType = 'object';
        }
        else {
            this.valueType = undefined;
        }
    }
    get value() {
        return this._value;
    }
    ngAfterViewInit() {
        this.changeDetectorRef.detectChanges();
        this.readyEvent(this);
        if (this.searchable) {
            this.registerSearchListener();
        }
    }
    ngOnChanges(changes) { }
    ngOnDestroy() {
        if (this.i18nSubscription) {
            this.i18nSubscription.unsubscribe();
        }
        this.isOpen = false; // 销毁Popper
        this.destroy$.next();
        this.destroy$.complete();
    }
    ngOnInit() {
        this.setI18nText();
        this.queryMedia();
    }
    afterTreeInit() {
        if (this.virtualScroll) {
            this.tree.treeFactory.flattenNodes.pipe(takeUntil(this.destroy$)).subscribe((data) => {
                const treeNodeOnDisplay = data.filter((node) => !(node.data.isHide || node.data.hideInVirtualScroll));
                this.validVirtualScrollHeight = Math.min(treeNodeOnDisplay.length * this.virtualScrollItemSize, this.virtualScrollHeightPx);
            });
        }
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouch = fn;
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    writeValue(value) {
        this.value = this.multiple ? Object.assign([], value) : value;
        this.refreshTree(this.treeData);
        // Trigger visualization after tree data is fulfilled.
        this.changeDetectorRef.detectChanges();
        this.visualizeSelectedItems();
    }
    toggle() {
        if (this.disabled) {
            return;
        }
        if (this.timer) {
            clearTimeout(this.timer);
        }
        const applyNow = !this.timer;
        this.timer = setTimeout(() => {
            this.timer = null;
        }, 200);
        if (applyNow) {
            this.isOpen = !this.isOpen;
        }
    }
    setI18nText() {
        this.i18nCommonText = this.i18n.getI18nText().common;
        this.i18nSubscription = this.i18n.langChange().subscribe((data) => {
            this.i18nCommonText = data.common;
        });
    }
    queryMedia() {
        if (typeof window === 'undefined') {
            return;
        }
        const userAgent = window.navigator.userAgent;
        if (userAgent.indexOf('Edge') > -1) {
            this.userAgent = 'edge';
        }
        else if (userAgent.indexOf('MSIE') > -1 || userAgent.indexOf('Trident/') > -1) {
            this.userAgent = 'ie';
        }
        else if (userAgent.indexOf('Firefox') > -1) {
            this.userAgent = 'firefox';
        }
        else {
            this.userAgent = 'chrome';
        }
    }
    prepareTree(treeNode, expandTree = false) {
        if (Array.isArray(treeNode)) {
            return treeNode.map((node) => this.prepareTree(node, expandTree));
        }
        else if (treeNode) {
            let parentCheckedByChildren = false;
            if (Object.prototype.hasOwnProperty.call(treeNode, this.treeNodeChildrenKey)) {
                treeNode.open = expandTree ? true : treeNode.open;
                treeNode[this.treeNodeChildrenKey] = this.prepareTree(treeNode[this.treeNodeChildrenKey], expandTree);
                if (this.multiple) {
                    [parentCheckedByChildren, treeNode.halfChecked] = this.resolveParentNode(treeNode[this.treeNodeChildrenKey]);
                }
            }
            if (Object.prototype.hasOwnProperty.call(treeNode, this.treeNodeIdKey)) {
                const nodeId = treeNode[this.treeNodeIdKey];
                if (this.multiple) {
                    const selectedByValue = this.nodeSelected(nodeId);
                    treeNode.isActive = false;
                    treeNode.isChecked = selectedByValue || parentCheckedByChildren;
                    if (!this.leafOnly && !selectedByValue && parentCheckedByChildren) {
                        const insertObject = {};
                        insertObject[this.treeNodeIdKey] = treeNode[this.treeNodeIdKey];
                        insertObject[this.treeNodeTitleKey] = treeNode[this.treeNodeTitleKey];
                        this.value.push(insertObject);
                        // 赋值触发setValue设置valueType和valueLength
                        /* eslint-disable-next-line no-self-assign*/
                        this.value = this.value;
                    }
                }
                else {
                    treeNode.isChecked = false;
                    treeNode.isActive = this.nodeSelected(nodeId);
                    if (treeNode.isActive) {
                        this.currentActiveNode = treeNode;
                    }
                }
            }
            return treeNode;
        }
    }
    nodeSelected(treeNodeId) {
        if (!this.value) {
            return false;
        }
        if (this.multiple && Array.isArray(this.value)) {
            // polyfill Array.prototype.includes()
            return this.value.map((_) => _[this.treeNodeIdKey]).indexOf(treeNodeId) > -1;
        }
        else {
            return this.value[this.treeNodeIdKey] && treeNodeId === this.value[this.treeNodeIdKey];
        }
    }
    resolveParentNode(treeNodes) {
        const enableParentNodeCheckByChild = this.checkableRelation === 'both' || this.checkableRelation === 'upward';
        const childrenFullCheckedCount = enableParentNodeCheckByChild && treeNodes.filter((_) => _.isChecked).length;
        const childrenCheckedCount = enableParentNodeCheckByChild && treeNodes.filter((_) => _.isChecked || _.halfChecked).length;
        return [
            childrenFullCheckedCount > 0 && treeNodes.length === childrenFullCheckedCount,
            childrenCheckedCount > 0 && treeNodes.length > childrenFullCheckedCount,
        ];
    }
    refreshTree(treeData) {
        this._treeData = Object.assign([], this.prepareTree(treeData, this.expandTree));
    }
    onOperableNodeChecked(selectedNodes) {
        const selectedValueExtractor = (_selectedNodes) => {
            return this.leafOnly
                ? _selectedNodes.filter((_) => !_.data.isParent).map((_) => _.data.originItem)
                : _selectedNodes.map((_) => _.data.originItem);
        };
        if (this.multiple) {
            this.value = selectedValueExtractor(selectedNodes);
            this.emitEvents();
        }
    }
    onOperableNodeSelected(selectedNode) {
        const node = selectedNode;
        if (!this.multiple) {
            if (this.leafOnly && node.data.isParent) {
                return;
            }
            if (node.data.isActive) {
                this.currentActiveNode = node.data.originItem;
                this.value = node.data.originItem;
                // Configurable close on node selected
                if (this.closeOnNodeSelected) {
                    this.isOpen = false;
                }
            }
            else {
                if (this.allowUnselect) {
                    this.currentActiveNode = null;
                    this.value = null;
                }
                else {
                    node.data.isActive = true;
                    if (this.closeOnNodeSelected) {
                        this.isOpen = false;
                    }
                }
            }
            this.emitEvents();
        }
    }
    emitEvents() {
        this.visualizeSelectedItems();
        this.onChange(this.value);
        this.valueChanged.emit(this.selectedValue());
    }
    visualizeSelectedItems() {
        if (this.multiple) {
            this.visualizeMultipleValue();
        }
        else {
            this.visualizeSingleValue();
        }
    }
    visualizeMultipleValue() {
        if (this.tree && this.tree.treeFactory) {
            const selectedNodes = this.selectedValue();
            const valueText = selectedNodes.map((_) => _[this.treeNodeTitleKey]);
            this.displayValue = valueText;
        }
        else {
            this.emptyInput();
        }
    }
    visualizeSingleValue() {
        if (this.value && this.value[this.treeNodeTitleKey]) {
            const valueText = this.value[this.treeNodeTitleKey];
            this.displayValue = valueText;
        }
        else {
            this.emptyInput();
        }
    }
    emptyInput() {
        this.displayValue = '';
    }
    selectedValue() {
        return this.value;
    }
    responsePopperChange(popperState) {
        if (popperState && this.searchable) {
            this.focusSearchInput();
        }
        if (popperState && this.virtualScroll && this.tree) {
            this.tree.operableTree.viewPort.checkViewportSize();
        }
    }
    focusSearchInput() {
        if (this.searchInput.filterInputElement.nativeElement) {
            this.searchInput.filterInputElement.nativeElement.focus();
        }
    }
    search(searchString) {
        const searchRes = this.tree.treeFactory.searchTree(searchString, true);
        if (typeof searchRes === 'boolean') {
            this.noRecord = searchRes;
        }
        else if (Array.isArray(searchRes)) {
            this.noRecord = searchRes.every((res) => !res);
        }
        this.tree.treeFactory.getFlattenNodes();
        this.popper.update();
    }
    registerSearchListener() {
        this.searchInputModel.valueChanges.pipe(debounceTime(500), distinctUntilChanged()).subscribe((searchString) => {
            this.search(searchString);
        });
    }
    clearValue(event, item, index) {
        event.preventDefault();
        event.stopPropagation();
        if (this.multiple) {
            this.tree.treeFactory.checkNodesById(item[this.treeNodeIdKey], false);
            const curValue = this.tree.treeFactory.getCheckedNodes();
            this.value = this.leafOnly
                ? curValue.filter((node) => !node.data.isParent).map((node) => node.data.originItem)
                : curValue.map((node) => node.data.originItem);
        }
        else {
            this.clearAll();
        }
        this.emitEvents();
    }
    clearAll() {
        this.tree.treeFactory.deactivateAllNodes();
        this.currentActiveNode = null;
        this.value = null;
    }
    onNodeToggled($event) {
        if (this.popper) {
            this.popper.update();
        }
        this.nodeToggleEvent.emit($event);
    }
}
TreeSelectComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: TreeSelectComponent, deps: [{ token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1.I18nService }, { token: i2.DevConfigService }], target: i0.ɵɵFactoryTarget.Component });
TreeSelectComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: TreeSelectComponent, selector: "d-tree-select", inputs: { checkableRelation: "checkableRelation", allowClear: "allowClear", treeData: "treeData", showAnimation: "showAnimation", placeholder: "placeholder", disabled: "disabled", expandTree: "expandTree", multiple: "multiple", treeNodeIdKey: "treeNodeIdKey", treeNodeChildrenKey: "treeNodeChildrenKey", treeNodeTitleKey: "treeNodeTitleKey", disabledKey: "disabledKey", leafOnly: "leafOnly", delimiter: "delimiter", iconParentOpen: "iconParentOpen", iconParentClose: "iconParentClose", iconLeaf: "iconLeaf", closeOnNodeSelected: "closeOnNodeSelected", width: "width", searchable: "searchable", appendTo: "appendTo", allowUnselect: "allowUnselect", iconTemplatePosition: "iconTemplatePosition", iconTemplateInput: "iconTemplateInput", enableLabelization: "enableLabelization", customItemTemplate: "customItemTemplate", customViewTemplate: "customViewTemplate", customViewDirection: "customViewDirection", virtualScroll: "virtualScroll", virtualScrollItemSize: "virtualScrollItemSize", virtualScrollMinBufferPx: "virtualScrollMinBufferPx", virtualScrollMaxBufferPx: "virtualScrollMaxBufferPx", virtualScrollHeightPx: "virtualScrollHeightPx", readyEvent: "readyEvent" }, outputs: { nodeToggleEvent: "nodeToggleEvent", valueChanged: "valueChanged" }, providers: [
        {
            provide: NG_VALUE_ACCESSOR,
            useExisting: forwardRef(() => TreeSelectComponent),
            multi: true,
        },
    ], queries: [{ propertyName: "iconTemplatePassThrough", first: true, predicate: ["iconTemplate"], descendants: true }], viewQueries: [{ propertyName: "selectHost", first: true, predicate: ["selectHost"], descendants: true, static: true }, { propertyName: "optionsContainer", first: true, predicate: ["optionsContainer"], descendants: true, static: true }, { propertyName: "tree", first: true, predicate: ["tree"], descendants: true, static: true }, { propertyName: "searchInput", first: true, predicate: ["searchInput"], descendants: true }, { propertyName: "searchInputModel", first: true, predicate: ["searchInputModel"], descendants: true }, { propertyName: "popper", first: true, predicate: ["popper"], descendants: true, static: true }], exportAs: ["select"], usesOnChanges: true, ngImport: i0, template: "<div class=\"devui-tree-select {{ userAgent }}\">\n  <d-popper-component\n    [poppoverAppendDirection]=\"customViewDirection\"\n    [(open)]=\"isOpen\"\n    [fluidPopper]=\"!width\"\n    (openChange)=\"responsePopperChange($event)\"\n    [appendTo]=\"appendTo\"\n    [showAnimation]=\"showAnimation\"\n    #popper\n  >\n    <div\n      #selectHost\n      class=\"devui-select-input devui-form-control devui-tree-select-input devui-dropdown-origin\"\n      (click)=\"toggle()\"\n      autocomplete=\"off\"\n      [ngClass]=\"{ disabled: disabled, 'devui-select-no-label': !enableLabelization }\"\n      readonly\n      popper-activator\n    >\n      {{ !valueType ? placeholder : '' }}\n      <div class=\"devui-select-item\" *ngIf=\"valueType === 'object' && enableLabelization && !customItemTemplate\">\n        <span class=\"devui-select-item-content\">{{ value[treeNodeTitleKey] }}</span>\n        <span *ngIf=\"!disabled\" class=\"devui-select-item-clear-icon\" (click)=\"clearValue($event, value)\">\n          <svg\n            width=\"6px\"\n            height=\"6px\"\n            viewBox=\"0 0 10 10\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <g transform=\"translate(-3.000000, -3.000000)\" fill-rule=\"nonzero\">\n                <path\n                  d=\"M11.6426,3.19816936 C11.9239974,2.91574512 12.4131626,2.93784891 12.7352108,3.24751057 C13.0571998,3.5572302 13.0901298,4.03723416 12.8087324,4.31965839 L9.14064666,7.99900183 L12.8087324,11.6803416 C13.0645482,11.9370909 13.0605893,12.3571292 12.8158402,12.6640749 L12.7352108,12.7524894 C12.4131626,13.0621511 11.9239974,13.0842548 11.6426,12.8018306 L8,9.14489021 L4.35740003,12.8018306 C4.10158422,13.05858 3.6740594,13.0636532 3.35648225,12.8298003 L3.26478919,12.7524894 C2.94280021,12.4427698 2.90987023,11.9627658 3.19126762,11.6803416 L6.8583349,7.99900183 L3.19126762,4.31965839 C2.93545181,4.06290908 2.93941068,3.64287076 3.18415975,3.3359251 L3.26478919,3.24751057 C3.58683735,2.93784891 4.07600264,2.91574512 4.35740003,3.19816936 L8,6.85411161 L11.6426,3.19816936 Z\"\n                ></path>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </div>\n      <div class=\"devui-select-item devui-no-label-item\" *ngIf=\"valueType === 'object' && !enableLabelization && !customItemTemplate\">\n        {{ value[treeNodeTitleKey] }}\n      </div>\n      <div class=\"devui-select-item devui-no-label-item\" *ngIf=\"valueType === 'object' && customItemTemplate\">\n        <ng-template [ngTemplateOutlet]=\"customItemTemplate\" [ngTemplateOutletContext]=\"{ item: value }\"></ng-template>\n      </div>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && enableLabelization && !customItemTemplate\">\n        <li class=\"devui-select-item\" *ngFor=\"let item of value; let i = index\">\n          <span class=\"devui-select-item-content\">{{ item[treeNodeTitleKey] }}</span>\n          <span *ngIf=\"!disabled\" class=\"devui-select-item-clear-icon\" (click)=\"clearValue($event, item, i)\">\n            <svg\n              width=\"6px\"\n              height=\"6px\"\n              viewBox=\"0 0 10 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -3.000000)\" fill-rule=\"nonzero\">\n                  <path\n                    d=\"M11.6426,3.19816936 C11.9239974,2.91574512 12.4131626,2.93784891 12.7352108,3.24751057 C13.0571998,3.5572302 13.0901298,4.03723416 12.8087324,4.31965839 L9.14064666,7.99900183 L12.8087324,11.6803416 C13.0645482,11.9370909 13.0605893,12.3571292 12.8158402,12.6640749 L12.7352108,12.7524894 C12.4131626,13.0621511 11.9239974,13.0842548 11.6426,12.8018306 L8,9.14489021 L4.35740003,12.8018306 C4.10158422,13.05858 3.6740594,13.0636532 3.35648225,12.8298003 L3.26478919,12.7524894 C2.94280021,12.4427698 2.90987023,11.9627658 3.19126762,11.6803416 L6.8583349,7.99900183 L3.19126762,4.31965839 C2.93545181,4.06290908 2.93941068,3.64287076 3.18415975,3.3359251 L3.26478919,3.24751057 C3.58683735,2.93784891 4.07600264,2.91574512 4.35740003,3.19816936 L8,6.85411161 L11.6426,3.19816936 Z\"\n                  ></path>\n                </g>\n              </g>\n            </svg>\n          </span>\n        </li>\n      </ul>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && !enableLabelization && !customItemTemplate\">\n        <li class=\"devui-select-item devui-no-label-item\" *ngFor=\"let item of value; let i = index\">\n          {{ item[treeNodeTitleKey] }}\n          <span *ngIf=\"valueLength && i < valueLength - 1\">, </span>\n        </li>\n      </ul>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && customItemTemplate\">\n        <li class=\"devui-select-item devui-no-label-item\" *ngFor=\"let item of value\">\n          <ng-template [ngTemplateOutlet]=\"customItemTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n        </li>\n      </ul>\n    </div>\n    <div popper-prepend class=\"devui-tree-select devui-search-container devui-form-group devui-has-feedback\" *ngIf=\"searchable\">\n      <d-search #searchInputModel=\"ngModel\" #searchInput [(ngModel)]=\"searchString\" [placeholder]=\"''\"></d-search>\n    </div>\n    <div\n      class=\"devui-tree-select devui-options-container\"\n      #optionsContainer\n      popper-container\n      [ngStyle]=\"{ width: width, maxHeight: validVirtualScrollHeight === undefined ? '300px' : validVirtualScrollHeight + 'px' }\"\n    >\n      <d-operable-tree\n        #tree\n        [style.display]=\"treeData && treeData.length > 0 && !noRecord ? 'block' : 'none'\"\n        [tree]=\"treeData\"\n        [treeNodeIdKey]=\"treeNodeIdKey\"\n        [treeNodeChildrenKey]=\"treeNodeChildrenKey\"\n        [checkboxDisabledKey]=\"disabledKey\"\n        [checkboxInput]=\"checkboxInput\"\n        [checkable]=\"multiple\"\n        [checkableRelation]=\"checkableRelation\"\n        [canActivateNode]=\"!multiple\"\n        [canActivateParentNode]=\"!leafOnly\"\n        (nodeChecked)=\"onOperableNodeChecked($event)\"\n        (nodeSelected)=\"onOperableNodeSelected($event)\"\n        (nodeToggled)=\"onNodeToggled($event)\"\n        [iconParentOpen]=\"iconParentOpen\"\n        [iconParentClose]=\"iconParentClose\"\n        [iconLeaf]=\"iconLeaf\"\n        [treeNodeTitleKey]=\"treeNodeTitleKey\"\n        [iconTemplatePosition]=\"iconTemplatePosition\"\n        [virtualScroll]=\"virtualScroll\"\n        [itemSize]=\"virtualScrollItemSize\"\n        [minBufferPx]=\"virtualScrollMinBufferPx\"\n        [maxBufferPx]=\"virtualScrollMaxBufferPx\"\n        [virtualScrollHeight]=\"validVirtualScrollHeight + 'px'\"\n        (afterTreeInit)=\"afterTreeInit()\"\n        class=\"devui-tree\"\n      >\n        <ng-template *ngIf=\"iconTemplateInput || iconTemplatePassThrough\" #iconTemplate let-node=\"node\">\n          <ng-template [ngTemplateOutlet]=\"iconTemplateInput || iconTemplatePassThrough\" [ngTemplateOutletContext]=\"{ node: node }\">\n          </ng-template>\n        </ng-template>\n      </d-operable-tree>\n      <div *ngIf=\"!treeData || treeData.length <= 0\" class=\"devui-no-data-tip\">\n        {{ i18nCommonText?.noData }}\n      </div>\n      <div *ngIf=\"noRecord\" class=\"devui-no-data-tip\">\n        {{ i18nCommonText?.noRecordsFound }}\n      </div>\n    </div>\n\n    <!-- \u81EA\u5B9A\u4E49\u533A\u57DF -->\n    <div popper-append *ngIf=\"customViewTemplate\">\n      <ng-template [ngTemplateOutlet]=\"customViewTemplate\" [ngTemplateOutletContext]=\"{ $implicit: this }\"></ng-template>\n    </div>\n  </d-popper-component>\n  <div\n    [ngClass]=\"{ disabled: disabled, clear: allowClear }\"\n    (click)=\"$event.stopPropagation(); $event.preventDefault(); clearAll(); emitEvents()\"\n  ></div>\n  <span\n    class=\"devui-select-chevron-icon\"\n    [class.open]=\"isOpen\"\n    [ngClass]=\"{ disabled: disabled, 'allow-clear': allowClear, 'devui-select-chevron-icon-animation': showAnimation }\"\n  >\n    <svg\n      width=\"14px\"\n      height=\"14px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 Z\"\n          fill-rule=\"nonzero\"\n        ></path>\n      </g>\n    </svg>\n  </span>\n</div>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.edge.devui-tree-select:hover .clear,.ie.devui-tree-select:hover .clear,.firefox.devui-tree-select:hover .clear,.edge.devui-tree-select .devui-select-chevron-icon,.ie.devui-tree-select .devui-select-chevron-icon,.firefox.devui-tree-select .devui-select-chevron-icon{right:20px}.devui-tree-select{position:relative;width:100%}.devui-tree-select .devui-select-input:not([disabled]){color:#252b3a;color:var(--devui-text, #252b3a)}.devui-tree-select .devui-select-input.devui-tree-select-input{font-size:12px;font-size:var(--devui-font-size, 12px);padding:2px 32px 2px 2px;height:unset;min-height:28px;max-height:52px;overflow-y:scroll;line-height:22px;display:flex;text-indent:8px}.devui-tree-select .devui-select-input.devui-tree-select-input.devui-select-no-label{padding-left:10px}.devui-tree-select:hover .clear{position:absolute;height:14px;width:14px;right:12px;top:calc((100% - 14px)/2);cursor:pointer;z-index:1}.devui-tree-select:hover .clear:after,.devui-tree-select:hover .clear:before{position:absolute;content:\"\";height:14px;width:2px;background-color:#71757f;background-color:var(--devui-icon-text, #71757f);left:50%}.devui-tree-select:hover .clear:before{transform:rotate(45deg)}.devui-tree-select:hover .clear:after{transform:rotate(-45deg)}.devui-tree-select:hover .clear:hover:after,.devui-tree-select:hover .clear:hover:before{background-color:#252b3a;background-color:var(--devui-icon-fill-active, #252b3a)}.devui-tree-select:hover .allow-clear{opacity:0}.devui-tree-select .devui-select-chevron-icon{right:12px;top:calc((100% - 14px)/2);position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;height:14px;line-height:14px;z-index:1}.devui-tree-select .devui-select-chevron-icon svg path{fill:#575d6c;fill:var(--devui-text-weak, #575d6c)}.devui-tree-select .devui-select-chevron-icon-animation svg{transition:transform .3s cubic-bezier(.645,.045,.355,1);transition:transform var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}.devui-tree-select .devui-select-chevron-icon.open{z-index:1052;z-index:var(--devui-z-index-dropdown, 1052)}.devui-tree-select .devui-select-chevron-icon.open svg{transform:rotate(180deg)}.devui-tree-select .devui-select-chevron-icon.clear{opacity:0}.devui-tree-select .devui-select-chevron-icon.disabled svg path{fill:#cfd0d3;fill:var(--devui-disabled-text, #cfd0d3)}.devui-tree-select:not(:hover) .devui-select-chevron-icon:not(.disabled){opacity:1;transition:opacity .1s cubic-bezier(0,0,1,1);transition:opacity var(--devui-animation-duration-fast, .1s) var(--devui-animation-linear, cubic-bezier(0, 0, 1, 1))}.devui-tree-select.devui-options-container{width:100%;color:#252b3a;color:var(--devui-text, #252b3a);padding-left:8px}.devui-select-item{color:#252b3a;color:var(--devui-text, #252b3a);line-height:16px;background-color:#e9edfa;background-color:var(--devui-label-bg, #e9edfa);border-radius:2px;border-radius:var(--devui-border-radius, 2px);border:1px solid #e9edfa;border:1px solid var(--devui-label-bg, #e9edfa);display:inline-block;max-width:100%;min-height:20px;height:20px;max-height:20px;margin:1px;padding:0 5px;position:relative;text-indent:0}.devui-select-item.devui-no-label-item{padding:1px 0;background:transparent;border-color:transparent;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.devui-select-item .devui-select-item-content{display:inline-block;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:baseline;height:18px;line-height:18px;max-width:100%;padding-right:30px;position:relative}.devui-select-item .devui-select-item-content:hover{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a)}.devui-select-item>.devui-select-item-clear-icon{width:12px;height:12px;line-height:12px;text-align:center;margin-left:12px;border-radius:50%;background-color:#d7d8da;background-color:var(--devui-line, #d7d8da);display:inline-flex;justify-content:center;align-items:center;cursor:pointer;position:absolute;right:10px;top:50%;transform:translateY(-50%);transition:transform .2s ease;transition:transform var(--devui-animation-duration-base, .2s) ease}.devui-select-item>.devui-select-item-clear-icon svg path{fill:#fff;fill:var(--devui-light-text, #ffffff)}.devui-select-item>.devui-select-item-clear-icon:hover{background-color:#252b3a;background-color:var(--devui-icon-fill-active-hover, #252b3a)}.devui-select-list{display:flex;flex-wrap:wrap}svg.svg-icon-search path{fill:#575d6c;fill:var(--devui-text-weak, #575d6c)}:host{display:inline-block;width:100%}.devui-select-input.devui-tree-select-input.disabled{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-select-input.devui-tree-select-input.disabled .devui-select-item{background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5);border-color:#dfe1e6;border-color:var(--devui-disabled-line, #dfe1e6)}.devui-select-input.devui-tree-select-input.disabled .devui-select-item.devui-no-label-item{background-color:transparent;border-color:transparent;color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-content,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-content:hover,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-content:focus{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);cursor:not-allowed;padding-right:0}.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon:hover,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon:focus{background-color:#dfe1e6;background-color:var(--devui-disabled-line, #dfe1e6);cursor:not-allowed}.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon svg path,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon:hover svg path,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon:focus svg path{fill:#f5f5f5;fill:var(--devui-disabled-bg, #f5f5f5)}.devui-tree-select .devui-select-input.devui-tree-select-input:not(.icon):not([class^=icon-]):not([disabled]):not(.disabled):not(.devui-disabled){color:#babbc0;color:var(--devui-placeholder, #babbc0)}::ng-deep .devui-tree-select.devui-search-container d-search{width:100%}\n"], components: [{ type: i2.PopperComponent, selector: "d-popper-component", inputs: ["open", "fluidPopper", "poppoverAppendDirection", "appendTo", "extraConfig", "showAnimation"], outputs: ["openChange"] }, { type: i3.SearchComponent, selector: "d-search", inputs: ["size", "placeholder", "maxLength", "isKeyupSearch", "delay", "disabled", "cssClass", "iconPosition", "noBorder", "autoFocus"], outputs: ["searchFn"], exportAs: ["search"] }, { type: i4.OperableTreeComponent, selector: "d-operable-tree", inputs: ["tree", "treeNodeIdKey", "treeNodeChildrenKey", "checkboxDisabledKey", "selectDisabledKey", "toggleDisabledKey", "iconParentOpen", "iconParentClose", "iconLeaf", "showLoading", "loadingTemplateRef", "treeNodesRef", "checkable", "deletable", "addable", "editable", "draggable", "checkboxInput", "beforeAddNode", "disableMouseEvent", "beforeDeleteNode", "beforeNodeDrop", "beforeEditNode", "canActivateNode", "canActivateParentNode", "canActivateMultipleNode", "treeNodeTitleKey", "postAddNode", "iconTemplatePosition", "virtualScroll", "virtualScrollHeight", "showAnimation", "itemSize", "minBufferPx", "maxBufferPx", "checkableRelation", "dropType"], outputs: ["nodeSelected", "nodeDblClicked", "nodeRightClicked", "nodeToggled", "afterTreeInit", "nodeDeleted", "nodeChecked", "currentNodeChecked", "nodeEdited", "editValueChange", "nodeDragStart", "nodeOnDrop"], exportAs: ["dOperableTreeComponent"] }], directives: [{ type: i5.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i5.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i5.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i6.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i6.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i5.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }] });
__decorate([
    WithConfig(),
    __metadata("design:type", Object)
], TreeSelectComponent.prototype, "showAnimation", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: TreeSelectComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-tree-select', exportAs: 'select', providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => TreeSelectComponent),
                            multi: true,
                        },
                    ], preserveWhitespaces: false, template: "<div class=\"devui-tree-select {{ userAgent }}\">\n  <d-popper-component\n    [poppoverAppendDirection]=\"customViewDirection\"\n    [(open)]=\"isOpen\"\n    [fluidPopper]=\"!width\"\n    (openChange)=\"responsePopperChange($event)\"\n    [appendTo]=\"appendTo\"\n    [showAnimation]=\"showAnimation\"\n    #popper\n  >\n    <div\n      #selectHost\n      class=\"devui-select-input devui-form-control devui-tree-select-input devui-dropdown-origin\"\n      (click)=\"toggle()\"\n      autocomplete=\"off\"\n      [ngClass]=\"{ disabled: disabled, 'devui-select-no-label': !enableLabelization }\"\n      readonly\n      popper-activator\n    >\n      {{ !valueType ? placeholder : '' }}\n      <div class=\"devui-select-item\" *ngIf=\"valueType === 'object' && enableLabelization && !customItemTemplate\">\n        <span class=\"devui-select-item-content\">{{ value[treeNodeTitleKey] }}</span>\n        <span *ngIf=\"!disabled\" class=\"devui-select-item-clear-icon\" (click)=\"clearValue($event, value)\">\n          <svg\n            width=\"6px\"\n            height=\"6px\"\n            viewBox=\"0 0 10 10\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <g transform=\"translate(-3.000000, -3.000000)\" fill-rule=\"nonzero\">\n                <path\n                  d=\"M11.6426,3.19816936 C11.9239974,2.91574512 12.4131626,2.93784891 12.7352108,3.24751057 C13.0571998,3.5572302 13.0901298,4.03723416 12.8087324,4.31965839 L9.14064666,7.99900183 L12.8087324,11.6803416 C13.0645482,11.9370909 13.0605893,12.3571292 12.8158402,12.6640749 L12.7352108,12.7524894 C12.4131626,13.0621511 11.9239974,13.0842548 11.6426,12.8018306 L8,9.14489021 L4.35740003,12.8018306 C4.10158422,13.05858 3.6740594,13.0636532 3.35648225,12.8298003 L3.26478919,12.7524894 C2.94280021,12.4427698 2.90987023,11.9627658 3.19126762,11.6803416 L6.8583349,7.99900183 L3.19126762,4.31965839 C2.93545181,4.06290908 2.93941068,3.64287076 3.18415975,3.3359251 L3.26478919,3.24751057 C3.58683735,2.93784891 4.07600264,2.91574512 4.35740003,3.19816936 L8,6.85411161 L11.6426,3.19816936 Z\"\n                ></path>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </div>\n      <div class=\"devui-select-item devui-no-label-item\" *ngIf=\"valueType === 'object' && !enableLabelization && !customItemTemplate\">\n        {{ value[treeNodeTitleKey] }}\n      </div>\n      <div class=\"devui-select-item devui-no-label-item\" *ngIf=\"valueType === 'object' && customItemTemplate\">\n        <ng-template [ngTemplateOutlet]=\"customItemTemplate\" [ngTemplateOutletContext]=\"{ item: value }\"></ng-template>\n      </div>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && enableLabelization && !customItemTemplate\">\n        <li class=\"devui-select-item\" *ngFor=\"let item of value; let i = index\">\n          <span class=\"devui-select-item-content\">{{ item[treeNodeTitleKey] }}</span>\n          <span *ngIf=\"!disabled\" class=\"devui-select-item-clear-icon\" (click)=\"clearValue($event, item, i)\">\n            <svg\n              width=\"6px\"\n              height=\"6px\"\n              viewBox=\"0 0 10 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -3.000000)\" fill-rule=\"nonzero\">\n                  <path\n                    d=\"M11.6426,3.19816936 C11.9239974,2.91574512 12.4131626,2.93784891 12.7352108,3.24751057 C13.0571998,3.5572302 13.0901298,4.03723416 12.8087324,4.31965839 L9.14064666,7.99900183 L12.8087324,11.6803416 C13.0645482,11.9370909 13.0605893,12.3571292 12.8158402,12.6640749 L12.7352108,12.7524894 C12.4131626,13.0621511 11.9239974,13.0842548 11.6426,12.8018306 L8,9.14489021 L4.35740003,12.8018306 C4.10158422,13.05858 3.6740594,13.0636532 3.35648225,12.8298003 L3.26478919,12.7524894 C2.94280021,12.4427698 2.90987023,11.9627658 3.19126762,11.6803416 L6.8583349,7.99900183 L3.19126762,4.31965839 C2.93545181,4.06290908 2.93941068,3.64287076 3.18415975,3.3359251 L3.26478919,3.24751057 C3.58683735,2.93784891 4.07600264,2.91574512 4.35740003,3.19816936 L8,6.85411161 L11.6426,3.19816936 Z\"\n                  ></path>\n                </g>\n              </g>\n            </svg>\n          </span>\n        </li>\n      </ul>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && !enableLabelization && !customItemTemplate\">\n        <li class=\"devui-select-item devui-no-label-item\" *ngFor=\"let item of value; let i = index\">\n          {{ item[treeNodeTitleKey] }}\n          <span *ngIf=\"valueLength && i < valueLength - 1\">, </span>\n        </li>\n      </ul>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && customItemTemplate\">\n        <li class=\"devui-select-item devui-no-label-item\" *ngFor=\"let item of value\">\n          <ng-template [ngTemplateOutlet]=\"customItemTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n        </li>\n      </ul>\n    </div>\n    <div popper-prepend class=\"devui-tree-select devui-search-container devui-form-group devui-has-feedback\" *ngIf=\"searchable\">\n      <d-search #searchInputModel=\"ngModel\" #searchInput [(ngModel)]=\"searchString\" [placeholder]=\"''\"></d-search>\n    </div>\n    <div\n      class=\"devui-tree-select devui-options-container\"\n      #optionsContainer\n      popper-container\n      [ngStyle]=\"{ width: width, maxHeight: validVirtualScrollHeight === undefined ? '300px' : validVirtualScrollHeight + 'px' }\"\n    >\n      <d-operable-tree\n        #tree\n        [style.display]=\"treeData && treeData.length > 0 && !noRecord ? 'block' : 'none'\"\n        [tree]=\"treeData\"\n        [treeNodeIdKey]=\"treeNodeIdKey\"\n        [treeNodeChildrenKey]=\"treeNodeChildrenKey\"\n        [checkboxDisabledKey]=\"disabledKey\"\n        [checkboxInput]=\"checkboxInput\"\n        [checkable]=\"multiple\"\n        [checkableRelation]=\"checkableRelation\"\n        [canActivateNode]=\"!multiple\"\n        [canActivateParentNode]=\"!leafOnly\"\n        (nodeChecked)=\"onOperableNodeChecked($event)\"\n        (nodeSelected)=\"onOperableNodeSelected($event)\"\n        (nodeToggled)=\"onNodeToggled($event)\"\n        [iconParentOpen]=\"iconParentOpen\"\n        [iconParentClose]=\"iconParentClose\"\n        [iconLeaf]=\"iconLeaf\"\n        [treeNodeTitleKey]=\"treeNodeTitleKey\"\n        [iconTemplatePosition]=\"iconTemplatePosition\"\n        [virtualScroll]=\"virtualScroll\"\n        [itemSize]=\"virtualScrollItemSize\"\n        [minBufferPx]=\"virtualScrollMinBufferPx\"\n        [maxBufferPx]=\"virtualScrollMaxBufferPx\"\n        [virtualScrollHeight]=\"validVirtualScrollHeight + 'px'\"\n        (afterTreeInit)=\"afterTreeInit()\"\n        class=\"devui-tree\"\n      >\n        <ng-template *ngIf=\"iconTemplateInput || iconTemplatePassThrough\" #iconTemplate let-node=\"node\">\n          <ng-template [ngTemplateOutlet]=\"iconTemplateInput || iconTemplatePassThrough\" [ngTemplateOutletContext]=\"{ node: node }\">\n          </ng-template>\n        </ng-template>\n      </d-operable-tree>\n      <div *ngIf=\"!treeData || treeData.length <= 0\" class=\"devui-no-data-tip\">\n        {{ i18nCommonText?.noData }}\n      </div>\n      <div *ngIf=\"noRecord\" class=\"devui-no-data-tip\">\n        {{ i18nCommonText?.noRecordsFound }}\n      </div>\n    </div>\n\n    <!-- \u81EA\u5B9A\u4E49\u533A\u57DF -->\n    <div popper-append *ngIf=\"customViewTemplate\">\n      <ng-template [ngTemplateOutlet]=\"customViewTemplate\" [ngTemplateOutletContext]=\"{ $implicit: this }\"></ng-template>\n    </div>\n  </d-popper-component>\n  <div\n    [ngClass]=\"{ disabled: disabled, clear: allowClear }\"\n    (click)=\"$event.stopPropagation(); $event.preventDefault(); clearAll(); emitEvents()\"\n  ></div>\n  <span\n    class=\"devui-select-chevron-icon\"\n    [class.open]=\"isOpen\"\n    [ngClass]=\"{ disabled: disabled, 'allow-clear': allowClear, 'devui-select-chevron-icon-animation': showAnimation }\"\n  >\n    <svg\n      width=\"14px\"\n      height=\"14px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 Z\"\n          fill-rule=\"nonzero\"\n        ></path>\n      </g>\n    </svg>\n  </span>\n</div>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.edge.devui-tree-select:hover .clear,.ie.devui-tree-select:hover .clear,.firefox.devui-tree-select:hover .clear,.edge.devui-tree-select .devui-select-chevron-icon,.ie.devui-tree-select .devui-select-chevron-icon,.firefox.devui-tree-select .devui-select-chevron-icon{right:20px}.devui-tree-select{position:relative;width:100%}.devui-tree-select .devui-select-input:not([disabled]){color:#252b3a;color:var(--devui-text, #252b3a)}.devui-tree-select .devui-select-input.devui-tree-select-input{font-size:12px;font-size:var(--devui-font-size, 12px);padding:2px 32px 2px 2px;height:unset;min-height:28px;max-height:52px;overflow-y:scroll;line-height:22px;display:flex;text-indent:8px}.devui-tree-select .devui-select-input.devui-tree-select-input.devui-select-no-label{padding-left:10px}.devui-tree-select:hover .clear{position:absolute;height:14px;width:14px;right:12px;top:calc((100% - 14px)/2);cursor:pointer;z-index:1}.devui-tree-select:hover .clear:after,.devui-tree-select:hover .clear:before{position:absolute;content:\"\";height:14px;width:2px;background-color:#71757f;background-color:var(--devui-icon-text, #71757f);left:50%}.devui-tree-select:hover .clear:before{transform:rotate(45deg)}.devui-tree-select:hover .clear:after{transform:rotate(-45deg)}.devui-tree-select:hover .clear:hover:after,.devui-tree-select:hover .clear:hover:before{background-color:#252b3a;background-color:var(--devui-icon-fill-active, #252b3a)}.devui-tree-select:hover .allow-clear{opacity:0}.devui-tree-select .devui-select-chevron-icon{right:12px;top:calc((100% - 14px)/2);position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;height:14px;line-height:14px;z-index:1}.devui-tree-select .devui-select-chevron-icon svg path{fill:#575d6c;fill:var(--devui-text-weak, #575d6c)}.devui-tree-select .devui-select-chevron-icon-animation svg{transition:transform .3s cubic-bezier(.645,.045,.355,1);transition:transform var(--devui-animation-duration-slow, .3s) var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1))}.devui-tree-select .devui-select-chevron-icon.open{z-index:1052;z-index:var(--devui-z-index-dropdown, 1052)}.devui-tree-select .devui-select-chevron-icon.open svg{transform:rotate(180deg)}.devui-tree-select .devui-select-chevron-icon.clear{opacity:0}.devui-tree-select .devui-select-chevron-icon.disabled svg path{fill:#cfd0d3;fill:var(--devui-disabled-text, #cfd0d3)}.devui-tree-select:not(:hover) .devui-select-chevron-icon:not(.disabled){opacity:1;transition:opacity .1s cubic-bezier(0,0,1,1);transition:opacity var(--devui-animation-duration-fast, .1s) var(--devui-animation-linear, cubic-bezier(0, 0, 1, 1))}.devui-tree-select.devui-options-container{width:100%;color:#252b3a;color:var(--devui-text, #252b3a);padding-left:8px}.devui-select-item{color:#252b3a;color:var(--devui-text, #252b3a);line-height:16px;background-color:#e9edfa;background-color:var(--devui-label-bg, #e9edfa);border-radius:2px;border-radius:var(--devui-border-radius, 2px);border:1px solid #e9edfa;border:1px solid var(--devui-label-bg, #e9edfa);display:inline-block;max-width:100%;min-height:20px;height:20px;max-height:20px;margin:1px;padding:0 5px;position:relative;text-indent:0}.devui-select-item.devui-no-label-item{padding:1px 0;background:transparent;border-color:transparent;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.devui-select-item .devui-select-item-content{display:inline-block;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:baseline;height:18px;line-height:18px;max-width:100%;padding-right:30px;position:relative}.devui-select-item .devui-select-item-content:hover{color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a)}.devui-select-item>.devui-select-item-clear-icon{width:12px;height:12px;line-height:12px;text-align:center;margin-left:12px;border-radius:50%;background-color:#d7d8da;background-color:var(--devui-line, #d7d8da);display:inline-flex;justify-content:center;align-items:center;cursor:pointer;position:absolute;right:10px;top:50%;transform:translateY(-50%);transition:transform .2s ease;transition:transform var(--devui-animation-duration-base, .2s) ease}.devui-select-item>.devui-select-item-clear-icon svg path{fill:#fff;fill:var(--devui-light-text, #ffffff)}.devui-select-item>.devui-select-item-clear-icon:hover{background-color:#252b3a;background-color:var(--devui-icon-fill-active-hover, #252b3a)}.devui-select-list{display:flex;flex-wrap:wrap}svg.svg-icon-search path{fill:#575d6c;fill:var(--devui-text-weak, #575d6c)}:host{display:inline-block;width:100%}.devui-select-input.devui-tree-select-input.disabled{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-select-input.devui-tree-select-input.disabled .devui-select-item{background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5);border-color:#dfe1e6;border-color:var(--devui-disabled-line, #dfe1e6)}.devui-select-input.devui-tree-select-input.disabled .devui-select-item.devui-no-label-item{background-color:transparent;border-color:transparent;color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-content,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-content:hover,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-content:focus{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);cursor:not-allowed;padding-right:0}.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon:hover,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon:focus{background-color:#dfe1e6;background-color:var(--devui-disabled-line, #dfe1e6);cursor:not-allowed}.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon svg path,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon:hover svg path,.devui-select-input.devui-tree-select-input.disabled .devui-select-item>.devui-select-item-clear-icon:focus svg path{fill:#f5f5f5;fill:var(--devui-disabled-bg, #f5f5f5)}.devui-tree-select .devui-select-input.devui-tree-select-input:not(.icon):not([class^=icon-]):not([disabled]):not(.disabled):not(.devui-disabled){color:#babbc0;color:var(--devui-placeholder, #babbc0)}::ng-deep .devui-tree-select.devui-search-container d-search{width:100%}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1.I18nService }, { type: i2.DevConfigService }]; }, propDecorators: { checkableRelation: [{
                type: Input
            }], allowClear: [{
                type: Input
            }], treeData: [{
                type: Input
            }], showAnimation: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], disabled: [{
                type: Input
            }], expandTree: [{
                type: Input
            }], multiple: [{
                type: Input
            }], treeNodeIdKey: [{
                type: Input
            }], treeNodeChildrenKey: [{
                type: Input
            }], treeNodeTitleKey: [{
                type: Input
            }], disabledKey: [{
                type: Input
            }], leafOnly: [{
                type: Input
            }], delimiter: [{
                type: Input
            }], iconParentOpen: [{
                type: Input
            }], iconParentClose: [{
                type: Input
            }], iconLeaf: [{
                type: Input
            }], closeOnNodeSelected: [{
                type: Input
            }], width: [{
                type: Input
            }], searchable: [{
                type: Input
            }], appendTo: [{
                type: Input
            }], allowUnselect: [{
                type: Input
            }], iconTemplatePosition: [{
                type: Input
            }], iconTemplateInput: [{
                type: Input
            }], enableLabelization: [{
                type: Input
            }], customItemTemplate: [{
                type: Input
            }], customViewTemplate: [{
                type: Input
            }], customViewDirection: [{
                type: Input
            }], selectHost: [{
                type: ViewChild,
                args: ['selectHost', { static: true }]
            }], optionsContainer: [{
                type: ViewChild,
                args: ['optionsContainer', { static: true }]
            }], tree: [{
                type: ViewChild,
                args: ['tree', { static: true }]
            }], searchInput: [{
                type: ViewChild,
                args: ['searchInput']
            }], searchInputModel: [{
                type: ViewChild,
                args: ['searchInputModel']
            }], popper: [{
                type: ViewChild,
                args: ['popper', { static: true }]
            }], iconTemplatePassThrough: [{
                type: ContentChild,
                args: ['iconTemplate']
            }], nodeToggleEvent: [{
                type: Output
            }], valueChanged: [{
                type: Output
            }], virtualScroll: [{
                type: Input
            }], virtualScrollItemSize: [{
                type: Input
            }], virtualScrollMinBufferPx: [{
                type: Input
            }], virtualScrollMaxBufferPx: [{
                type: Input
            }], virtualScrollHeightPx: [{
                type: Input
            }], readyEvent: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS1zZWxlY3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vZGV2dWkvdHJlZS1zZWxlY3QvdHJlZS1zZWxlY3QuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZGV2dWkvdHJlZS1zZWxlY3QvdHJlZS1zZWxlY3QuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFFTCxpQkFBaUIsRUFDakIsU0FBUyxFQUNULFlBQVksRUFDWixVQUFVLEVBQ1YsWUFBWSxFQUNaLFVBQVUsRUFDVixLQUFLLEVBSUwsTUFBTSxFQUNOLFNBQVMsRUFFVCxXQUFXLEVBQ1gsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBd0IsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RSxPQUFPLEVBQWlCLFdBQVcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEQsT0FBTyxFQUE2QixxQkFBcUIsRUFBWSxNQUFNLGVBQWUsQ0FBQztBQUMzRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUscUJBQXFCLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdkcsT0FBTyxFQUFFLE9BQU8sRUFBZ0IsTUFBTSxNQUFNLENBQUM7QUFDN0MsT0FBTyxFQUFFLFlBQVksRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvRSxPQUFPLFlBQVksTUFBTSxzQkFBc0IsQ0FBQzs7Ozs7Ozs7QUFnQmhELE1BQU0sT0FBTyxtQkFBbUI7SUFxRDlCLFlBQ1ksUUFBbUIsRUFDbkIsaUJBQW9DLEVBQ3RDLElBQWlCLEVBQ2pCLGdCQUFrQztRQUhoQyxhQUFRLEdBQVIsUUFBUSxDQUFXO1FBQ25CLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7UUFDdEMsU0FBSSxHQUFKLElBQUksQ0FBYTtRQUNqQixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBeERuQyxzQkFBaUIsR0FBNEMsTUFBTSxDQUFDO1FBMER0RCxrQkFBYSxHQUFHLElBQUksQ0FBQztRQUNuQyxnQkFBVyxHQUFHLEVBQUUsQ0FBQztRQUNqQixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLGVBQVUsR0FBRyxLQUFLLENBQUM7UUFDbkIsYUFBUSxHQUFHLEtBQUssQ0FBQztRQUNqQixrQkFBYSxHQUFHLElBQUksQ0FBQztRQUNyQix3QkFBbUIsR0FBRyxVQUFVLENBQUM7UUFDakMscUJBQWdCLEdBQUcsT0FBTyxDQUFDO1FBQzNCLGdCQUFXLEdBQUcsVUFBVSxDQUFDO1FBQ3pCLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFDakIsY0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLEtBQUs7UUFDdkIsbUJBQWMsR0FBVyxZQUFZLENBQUMsY0FBYyxDQUFDO1FBQ3JELG9CQUFlLEdBQVcsWUFBWSxDQUFDLGVBQWUsQ0FBQztRQUN2RCxhQUFRLEdBQVcsWUFBWSxDQUFDLFFBQVEsQ0FBQztRQUN6Qyx3QkFBbUIsR0FBRyxJQUFJLENBQUM7UUFDM0IsVUFBSyxHQUFXLElBQUksQ0FBQztRQUNyQixlQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ25CLGFBQVEsR0FBRyxNQUFNLENBQUM7UUFDbEIsa0JBQWEsR0FBRyxJQUFJLENBQUM7UUFHckIsdUJBQWtCLEdBQUcsSUFBSSxDQUFDO1FBRzFCLHdCQUFtQixHQUFnQyxRQUFRLENBQUM7UUFRckUsMkNBQTJDO1FBQ2pDLG9CQUFlLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUMxQyxpQkFBWSxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFDeEMsa0JBQWEsR0FBRyxLQUFLLENBQUM7UUFDdEIsMEJBQXFCLEdBQUcsRUFBRSxDQUFDO1FBQzNCLDZCQUF3QixHQUFHLEdBQUcsQ0FBQztRQUMvQiw2QkFBd0IsR0FBRyxHQUFHLENBQUM7UUFDL0IsMEJBQXFCLEdBQUcsR0FBRyxDQUFDO1FBRXJDLGNBQVMsR0FBcUIsRUFBRSxDQUFDO1FBRWpDLGlCQUFZLEdBQVcsSUFBSSxDQUFDO1FBRzVCLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFLakIsYUFBUSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFHakIsWUFBTyxHQUFHLEtBQUssQ0FBQztRQUNoQixnQkFBVyxHQUFHLEVBQUUsQ0FBQztRQUdoQixlQUFVLEdBQUcsQ0FBQyxVQUErQixFQUFFLEVBQUUsR0FBRSxDQUFDLENBQUM7UUFFdEQsYUFBUSxHQUFHLENBQUMsQ0FBTSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUM7UUFDNUIsWUFBTyxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztJQTlEMUIsQ0FBQztJQXhESixJQUFhLFVBQVUsQ0FBQyxVQUFVO1FBQ2hDLEtBQUs7UUFDTCxJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztJQUNoQyxDQUFDO0lBRUQsSUFBSSxVQUFVO1FBQ1osT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixJQUFJLElBQUksQ0FBQyxhQUFhLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUN4SSxDQUFDO0lBRUQsSUFBYSxRQUFRLENBQUMsUUFBUTtRQUM1QixJQUFJLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBQztRQUM1QixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDVixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDeEIsQ0FBQztJQUVELElBQUksTUFBTTtRQUNSLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxNQUFNLENBQUMsS0FBSztRQUNkLElBQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxLQUFLLEVBQUU7WUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDckIsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDVixxQkFBcUIsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3ZDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQzthQUNoQjtpQkFBTTtnQkFDTCxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDbkM7WUFDRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDeEM7SUFDSCxDQUFDO0lBRUQsSUFBSSxLQUFLLENBQUMsR0FBRztRQUNYLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1FBQ2xCLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBRTtZQUMzQyxJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztZQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7U0FDL0I7YUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRTtZQUN6QyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztTQUMzQjthQUFNO1lBQ0wsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7U0FDNUI7SUFDSCxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUF1RUQsZUFBZTtRQUNiLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN2QyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNuQixJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUMvQjtJQUNILENBQUM7SUFFRCxXQUFXLENBQUMsT0FBc0IsSUFBUyxDQUFDO0lBRTVDLFdBQVc7UUFDVCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDckM7UUFDRCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxDQUFDLFdBQVc7UUFDaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRUQsYUFBYTtRQUNYLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDbkYsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RHLElBQUksQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDOUgsQ0FBQyxDQUFDLENBQUM7U0FDSjtJQUNILENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxFQUFPO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxFQUFPO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxVQUFtQjtRQUNsQyxJQUFJLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQztJQUM3QixDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQVU7UUFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzlELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hDLHNEQUFzRDtRQUN0RCxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDdkMsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELE1BQU07UUFDSixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsT0FBTztTQUNSO1FBQ0QsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ2QsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUMxQjtRQUNELE1BQU0sUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDcEIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ1IsSUFBSSxRQUFRLEVBQUU7WUFDWixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUM1QjtJQUNILENBQUM7SUFFTyxXQUFXO1FBQ2pCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxNQUFNLENBQUM7UUFDckQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDaEUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3BDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVPLFVBQVU7UUFDaEIsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLEVBQUU7WUFDakMsT0FBTztTQUNSO1FBQ0QsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7UUFDN0MsSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQ2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDO1NBQ3pCO2FBQU0sSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDL0UsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7U0FDdkI7YUFBTSxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDNUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7U0FDNUI7YUFBTTtZQUNMLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1NBQzNCO0lBQ0gsQ0FBQztJQUVPLFdBQVcsQ0FBQyxRQUFhLEVBQUUsVUFBVSxHQUFHLEtBQUs7UUFDbkQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQzNCLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUNuRTthQUFNLElBQUksUUFBUSxFQUFFO1lBQ25CLElBQUksdUJBQXVCLEdBQUcsS0FBSyxDQUFDO1lBQ3BDLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsRUFBRTtnQkFDNUUsUUFBUSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztnQkFDbEQsUUFBUSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO2dCQUN0RyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2pCLENBQUMsdUJBQXVCLEVBQUUsUUFBUSxDQUFDLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztpQkFDOUc7YUFDRjtZQUNELElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUU7Z0JBQ3RFLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7Z0JBQzVDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDakIsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDbEQsUUFBUSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7b0JBQzFCLFFBQVEsQ0FBQyxTQUFTLEdBQUcsZUFBZSxJQUFJLHVCQUF1QixDQUFDO29CQUNoRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLGVBQWUsSUFBSSx1QkFBdUIsRUFBRTt3QkFDakUsTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDO3dCQUN4QixZQUFZLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBQ2hFLFlBQVksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7d0JBQ3JFLElBQUksQ0FBQyxLQUFlLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO3dCQUN6QyxzQ0FBc0M7d0JBQ3RDLDRDQUE0Qzt3QkFDNUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO3FCQUN6QjtpQkFDRjtxQkFBTTtvQkFDTCxRQUFRLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztvQkFDM0IsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUM5QyxJQUFJLFFBQVEsQ0FBQyxRQUFRLEVBQUU7d0JBQ3JCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxRQUFRLENBQUM7cUJBQ25DO2lCQUNGO2FBQ0Y7WUFFRCxPQUFPLFFBQVEsQ0FBQztTQUNqQjtJQUNILENBQUM7SUFFTyxZQUFZLENBQUMsVUFBZTtRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNmLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDOUMsc0NBQXNDO1lBQ3RDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDOUU7YUFBTTtZQUNMLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksVUFBVSxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQ3hGO0lBQ0gsQ0FBQztJQUVPLGlCQUFpQixDQUFDLFNBQXNCO1FBQzlDLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixLQUFLLE1BQU0sSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssUUFBUSxDQUFDO1FBQzlHLE1BQU0sd0JBQXdCLEdBQUcsNEJBQTRCLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUM3RyxNQUFNLG9CQUFvQixHQUFHLDRCQUE0QixJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUMxSCxPQUFPO1lBQ0wsd0JBQXdCLEdBQUcsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssd0JBQXdCO1lBQzdFLG9CQUFvQixHQUFHLENBQUMsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLHdCQUF3QjtTQUN4RSxDQUFDO0lBQ0osQ0FBQztJQUVPLFdBQVcsQ0FBQyxRQUFvQjtRQUN0QyxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFFRCxxQkFBcUIsQ0FBQyxhQUEwQjtRQUM5QyxNQUFNLHNCQUFzQixHQUFHLENBQUMsY0FBYyxFQUFFLEVBQUU7WUFDaEQsT0FBTyxJQUFJLENBQUMsUUFBUTtnQkFDbEIsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO2dCQUM5RSxDQUFDLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRCxDQUFDLENBQUM7UUFDRixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxzQkFBc0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7U0FDbkI7SUFDSCxDQUFDO0lBRUQsc0JBQXNCLENBQUMsWUFBbUM7UUFDeEQsTUFBTSxJQUFJLEdBQUcsWUFBd0IsQ0FBQztRQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ3ZDLE9BQU87YUFDUjtZQUNELElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztnQkFDOUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztnQkFDbEMsc0NBQXNDO2dCQUN0QyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtvQkFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7aUJBQ3JCO2FBQ0Y7aUJBQU07Z0JBQ0wsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO29CQUN0QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO29CQUM5QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztpQkFDbkI7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO29CQUMxQixJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRTt3QkFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7cUJBQ3JCO2lCQUNGO2FBQ0Y7WUFFRCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7U0FDbkI7SUFDSCxDQUFDO0lBRUQsVUFBVTtRQUNSLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFRCxzQkFBc0I7UUFDcEIsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1NBQy9CO2FBQU07WUFDTCxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztTQUM3QjtJQUNILENBQUM7SUFFRCxzQkFBc0I7UUFDcEIsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3RDLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQVcsQ0FBQztZQUNwRCxNQUFNLFNBQVMsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztTQUMvQjthQUFNO1lBQ0wsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQ25CO0lBQ0gsQ0FBQztJQUVELG9CQUFvQjtRQUNsQixJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUNuRCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxZQUFZLEdBQUcsU0FBUyxDQUFDO1NBQy9CO2FBQU07WUFDTCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7U0FDbkI7SUFDSCxDQUFDO0lBRUQsVUFBVTtRQUNSLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxhQUFhO1FBQ1gsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUFFRCxvQkFBb0IsQ0FBQyxXQUFnQjtRQUNuQyxJQUFJLFdBQVcsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2xDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1NBQ3pCO1FBRUQsSUFBSSxXQUFXLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2xELElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1NBQ3JEO0lBQ0gsQ0FBQztJQUVPLGdCQUFnQjtRQUN0QixJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsYUFBYSxFQUFFO1lBQ3JELElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQzNEO0lBQ0gsQ0FBQztJQUVELE1BQU0sQ0FBQyxZQUFZO1FBQ2pCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkUsSUFBSSxPQUFPLFNBQVMsS0FBSyxTQUFTLEVBQUU7WUFDbEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUM7U0FDM0I7YUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDbkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2hEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDeEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRU8sc0JBQXNCO1FBQzVCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFBRSxvQkFBb0IsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsWUFBWSxFQUFFLEVBQUU7WUFDNUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFNO1FBQzVCLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDeEIsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3RFLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3pELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVE7Z0JBQ3hCLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztnQkFDcEYsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDbEQ7YUFBTTtZQUNMLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUNqQjtRQUNELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDM0MsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUNwQixDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQU07UUFDbEIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUN0QjtRQUNELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7O2dIQXRhVSxtQkFBbUI7b0dBQW5CLG1CQUFtQix1d0NBVG5CO1FBQ1Q7WUFDRSxPQUFPLEVBQUUsaUJBQWlCO1lBQzFCLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsbUJBQW1CLENBQUM7WUFDbEQsS0FBSyxFQUFFLElBQUk7U0FDWjtLQUNGLHl5QkN0Q0gsby9SQW1LQTtBRC9EeUI7SUFBYixVQUFVLEVBQUU7OzBEQUFzQjsyRkEzRGpDLG1CQUFtQjtrQkFkL0IsU0FBUzsrQkFDRSxlQUFlLFlBR2YsUUFBUSxhQUNQO3dCQUNUOzRCQUNFLE9BQU8sRUFBRSxpQkFBaUI7NEJBQzFCLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLG9CQUFvQixDQUFDOzRCQUNsRCxLQUFLLEVBQUUsSUFBSTt5QkFDWjtxQkFDRix1QkFDb0IsS0FBSzt5TEFHakIsaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNPLFVBQVU7c0JBQXRCLEtBQUs7Z0JBU08sUUFBUTtzQkFBcEIsS0FBSztnQkFnRGlCLGFBQWE7c0JBQW5DLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxhQUFhO3NCQUFyQixLQUFLO2dCQUNHLG1CQUFtQjtzQkFBM0IsS0FBSztnQkFDRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBQ0csY0FBYztzQkFBdEIsS0FBSztnQkFDRyxlQUFlO3NCQUF2QixLQUFLO2dCQUNHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBQ0csbUJBQW1CO3NCQUEzQixLQUFLO2dCQUNHLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxVQUFVO3NCQUFsQixLQUFLO2dCQUNHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBQ0csYUFBYTtzQkFBckIsS0FBSztnQkFDRyxvQkFBb0I7c0JBQTVCLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLGtCQUFrQjtzQkFBMUIsS0FBSztnQkFDRyxrQkFBa0I7c0JBQTFCLEtBQUs7Z0JBQ0csa0JBQWtCO3NCQUExQixLQUFLO2dCQUNHLG1CQUFtQjtzQkFBM0IsS0FBSztnQkFDcUMsVUFBVTtzQkFBcEQsU0FBUzt1QkFBQyxZQUFZLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQUNRLGdCQUFnQjtzQkFBaEUsU0FBUzt1QkFBQyxrQkFBa0IsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7Z0JBQ1YsSUFBSTtzQkFBeEMsU0FBUzt1QkFBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQUNULFdBQVc7c0JBQXBDLFNBQVM7dUJBQUMsYUFBYTtnQkFDTyxnQkFBZ0I7c0JBQTlDLFNBQVM7dUJBQUMsa0JBQWtCO2dCQUNVLE1BQU07c0JBQTVDLFNBQVM7dUJBQUMsUUFBUSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtnQkFDUCx1QkFBdUI7c0JBQXBELFlBQVk7dUJBQUMsY0FBYztnQkFFbEIsZUFBZTtzQkFBeEIsTUFBTTtnQkFDRyxZQUFZO3NCQUFyQixNQUFNO2dCQUNFLGFBQWE7c0JBQXJCLEtBQUs7Z0JBQ0cscUJBQXFCO3NCQUE3QixLQUFLO2dCQUNHLHdCQUF3QjtzQkFBaEMsS0FBSztnQkFDRyx3QkFBd0I7c0JBQWhDLEtBQUs7Z0JBQ0cscUJBQXFCO3NCQUE3QixLQUFLO2dCQW1CRyxVQUFVO3NCQUFsQixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgQ29udGVudENoaWxkLFxuICBFbGVtZW50UmVmLFxuICBFdmVudEVtaXR0ZXIsXG4gIGZvcndhcmRSZWYsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFJlbmRlcmVyMixcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgVGVtcGxhdGVSZWYsXG4gIFZpZXdDaGlsZFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEkxOG5JbnRlcmZhY2UsIEkxOG5TZXJ2aWNlIH0gZnJvbSAnbmctZGV2dWkvaTE4bic7XG5pbXBvcnQgeyBTZWFyY2hDb21wb25lbnQgfSBmcm9tICduZy1kZXZ1aS9zZWFyY2gnO1xuaW1wb3J0IHsgSUNoZWNrYm94SW5wdXQsIElUcmVlSXRlbSwgT3BlcmFibGVUcmVlQ29tcG9uZW50LCBUcmVlTm9kZSB9IGZyb20gJ25nLWRldnVpL3RyZWUnO1xuaW1wb3J0IHsgYWRkQ2xhc3NUb09yaWdpbiwgRGV2Q29uZmlnU2VydmljZSwgcmVtb3ZlQ2xhc3NGcm9tT3JpZ2luLCBXaXRoQ29uZmlnIH0gZnJvbSAnbmctZGV2dWkvdXRpbHMnO1xuaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCB0YWtlVW50aWwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgRGVmYXVsdEljb25zIGZyb20gJy4vdHJlZS1kZWZhdWx0LWljb25zJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZC10cmVlLXNlbGVjdCcsXG4gIHRlbXBsYXRlVXJsOiAnLi90cmVlLXNlbGVjdC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogW2AuL3RyZWUtc2VsZWN0LmNvbXBvbmVudC5zY3NzYF0sXG4gIGV4cG9ydEFzOiAnc2VsZWN0JyxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBUcmVlU2VsZWN0Q29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlLFxuICAgIH0sXG4gIF0sXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxufSlcbmV4cG9ydCBjbGFzcyBUcmVlU2VsZWN0Q29tcG9uZW50IGltcGxlbWVudHMgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95LCBPbkNoYW5nZXMge1xuICBASW5wdXQoKSBjaGVja2FibGVSZWxhdGlvbjogJ3Vwd2FyZCcgfCAnZG93bndhcmQnIHwgJ2JvdGgnIHwgJ25vbmUnID0gJ2JvdGgnO1xuICBASW5wdXQoKSBzZXQgYWxsb3dDbGVhcihhbGxvd0NsZWFyKSB7XG4gICAgLy8g5bqf5byDXG4gICAgdGhpcy5fYWxsb3dDbGVhciA9IGFsbG93Q2xlYXI7XG4gIH1cblxuICBnZXQgYWxsb3dDbGVhcigpIHtcbiAgICByZXR1cm4gIXRoaXMuZGlzYWJsZWQgJiYgIXRoaXMubXVsdGlwbGUgJiYgIXRoaXMuZW5hYmxlTGFiZWxpemF0aW9uICYmIHRoaXMuYWxsb3dVbnNlbGVjdCAmJiB0aGlzLl9hbGxvd0NsZWFyICYmICEhdGhpcy5zZWxlY3RlZFZhbHVlO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IHRyZWVEYXRhKHRyZWVEYXRhKSB7XG4gICAgdGhpcy5fc291cmNlVHJlZSA9IHRyZWVEYXRhO1xuICAgIHRoaXMucmVmcmVzaFRyZWUodHJlZURhdGEpO1xuICB9XG5cbiAgZ2V0IHRyZWVEYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl90cmVlRGF0YTtcbiAgfVxuXG4gIGdldCBpc09wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzT3BlbjtcbiAgfVxuXG4gIHNldCBpc09wZW4odmFsdWUpIHtcbiAgICBpZiAodGhpcy5faXNPcGVuICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5faXNPcGVuID0gdmFsdWU7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzRnJvbU9yaWdpbih0aGlzLnNlbGVjdEhvc3QpO1xuICAgICAgICB0aGlzLm9uVG91Y2goKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZENsYXNzVG9PcmlnaW4odGhpcy5zZWxlY3RIb3N0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgfVxuXG4gIHNldCB2YWx1ZSh2YWwpIHtcbiAgICB0aGlzLl92YWx1ZSA9IHZhbDtcbiAgICBpZiAodmFsICYmIEFycmF5LmlzQXJyYXkodmFsKSAmJiB2YWwubGVuZ3RoKSB7XG4gICAgICB0aGlzLnZhbHVlVHlwZSA9ICdhcnJheSc7XG4gICAgICB0aGlzLnZhbHVlTGVuZ3RoID0gdmFsLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKHZhbCAmJiBPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCkge1xuICAgICAgdGhpcy52YWx1ZVR5cGUgPSAnb2JqZWN0JztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52YWx1ZVR5cGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgIHByb3RlY3RlZCBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJpdmF0ZSBpMThuOiBJMThuU2VydmljZSxcbiAgICBwcml2YXRlIGRldkNvbmZpZ1NlcnZpY2U6IERldkNvbmZpZ1NlcnZpY2VcbiAgKSB7fVxuICBASW5wdXQoKSBAV2l0aENvbmZpZygpIHNob3dBbmltYXRpb24gPSB0cnVlO1xuICBASW5wdXQoKSBwbGFjZWhvbGRlciA9ICcnO1xuICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xuICBASW5wdXQoKSBleHBhbmRUcmVlID0gZmFsc2U7XG4gIEBJbnB1dCgpIG11bHRpcGxlID0gZmFsc2U7XG4gIEBJbnB1dCgpIHRyZWVOb2RlSWRLZXkgPSAnaWQnO1xuICBASW5wdXQoKSB0cmVlTm9kZUNoaWxkcmVuS2V5ID0gJ2NoaWxkcmVuJztcbiAgQElucHV0KCkgdHJlZU5vZGVUaXRsZUtleSA9ICd0aXRsZSc7XG4gIEBJbnB1dCgpIGRpc2FibGVkS2V5ID0gJ2Rpc2FibGVkJztcbiAgQElucHV0KCkgbGVhZk9ubHkgPSBmYWxzZTtcbiAgQElucHV0KCkgZGVsaW1pdGVyID0gJywgJzsgLy8g5bqf5byDXG4gIEBJbnB1dCgpIGljb25QYXJlbnRPcGVuOiBzdHJpbmcgPSBEZWZhdWx0SWNvbnMuaWNvblBhcmVudE9wZW47XG4gIEBJbnB1dCgpIGljb25QYXJlbnRDbG9zZTogc3RyaW5nID0gRGVmYXVsdEljb25zLmljb25QYXJlbnRDbG9zZTtcbiAgQElucHV0KCkgaWNvbkxlYWY6IHN0cmluZyA9IERlZmF1bHRJY29ucy5pY29uTGVhZjtcbiAgQElucHV0KCkgY2xvc2VPbk5vZGVTZWxlY3RlZCA9IHRydWU7XG4gIEBJbnB1dCgpIHdpZHRoOiBzdHJpbmcgPSBudWxsO1xuICBASW5wdXQoKSBzZWFyY2hhYmxlID0gZmFsc2U7XG4gIEBJbnB1dCgpIGFwcGVuZFRvID0gJ2JvZHknO1xuICBASW5wdXQoKSBhbGxvd1Vuc2VsZWN0ID0gdHJ1ZTtcbiAgQElucHV0KCkgaWNvblRlbXBsYXRlUG9zaXRpb246IHN0cmluZztcbiAgQElucHV0KCkgaWNvblRlbXBsYXRlSW5wdXQ6IFRlbXBsYXRlUmVmPGFueT47XG4gIEBJbnB1dCgpIGVuYWJsZUxhYmVsaXphdGlvbiA9IHRydWU7XG4gIEBJbnB1dCgpIGN1c3RvbUl0ZW1UZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCkgY3VzdG9tVmlld1RlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuICBASW5wdXQoKSBjdXN0b21WaWV3RGlyZWN0aW9uOiAnYm90dG9tJyB8ICdyaWdodCcgfCAnbGVmdCcgPSAnYm90dG9tJztcbiAgQFZpZXdDaGlsZCgnc2VsZWN0SG9zdCcsIHsgc3RhdGljOiB0cnVlIH0pIHNlbGVjdEhvc3Q6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ29wdGlvbnNDb250YWluZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBvcHRpb25zQ29udGFpbmVyOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCd0cmVlJywgeyBzdGF0aWM6IHRydWUgfSkgdHJlZTogT3BlcmFibGVUcmVlQ29tcG9uZW50O1xuICBAVmlld0NoaWxkKCdzZWFyY2hJbnB1dCcpIHNlYXJjaElucHV0OiBTZWFyY2hDb21wb25lbnQ7XG4gIEBWaWV3Q2hpbGQoJ3NlYXJjaElucHV0TW9kZWwnKSBzZWFyY2hJbnB1dE1vZGVsO1xuICBAVmlld0NoaWxkKCdwb3BwZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBwb3BwZXI7XG4gIEBDb250ZW50Q2hpbGQoJ2ljb25UZW1wbGF0ZScpIGljb25UZW1wbGF0ZVBhc3NUaHJvdWdoO1xuICAvLyBUT0RPOiBuZWVkIHRvIGNoYW5nZSB0byBub2RlVG9nZ2xlZEV2ZW50XG4gIEBPdXRwdXQoKSBub2RlVG9nZ2xlRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIHZhbHVlQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBASW5wdXQoKSB2aXJ0dWFsU2Nyb2xsID0gZmFsc2U7XG4gIEBJbnB1dCgpIHZpcnR1YWxTY3JvbGxJdGVtU2l6ZSA9IDMwO1xuICBASW5wdXQoKSB2aXJ0dWFsU2Nyb2xsTWluQnVmZmVyUHggPSAzMDA7XG4gIEBJbnB1dCgpIHZpcnR1YWxTY3JvbGxNYXhCdWZmZXJQeCA9IDYwMDtcbiAgQElucHV0KCkgdmlydHVhbFNjcm9sbEhlaWdodFB4ID0gMzAwO1xuICBjaGVja2JveElucHV0OiBJQ2hlY2tib3hJbnB1dDtcbiAgX3RyZWVEYXRhOiBBcnJheTxJVHJlZUl0ZW0+ID0gW107XG4gIGN1cnJlbnRBY3RpdmVOb2RlOiBJVHJlZUl0ZW07XG4gIHNlYXJjaFN0cmluZzogc3RyaW5nID0gbnVsbDtcbiAgaTE4bkNvbW1vblRleHQ6IEkxOG5JbnRlcmZhY2VbJ2NvbW1vbiddO1xuICBpMThuU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gIG5vUmVjb3JkID0gZmFsc2U7XG4gIHZhbHVlVHlwZTogJ2FycmF5JyB8ICdvYmplY3QnIHwgdW5kZWZpbmVkO1xuICBkaXNwbGF5VmFsdWU6IHN0cmluZyB8IEFycmF5PHN0cmluZz47XG4gIHZhbHVlTGVuZ3RoOiBudW1iZXI7XG4gIHVzZXJBZ2VudDogc3RyaW5nO1xuICBkZXN0cm95JCA9IG5ldyBTdWJqZWN0KCk7XG4gIHZhbGlkVmlydHVhbFNjcm9sbEhlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIF92YWx1ZTogb2JqZWN0IHwgQXJyYXk8YW55PiB8IGFueTtcbiAgcHJpdmF0ZSBfaXNPcGVuID0gZmFsc2U7XG4gIHByaXZhdGUgX3NvdXJjZVRyZWUgPSBbXTtcbiAgcHJpdmF0ZSBfYWxsb3dDbGVhcjogYm9vbGVhbjtcbiAgcHJpdmF0ZSB0aW1lcjogYW55O1xuICBASW5wdXQoKSByZWFkeUV2ZW50ID0gKHRyZWVTZWxlY3Q6IFRyZWVTZWxlY3RDb21wb25lbnQpID0+IHt9O1xuXG4gIHByaXZhdGUgb25DaGFuZ2UgPSAoXzogYW55KSA9PiBudWxsO1xuICBwcml2YXRlIG9uVG91Y2ggPSAoKSA9PiBudWxsO1xuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLnJlYWR5RXZlbnQodGhpcyk7XG4gICAgaWYgKHRoaXMuc2VhcmNoYWJsZSkge1xuICAgICAgdGhpcy5yZWdpc3RlclNlYXJjaExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge31cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pMThuU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLmkxOG5TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTsgLy8g6ZSA5q+BUG9wcGVyXG4gICAgdGhpcy5kZXN0cm95JC5uZXh0KCk7XG4gICAgdGhpcy5kZXN0cm95JC5jb21wbGV0ZSgpO1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRJMThuVGV4dCgpO1xuICAgIHRoaXMucXVlcnlNZWRpYSgpO1xuICB9XG5cbiAgYWZ0ZXJUcmVlSW5pdCgpIHtcbiAgICBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsKSB7XG4gICAgICB0aGlzLnRyZWUudHJlZUZhY3RvcnkuZmxhdHRlbk5vZGVzLnBpcGUodGFrZVVudGlsKHRoaXMuZGVzdHJveSQpKS5zdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdHJlZU5vZGVPbkRpc3BsYXkgPSBkYXRhLmZpbHRlcigobm9kZSkgPT4gIShub2RlLmRhdGEuaXNIaWRlIHx8IG5vZGUuZGF0YS5oaWRlSW5WaXJ0dWFsU2Nyb2xsKSk7XG4gICAgICAgIHRoaXMudmFsaWRWaXJ0dWFsU2Nyb2xsSGVpZ2h0ID0gTWF0aC5taW4odHJlZU5vZGVPbkRpc3BsYXkubGVuZ3RoICogdGhpcy52aXJ0dWFsU2Nyb2xsSXRlbVNpemUsIHRoaXMudmlydHVhbFNjcm9sbEhlaWdodFB4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSk6IHZvaWQge1xuICAgIHRoaXMub25DaGFuZ2UgPSBmbjtcbiAgfVxuXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uVG91Y2ggPSBmbjtcbiAgfVxuXG4gIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuZGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuICB9XG5cbiAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMubXVsdGlwbGUgPyBPYmplY3QuYXNzaWduKFtdLCB2YWx1ZSkgOiB2YWx1ZTtcbiAgICB0aGlzLnJlZnJlc2hUcmVlKHRoaXMudHJlZURhdGEpO1xuICAgIC8vIFRyaWdnZXIgdmlzdWFsaXphdGlvbiBhZnRlciB0cmVlIGRhdGEgaXMgZnVsZmlsbGVkLlxuICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHRoaXMudmlzdWFsaXplU2VsZWN0ZWRJdGVtcygpO1xuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gICAgfVxuICAgIGNvbnN0IGFwcGx5Tm93ID0gIXRoaXMudGltZXI7XG4gICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgfSwgMjAwKTtcbiAgICBpZiAoYXBwbHlOb3cpIHtcbiAgICAgIHRoaXMuaXNPcGVuID0gIXRoaXMuaXNPcGVuO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0STE4blRleHQoKSB7XG4gICAgdGhpcy5pMThuQ29tbW9uVGV4dCA9IHRoaXMuaTE4bi5nZXRJMThuVGV4dCgpLmNvbW1vbjtcbiAgICB0aGlzLmkxOG5TdWJzY3JpcHRpb24gPSB0aGlzLmkxOG4ubGFuZ0NoYW5nZSgpLnN1YnNjcmliZSgoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5pMThuQ29tbW9uVGV4dCA9IGRhdGEuY29tbW9uO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBxdWVyeU1lZGlhKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ0VkZ2UnKSA+IC0xKSB7XG4gICAgICB0aGlzLnVzZXJBZ2VudCA9ICdlZGdlJztcbiAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdNU0lFJykgPiAtMSB8fCB1c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudC8nKSA+IC0xKSB7XG4gICAgICB0aGlzLnVzZXJBZ2VudCA9ICdpZSc7XG4gICAgfSBlbHNlIGlmICh1c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID4gLTEpIHtcbiAgICAgIHRoaXMudXNlckFnZW50ID0gJ2ZpcmVmb3gnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVzZXJBZ2VudCA9ICdjaHJvbWUnO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJlcGFyZVRyZWUodHJlZU5vZGU6IGFueSwgZXhwYW5kVHJlZSA9IGZhbHNlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJlZU5vZGUpKSB7XG4gICAgICByZXR1cm4gdHJlZU5vZGUubWFwKChub2RlKSA9PiB0aGlzLnByZXBhcmVUcmVlKG5vZGUsIGV4cGFuZFRyZWUpKTtcbiAgICB9IGVsc2UgaWYgKHRyZWVOb2RlKSB7XG4gICAgICBsZXQgcGFyZW50Q2hlY2tlZEJ5Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJlZU5vZGUsIHRoaXMudHJlZU5vZGVDaGlsZHJlbktleSkpIHtcbiAgICAgICAgdHJlZU5vZGUub3BlbiA9IGV4cGFuZFRyZWUgPyB0cnVlIDogdHJlZU5vZGUub3BlbjtcbiAgICAgICAgdHJlZU5vZGVbdGhpcy50cmVlTm9kZUNoaWxkcmVuS2V5XSA9IHRoaXMucHJlcGFyZVRyZWUodHJlZU5vZGVbdGhpcy50cmVlTm9kZUNoaWxkcmVuS2V5XSwgZXhwYW5kVHJlZSk7XG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XG4gICAgICAgICAgW3BhcmVudENoZWNrZWRCeUNoaWxkcmVuLCB0cmVlTm9kZS5oYWxmQ2hlY2tlZF0gPSB0aGlzLnJlc29sdmVQYXJlbnROb2RlKHRyZWVOb2RlW3RoaXMudHJlZU5vZGVDaGlsZHJlbktleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyZWVOb2RlLCB0aGlzLnRyZWVOb2RlSWRLZXkpKSB7XG4gICAgICAgIGNvbnN0IG5vZGVJZCA9IHRyZWVOb2RlW3RoaXMudHJlZU5vZGVJZEtleV07XG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRCeVZhbHVlID0gdGhpcy5ub2RlU2VsZWN0ZWQobm9kZUlkKTtcbiAgICAgICAgICB0cmVlTm9kZS5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIHRyZWVOb2RlLmlzQ2hlY2tlZCA9IHNlbGVjdGVkQnlWYWx1ZSB8fCBwYXJlbnRDaGVja2VkQnlDaGlsZHJlbjtcbiAgICAgICAgICBpZiAoIXRoaXMubGVhZk9ubHkgJiYgIXNlbGVjdGVkQnlWYWx1ZSAmJiBwYXJlbnRDaGVja2VkQnlDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgaW5zZXJ0T2JqZWN0ID0ge307XG4gICAgICAgICAgICBpbnNlcnRPYmplY3RbdGhpcy50cmVlTm9kZUlkS2V5XSA9IHRyZWVOb2RlW3RoaXMudHJlZU5vZGVJZEtleV07XG4gICAgICAgICAgICBpbnNlcnRPYmplY3RbdGhpcy50cmVlTm9kZVRpdGxlS2V5XSA9IHRyZWVOb2RlW3RoaXMudHJlZU5vZGVUaXRsZUtleV07XG4gICAgICAgICAgICAodGhpcy52YWx1ZSBhcyBhbnlbXSkucHVzaChpbnNlcnRPYmplY3QpO1xuICAgICAgICAgICAgLy8g6LWL5YC86Kem5Y+Rc2V0VmFsdWXorr7nva52YWx1ZVR5cGXlkox2YWx1ZUxlbmd0aFxuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtYXNzaWduKi9cbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmVlTm9kZS5pc0NoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICB0cmVlTm9kZS5pc0FjdGl2ZSA9IHRoaXMubm9kZVNlbGVjdGVkKG5vZGVJZCk7XG4gICAgICAgICAgaWYgKHRyZWVOb2RlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBY3RpdmVOb2RlID0gdHJlZU5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmVlTm9kZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG5vZGVTZWxlY3RlZCh0cmVlTm9kZUlkOiBhbnkpIHtcbiAgICBpZiAoIXRoaXMudmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tdWx0aXBsZSAmJiBBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICAvLyBwb2x5ZmlsbCBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMoKVxuICAgICAgcmV0dXJuIHRoaXMudmFsdWUubWFwKChfKSA9PiBfW3RoaXMudHJlZU5vZGVJZEtleV0pLmluZGV4T2YodHJlZU5vZGVJZCkgPiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVbdGhpcy50cmVlTm9kZUlkS2V5XSAmJiB0cmVlTm9kZUlkID09PSB0aGlzLnZhbHVlW3RoaXMudHJlZU5vZGVJZEtleV07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNvbHZlUGFyZW50Tm9kZSh0cmVlTm9kZXM6IElUcmVlSXRlbVtdKTogYm9vbGVhbltdIHtcbiAgICBjb25zdCBlbmFibGVQYXJlbnROb2RlQ2hlY2tCeUNoaWxkID0gdGhpcy5jaGVja2FibGVSZWxhdGlvbiA9PT0gJ2JvdGgnIHx8IHRoaXMuY2hlY2thYmxlUmVsYXRpb24gPT09ICd1cHdhcmQnO1xuICAgIGNvbnN0IGNoaWxkcmVuRnVsbENoZWNrZWRDb3VudCA9IGVuYWJsZVBhcmVudE5vZGVDaGVja0J5Q2hpbGQgJiYgdHJlZU5vZGVzLmZpbHRlcigoXykgPT4gXy5pc0NoZWNrZWQpLmxlbmd0aDtcbiAgICBjb25zdCBjaGlsZHJlbkNoZWNrZWRDb3VudCA9IGVuYWJsZVBhcmVudE5vZGVDaGVja0J5Q2hpbGQgJiYgdHJlZU5vZGVzLmZpbHRlcigoXykgPT4gXy5pc0NoZWNrZWQgfHwgXy5oYWxmQ2hlY2tlZCkubGVuZ3RoO1xuICAgIHJldHVybiBbXG4gICAgICBjaGlsZHJlbkZ1bGxDaGVja2VkQ291bnQgPiAwICYmIHRyZWVOb2Rlcy5sZW5ndGggPT09IGNoaWxkcmVuRnVsbENoZWNrZWRDb3VudCxcbiAgICAgIGNoaWxkcmVuQ2hlY2tlZENvdW50ID4gMCAmJiB0cmVlTm9kZXMubGVuZ3RoID4gY2hpbGRyZW5GdWxsQ2hlY2tlZENvdW50LFxuICAgIF07XG4gIH1cblxuICBwcml2YXRlIHJlZnJlc2hUcmVlKHRyZWVEYXRhOiBBcnJheTxhbnk+KSB7XG4gICAgdGhpcy5fdHJlZURhdGEgPSBPYmplY3QuYXNzaWduKFtdLCB0aGlzLnByZXBhcmVUcmVlKHRyZWVEYXRhLCB0aGlzLmV4cGFuZFRyZWUpKTtcbiAgfVxuXG4gIG9uT3BlcmFibGVOb2RlQ2hlY2tlZChzZWxlY3RlZE5vZGVzOiBJVHJlZUl0ZW1bXSkge1xuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWVFeHRyYWN0b3IgPSAoX3NlbGVjdGVkTm9kZXMpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmxlYWZPbmx5XG4gICAgICAgID8gX3NlbGVjdGVkTm9kZXMuZmlsdGVyKChfKSA9PiAhXy5kYXRhLmlzUGFyZW50KS5tYXAoKF8pID0+IF8uZGF0YS5vcmlnaW5JdGVtKVxuICAgICAgICA6IF9zZWxlY3RlZE5vZGVzLm1hcCgoXykgPT4gXy5kYXRhLm9yaWdpbkl0ZW0pO1xuICAgIH07XG4gICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcbiAgICAgIHRoaXMudmFsdWUgPSBzZWxlY3RlZFZhbHVlRXh0cmFjdG9yKHNlbGVjdGVkTm9kZXMpO1xuICAgICAgdGhpcy5lbWl0RXZlbnRzKCk7XG4gICAgfVxuICB9XG5cbiAgb25PcGVyYWJsZU5vZGVTZWxlY3RlZChzZWxlY3RlZE5vZGU6IFRyZWVOb2RlIHwgVHJlZU5vZGVbXSkge1xuICAgIGNvbnN0IG5vZGUgPSBzZWxlY3RlZE5vZGUgYXMgVHJlZU5vZGU7XG4gICAgaWYgKCF0aGlzLm11bHRpcGxlKSB7XG4gICAgICBpZiAodGhpcy5sZWFmT25seSAmJiBub2RlLmRhdGEuaXNQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuZGF0YS5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRBY3RpdmVOb2RlID0gbm9kZS5kYXRhLm9yaWdpbkl0ZW07XG4gICAgICAgIHRoaXMudmFsdWUgPSBub2RlLmRhdGEub3JpZ2luSXRlbTtcbiAgICAgICAgLy8gQ29uZmlndXJhYmxlIGNsb3NlIG9uIG5vZGUgc2VsZWN0ZWRcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VPbk5vZGVTZWxlY3RlZCkge1xuICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmFsbG93VW5zZWxlY3QpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRBY3RpdmVOb2RlID0gbnVsbDtcbiAgICAgICAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmRhdGEuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgIGlmICh0aGlzLmNsb3NlT25Ob2RlU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW1pdEV2ZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIGVtaXRFdmVudHMoKSB7XG4gICAgdGhpcy52aXN1YWxpemVTZWxlY3RlZEl0ZW1zKCk7XG4gICAgdGhpcy5vbkNoYW5nZSh0aGlzLnZhbHVlKTtcbiAgICB0aGlzLnZhbHVlQ2hhbmdlZC5lbWl0KHRoaXMuc2VsZWN0ZWRWYWx1ZSgpKTtcbiAgfVxuXG4gIHZpc3VhbGl6ZVNlbGVjdGVkSXRlbXMoKSB7XG4gICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcbiAgICAgIHRoaXMudmlzdWFsaXplTXVsdGlwbGVWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZpc3VhbGl6ZVNpbmdsZVZhbHVlKCk7XG4gICAgfVxuICB9XG5cbiAgdmlzdWFsaXplTXVsdGlwbGVWYWx1ZSgpIHtcbiAgICBpZiAodGhpcy50cmVlICYmIHRoaXMudHJlZS50cmVlRmFjdG9yeSkge1xuICAgICAgY29uc3Qgc2VsZWN0ZWROb2RlcyA9IHRoaXMuc2VsZWN0ZWRWYWx1ZSgpIGFzIGFueVtdO1xuICAgICAgY29uc3QgdmFsdWVUZXh0ID0gc2VsZWN0ZWROb2Rlcy5tYXAoKF8pID0+IF9bdGhpcy50cmVlTm9kZVRpdGxlS2V5XSk7XG4gICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHZhbHVlVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbXB0eUlucHV0KCk7XG4gICAgfVxuICB9XG5cbiAgdmlzdWFsaXplU2luZ2xlVmFsdWUoKSB7XG4gICAgaWYgKHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZVt0aGlzLnRyZWVOb2RlVGl0bGVLZXldKSB7XG4gICAgICBjb25zdCB2YWx1ZVRleHQgPSB0aGlzLnZhbHVlW3RoaXMudHJlZU5vZGVUaXRsZUtleV07XG4gICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHZhbHVlVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbXB0eUlucHV0KCk7XG4gICAgfVxuICB9XG5cbiAgZW1wdHlJbnB1dCgpIHtcbiAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9ICcnO1xuICB9XG5cbiAgc2VsZWN0ZWRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuXG4gIHJlc3BvbnNlUG9wcGVyQ2hhbmdlKHBvcHBlclN0YXRlOiBhbnkpIHtcbiAgICBpZiAocG9wcGVyU3RhdGUgJiYgdGhpcy5zZWFyY2hhYmxlKSB7XG4gICAgICB0aGlzLmZvY3VzU2VhcmNoSW5wdXQoKTtcbiAgICB9XG5cbiAgICBpZiAocG9wcGVyU3RhdGUgJiYgdGhpcy52aXJ0dWFsU2Nyb2xsICYmIHRoaXMudHJlZSkge1xuICAgICAgdGhpcy50cmVlLm9wZXJhYmxlVHJlZS52aWV3UG9ydC5jaGVja1ZpZXdwb3J0U2l6ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZm9jdXNTZWFyY2hJbnB1dCgpIHtcbiAgICBpZiAodGhpcy5zZWFyY2hJbnB1dC5maWx0ZXJJbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudCkge1xuICAgICAgdGhpcy5zZWFyY2hJbnB1dC5maWx0ZXJJbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaChzZWFyY2hTdHJpbmcpIHtcbiAgICBjb25zdCBzZWFyY2hSZXMgPSB0aGlzLnRyZWUudHJlZUZhY3Rvcnkuc2VhcmNoVHJlZShzZWFyY2hTdHJpbmcsIHRydWUpO1xuICAgIGlmICh0eXBlb2Ygc2VhcmNoUmVzID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMubm9SZWNvcmQgPSBzZWFyY2hSZXM7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNlYXJjaFJlcykpIHtcbiAgICAgIHRoaXMubm9SZWNvcmQgPSBzZWFyY2hSZXMuZXZlcnkoKHJlcykgPT4gIXJlcyk7XG4gICAgfVxuICAgIHRoaXMudHJlZS50cmVlRmFjdG9yeS5nZXRGbGF0dGVuTm9kZXMoKTtcbiAgICB0aGlzLnBvcHBlci51cGRhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJTZWFyY2hMaXN0ZW5lcigpIHtcbiAgICB0aGlzLnNlYXJjaElucHV0TW9kZWwudmFsdWVDaGFuZ2VzLnBpcGUoZGVib3VuY2VUaW1lKDUwMCksIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpLnN1YnNjcmliZSgoc2VhcmNoU3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLnNlYXJjaChzZWFyY2hTdHJpbmcpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYXJWYWx1ZShldmVudCwgaXRlbSwgaW5kZXg/KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAodGhpcy5tdWx0aXBsZSkge1xuICAgICAgdGhpcy50cmVlLnRyZWVGYWN0b3J5LmNoZWNrTm9kZXNCeUlkKGl0ZW1bdGhpcy50cmVlTm9kZUlkS2V5XSwgZmFsc2UpO1xuICAgICAgY29uc3QgY3VyVmFsdWUgPSB0aGlzLnRyZWUudHJlZUZhY3RvcnkuZ2V0Q2hlY2tlZE5vZGVzKCk7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5sZWFmT25seVxuICAgICAgICA/IGN1clZhbHVlLmZpbHRlcigobm9kZSkgPT4gIW5vZGUuZGF0YS5pc1BhcmVudCkubWFwKChub2RlKSA9PiBub2RlLmRhdGEub3JpZ2luSXRlbSlcbiAgICAgICAgOiBjdXJWYWx1ZS5tYXAoKG5vZGUpID0+IG5vZGUuZGF0YS5vcmlnaW5JdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGVhckFsbCgpO1xuICAgIH1cbiAgICB0aGlzLmVtaXRFdmVudHMoKTtcbiAgfVxuXG4gIGNsZWFyQWxsKCkge1xuICAgIHRoaXMudHJlZS50cmVlRmFjdG9yeS5kZWFjdGl2YXRlQWxsTm9kZXMoKTtcbiAgICB0aGlzLmN1cnJlbnRBY3RpdmVOb2RlID0gbnVsbDtcbiAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgfVxuXG4gIG9uTm9kZVRvZ2dsZWQoJGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucG9wcGVyKSB7XG4gICAgICB0aGlzLnBvcHBlci51cGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5ub2RlVG9nZ2xlRXZlbnQuZW1pdCgkZXZlbnQpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiZGV2dWktdHJlZS1zZWxlY3Qge3sgdXNlckFnZW50IH19XCI+XG4gIDxkLXBvcHBlci1jb21wb25lbnRcbiAgICBbcG9wcG92ZXJBcHBlbmREaXJlY3Rpb25dPVwiY3VzdG9tVmlld0RpcmVjdGlvblwiXG4gICAgWyhvcGVuKV09XCJpc09wZW5cIlxuICAgIFtmbHVpZFBvcHBlcl09XCIhd2lkdGhcIlxuICAgIChvcGVuQ2hhbmdlKT1cInJlc3BvbnNlUG9wcGVyQ2hhbmdlKCRldmVudClcIlxuICAgIFthcHBlbmRUb109XCJhcHBlbmRUb1wiXG4gICAgW3Nob3dBbmltYXRpb25dPVwic2hvd0FuaW1hdGlvblwiXG4gICAgI3BvcHBlclxuICA+XG4gICAgPGRpdlxuICAgICAgI3NlbGVjdEhvc3RcbiAgICAgIGNsYXNzPVwiZGV2dWktc2VsZWN0LWlucHV0IGRldnVpLWZvcm0tY29udHJvbCBkZXZ1aS10cmVlLXNlbGVjdC1pbnB1dCBkZXZ1aS1kcm9wZG93bi1vcmlnaW5cIlxuICAgICAgKGNsaWNrKT1cInRvZ2dsZSgpXCJcbiAgICAgIGF1dG9jb21wbGV0ZT1cIm9mZlwiXG4gICAgICBbbmdDbGFzc109XCJ7IGRpc2FibGVkOiBkaXNhYmxlZCwgJ2RldnVpLXNlbGVjdC1uby1sYWJlbCc6ICFlbmFibGVMYWJlbGl6YXRpb24gfVwiXG4gICAgICByZWFkb25seVxuICAgICAgcG9wcGVyLWFjdGl2YXRvclxuICAgID5cbiAgICAgIHt7ICF2YWx1ZVR5cGUgPyBwbGFjZWhvbGRlciA6ICcnIH19XG4gICAgICA8ZGl2IGNsYXNzPVwiZGV2dWktc2VsZWN0LWl0ZW1cIiAqbmdJZj1cInZhbHVlVHlwZSA9PT0gJ29iamVjdCcgJiYgZW5hYmxlTGFiZWxpemF0aW9uICYmICFjdXN0b21JdGVtVGVtcGxhdGVcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXZ1aS1zZWxlY3QtaXRlbS1jb250ZW50XCI+e3sgdmFsdWVbdHJlZU5vZGVUaXRsZUtleV0gfX08L3NwYW4+XG4gICAgICAgIDxzcGFuICpuZ0lmPVwiIWRpc2FibGVkXCIgY2xhc3M9XCJkZXZ1aS1zZWxlY3QtaXRlbS1jbGVhci1pY29uXCIgKGNsaWNrKT1cImNsZWFyVmFsdWUoJGV2ZW50LCB2YWx1ZSlcIj5cbiAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICB3aWR0aD1cIjZweFwiXG4gICAgICAgICAgICBoZWlnaHQ9XCI2cHhcIlxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMCAxMFwiXG4gICAgICAgICAgICB2ZXJzaW9uPVwiMS4xXCJcbiAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTMuMDAwMDAwLCAtMy4wMDAwMDApXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiPlxuICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICBkPVwiTTExLjY0MjYsMy4xOTgxNjkzNiBDMTEuOTIzOTk3NCwyLjkxNTc0NTEyIDEyLjQxMzE2MjYsMi45Mzc4NDg5MSAxMi43MzUyMTA4LDMuMjQ3NTEwNTcgQzEzLjA1NzE5OTgsMy41NTcyMzAyIDEzLjA5MDEyOTgsNC4wMzcyMzQxNiAxMi44MDg3MzI0LDQuMzE5NjU4MzkgTDkuMTQwNjQ2NjYsNy45OTkwMDE4MyBMMTIuODA4NzMyNCwxMS42ODAzNDE2IEMxMy4wNjQ1NDgyLDExLjkzNzA5MDkgMTMuMDYwNTg5MywxMi4zNTcxMjkyIDEyLjgxNTg0MDIsMTIuNjY0MDc0OSBMMTIuNzM1MjEwOCwxMi43NTI0ODk0IEMxMi40MTMxNjI2LDEzLjA2MjE1MTEgMTEuOTIzOTk3NCwxMy4wODQyNTQ4IDExLjY0MjYsMTIuODAxODMwNiBMOCw5LjE0NDg5MDIxIEw0LjM1NzQwMDAzLDEyLjgwMTgzMDYgQzQuMTAxNTg0MjIsMTMuMDU4NTggMy42NzQwNTk0LDEzLjA2MzY1MzIgMy4zNTY0ODIyNSwxMi44Mjk4MDAzIEwzLjI2NDc4OTE5LDEyLjc1MjQ4OTQgQzIuOTQyODAwMjEsMTIuNDQyNzY5OCAyLjkwOTg3MDIzLDExLjk2Mjc2NTggMy4xOTEyNjc2MiwxMS42ODAzNDE2IEw2Ljg1ODMzNDksNy45OTkwMDE4MyBMMy4xOTEyNjc2Miw0LjMxOTY1ODM5IEMyLjkzNTQ1MTgxLDQuMDYyOTA5MDggMi45Mzk0MTA2OCwzLjY0Mjg3MDc2IDMuMTg0MTU5NzUsMy4zMzU5MjUxIEwzLjI2NDc4OTE5LDMuMjQ3NTEwNTcgQzMuNTg2ODM3MzUsMi45Mzc4NDg5MSA0LjA3NjAwMjY0LDIuOTE1NzQ1MTIgNC4zNTc0MDAwMywzLjE5ODE2OTM2IEw4LDYuODU0MTExNjEgTDExLjY0MjYsMy4xOTgxNjkzNiBaXCJcbiAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8L2c+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImRldnVpLXNlbGVjdC1pdGVtIGRldnVpLW5vLWxhYmVsLWl0ZW1cIiAqbmdJZj1cInZhbHVlVHlwZSA9PT0gJ29iamVjdCcgJiYgIWVuYWJsZUxhYmVsaXphdGlvbiAmJiAhY3VzdG9tSXRlbVRlbXBsYXRlXCI+XG4gICAgICAgIHt7IHZhbHVlW3RyZWVOb2RlVGl0bGVLZXldIH19XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS1zZWxlY3QtaXRlbSBkZXZ1aS1uby1sYWJlbC1pdGVtXCIgKm5nSWY9XCJ2YWx1ZVR5cGUgPT09ICdvYmplY3QnICYmIGN1c3RvbUl0ZW1UZW1wbGF0ZVwiPlxuICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiY3VzdG9tSXRlbVRlbXBsYXRlXCIgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgaXRlbTogdmFsdWUgfVwiPjwvbmctdGVtcGxhdGU+XG4gICAgICA8L2Rpdj5cbiAgICAgIDx1bCBjbGFzcz1cImRldnVpLXNlbGVjdC1saXN0XCIgKm5nSWY9XCJ2YWx1ZVR5cGUgPT09ICdhcnJheScgJiYgZW5hYmxlTGFiZWxpemF0aW9uICYmICFjdXN0b21JdGVtVGVtcGxhdGVcIj5cbiAgICAgICAgPGxpIGNsYXNzPVwiZGV2dWktc2VsZWN0LWl0ZW1cIiAqbmdGb3I9XCJsZXQgaXRlbSBvZiB2YWx1ZTsgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGV2dWktc2VsZWN0LWl0ZW0tY29udGVudFwiPnt7IGl0ZW1bdHJlZU5vZGVUaXRsZUtleV0gfX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gKm5nSWY9XCIhZGlzYWJsZWRcIiBjbGFzcz1cImRldnVpLXNlbGVjdC1pdGVtLWNsZWFyLWljb25cIiAoY2xpY2spPVwiY2xlYXJWYWx1ZSgkZXZlbnQsIGl0ZW0sIGkpXCI+XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIHdpZHRoPVwiNnB4XCJcbiAgICAgICAgICAgICAgaGVpZ2h0PVwiNnB4XCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMCAxMFwiXG4gICAgICAgICAgICAgIHZlcnNpb249XCIxLjFcIlxuICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGcgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTMuMDAwMDAwLCAtMy4wMDAwMDApXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiPlxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0xMS42NDI2LDMuMTk4MTY5MzYgQzExLjkyMzk5NzQsMi45MTU3NDUxMiAxMi40MTMxNjI2LDIuOTM3ODQ4OTEgMTIuNzM1MjEwOCwzLjI0NzUxMDU3IEMxMy4wNTcxOTk4LDMuNTU3MjMwMiAxMy4wOTAxMjk4LDQuMDM3MjM0MTYgMTIuODA4NzMyNCw0LjMxOTY1ODM5IEw5LjE0MDY0NjY2LDcuOTk5MDAxODMgTDEyLjgwODczMjQsMTEuNjgwMzQxNiBDMTMuMDY0NTQ4MiwxMS45MzcwOTA5IDEzLjA2MDU4OTMsMTIuMzU3MTI5MiAxMi44MTU4NDAyLDEyLjY2NDA3NDkgTDEyLjczNTIxMDgsMTIuNzUyNDg5NCBDMTIuNDEzMTYyNiwxMy4wNjIxNTExIDExLjkyMzk5NzQsMTMuMDg0MjU0OCAxMS42NDI2LDEyLjgwMTgzMDYgTDgsOS4xNDQ4OTAyMSBMNC4zNTc0MDAwMywxMi44MDE4MzA2IEM0LjEwMTU4NDIyLDEzLjA1ODU4IDMuNjc0MDU5NCwxMy4wNjM2NTMyIDMuMzU2NDgyMjUsMTIuODI5ODAwMyBMMy4yNjQ3ODkxOSwxMi43NTI0ODk0IEMyLjk0MjgwMDIxLDEyLjQ0Mjc2OTggMi45MDk4NzAyMywxMS45NjI3NjU4IDMuMTkxMjY3NjIsMTEuNjgwMzQxNiBMNi44NTgzMzQ5LDcuOTk5MDAxODMgTDMuMTkxMjY3NjIsNC4zMTk2NTgzOSBDMi45MzU0NTE4MSw0LjA2MjkwOTA4IDIuOTM5NDEwNjgsMy42NDI4NzA3NiAzLjE4NDE1OTc1LDMuMzM1OTI1MSBMMy4yNjQ3ODkxOSwzLjI0NzUxMDU3IEMzLjU4NjgzNzM1LDIuOTM3ODQ4OTEgNC4wNzYwMDI2NCwyLjkxNTc0NTEyIDQuMzU3NDAwMDMsMy4xOTgxNjkzNiBMOCw2Ljg1NDExMTYxIEwxMS42NDI2LDMuMTk4MTY5MzYgWlwiXG4gICAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICAgIDx1bCBjbGFzcz1cImRldnVpLXNlbGVjdC1saXN0XCIgKm5nSWY9XCJ2YWx1ZVR5cGUgPT09ICdhcnJheScgJiYgIWVuYWJsZUxhYmVsaXphdGlvbiAmJiAhY3VzdG9tSXRlbVRlbXBsYXRlXCI+XG4gICAgICAgIDxsaSBjbGFzcz1cImRldnVpLXNlbGVjdC1pdGVtIGRldnVpLW5vLWxhYmVsLWl0ZW1cIiAqbmdGb3I9XCJsZXQgaXRlbSBvZiB2YWx1ZTsgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgIHt7IGl0ZW1bdHJlZU5vZGVUaXRsZUtleV0gfX1cbiAgICAgICAgICA8c3BhbiAqbmdJZj1cInZhbHVlTGVuZ3RoICYmIGkgPCB2YWx1ZUxlbmd0aCAtIDFcIj4sIDwvc3Bhbj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgICA8dWwgY2xhc3M9XCJkZXZ1aS1zZWxlY3QtbGlzdFwiICpuZ0lmPVwidmFsdWVUeXBlID09PSAnYXJyYXknICYmIGN1c3RvbUl0ZW1UZW1wbGF0ZVwiPlxuICAgICAgICA8bGkgY2xhc3M9XCJkZXZ1aS1zZWxlY3QtaXRlbSBkZXZ1aS1uby1sYWJlbC1pdGVtXCIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgdmFsdWVcIj5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiY3VzdG9tSXRlbVRlbXBsYXRlXCIgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgaXRlbTogaXRlbSB9XCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBwb3BwZXItcHJlcGVuZCBjbGFzcz1cImRldnVpLXRyZWUtc2VsZWN0IGRldnVpLXNlYXJjaC1jb250YWluZXIgZGV2dWktZm9ybS1ncm91cCBkZXZ1aS1oYXMtZmVlZGJhY2tcIiAqbmdJZj1cInNlYXJjaGFibGVcIj5cbiAgICAgIDxkLXNlYXJjaCAjc2VhcmNoSW5wdXRNb2RlbD1cIm5nTW9kZWxcIiAjc2VhcmNoSW5wdXQgWyhuZ01vZGVsKV09XCJzZWFyY2hTdHJpbmdcIiBbcGxhY2Vob2xkZXJdPVwiJydcIj48L2Qtc2VhcmNoPlxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwiZGV2dWktdHJlZS1zZWxlY3QgZGV2dWktb3B0aW9ucy1jb250YWluZXJcIlxuICAgICAgI29wdGlvbnNDb250YWluZXJcbiAgICAgIHBvcHBlci1jb250YWluZXJcbiAgICAgIFtuZ1N0eWxlXT1cInsgd2lkdGg6IHdpZHRoLCBtYXhIZWlnaHQ6IHZhbGlkVmlydHVhbFNjcm9sbEhlaWdodCA9PT0gdW5kZWZpbmVkID8gJzMwMHB4JyA6IHZhbGlkVmlydHVhbFNjcm9sbEhlaWdodCArICdweCcgfVwiXG4gICAgPlxuICAgICAgPGQtb3BlcmFibGUtdHJlZVxuICAgICAgICAjdHJlZVxuICAgICAgICBbc3R5bGUuZGlzcGxheV09XCJ0cmVlRGF0YSAmJiB0cmVlRGF0YS5sZW5ndGggPiAwICYmICFub1JlY29yZCA/ICdibG9jaycgOiAnbm9uZSdcIlxuICAgICAgICBbdHJlZV09XCJ0cmVlRGF0YVwiXG4gICAgICAgIFt0cmVlTm9kZUlkS2V5XT1cInRyZWVOb2RlSWRLZXlcIlxuICAgICAgICBbdHJlZU5vZGVDaGlsZHJlbktleV09XCJ0cmVlTm9kZUNoaWxkcmVuS2V5XCJcbiAgICAgICAgW2NoZWNrYm94RGlzYWJsZWRLZXldPVwiZGlzYWJsZWRLZXlcIlxuICAgICAgICBbY2hlY2tib3hJbnB1dF09XCJjaGVja2JveElucHV0XCJcbiAgICAgICAgW2NoZWNrYWJsZV09XCJtdWx0aXBsZVwiXG4gICAgICAgIFtjaGVja2FibGVSZWxhdGlvbl09XCJjaGVja2FibGVSZWxhdGlvblwiXG4gICAgICAgIFtjYW5BY3RpdmF0ZU5vZGVdPVwiIW11bHRpcGxlXCJcbiAgICAgICAgW2NhbkFjdGl2YXRlUGFyZW50Tm9kZV09XCIhbGVhZk9ubHlcIlxuICAgICAgICAobm9kZUNoZWNrZWQpPVwib25PcGVyYWJsZU5vZGVDaGVja2VkKCRldmVudClcIlxuICAgICAgICAobm9kZVNlbGVjdGVkKT1cIm9uT3BlcmFibGVOb2RlU2VsZWN0ZWQoJGV2ZW50KVwiXG4gICAgICAgIChub2RlVG9nZ2xlZCk9XCJvbk5vZGVUb2dnbGVkKCRldmVudClcIlxuICAgICAgICBbaWNvblBhcmVudE9wZW5dPVwiaWNvblBhcmVudE9wZW5cIlxuICAgICAgICBbaWNvblBhcmVudENsb3NlXT1cImljb25QYXJlbnRDbG9zZVwiXG4gICAgICAgIFtpY29uTGVhZl09XCJpY29uTGVhZlwiXG4gICAgICAgIFt0cmVlTm9kZVRpdGxlS2V5XT1cInRyZWVOb2RlVGl0bGVLZXlcIlxuICAgICAgICBbaWNvblRlbXBsYXRlUG9zaXRpb25dPVwiaWNvblRlbXBsYXRlUG9zaXRpb25cIlxuICAgICAgICBbdmlydHVhbFNjcm9sbF09XCJ2aXJ0dWFsU2Nyb2xsXCJcbiAgICAgICAgW2l0ZW1TaXplXT1cInZpcnR1YWxTY3JvbGxJdGVtU2l6ZVwiXG4gICAgICAgIFttaW5CdWZmZXJQeF09XCJ2aXJ0dWFsU2Nyb2xsTWluQnVmZmVyUHhcIlxuICAgICAgICBbbWF4QnVmZmVyUHhdPVwidmlydHVhbFNjcm9sbE1heEJ1ZmZlclB4XCJcbiAgICAgICAgW3ZpcnR1YWxTY3JvbGxIZWlnaHRdPVwidmFsaWRWaXJ0dWFsU2Nyb2xsSGVpZ2h0ICsgJ3B4J1wiXG4gICAgICAgIChhZnRlclRyZWVJbml0KT1cImFmdGVyVHJlZUluaXQoKVwiXG4gICAgICAgIGNsYXNzPVwiZGV2dWktdHJlZVwiXG4gICAgICA+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSAqbmdJZj1cImljb25UZW1wbGF0ZUlucHV0IHx8IGljb25UZW1wbGF0ZVBhc3NUaHJvdWdoXCIgI2ljb25UZW1wbGF0ZSBsZXQtbm9kZT1cIm5vZGVcIj5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiaWNvblRlbXBsYXRlSW5wdXQgfHwgaWNvblRlbXBsYXRlUGFzc1Rocm91Z2hcIiBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyBub2RlOiBub2RlIH1cIj5cbiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgPC9kLW9wZXJhYmxlLXRyZWU+XG4gICAgICA8ZGl2ICpuZ0lmPVwiIXRyZWVEYXRhIHx8IHRyZWVEYXRhLmxlbmd0aCA8PSAwXCIgY2xhc3M9XCJkZXZ1aS1uby1kYXRhLXRpcFwiPlxuICAgICAgICB7eyBpMThuQ29tbW9uVGV4dD8ubm9EYXRhIH19XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgKm5nSWY9XCJub1JlY29yZFwiIGNsYXNzPVwiZGV2dWktbm8tZGF0YS10aXBcIj5cbiAgICAgICAge3sgaTE4bkNvbW1vblRleHQ/Lm5vUmVjb3Jkc0ZvdW5kIH19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0g6Ieq5a6a5LmJ5Yy65Z+fIC0tPlxuICAgIDxkaXYgcG9wcGVyLWFwcGVuZCAqbmdJZj1cImN1c3RvbVZpZXdUZW1wbGF0ZVwiPlxuICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImN1c3RvbVZpZXdUZW1wbGF0ZVwiIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogdGhpcyB9XCI+PC9uZy10ZW1wbGF0ZT5cbiAgICA8L2Rpdj5cbiAgPC9kLXBvcHBlci1jb21wb25lbnQ+XG4gIDxkaXZcbiAgICBbbmdDbGFzc109XCJ7IGRpc2FibGVkOiBkaXNhYmxlZCwgY2xlYXI6IGFsbG93Q2xlYXIgfVwiXG4gICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IGNsZWFyQWxsKCk7IGVtaXRFdmVudHMoKVwiXG4gID48L2Rpdj5cbiAgPHNwYW5cbiAgICBjbGFzcz1cImRldnVpLXNlbGVjdC1jaGV2cm9uLWljb25cIlxuICAgIFtjbGFzcy5vcGVuXT1cImlzT3BlblwiXG4gICAgW25nQ2xhc3NdPVwieyBkaXNhYmxlZDogZGlzYWJsZWQsICdhbGxvdy1jbGVhcic6IGFsbG93Q2xlYXIsICdkZXZ1aS1zZWxlY3QtY2hldnJvbi1pY29uLWFuaW1hdGlvbic6IHNob3dBbmltYXRpb24gfVwiXG4gID5cbiAgICA8c3ZnXG4gICAgICB3aWR0aD1cIjE0cHhcIlxuICAgICAgaGVpZ2h0PVwiMTRweFwiXG4gICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgIHZlcnNpb249XCIxLjFcIlxuICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgID5cbiAgICAgIDxnIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZD1cIk0xMi4xNDY0NDY2LDYuODUzNTUzMzkgTDguMzUzNTUzMzksMTAuNjQ2NDQ2NiBDOC4xNTgyOTEyNCwxMC44NDE3MDg4IDcuODQxNzA4NzYsMTAuODQxNzA4OCA3LjY0NjQ0NjYxLDEwLjY0NjQ0NjYgTDMuODUzNTUzMzksNi44NTM1NTMzOSBDMy42NTgyOTEyNCw2LjY1ODI5MTI0IDMuNjU4MjkxMjQsNi4zNDE3MDg3NiAzLjg1MzU1MzM5LDYuMTQ2NDQ2NjEgQzMuOTQ3MzIxNTgsNi4wNTI2Nzg0MiA0LjA3NDQ5ODU0LDYgNC4yMDcxMDY3OCw2IEwxMS43OTI4OTMyLDYgQzEyLjA2OTAzNTYsNiAxMi4yOTI4OTMyLDYuMjIzODU3NjMgMTIuMjkyODkzMiw2LjUgQzEyLjI5Mjg5MzIsNi42MzI2MDgyNCAxMi4yNDAyMTQ4LDYuNzU5Nzg1MiAxMi4xNDY0NDY2LDYuODUzNTUzMzkgWlwiXG4gICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgID48L3BhdGg+XG4gICAgICA8L2c+XG4gICAgPC9zdmc+XG4gIDwvc3Bhbj5cbjwvZGl2PlxuIl19