import { ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, Input, Output, Renderer2 } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { I18nService } from 'ng-devui/i18n';
import { DatePickerConfigService as DatePickerConfig } from './date-picker.config.service';
import { SelectDateRangeChangeReason } from './date-range-change-event-args.model';
import { DatepickerComponent as SingleDatepickerComponent } from './datepicker.component';
import * as i0 from "@angular/core";
import * as i1 from "./date-picker.config.service";
import * as i2 from "ng-devui/i18n";
import * as i3 from "ng-devui/button";
import * as i4 from "@angular/common";
import * as i5 from "@angular/forms";
export class SingleDateRangePickerComponent extends SingleDatepickerComponent {
    constructor(elementRef, renderer, datePickerConfig, changeDetectorRef, i18n) {
        super(elementRef, renderer, datePickerConfig, changeDetectorRef, i18n);
        this.elementRef = elementRef;
        this.renderer = renderer;
        this.datePickerConfig = datePickerConfig;
        this.changeDetectorRef = changeDetectorRef;
        this.i18n = i18n;
        this.selectedRange = Array(2);
        this.rangePicker = false;
        this.isAuxiliary = false;
        this.currentCalendars = Array(2);
        this.hoverOnDate = new EventEmitter();
        this.rangeSelected = new EventEmitter();
        this.rangeSelecting = new EventEmitter();
        this.syncPickerPair = new EventEmitter();
        this.consolidateTime = new EventEmitter();
        this.setI18nText();
    }
    ngOnInit() {
        [this.rangeStart, this.rangeEnd] = this.selectedRange;
        const nowDate = this.selectedDate || new Date();
        this.nowMinYear = (nowDate).getFullYear() - Math.floor(this._yearNumber / 2) < this.minDate.getFullYear() ?
            this.minDate.getFullYear() : (nowDate).getFullYear() - Math.floor(this._yearNumber / 2);
        this.nowMaxYear = (nowDate).getFullYear() + Math.floor(this._yearNumber / 2) > this.maxDate.getFullYear() ?
            this.maxDate.getFullYear() : (nowDate).getFullYear() + Math.floor(this._yearNumber / 2);
        if (!this.isAuxiliary && !this.rangeStart) {
            // 主面板，未选择开始日期的情况
            this.onSelectDateChanged();
            this.onDisplayWeeksChange();
            this.onYearRangeChange();
            this.initDatePicker();
        }
        else if (this.isAuxiliary && !this.rangeEnd) {
            // 副面板，未选择结束日期的情况
            this.onSelectDateChanged();
            this.initDatePicker();
            this.onYearRangeChange();
            this.onNextMonth('init');
            this.selectedDate = new Date(this.currentYear, this.currentMonthIndex);
        }
        else if (!this.isAuxiliary && this.rangeStart) {
            // 主面板，已选择开始日期的情况
            this.selectedDate = this.rangeStart;
            super.ngOnInit();
        }
        else if (this.isAuxiliary && this.rangeEnd) {
            // 副面板，已选择结束日期的情况
            const rangeStart = this.convertDate(this.rangeStart);
            const rangeEnd = this.convertDate(this.rangeEnd);
            this.currentYear = rangeEnd.getFullYear();
            this.currentMonthIndex = rangeEnd.getMonth();
            this.selectedDate = new Date(this.currentYear, this.currentMonthIndex);
            super.ngOnInit();
            // 处理选择的日期范围开始和结束在同一个月的情况
            if (rangeStart && rangeEnd && rangeStart.getFullYear() === rangeEnd.getFullYear() &&
                rangeStart.getMonth() === rangeEnd.getMonth()) {
                this.onNextMonth('init');
            }
            this.selectedDate = new Date(this.currentYear, this.currentMonthIndex);
        }
        this.availableMonths = this.onDisplayMonthsChange();
        this.notifyCalenderChange();
    }
    /*
    **  @param invocation:调用时机
    */
    onSelectDate($event, date, invocation) {
        if ($event.stopPropagation) {
            $event.stopPropagation();
        }
        if (invocation !== 'init') {
            if (this.isDisabledDay(date)) {
                $event.preventDefault();
                return;
            }
            const curDate = this.showTime && date ? this.setTime(date) : date;
            this.selectRange(curDate);
            this.selectedDate = this.isAuxiliary ? this.rangeEnd : this.rangeStart;
        }
    }
    emitHoverDate($event, date) {
        if (this.selectingRange && date.getTime() <= this.maxDate.getTime() && date.getTime() >= this.minDate.getTime()) {
            this.hoverOnDate.emit(date);
        }
    }
    selectStart(date) {
        this.rangeStart = new Date(this.convertDate(date).setHours(0, 0, 0));
    }
    selectEnd(date) {
        this.selectingRange = false;
        this.rangeEnd = new Date(this.convertDate(date).setHours(23, 59, 59));
        if (!!this.rangeStart && !!this.rangeEnd) {
            this.rangeChange(this.ensureRangeValueOrder([this.rangeStart, this.rangeEnd], true), SelectDateRangeChangeReason.date);
        }
    }
    convertDate(date) {
        return date ? this.dateConverter.parse(date) : null;
    }
    selectRange(date, passive = false) {
        if (this.disabled) {
            return;
        }
        if (!this.rangeStart || (!!this.rangeStart && !!this.rangeEnd)) {
            this.rangeEnd = null;
            this.rangeStart = null;
            this.selectStart(date);
            this.selectingRange = true;
            if (!passive) {
                this.rangeSelecting.emit(this.rangeStart);
            }
        }
        else {
            this.selectEnd(date);
        }
    }
    rangeChange(range, reason) {
        this.selectedRange = range;
        this.notifyValueChange(range, reason);
    }
    writeValue(selectedRange) {
        this.selectedRange = selectedRange;
    }
    notifyValueChange(selectedRange, reason) {
        const currentReason = typeof reason === 'number' ? reason : SelectDateRangeChangeReason.time;
        this.onChange(selectedRange);
        this.rangeSelected.emit({
            reason: currentReason,
            selectedRange: selectedRange
        });
    }
    isSelectDay(date) {
        let rangeSource = this.selectedRange;
        if (this.selectingRange) {
            rangeSource = [this.rangeStart, this.previewEnd];
        }
        if ((!Array.isArray(rangeSource))) {
            return;
        }
        return rangeSource.some((selectedDate) => {
            if (!selectedDate || !date) {
                return false;
            }
            return (date.getFullYear() === selectedDate.getFullYear() &&
                date.getMonth() === selectedDate.getMonth() &&
                date.getDate() === selectedDate.getDate());
        });
    }
    isBetweenDay(date) {
        if (Array.isArray(this.selectedRange) && this.selectedRange.every(day => !!day)) {
            const index = this.selectedRange.findIndex(day => {
                return date.getFullYear() === day.getFullYear() &&
                    date.getMonth() === day.getMonth() &&
                    date.getDate() === day.getDate();
            });
            return ['devui-day-start', 'devui-day-end'][index];
        }
        else {
            return;
        }
    }
    isDisabledTime() {
        const selectedSide = this.isAuxiliary ? this.rangeEnd : this.rangeStart;
        return selectedSide ? super.isDisabledDay(selectedSide) : true;
    }
    timeUp(type) {
        switch (type) {
            case 'h': {
                Number(this.currentHour) < 23 ? this.currentHour = (Number(this.currentHour) + 1) : this.currentHour = 0;
                break;
            }
            case 'm': {
                Number(this.currentMinute) < 59 ? this.currentMinute = (Number(this.currentMinute) + 1) : this.currentMinute = 0;
                break;
            }
            case 's': {
                Number(this.currentSecond) < 59 ? this.currentSecond = (Number(this.currentSecond) + 1) : this.currentSecond = 0;
                break;
            }
        }
        this.timeChange();
    }
    timeDown(type) {
        switch (type) {
            case 'h': {
                Number(this.currentHour) > 0 ? this.currentHour = (Number(this.currentHour) - 1) : this.currentHour = 23;
                break;
            }
            case 'm': {
                Number(this.currentMinute) > 0 ? this.currentMinute = (Number(this.currentMinute) - 1) : this.currentMinute = 59;
                break;
            }
            case 's': {
                Number(this.currentSecond) > 0 ? this.currentSecond = (Number(this.currentSecond) - 1) : this.currentSecond = 59;
                break;
            }
        }
        this.timeChange();
    }
    fixTime(event, type) {
        // 由于keypress不监听微软输入法需要使用keydown
        // 而keydown中微软输入法的key是'Process'，且keydown没有charCode，所以需要用code判断
        // 故退格和输入使用同一个事件
        let timeType;
        const min = 0;
        let max = 59;
        switch (type) {
            case 'h': {
                timeType = 'currentHour';
                max = 23;
                break;
            }
            case 'm': {
                timeType = 'currentMinute';
                break;
            }
            case 's': {
                timeType = 'currentSecond';
                break;
            }
        }
        let value = event.target['value'];
        const selectionStart = event.target['selectionStart'];
        const selectionEnd = event.target['selectionEnd'];
        // 是数字的时候再处理，分为小键盘和数字键
        if (/^(Digit|Numpad)\d$/.test(event.code)) {
            event.preventDefault();
            let input;
            if (event['clipboardData']) {
                input = event['clipboardData'].getData('text');
            }
            else if (event['code']) {
                input = event['code'].slice(event['code'].length - 1);
            }
            value = value.substring(0, selectionStart) + input + value.substring(selectionEnd);
            if (value.length === 3 && value.indexOf('0') === 0) {
                value = value.slice(1);
            }
        }
        else if (event.keyCode === 8) {
            event.preventDefault();
            value = value.substring(0, selectionStart - 1) + value.substring(selectionEnd);
            if (value.length < 2) {
                value = '0' + value;
            }
        }
        else if (!(event.keyCode >= 37 && event.keyCode <= 40)) {
            // 如果不是上下左右，就阻拦，执行自己的处理
            event.preventDefault();
        }
        if (/^(Digit|Numpad)\d$/.test(event.code) || event.keyCode === 8) {
            if (Number(value) >= min && Number(value) <= max) {
                this[timeType] = value;
                // 防抖，防止提前校验导致错误的校验
                clearTimeout(this.timer);
                this.timer = setTimeout(() => {
                    this.timeChange();
                }, 300);
            }
        }
    }
    timeChange() {
        if (!this.isAuxiliary) {
            this.rangeStart = new Date(this.rangeStart.getFullYear(), this.rangeStart.getMonth(), this.rangeStart.getDate(), Number(this.currentHour), Number(this.currentMinute), Number(this.currentSecond));
        }
        else {
            this.rangeEnd = new Date(this.rangeEnd.getFullYear(), this.rangeEnd.getMonth(), this.rangeEnd.getDate(), Number(this.currentHour), Number(this.currentMinute), Number(this.currentSecond));
        }
        this.rangeChange(this.ensureRangeValueOrder([this.rangeStart, this.rangeEnd]));
    }
    isSameDate(date1, date2) {
        return date1?.getFullYear() === date2?.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();
    }
    ngOnChanges(changes) {
        if (Object.prototype.hasOwnProperty.call(changes, 'selectedRange')) {
            this.selectingRange = false;
            [this.rangeStart, this.rangeEnd] = changes['selectedRange'].currentValue;
        }
    }
    isInRange(date) {
        const rangeStart = this.rangeStart;
        let rangeEnd = this.rangeEnd;
        if (this.selectingRange) {
            rangeEnd = this.previewEnd;
        }
        date = (new Date(date)).getTime();
        return date < Math.max((new Date(rangeStart)).getTime(), (new Date(rangeEnd)).getTime())
            && date > Math.min((new Date(rangeStart)).getTime(), (new Date(rangeEnd)).getTime());
    }
    ensureRangeValueOrder(dateRange, initTime = false) {
        if (Array.isArray(dateRange) && dateRange.length === 2) {
            // 当选择同一天时，判断时间是否顺序错误并修正
            if (this.isSameDate(dateRange[0], dateRange[1]) && dateRange[0].getTime() - dateRange[1].getTime() > 0) {
                this.fixReverseTime(dateRange);
            }
            // 当后一次时间选择比前一次日期靠前时，对时间置换
            if (initTime && dateRange[0].getTime() - dateRange[1].getTime() > 0) {
                dateRange[0] = new Date(dateRange[0].setHours(23, 59, 59));
                dateRange[1] = new Date(dateRange[1].setHours(0, 0, 0));
            }
            if (dateRange.every(day => !!day)) {
                dateRange.sort((a, b) => {
                    return (new Date(a)).getTime() - (new Date(b).getTime());
                });
            }
            else {
                if (!dateRange[0]) {
                    dateRange[0] = dateRange[1];
                    dateRange[1] = null;
                }
            }
        }
        return dateRange;
    }
    fixReverseTime(dateRange) {
        if (this.isAuxiliary) {
            dateRange[1] = dateRange[0];
            this.currentHour = dateRange[1].getHours();
            this.currentMinute = dateRange[1].getMinutes();
            this.currentSecond = dateRange[1].getSeconds();
        }
        else {
            dateRange[0] = dateRange[1];
            this.currentHour = dateRange[0].getHours();
            this.currentMinute = dateRange[0].getMinutes();
            this.currentSecond = dateRange[0].getSeconds();
        }
    }
    onNextMonth(invocation) {
        if (this.hasNextMonth() || invocation === 'init') {
            let maxDateInRange;
            if (invocation === 'init') {
                maxDateInRange = this.selectedRange.reduce((start, end) => new Date(end) > new Date(start) ? end : start);
            }
            super.onNextMonth(maxDateInRange, 'init');
            this.notifyCalenderChange();
        }
    }
    hasNextMonth() {
        let hasNextMonth = true;
        // 副面板只用考虑maxDate的影响
        // 主面板同时考虑maxDate和日历的影响
        // minDate的影响在super.hasNextMonth()中有计算
        if (!this.isAuxiliary && this.currentCalendars[0] && this.currentCalendars[1]) {
            hasNextMonth = this.isBeforeMoreThanOneMonth(this.currentCalendars[0], this.currentCalendars[1]);
        }
        return hasNextMonth && super.hasNextMonth();
    }
    onPreMonth() {
        if (this.hasPreMonth()) {
            super.onPreMonth();
            this.notifyCalenderChange();
        }
    }
    hasPreMonth() {
        let hasPrevMonth = true;
        // 主面板只用考虑minDate的影响
        // 副面板同时考虑minDate和日历的影响
        // minDate的影响在super.hasPreMonth()中有计算
        if (this.isAuxiliary && this.currentCalendars[0] && this.currentCalendars[1]) {
            hasPrevMonth = this.isAfterMoreThanOneMonth(this.currentCalendars[1], this.currentCalendars[0]);
        }
        return hasPrevMonth && super.hasPreMonth();
    }
    hasPreYearOption() {
        let hasPrevYear = true;
        if (this.openChooseYear) {
            if (!this.isAuxiliary) {
                hasPrevYear = this.nowMinYear > this.minDate.getFullYear();
            }
            else {
                hasPrevYear = this.nowMinYear > this.minDate.getFullYear() &&
                    this.isBeforeMoreThanOneYear(this.currentCalendars[0], { year: this.nowMinYear, month: this.currentCalendars[1].month });
            }
        }
        else if (this.currentCalendars[0] && this.currentCalendars[1]) {
            // 主面板只用考虑minDate的影响
            if (!this.isAuxiliary) {
                hasPrevYear = this.currentCalendars[0].year > this.minDate.getFullYear();
            }
            else { // 副面板同时考虑minDate和日历的影响
                hasPrevYear = this.currentCalendars[1].year > this.minDate.getFullYear() &&
                    this.isBeforeMoreThanOneYear(this.currentCalendars[0], this.currentCalendars[1]);
            }
        }
        return hasPrevYear;
    }
    hasNextYearOption() {
        let hasNextYear = true;
        if (this.openChooseYear) {
            if (this.isAuxiliary) {
                hasNextYear = this.nowMaxYear < this.maxDate.getFullYear();
            }
            else {
                hasNextYear = this.nowMaxYear < this.maxDate.getFullYear() &&
                    this.isAfterMoreThanOneYear(this.currentCalendars[1], { year: this.nowMaxYear, month: this.currentCalendars[0].month });
            }
        }
        else if (this.currentCalendars[0] && this.currentCalendars[1]) {
            // 副面板只用考虑maxDate的影响
            if (this.isAuxiliary) {
                hasNextYear = this.currentCalendars[1].year < this.maxDate.getFullYear();
            }
            else { // 主面板同时考虑maxDate和日历的影响
                hasNextYear = this.currentCalendars[0].year < this.maxDate.getFullYear() &&
                    this.isAfterMoreThanOneYear(this.currentCalendars[1], this.currentCalendars[0]);
            }
        }
        return hasNextYear;
    }
    isYearDisable(year) {
        if (this.isAuxiliary) {
            // 先判定主面板是否比附面板小一年以上，是的话disabled为false;
            return !(this.isBeforeMoreThanOneYear(this.currentCalendars[0], { year: year + 1, month: this.currentCalendars[1].month }) ||
                // 主附面板在同一年时，判断主附面板月是否在临界值；
                (this.currentCalendars[0].year === year && this.currentCalendars[0].month !== 11));
        }
        else {
            return !(this.isAfterMoreThanOneYear(this.currentCalendars[1], { year: year - 1, month: this.currentCalendars[0].month }) ||
                (this.currentCalendars[1].year === year && this.currentCalendars[1].month !== 0));
        }
    }
    isMonthDisable(month) {
        if (this.isAuxiliary) {
            return !this.isBeforeMoreThanOneMonth(this.currentCalendars[0], { year: this.currentCalendars[1].year, month: parseInt(month, 10) - 1 + 1 });
        }
        else {
            return !this.isAfterMoreThanOneMonth(this.currentCalendars[1], { year: this.currentCalendars[0].year, month: parseInt(month, 10) - 1 - 1 });
        }
    }
    onPreYear() {
        if (!this.hasPreYearOption()) {
            return;
        }
        if (this.openChooseYear) {
            if (this.nowMinYear - this._yearNumber >= this.minDate.getFullYear()) {
                this.nowMaxYear = this.nowMinYear - 1;
                this.nowMinYear = this.nowMinYear - this._yearNumber;
            }
            else {
                this.nowMaxYear = this.nowMinYear - 1;
                this.nowMinYear = this.minDate.getFullYear();
            }
            this.onYearRangeChange();
        }
        else {
            this.onSelectYear(Number(this.currentYear) - 1);
        }
        this.notifyCalenderChange();
    }
    onNextYear() {
        if (!this.hasNextYearOption()) {
            return;
        }
        if (this.openChooseYear) {
            if (this.nowMaxYear + this._yearNumber <= this.maxDate.getFullYear()) {
                this.nowMinYear = this.nowMaxYear + 1;
                this.nowMaxYear = this.nowMaxYear + this._yearNumber;
            }
            else {
                this.nowMinYear = this.nowMaxYear + 1;
                this.nowMaxYear = this.maxDate.getFullYear();
            }
            this.onYearRangeChange();
        }
        else {
            this.onSelectYear(Number(this.currentYear) + 1);
        }
        this.notifyCalenderChange();
    }
    onSelectMonth(month) {
        if (month.disabled || this.isMonthDisable(month.title)) {
            return;
        }
        this.currentMonthIndex = month.index;
        this.onDisplayWeeksChange();
        this.openChooseMonth = false;
        this.isAuxiliary ? this.currentCalendars[1].month = this.currentMonthIndex : this.currentCalendars[0].month = this.currentMonthIndex;
    }
    onSelectYear(year, $event) {
        if ($event) {
            $event.stopPropagation();
        }
        const yearDisabled = typeof year === 'object' ? year.disabled : false;
        const yearTitle = typeof year === 'object' ? year.title : year;
        if (yearDisabled || this.isYearDisable(year.title)) {
            return;
        }
        this.currentYear = yearTitle;
        this.onDisplayWeeksChange();
        this.availableMonths = this.onDisplayMonthsChange();
        this.openChooseYear = false;
        if (!$event) {
            this.isAuxiliary ? this.currentCalendars[1].year = this.currentYear : this.currentCalendars[0].year = this.currentYear;
            return;
        }
        this.openChooseMonth = true;
        if (this.isAuxiliary) {
            this.currentCalendars[1].year = this.currentYear;
            this.currentCalendars[1].month = 11;
            this.currentMonthIndex = 11;
        }
        else {
            this.currentCalendars[0].year = this.currentYear;
            this.currentCalendars[0].month = 0;
            this.currentMonthIndex = 0;
        }
    }
    isBeforeMoreThanOneMonth(dateA, dateB) {
        if (dateA.year > dateB.year) {
            return false;
        }
        if (dateA.year === dateB.year && dateB.month <= dateA.month + 1) {
            return false;
        }
        // 处理A日期为B日期前一年12月同时B日期为1月的特殊情况
        return !(dateB.year - dateA.year === 1 && dateA.month === 11 && dateB.month === 0);
    }
    isAfterMoreThanOneMonth(dateA, dateB) {
        if (dateA.year < dateB.year) {
            return false;
        }
        if (dateA.year === dateB.year && dateB.month + 1 >= dateA.month) {
            return false;
        }
        // 处理A日期为B日期后一年1月同时B日期为12月的特殊情况
        return !(dateA.year - dateB.year === 1 && dateA.month === 0 && dateB.month === 11);
    }
    isBeforeMoreThanOneYear(dateA, dateB) {
        if (dateA.year >= dateB.year) {
            return false;
        }
        // 处理B日期比A日期大1年同时A日期月份大于B日期月份的情况
        return !(dateB.year - dateA.year === 1 && dateA.month >= dateB.month);
    }
    isAfterMoreThanOneYear(dateA, dateB) {
        if (dateA.year <= dateB.year) {
            return false;
        }
        // 处理A日期比B日期大1年同时A日期月份小于B日期月份的情况
        return (!(dateA.year - dateB.year === 1 && dateA.month <= dateB.month));
    }
    notifyCalenderChange() {
        this.syncPickerPair.emit({
            year: this.currentYear,
            month: this.currentMonthIndex
        });
    }
    confirmTime() {
        this.consolidateTime.emit();
    }
    setTime(date) {
        return (new Date(date.setHours(this.currentHour, this.currentMinute, this.currentSecond)));
    }
    onSelectDateChanged() {
        let date = this.selectedDate || new Date();
        if (date.getTime() < this.minDate.getTime()) {
            date = this.minDate;
        }
        if (date.getTime() > this.maxDate.getTime()) {
            date = this.maxDate;
        }
        this.selectedDate = this.selectedDate || date;
        this.currentYear = date.getFullYear();
        this.currentMonthIndex = date.getMonth();
        if (!this.showTime) {
            return;
        }
        switch (this.isAuxiliary) {
            case false:
                // Left panel
                this.currentHour = this.rangeStart ? this.rangeStart.getHours() : 0;
                this.currentMinute = this.rangeStart ? this.rangeStart.getMinutes() : 0;
                this.currentSecond = this.rangeStart ? this.rangeStart.getSeconds() : 0;
                break;
            case true:
                // Right panel
                this.currentHour = this.rangeEnd ? this.rangeEnd.getHours() : 23;
                this.currentMinute = this.rangeEnd ? this.rangeEnd.getMinutes() : 59;
                this.currentSecond = this.rangeEnd ? this.rangeEnd.getSeconds() : 59;
                break;
        }
    }
    get currentTime() {
        return {
            hour: this.currentHour,
            minute: this.currentMinute,
            second: this.currentSecond
        };
    }
}
SingleDateRangePickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: SingleDateRangePickerComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i1.DatePickerConfigService }, { token: i0.ChangeDetectorRef }, { token: i2.I18nService }], target: i0.ɵɵFactoryTarget.Component });
SingleDateRangePickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: SingleDateRangePickerComponent, selector: "d-datepicker-range-single", inputs: { selectedRange: "selectedRange", rangePicker: "rangePicker", isAuxiliary: "isAuxiliary", currentCalendars: "currentCalendars" }, outputs: { hoverOnDate: "hoverOnDate", rangeSelected: "rangeSelected", rangeSelecting: "rangeSelecting", syncPickerPair: "syncPickerPair", consolidateTime: "consolidateTime" }, providers: [{
            provide: NG_VALUE_ACCESSOR,
            useExisting: forwardRef(() => SingleDateRangePickerComponent),
            multi: true
        }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: "<div class=\"devui-month-view {{ cssClass }}\">\n  <table class=\"devui-table devui-month-view-table\">\n    <thead>\n      <tr class=\"devui-calender-header\">\n        <td>\n          <a\n            class=\"devui-btn-link\"\n            aria-hidden=\"true\"\n            (click)=\"onPreYear()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasPreYearOption() }\"\n          >\n            <svg\n              width=\"10px\"\n              height=\"10px\"\n              viewBox=\"0 0 10 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -1.000000)\">\n                  <path\n                    d=\"M11,1.83333333 L11,10.1666667 L7,7.38833333 L7,10.1666667 L1,6 L7,1.83333333 L7,4.61033333 L11,1.83333333 Z\"\n                  ></path>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td>\n          <a\n            *ngIf=\"!openChooseYear && !openChooseMonth\"\n            class=\"devui-btn-link devui-btn-left\"\n            aria-hidden=\"true\"\n            (click)=\"onPreMonth()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasPreMonth() }\"\n          >\n            <svg\n              width=\"6px\"\n              height=\"10px\"\n              viewBox=\"0 0 6 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -1.000000)\">\n                  <polygon\n                    transform=\"translate(6.000000, 6.000000) rotate(-90.000000) translate(-6.000000, -6.000000) \"\n                    points=\"6 3 10.1666667 9 1.83333333 9\"\n                  ></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td colspan=\"3\" class=\"devui-dropdown\">\n          <span class=\"devui-date-title\" (click)=\"toggle($event, 'year')\">{{ i18nText?.yearDisplay(currentYear) }}</span>\n          <span class=\"devui-date-title\" (click)=\"toggle($event, 'month')\">{{ (i18nText?.monthsOfYear)[currentMonthIndex] }}</span>\n          <ul class=\"devui-monthOption text-center\" [style.display]=\"openChooseMonth ? 'block' : 'none'\">\n            <li\n              *ngFor=\"let month of availableMonths\"\n              [ngClass]=\"{ active: currentMonthIndex == month.index, disabled: month.disabled || isMonthDisable(month.title) }\"\n              (click)=\"onSelectMonth(month)\"\n            >\n              {{ month.title }}\n            </li>\n          </ul>\n          <ul class=\"devui-yearOption text-center\" [style.display]=\"openChooseYear ? 'block' : 'none'\">\n            <li\n              *ngFor=\"let item of yearOptions\"\n              [ngClass]=\"{ active: currentYear == item.title, disabled: item.disabled || isYearDisable(item.title) }\"\n              (click)=\"onSelectYear(item, $event)\"\n            >\n              {{ item.title }}\n            </li>\n          </ul>\n        </td>\n        <td>\n          <a\n            *ngIf=\"!openChooseYear && !openChooseMonth\"\n            class=\"devui-btn-link devui-btn-right\"\n            aria-hidden=\"true\"\n            (click)=\"onNextMonth()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasNextMonth() }\"\n          >\n            <svg\n              width=\"6px\"\n              height=\"9px\"\n              viewBox=\"0 0 6 9\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -2.000000)\">\n                  <polygon\n                    transform=\"translate(6.000000, 6.166667) scale(-1, 1) rotate(-90.000000) translate(-6.000000, -6.166667) \"\n                    points=\"6 3.16666667 10.1666667 9.16666667 1.83333333 9.16666667\"\n                  ></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td>\n          <a\n            class=\"devui-btn-link\"\n            aria-hidden=\"true\"\n            (click)=\"onNextYear()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasNextYearOption() }\"\n          >\n            <svg\n              width=\"10px\"\n              height=\"9px\"\n              viewBox=\"0 0 10 9\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -2.000000)\">\n                  <polygon points=\"5 4.77777778 5 2 11 6.16666667 5 10.3333333 5 7.55555556 1 10.3333333 1 2\"></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n      </tr>\n      <tr class=\"small text-center devui-week-header\">\n        <td *ngFor=\"let item of i18nText?.daysOfWeek\">{{ item }}</td>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let week of displayWeeks\">\n        <td\n          *ngFor=\"let day of week\"\n          class=\"devui-day {{ isBetweenDay(day.date) }}\"\n          [ngClass]=\"{\n            'devui-out-of-month': !day.inMonth,\n            'devui-in-month-day': day.inMonth,\n            active: isSelectDay(day.date),\n            disabled: isDisabledDay(day.date),\n            'devui-in-range': isInRange(day.date),\n            'devui-today': day.isToday\n          }\"\n          (click)=\"onSelectDate($event, day.date)\"\n          (mouseover)=\"emitHoverDate($event, day.date)\"\n        >\n          <div class=\"devui-calendar-date\">{{ day.day }}</div>\n        </td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr class=\"time-picker-view\" *ngIf=\"showTime\">\n        <ng-container *ngIf=\"!customViewTemplate\">\n          <td colspan=\"4\">\n            <div class=\"devui-timepicker\" *ngIf=\"showTime\" [ngClass]=\"{ 'devui-timepicker-disabled': isDisabledTime() }\">\n              <div class=\"devui-time\">\n                <input [ngModel]=\"currentHour\" (keydown)=\"fixTime($event, 'h')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('h')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('h')\"></div>\n                </div>\n              </div>\n              <div class=\"devui-time\">\n                <input class=\"devui-minutes\" [ngModel]=\"currentMinute\" (keydown)=\"fixTime($event, 'm')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('m')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('m')\"></div>\n                </div>\n              </div>\n              <div class=\"devui-time\">\n                <input class=\"devui-seconds\" [ngModel]=\"currentSecond\" (keydown)=\"fixTime($event, 's')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('s')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('s')\"></div>\n                </div>\n              </div>\n            </div>\n          </td>\n          <td colspan=\"3\" *ngIf=\"isAuxiliary\">\n            <div class=\"devui-btn-wrapper\">\n              <d-button bsStyle=\"common\" [disabled]=\"!rangeStart || !rangeEnd || disabled\" (btnClick)=\"confirmTime()\" bsSize=\"sm\">\n                {{ i18nCommonText?.btnConfirm }}\n              </d-button>\n            </div>\n          </td>\n        </ng-container>\n      </tr>\n    </tfoot>\n  </table>\n</div>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.devui-date-header{height:38px}.devui-month-view{background-color:#fff;background-color:var(--devui-connected-overlay-bg, #ffffff);font-size:12px;font-size:var(--devui-font-size, 12px);width:240px;text-align:center;box-shadow:0 2px 8px rgba(37,43,58,.2);box-shadow:var(--devui-shadow-connected-overlay, 0 2px 8px 0) var(--devui-shadow, rgba(37, 43, 58, .2));border-radius:2px;border-radius:var(--devui-border-radius, 2px);position:relative}.devui-month-view .devui-month-view-table{margin-bottom:0;background:#ffffff;background:var(--devui-connected-overlay-bg, #ffffff);table-layout:fixed;border-collapse:collapse;width:100%}.devui-month-view .devui-date-title{font-weight:700;cursor:pointer;font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-month-view .devui-date-title:hover{color:#7693f5;color:var(--devui-brand-hover, #7693f5)}.devui-month-view .devui-btn-link{text-decoration:none;cursor:pointer;display:block}.devui-month-view .devui-btn-link.devui-year-month-disabled{cursor:not-allowed}.devui-month-view .devui-btn-link.devui-year-month-disabled svg path,.devui-month-view .devui-btn-link.devui-year-month-disabled svg polygon{fill:#cfd0d3;fill:var(--devui-disabled-text, #cfd0d3)}.devui-month-view .devui-btn-link svg path,.devui-month-view .devui-btn-link svg polygon{fill:#575d6c;fill:var(--devui-text-weak, #575d6c)}.devui-month-view .devui-btn-link:not(.devui-year-month-disabled):hover svg path,.devui-month-view .devui-btn-link:not(.devui-year-month-disabled):hover svg polygon{fill:#252b3a;fill:var(--devui-icon-fill-active-hover, #252b3a)}.devui-month-view .date-select{border:none;background:transparent;outline:none;-moz-appearance:none;-webkit-appearance:none;appearance:none}.devui-month-view .devui-week-header{cursor:default;margin-bottom:16px}.devui-month-view .devui-week-header td{width:32px;height:24px;line-height:24px;color:#252b3a;color:var(--devui-text, #252b3a);border:none}.devui-month-view .devui-day:not(.disabled){cursor:pointer;font-size:12px;font-size:var(--devui-font-size, 12px);color:#dfe1e6;color:var(--devui-feedback-overlay-text, #dfe1e6)}.devui-month-view .devui-day.disabled{cursor:not-allowed}.devui-calendar-date{display:block;margin:0 3px;width:20px;height:20px;padding:0;line-height:20px;background:transparent;text-align:center;font-size:12px;font-size:var(--devui-font-size, 12px);color:#252b3a;color:var(--devui-text, #252b3a)}.devui-month-view .devui-out-of-month .devui-calendar-date{opacity:.8;background-color:#fff;background-color:var(--devui-connected-overlay-bg, #ffffff);color:#d7d8da;color:var(--devui-line, #d7d8da)}.devui-month-view .devui-out-of-month:not(.disabled):hover .devui-calendar-date{background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}.devui-month-view .devui-minutes:before{content:\":\";text-align:center;position:absolute;margin-left:-13px}.devui-month-view .devui-seconds:before{content:\":\";text-align:center;position:absolute;margin-left:-13px}.devui-yearOption,.devui-monthOption{width:240px;height:195px;position:absolute;left:-68px;top:30px;background:#ffffff;background:var(--devui-base-bg, #ffffff);z-index:1}.devui-yearOption li,.devui-monthOption li{width:60px;height:68px;line-height:68px;text-align:center;display:inline-block;background:#ffffff;background:var(--devui-base-bg, #ffffff);border-radius:2px;border-radius:var(--devui-border-radius, 2px)}.devui-yearOption li:hover,.devui-monthOption li:hover{background:#f2f2f3;background:var(--devui-list-item-hover-bg, #f2f2f3);color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a);cursor:pointer}.devui-yearOption li.active:not(.disabled),.devui-monthOption li.active:not(.disabled){color:#252b3a;color:var(--devui-list-item-active-text, #252b3a);background-color:#f2f5fc;background-color:var(--devui-list-item-active-bg, #f2f5fc)}.devui-yearOption li.active:not(.disabled):hover,.devui-monthOption li.active:not(.disabled):hover{background-color:#f2f5fc;background-color:var(--devui-list-item-active-hover-bg, #f2f5fc)}.devui-yearOption li.disabled,.devui-monthOption li.disabled{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5);cursor:not-allowed}.devui-month-view .devui-timepicker{background:#f5f5f5;background:var(--devui-area, #f5f5f5);display:flex;justify-content:space-evenly}.devui-month-view .devui-timepicker input{outline:0;border:0;background:#f5f5f5;background:var(--devui-area, #f5f5f5);color:#252b3a;color:var(--devui-text, #252b3a);width:30px;padding:0 0 0 3px;height:30px;text-align:center}.devui-month-view .devui-timepicker.devui-timepicker-disabled{background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5)}.devui-month-view .devui-timepicker.devui-timepicker-disabled input{cursor:not-allowed;color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5)}.devui-month-view .devui-timepicker .devui-time{position:relative;display:inline-block;width:40px}.devui-month-view .devui-timepicker .devui-time:not(:first-child):before{content:\":\"}.devui-month-view .devui-table>tbody>tr>td{vertical-align:middle;padding:4px;border-top:none;border-radius:2px;border-radius:var(--devui-border-radius, 2px)}.devui-month-view .devui-table>tbody>tr>td.devui-day-start{border-radius:2px 0 0 2px;border-radius:var(--devui-border-radius, 2px) 0 0 var(--devui-border-radius, 2px)}.devui-month-view .devui-table>tbody>tr>td.devui-day-end{border-radius:0 2px 2px 0;border-radius:0 var(--devui-border-radius, 2px) var(--devui-border-radius, 2px) 0}.devui-month-view .devui-table>tbody>tr>td:not(.disabled){border-top:none;background:#ffffff;background:var(--devui-connected-overlay-bg, #ffffff)}.devui-month-view .devui-table>tbody>tr>td.devui-day:hover:not(.active):not(.disabled):not(.devui-out-of-month){background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}.devui-month-view .devui-table>tbody>tr>td.devui-day:not(.disabled).active:hover{background-color:#f2f5fc;background-color:var(--devui-list-item-active-hover-bg, #f2f5fc)}.devui-month-view .devui-table>tbody>tr>td.devui-day:not(.disabled).active:hover>.devui-calendar-date{color:#fff;color:var(--devui-light-text, #ffffff)}.devui-month-view .devui-table>tbody>tr>td.devui-day:not(.disabled):not(.active):not(.devui-out-of-month):not(:hover).devui-today .devui-calendar-date{color:#5e7ce0;color:var(--devui-brand, #5e7ce0);font-weight:700}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.disabled{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);cursor:not-allowed}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.disabled .devui-calendar-date{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.disabled:not(.active){background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.disabled.active{background-color:#dfe1e6;background-color:var(--devui-disabled-line, #dfe1e6)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day:not(.disabled).active{background:#f2f5fc;background:var(--devui-list-item-active-bg, #f2f5fc)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day:not(.disabled).active>.devui-calendar-date{color:#fff;color:var(--devui-light-text, #ffffff)}.devui-month-view .devui-table>thead>tr>td{vertical-align:middle;line-height:1.5;padding:4px}.devui-noSelect{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.devui-month-view .devui-month-view-table td{border-bottom:none}.devui-month-view .devui-table tfoot,.devui-custom-area{border-top:1px solid #f5f5f5;border-top:1px solid var(--devui-area, #f5f5f5)}.devui-month-view tfoot td{padding:10px;vertical-align:middle;border-top:none}.devui-dropdown-menu{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-btn-wrapper{margin-top:0}.devui-btn-nav{display:none;position:absolute;right:9px;top:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.devui-btn-nav .btn-up,.devui-btn-nav .btn-down{position:absolute;width:0;height:0;border:6px solid}.devui-btn-nav .btn-up{padding-top:2px;padding-bottom:1px;border-color:transparent transparent #252b3a transparent;border-color:transparent transparent var(--devui-text, #252b3a) transparent}.devui-btn-nav .btn-up:hover{border-color:transparent transparent #252b3a transparent;border-color:transparent transparent var(--devui-icon-fill-active, #252b3a) transparent}.devui-btn-nav .btn-down{top:16px;padding-bottom:4px;border-color:#252b3a transparent transparent transparent;border-color:var(--devui-text, #252b3a) transparent transparent transparent}.devui-btn-nav .btn-down:hover{border-color:#252b3a transparent transparent transparent;border-color:var(--devui-icon-fill-active, #252b3a) transparent transparent transparent}.devui-time input[type=number]::-webkit-inner-spin-button,.devui-time input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.devui-time input[type=number]{-moz-appearance:textfield}.devui-time:hover .devui-btn-nav{display:block}:host ::ng-deep .cdk-overlay-pane d-datepicker.devui-dropdown-menu{padding:0}:host .devui-form-control{padding-right:0}.devui-month-view{box-shadow:none}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.devui-in-range:not(.active):not(.disabled){background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3);color:#252b3a;color:var(--devui-text, #252b3a);border-radius:0}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.devui-in-range:not(.active):not(.disabled):hover{background-color:#e9edfa;background-color:var(--devui-range-item-hover-bg, #e9edfa)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.devui-in-range.disabled:not(.active){background-color:#f2f2f3;background-color:var(--devui-dividing-line, #f2f2f3);opacity:.8;color:#252b3a;color:var(--devui-text, #252b3a)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.active.disabled{background-color:#f2f2f3;background-color:var(--devui-dividing-line, #f2f2f3)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.active.disabled .devui-calendar-date{opacity:.8}.devui-month-view .devui-in-month-day.devui-in-range.disabled:not(.active) .devui-calendar-date{color:#252b3a;color:var(--devui-text, #252b3a);cursor:not-allowed}.devui-month-view .devui-day.devui-out-of-month.active:hover .devui-calendar-date{background-color:transparent;color:#71757f;color:var(--devui-icon-text, #71757f)}.devui-month-view .devui-day.devui-out-of-month.active.disabled{background-color:transparent}tr.devui-calender-header{height:38px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.devui-month-view .devui-btn-link.devui-btn-right{transform:scale(1);display:inline-block;line-height:1}.devui-monthOption,.devui-yearOption{white-space:normal}\n"], components: [{ type: i3.ButtonComponent, selector: "d-button", inputs: ["id", "type", "bsStyle", "shape", "bsSize", "bsPosition", "bordered", "icon", "disabled", "showLoading", "width", "autofocus", "loadingTemplateRef"], outputs: ["btnClick"] }], directives: [{ type: i4.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i4.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i5.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i5.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i5.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: SingleDateRangePickerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-datepicker-range-single', providers: [{
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => SingleDateRangePickerComponent),
                            multi: true
                        }], preserveWhitespaces: false, template: "<div class=\"devui-month-view {{ cssClass }}\">\n  <table class=\"devui-table devui-month-view-table\">\n    <thead>\n      <tr class=\"devui-calender-header\">\n        <td>\n          <a\n            class=\"devui-btn-link\"\n            aria-hidden=\"true\"\n            (click)=\"onPreYear()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasPreYearOption() }\"\n          >\n            <svg\n              width=\"10px\"\n              height=\"10px\"\n              viewBox=\"0 0 10 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -1.000000)\">\n                  <path\n                    d=\"M11,1.83333333 L11,10.1666667 L7,7.38833333 L7,10.1666667 L1,6 L7,1.83333333 L7,4.61033333 L11,1.83333333 Z\"\n                  ></path>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td>\n          <a\n            *ngIf=\"!openChooseYear && !openChooseMonth\"\n            class=\"devui-btn-link devui-btn-left\"\n            aria-hidden=\"true\"\n            (click)=\"onPreMonth()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasPreMonth() }\"\n          >\n            <svg\n              width=\"6px\"\n              height=\"10px\"\n              viewBox=\"0 0 6 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -1.000000)\">\n                  <polygon\n                    transform=\"translate(6.000000, 6.000000) rotate(-90.000000) translate(-6.000000, -6.000000) \"\n                    points=\"6 3 10.1666667 9 1.83333333 9\"\n                  ></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td colspan=\"3\" class=\"devui-dropdown\">\n          <span class=\"devui-date-title\" (click)=\"toggle($event, 'year')\">{{ i18nText?.yearDisplay(currentYear) }}</span>\n          <span class=\"devui-date-title\" (click)=\"toggle($event, 'month')\">{{ (i18nText?.monthsOfYear)[currentMonthIndex] }}</span>\n          <ul class=\"devui-monthOption text-center\" [style.display]=\"openChooseMonth ? 'block' : 'none'\">\n            <li\n              *ngFor=\"let month of availableMonths\"\n              [ngClass]=\"{ active: currentMonthIndex == month.index, disabled: month.disabled || isMonthDisable(month.title) }\"\n              (click)=\"onSelectMonth(month)\"\n            >\n              {{ month.title }}\n            </li>\n          </ul>\n          <ul class=\"devui-yearOption text-center\" [style.display]=\"openChooseYear ? 'block' : 'none'\">\n            <li\n              *ngFor=\"let item of yearOptions\"\n              [ngClass]=\"{ active: currentYear == item.title, disabled: item.disabled || isYearDisable(item.title) }\"\n              (click)=\"onSelectYear(item, $event)\"\n            >\n              {{ item.title }}\n            </li>\n          </ul>\n        </td>\n        <td>\n          <a\n            *ngIf=\"!openChooseYear && !openChooseMonth\"\n            class=\"devui-btn-link devui-btn-right\"\n            aria-hidden=\"true\"\n            (click)=\"onNextMonth()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasNextMonth() }\"\n          >\n            <svg\n              width=\"6px\"\n              height=\"9px\"\n              viewBox=\"0 0 6 9\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -2.000000)\">\n                  <polygon\n                    transform=\"translate(6.000000, 6.166667) scale(-1, 1) rotate(-90.000000) translate(-6.000000, -6.166667) \"\n                    points=\"6 3.16666667 10.1666667 9.16666667 1.83333333 9.16666667\"\n                  ></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td>\n          <a\n            class=\"devui-btn-link\"\n            aria-hidden=\"true\"\n            (click)=\"onNextYear()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasNextYearOption() }\"\n          >\n            <svg\n              width=\"10px\"\n              height=\"9px\"\n              viewBox=\"0 0 10 9\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -2.000000)\">\n                  <polygon points=\"5 4.77777778 5 2 11 6.16666667 5 10.3333333 5 7.55555556 1 10.3333333 1 2\"></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n      </tr>\n      <tr class=\"small text-center devui-week-header\">\n        <td *ngFor=\"let item of i18nText?.daysOfWeek\">{{ item }}</td>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let week of displayWeeks\">\n        <td\n          *ngFor=\"let day of week\"\n          class=\"devui-day {{ isBetweenDay(day.date) }}\"\n          [ngClass]=\"{\n            'devui-out-of-month': !day.inMonth,\n            'devui-in-month-day': day.inMonth,\n            active: isSelectDay(day.date),\n            disabled: isDisabledDay(day.date),\n            'devui-in-range': isInRange(day.date),\n            'devui-today': day.isToday\n          }\"\n          (click)=\"onSelectDate($event, day.date)\"\n          (mouseover)=\"emitHoverDate($event, day.date)\"\n        >\n          <div class=\"devui-calendar-date\">{{ day.day }}</div>\n        </td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr class=\"time-picker-view\" *ngIf=\"showTime\">\n        <ng-container *ngIf=\"!customViewTemplate\">\n          <td colspan=\"4\">\n            <div class=\"devui-timepicker\" *ngIf=\"showTime\" [ngClass]=\"{ 'devui-timepicker-disabled': isDisabledTime() }\">\n              <div class=\"devui-time\">\n                <input [ngModel]=\"currentHour\" (keydown)=\"fixTime($event, 'h')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('h')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('h')\"></div>\n                </div>\n              </div>\n              <div class=\"devui-time\">\n                <input class=\"devui-minutes\" [ngModel]=\"currentMinute\" (keydown)=\"fixTime($event, 'm')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('m')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('m')\"></div>\n                </div>\n              </div>\n              <div class=\"devui-time\">\n                <input class=\"devui-seconds\" [ngModel]=\"currentSecond\" (keydown)=\"fixTime($event, 's')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('s')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('s')\"></div>\n                </div>\n              </div>\n            </div>\n          </td>\n          <td colspan=\"3\" *ngIf=\"isAuxiliary\">\n            <div class=\"devui-btn-wrapper\">\n              <d-button bsStyle=\"common\" [disabled]=\"!rangeStart || !rangeEnd || disabled\" (btnClick)=\"confirmTime()\" bsSize=\"sm\">\n                {{ i18nCommonText?.btnConfirm }}\n              </d-button>\n            </div>\n          </td>\n        </ng-container>\n      </tr>\n    </tfoot>\n  </table>\n</div>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.devui-date-header{height:38px}.devui-month-view{background-color:#fff;background-color:var(--devui-connected-overlay-bg, #ffffff);font-size:12px;font-size:var(--devui-font-size, 12px);width:240px;text-align:center;box-shadow:0 2px 8px rgba(37,43,58,.2);box-shadow:var(--devui-shadow-connected-overlay, 0 2px 8px 0) var(--devui-shadow, rgba(37, 43, 58, .2));border-radius:2px;border-radius:var(--devui-border-radius, 2px);position:relative}.devui-month-view .devui-month-view-table{margin-bottom:0;background:#ffffff;background:var(--devui-connected-overlay-bg, #ffffff);table-layout:fixed;border-collapse:collapse;width:100%}.devui-month-view .devui-date-title{font-weight:700;cursor:pointer;font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-month-view .devui-date-title:hover{color:#7693f5;color:var(--devui-brand-hover, #7693f5)}.devui-month-view .devui-btn-link{text-decoration:none;cursor:pointer;display:block}.devui-month-view .devui-btn-link.devui-year-month-disabled{cursor:not-allowed}.devui-month-view .devui-btn-link.devui-year-month-disabled svg path,.devui-month-view .devui-btn-link.devui-year-month-disabled svg polygon{fill:#cfd0d3;fill:var(--devui-disabled-text, #cfd0d3)}.devui-month-view .devui-btn-link svg path,.devui-month-view .devui-btn-link svg polygon{fill:#575d6c;fill:var(--devui-text-weak, #575d6c)}.devui-month-view .devui-btn-link:not(.devui-year-month-disabled):hover svg path,.devui-month-view .devui-btn-link:not(.devui-year-month-disabled):hover svg polygon{fill:#252b3a;fill:var(--devui-icon-fill-active-hover, #252b3a)}.devui-month-view .date-select{border:none;background:transparent;outline:none;-moz-appearance:none;-webkit-appearance:none;appearance:none}.devui-month-view .devui-week-header{cursor:default;margin-bottom:16px}.devui-month-view .devui-week-header td{width:32px;height:24px;line-height:24px;color:#252b3a;color:var(--devui-text, #252b3a);border:none}.devui-month-view .devui-day:not(.disabled){cursor:pointer;font-size:12px;font-size:var(--devui-font-size, 12px);color:#dfe1e6;color:var(--devui-feedback-overlay-text, #dfe1e6)}.devui-month-view .devui-day.disabled{cursor:not-allowed}.devui-calendar-date{display:block;margin:0 3px;width:20px;height:20px;padding:0;line-height:20px;background:transparent;text-align:center;font-size:12px;font-size:var(--devui-font-size, 12px);color:#252b3a;color:var(--devui-text, #252b3a)}.devui-month-view .devui-out-of-month .devui-calendar-date{opacity:.8;background-color:#fff;background-color:var(--devui-connected-overlay-bg, #ffffff);color:#d7d8da;color:var(--devui-line, #d7d8da)}.devui-month-view .devui-out-of-month:not(.disabled):hover .devui-calendar-date{background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}.devui-month-view .devui-minutes:before{content:\":\";text-align:center;position:absolute;margin-left:-13px}.devui-month-view .devui-seconds:before{content:\":\";text-align:center;position:absolute;margin-left:-13px}.devui-yearOption,.devui-monthOption{width:240px;height:195px;position:absolute;left:-68px;top:30px;background:#ffffff;background:var(--devui-base-bg, #ffffff);z-index:1}.devui-yearOption li,.devui-monthOption li{width:60px;height:68px;line-height:68px;text-align:center;display:inline-block;background:#ffffff;background:var(--devui-base-bg, #ffffff);border-radius:2px;border-radius:var(--devui-border-radius, 2px)}.devui-yearOption li:hover,.devui-monthOption li:hover{background:#f2f2f3;background:var(--devui-list-item-hover-bg, #f2f2f3);color:#252b3a;color:var(--devui-list-item-hover-text, #252b3a);cursor:pointer}.devui-yearOption li.active:not(.disabled),.devui-monthOption li.active:not(.disabled){color:#252b3a;color:var(--devui-list-item-active-text, #252b3a);background-color:#f2f5fc;background-color:var(--devui-list-item-active-bg, #f2f5fc)}.devui-yearOption li.active:not(.disabled):hover,.devui-monthOption li.active:not(.disabled):hover{background-color:#f2f5fc;background-color:var(--devui-list-item-active-hover-bg, #f2f5fc)}.devui-yearOption li.disabled,.devui-monthOption li.disabled{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5);cursor:not-allowed}.devui-month-view .devui-timepicker{background:#f5f5f5;background:var(--devui-area, #f5f5f5);display:flex;justify-content:space-evenly}.devui-month-view .devui-timepicker input{outline:0;border:0;background:#f5f5f5;background:var(--devui-area, #f5f5f5);color:#252b3a;color:var(--devui-text, #252b3a);width:30px;padding:0 0 0 3px;height:30px;text-align:center}.devui-month-view .devui-timepicker.devui-timepicker-disabled{background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5)}.devui-month-view .devui-timepicker.devui-timepicker-disabled input{cursor:not-allowed;color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5)}.devui-month-view .devui-timepicker .devui-time{position:relative;display:inline-block;width:40px}.devui-month-view .devui-timepicker .devui-time:not(:first-child):before{content:\":\"}.devui-month-view .devui-table>tbody>tr>td{vertical-align:middle;padding:4px;border-top:none;border-radius:2px;border-radius:var(--devui-border-radius, 2px)}.devui-month-view .devui-table>tbody>tr>td.devui-day-start{border-radius:2px 0 0 2px;border-radius:var(--devui-border-radius, 2px) 0 0 var(--devui-border-radius, 2px)}.devui-month-view .devui-table>tbody>tr>td.devui-day-end{border-radius:0 2px 2px 0;border-radius:0 var(--devui-border-radius, 2px) var(--devui-border-radius, 2px) 0}.devui-month-view .devui-table>tbody>tr>td:not(.disabled){border-top:none;background:#ffffff;background:var(--devui-connected-overlay-bg, #ffffff)}.devui-month-view .devui-table>tbody>tr>td.devui-day:hover:not(.active):not(.disabled):not(.devui-out-of-month){background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3)}.devui-month-view .devui-table>tbody>tr>td.devui-day:not(.disabled).active:hover{background-color:#f2f5fc;background-color:var(--devui-list-item-active-hover-bg, #f2f5fc)}.devui-month-view .devui-table>tbody>tr>td.devui-day:not(.disabled).active:hover>.devui-calendar-date{color:#fff;color:var(--devui-light-text, #ffffff)}.devui-month-view .devui-table>tbody>tr>td.devui-day:not(.disabled):not(.active):not(.devui-out-of-month):not(:hover).devui-today .devui-calendar-date{color:#5e7ce0;color:var(--devui-brand, #5e7ce0);font-weight:700}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.disabled{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3);cursor:not-allowed}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.disabled .devui-calendar-date{color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.disabled:not(.active){background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.disabled.active{background-color:#dfe1e6;background-color:var(--devui-disabled-line, #dfe1e6)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day:not(.disabled).active{background:#f2f5fc;background:var(--devui-list-item-active-bg, #f2f5fc)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day:not(.disabled).active>.devui-calendar-date{color:#fff;color:var(--devui-light-text, #ffffff)}.devui-month-view .devui-table>thead>tr>td{vertical-align:middle;line-height:1.5;padding:4px}.devui-noSelect{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.devui-month-view .devui-month-view-table td{border-bottom:none}.devui-month-view .devui-table tfoot,.devui-custom-area{border-top:1px solid #f5f5f5;border-top:1px solid var(--devui-area, #f5f5f5)}.devui-month-view tfoot td{padding:10px;vertical-align:middle;border-top:none}.devui-dropdown-menu{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-btn-wrapper{margin-top:0}.devui-btn-nav{display:none;position:absolute;right:9px;top:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.devui-btn-nav .btn-up,.devui-btn-nav .btn-down{position:absolute;width:0;height:0;border:6px solid}.devui-btn-nav .btn-up{padding-top:2px;padding-bottom:1px;border-color:transparent transparent #252b3a transparent;border-color:transparent transparent var(--devui-text, #252b3a) transparent}.devui-btn-nav .btn-up:hover{border-color:transparent transparent #252b3a transparent;border-color:transparent transparent var(--devui-icon-fill-active, #252b3a) transparent}.devui-btn-nav .btn-down{top:16px;padding-bottom:4px;border-color:#252b3a transparent transparent transparent;border-color:var(--devui-text, #252b3a) transparent transparent transparent}.devui-btn-nav .btn-down:hover{border-color:#252b3a transparent transparent transparent;border-color:var(--devui-icon-fill-active, #252b3a) transparent transparent transparent}.devui-time input[type=number]::-webkit-inner-spin-button,.devui-time input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.devui-time input[type=number]{-moz-appearance:textfield}.devui-time:hover .devui-btn-nav{display:block}:host ::ng-deep .cdk-overlay-pane d-datepicker.devui-dropdown-menu{padding:0}:host .devui-form-control{padding-right:0}.devui-month-view{box-shadow:none}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.devui-in-range:not(.active):not(.disabled){background-color:#f2f2f3;background-color:var(--devui-list-item-hover-bg, #f2f2f3);color:#252b3a;color:var(--devui-text, #252b3a);border-radius:0}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.devui-in-range:not(.active):not(.disabled):hover{background-color:#e9edfa;background-color:var(--devui-range-item-hover-bg, #e9edfa)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.devui-in-range.disabled:not(.active){background-color:#f2f2f3;background-color:var(--devui-dividing-line, #f2f2f3);opacity:.8;color:#252b3a;color:var(--devui-text, #252b3a)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.active.disabled{background-color:#f2f2f3;background-color:var(--devui-dividing-line, #f2f2f3)}.devui-month-view .devui-table>tbody>tr>td.devui-in-month-day.active.disabled .devui-calendar-date{opacity:.8}.devui-month-view .devui-in-month-day.devui-in-range.disabled:not(.active) .devui-calendar-date{color:#252b3a;color:var(--devui-text, #252b3a);cursor:not-allowed}.devui-month-view .devui-day.devui-out-of-month.active:hover .devui-calendar-date{background-color:transparent;color:#71757f;color:var(--devui-icon-text, #71757f)}.devui-month-view .devui-day.devui-out-of-month.active.disabled{background-color:transparent}tr.devui-calender-header{height:38px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.devui-month-view .devui-btn-link.devui-btn-right{transform:scale(1);display:inline-block;line-height:1}.devui-monthOption,.devui-yearOption{white-space:normal}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i1.DatePickerConfigService }, { type: i0.ChangeDetectorRef }, { type: i2.I18nService }]; }, propDecorators: { selectedRange: [{
                type: Input
            }], rangePicker: [{
                type: Input
            }], isAuxiliary: [{
                type: Input
            }], currentCalendars: [{
                type: Input
            }], hoverOnDate: [{
                type: Output
            }], rangeSelected: [{
                type: Output
            }], rangeSelecting: [{
                type: Output
            }], syncPickerPair: [{
                type: Output
            }], consolidateTime: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2luZ2xlLWRhdGUtcmFuZ2UtcGlja2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2RldnVpL2RhdGVwaWNrZXIvc2luZ2xlLWRhdGUtcmFuZ2UtcGlja2VyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uL2RldnVpL2RhdGVwaWNrZXIvc2luZ2xlLWRhdGUtcmFuZ2UtcGlja2VyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxpQkFBaUIsRUFDakIsU0FBUyxFQUNULFVBQVUsRUFDVixZQUFZLEVBQ1osVUFBVSxFQUNWLEtBQUssRUFHTCxNQUFNLEVBQ04sU0FBUyxFQUVWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDNUMsT0FBTyxFQUFFLHVCQUF1QixJQUFJLGdCQUFnQixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDM0YsT0FBTyxFQUFrQywyQkFBMkIsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ25ILE9BQU8sRUFBRSxtQkFBbUIsSUFBSSx5QkFBeUIsRUFBRSxNQUFNLHdCQUF3QixDQUFDOzs7Ozs7O0FBbUIxRixNQUFNLE9BQU8sOEJBQStCLFNBQVEseUJBQXlCO0lBZ0IzRSxZQUNZLFVBQXNCLEVBQ3RCLFFBQW1CLEVBQ25CLGdCQUFrQyxFQUNsQyxpQkFBb0MsRUFDcEMsSUFBaUI7UUFFM0IsS0FBSyxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFON0QsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUN0QixhQUFRLEdBQVIsUUFBUSxDQUFXO1FBQ25CLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7UUFDbEMsc0JBQWlCLEdBQWpCLGlCQUFpQixD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QUNyRSxNQUFNO1NBQ1A7SUFDSCxDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ2IsT0FBTztZQUNMLElBQUksRUFBRSxJQUFJLENBQUMsV0FBVztZQUN0QixNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWE7WUFDMUIsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhO1NBQzNCLENBQUM7SUFDSixDQUFDOzsySEF4bkJVLDhCQUE4QjsrR0FBOUIsOEJBQThCLCtXQVI5QixDQUFDO1lBQ1YsT0FBTyxFQUFFLGlCQUFpQjtZQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLDhCQUE4QixDQUFDO1lBQzdELEtBQUssRUFBRSxJQUFJO1NBQ1osQ0FBQyxzRUNoQ0osd3BRQWlNQTsyRkQ3SmEsOEJBQThCO2tCQVoxQyxTQUFTOytCQUNFLDJCQUEyQixhQUcxQixDQUFDOzRCQUNWLE9BQU8sRUFBRSxpQkFBaUI7NEJBQzFCLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLCtCQUErQixDQUFDOzRCQUM3RCxLQUFLLEVBQUUsSUFBSTt5QkFDWixDQUFDLHVCQUNtQixLQUFLO3lOQUlqQixhQUFhO3NCQUFyQixLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBQ0ksV0FBVztzQkFBcEIsTUFBTTtnQkFDRyxhQUFhO3NCQUF0QixNQUFNO2dCQUNHLGNBQWM7c0JBQXZCLE1BQU07Z0JBQ0csY0FBYztzQkFBdkIsTUFBTTtnQkFDRyxlQUFlO3NCQUF4QixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgUmVuZGVyZXIyLFxuICBTaW1wbGVDaGFuZ2VzXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBJMThuU2VydmljZSB9IGZyb20gJ25nLWRldnVpL2kxOG4nO1xuaW1wb3J0IHsgRGF0ZVBpY2tlckNvbmZpZ1NlcnZpY2UgYXMgRGF0ZVBpY2tlckNvbmZpZyB9IGZyb20gJy4vZGF0ZS1waWNrZXIuY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgU2VsZWN0RGF0ZVJhbmdlQ2hhbmdlRXZlbnRBcmdzLCBTZWxlY3REYXRlUmFuZ2VDaGFuZ2VSZWFzb24gfSBmcm9tICcuL2RhdGUtcmFuZ2UtY2hhbmdlLWV2ZW50LWFyZ3MubW9kZWwnO1xuaW1wb3J0IHsgRGF0ZXBpY2tlckNvbXBvbmVudCBhcyBTaW5nbGVEYXRlcGlja2VyQ29tcG9uZW50IH0gZnJvbSAnLi9kYXRlcGlja2VyLmNvbXBvbmVudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxlRGF0ZSB7XG4gIHllYXI6IG51bWJlcjtcbiAgbW9udGg6IG51bWJlcjtcbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZC1kYXRlcGlja2VyLXJhbmdlLXNpbmdsZScsXG4gIHRlbXBsYXRlVXJsOiAnLi9zaW5nbGUtZGF0ZS1yYW5nZS1waWNrZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9zaW5nbGUtZGF0ZS1yYW5nZS1waWNrZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgcHJvdmlkZXJzOiBbe1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFNpbmdsZURhdGVSYW5nZVBpY2tlckNvbXBvbmVudCksXG4gICAgbXVsdGk6IHRydWVcbiAgfV0sXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxufSlcblxuZXhwb3J0IGNsYXNzIFNpbmdsZURhdGVSYW5nZVBpY2tlckNvbXBvbmVudCBleHRlbmRzIFNpbmdsZURhdGVwaWNrZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCB7XG4gIEBJbnB1dCgpIHNlbGVjdGVkUmFuZ2U6IERhdGVbXSA9IEFycmF5KDIpO1xuICBASW5wdXQoKSByYW5nZVBpY2tlciA9IGZhbHNlO1xuICBASW5wdXQoKSBpc0F1eGlsaWFyeSA9IGZhbHNlO1xuICBASW5wdXQoKSBjdXJyZW50Q2FsZW5kYXJzID0gQXJyYXkoMik7XG4gIEBPdXRwdXQoKSBob3Zlck9uRGF0ZSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCkgcmFuZ2VTZWxlY3RlZCA9IG5ldyBFdmVudEVtaXR0ZXI8U2VsZWN0RGF0ZVJhbmdlQ2hhbmdlRXZlbnRBcmdzPigpO1xuICBAT3V0cHV0KCkgcmFuZ2VTZWxlY3RpbmcgPSBuZXcgRXZlbnRFbWl0dGVyPFNlbGVjdERhdGVSYW5nZUNoYW5nZUV2ZW50QXJncz4oKTtcbiAgQE91dHB1dCgpIHN5bmNQaWNrZXJQYWlyID0gbmV3IEV2ZW50RW1pdHRlcjx7fT4oKTtcbiAgQE91dHB1dCgpIGNvbnNvbGlkYXRlVGltZSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBwdWJsaWMgcmFuZ2VTdGFydDtcbiAgcHVibGljIHJhbmdlRW5kO1xuICBwdWJsaWMgcHJldmlld0VuZDtcbiAgcHJpdmF0ZSB0aW1lcjtcbiAgcHJvdGVjdGVkIHNlbGVjdGluZ1JhbmdlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHByb3RlY3RlZCByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgIHByb3RlY3RlZCBkYXRlUGlja2VyQ29uZmlnOiBEYXRlUGlja2VyQ29uZmlnLFxuICAgIHByb3RlY3RlZCBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJvdGVjdGVkIGkxOG46IEkxOG5TZXJ2aWNlXG4gICkge1xuICAgIHN1cGVyKGVsZW1lbnRSZWYsIHJlbmRlcmVyLCBkYXRlUGlja2VyQ29uZmlnLCBjaGFuZ2VEZXRlY3RvclJlZiwgaTE4bik7XG4gICAgdGhpcy5zZXRJMThuVGV4dCgpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgW3RoaXMucmFuZ2VTdGFydCwgdGhpcy5yYW5nZUVuZF0gPSB0aGlzLnNlbGVjdGVkUmFuZ2U7XG4gICAgY29uc3Qgbm93RGF0ZSA9IHRoaXMuc2VsZWN0ZWREYXRlIHx8IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5ub3dNaW5ZZWFyID0gKG5vd0RhdGUpLmdldEZ1bGxZZWFyKCkgLSBNYXRoLmZsb29yKHRoaXMuX3llYXJOdW1iZXIgLyAyKSA8IHRoaXMubWluRGF0ZS5nZXRGdWxsWWVhcigpID9cbiAgICAgIHRoaXMubWluRGF0ZS5nZXRGdWxsWWVhcigpIDogKG5vd0RhdGUpLmdldEZ1bGxZZWFyKCkgLSBNYXRoLmZsb29yKHRoaXMuX3llYXJOdW1iZXIgLyAyKTtcbiAgICB0aGlzLm5vd01heFllYXIgPSAobm93RGF0ZSkuZ2V0RnVsbFllYXIoKSArIE1hdGguZmxvb3IodGhpcy5feWVhck51bWJlciAvIDIpID4gdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkgP1xuICAgICAgdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkgOiAobm93RGF0ZSkuZ2V0RnVsbFllYXIoKSArIE1hdGguZmxvb3IodGhpcy5feWVhck51bWJlciAvIDIpO1xuICAgIGlmICghdGhpcy5pc0F1eGlsaWFyeSAmJiAhdGhpcy5yYW5nZVN0YXJ0KSB7XG4gICAgICAvLyDkuLvpnaLmnb/vvIzmnKrpgInmi6nlvIDlp4vml6XmnJ/nmoTmg4XlhrVcbiAgICAgIHRoaXMub25TZWxlY3REYXRlQ2hhbmdlZCgpO1xuICAgICAgdGhpcy5vbkRpc3BsYXlXZWVrc0NoYW5nZSgpO1xuICAgICAgdGhpcy5vblllYXJSYW5nZUNoYW5nZSgpO1xuICAgICAgdGhpcy5pbml0RGF0ZVBpY2tlcigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc0F1eGlsaWFyeSAmJiAhdGhpcy5yYW5nZUVuZCkge1xuICAgICAgLy8g5Ymv6Z2i5p2/77yM5pyq6YCJ5oup57uT5p2f5pel5pyf55qE5oOF5Ya1XG4gICAgICB0aGlzLm9uU2VsZWN0RGF0ZUNoYW5nZWQoKTtcbiAgICAgIHRoaXMuaW5pdERhdGVQaWNrZXIoKTtcbiAgICAgIHRoaXMub25ZZWFyUmFuZ2VDaGFuZ2UoKTtcbiAgICAgIHRoaXMub25OZXh0TW9udGgoJ2luaXQnKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gbmV3IERhdGUodGhpcy5jdXJyZW50WWVhciwgdGhpcy5jdXJyZW50TW9udGhJbmRleCk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5pc0F1eGlsaWFyeSAmJiB0aGlzLnJhbmdlU3RhcnQpIHtcbiAgICAgIC8vIOS4u+mdouadv++8jOW3sumAieaLqeW8gOWni+aXpeacn+eahOaDheWGtVxuICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSB0aGlzLnJhbmdlU3RhcnQ7XG4gICAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc0F1eGlsaWFyeSAmJiB0aGlzLnJhbmdlRW5kKSB7XG4gICAgICAvLyDlia/pnaLmnb/vvIzlt7LpgInmi6nnu5PmnZ/ml6XmnJ/nmoTmg4XlhrVcbiAgICAgIGNvbnN0IHJhbmdlU3RhcnQgPSB0aGlzLmNvbnZlcnREYXRlKHRoaXMucmFuZ2VTdGFydCk7XG4gICAgICBjb25zdCByYW5nZUVuZCA9IHRoaXMuY29udmVydERhdGUodGhpcy5yYW5nZUVuZCk7XG4gICAgICB0aGlzLmN1cnJlbnRZZWFyID0gcmFuZ2VFbmQuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHRoaXMuY3VycmVudE1vbnRoSW5kZXggPSByYW5nZUVuZC5nZXRNb250aCgpO1xuICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSBuZXcgRGF0ZSh0aGlzLmN1cnJlbnRZZWFyLCB0aGlzLmN1cnJlbnRNb250aEluZGV4KTtcbiAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG4gICAgICAvLyDlpITnkIbpgInmi6nnmoTml6XmnJ/ojIPlm7TlvIDlp4vlkoznu5PmnZ/lnKjlkIzkuIDkuKrmnIjnmoTmg4XlhrVcbiAgICAgIGlmIChyYW5nZVN0YXJ0ICYmIHJhbmdlRW5kICYmIHJhbmdlU3RhcnQuZ2V0RnVsbFllYXIoKSA9PT0gcmFuZ2VFbmQuZ2V0RnVsbFllYXIoKSAmJlxuICAgICAgICByYW5nZVN0YXJ0LmdldE1vbnRoKCkgPT09IHJhbmdlRW5kLmdldE1vbnRoKCkpIHtcbiAgICAgICAgdGhpcy5vbk5leHRNb250aCgnaW5pdCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSBuZXcgRGF0ZSh0aGlzLmN1cnJlbnRZZWFyLCB0aGlzLmN1cnJlbnRNb250aEluZGV4KTtcbiAgICB9XG4gICAgdGhpcy5hdmFpbGFibGVNb250aHMgPSB0aGlzLm9uRGlzcGxheU1vbnRoc0NoYW5nZSgpO1xuICAgIHRoaXMubm90aWZ5Q2FsZW5kZXJDaGFuZ2UoKTtcbiAgfVxuXG4gIC8qXG4gICoqICBAcGFyYW0gaW52b2NhdGlvbjrosIPnlKjml7bmnLpcbiAgKi9cbiAgb25TZWxlY3REYXRlKCRldmVudCwgZGF0ZSwgaW52b2NhdGlvbj86IGFueSkge1xuICAgIGlmICgkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKGludm9jYXRpb24gIT09ICdpbml0Jykge1xuICAgICAgaWYgKHRoaXMuaXNEaXNhYmxlZERheShkYXRlKSkge1xuICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY3VyRGF0ZSA9IHRoaXMuc2hvd1RpbWUgJiYgZGF0ZSA/IHRoaXMuc2V0VGltZShkYXRlKSA6IGRhdGU7XG4gICAgICB0aGlzLnNlbGVjdFJhbmdlKGN1ckRhdGUpO1xuICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSB0aGlzLmlzQXV4aWxpYXJ5ID8gdGhpcy5yYW5nZUVuZCA6IHRoaXMucmFuZ2VTdGFydDtcbiAgICB9XG4gIH1cblxuICBlbWl0SG92ZXJEYXRlKCRldmVudCwgZGF0ZSkge1xuICAgIGlmICh0aGlzLnNlbGVjdGluZ1JhbmdlICYmIGRhdGUuZ2V0VGltZSgpIDw9IHRoaXMubWF4RGF0ZS5nZXRUaW1lKCkgJiYgZGF0ZS5nZXRUaW1lKCkgPj0gdGhpcy5taW5EYXRlLmdldFRpbWUoKSkge1xuICAgICAgdGhpcy5ob3Zlck9uRGF0ZS5lbWl0KGRhdGUpO1xuICAgIH1cbiAgfVxuXG4gIHNlbGVjdFN0YXJ0KGRhdGUpIHtcbiAgICB0aGlzLnJhbmdlU3RhcnQgPSBuZXcgRGF0ZSh0aGlzLmNvbnZlcnREYXRlKGRhdGUpLnNldEhvdXJzKDAsIDAsIDApKTtcbiAgfVxuXG4gIHNlbGVjdEVuZChkYXRlKSB7XG4gICAgdGhpcy5zZWxlY3RpbmdSYW5nZSA9IGZhbHNlO1xuICAgIHRoaXMucmFuZ2VFbmQgPSBuZXcgRGF0ZSh0aGlzLmNvbnZlcnREYXRlKGRhdGUpLnNldEhvdXJzKDIzLCA1OSwgNTkpKTtcbiAgICBpZiAoISF0aGlzLnJhbmdlU3RhcnQgJiYgISF0aGlzLnJhbmdlRW5kKSB7XG4gICAgICB0aGlzLnJhbmdlQ2hhbmdlKHRoaXMuZW5zdXJlUmFuZ2VWYWx1ZU9yZGVyKFt0aGlzLnJhbmdlU3RhcnQsIHRoaXMucmFuZ2VFbmRdLCB0cnVlKSwgU2VsZWN0RGF0ZVJhbmdlQ2hhbmdlUmVhc29uLmRhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnZlcnREYXRlKGRhdGUpIHtcbiAgICByZXR1cm4gZGF0ZSA/IHRoaXMuZGF0ZUNvbnZlcnRlci5wYXJzZShkYXRlKSA6IG51bGw7XG4gIH1cblxuICBzZWxlY3RSYW5nZShkYXRlLCBwYXNzaXZlID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucmFuZ2VTdGFydCB8fCAoISF0aGlzLnJhbmdlU3RhcnQgJiYgISF0aGlzLnJhbmdlRW5kKSkge1xuICAgICAgdGhpcy5yYW5nZUVuZCA9IG51bGw7XG4gICAgICB0aGlzLnJhbmdlU3RhcnQgPSBudWxsO1xuICAgICAgdGhpcy5zZWxlY3RTdGFydChkYXRlKTtcbiAgICAgIHRoaXMuc2VsZWN0aW5nUmFuZ2UgPSB0cnVlO1xuICAgICAgaWYgKCFwYXNzaXZlKSB7XG4gICAgICAgIHRoaXMucmFuZ2VTZWxlY3RpbmcuZW1pdCh0aGlzLnJhbmdlU3RhcnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdEVuZChkYXRlKTtcbiAgICB9XG4gIH1cblxuICByYW5nZUNoYW5nZShyYW5nZSwgcmVhc29uPykge1xuICAgIHRoaXMuc2VsZWN0ZWRSYW5nZSA9IHJhbmdlO1xuICAgIHRoaXMubm90aWZ5VmFsdWVDaGFuZ2UocmFuZ2UsIHJlYXNvbik7XG4gIH1cblxuICB3cml0ZVZhbHVlKHNlbGVjdGVkUmFuZ2U6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuc2VsZWN0ZWRSYW5nZSA9IHNlbGVjdGVkUmFuZ2U7XG4gIH1cblxuICBwcm90ZWN0ZWQgbm90aWZ5VmFsdWVDaGFuZ2Uoc2VsZWN0ZWRSYW5nZTogRGF0ZVtdLCByZWFzb24/KSB7XG4gICAgY29uc3QgY3VycmVudFJlYXNvbiA9IHR5cGVvZiByZWFzb24gPT09ICdudW1iZXInID8gcmVhc29uIDogU2VsZWN0RGF0ZVJhbmdlQ2hhbmdlUmVhc29uLnRpbWU7XG4gICAgdGhpcy5vbkNoYW5nZShzZWxlY3RlZFJhbmdlKTtcbiAgICB0aGlzLnJhbmdlU2VsZWN0ZWQuZW1pdCh7XG4gICAgICByZWFzb246IGN1cnJlbnRSZWFzb24sXG4gICAgICBzZWxlY3RlZFJhbmdlOiBzZWxlY3RlZFJhbmdlXG4gICAgfSk7XG4gIH1cblxuICBpc1NlbGVjdERheShkYXRlKSB7XG4gICAgbGV0IHJhbmdlU291cmNlID0gdGhpcy5zZWxlY3RlZFJhbmdlO1xuICAgIGlmICh0aGlzLnNlbGVjdGluZ1JhbmdlKSB7XG4gICAgICByYW5nZVNvdXJjZSA9IFt0aGlzLnJhbmdlU3RhcnQsIHRoaXMucHJldmlld0VuZF07XG4gICAgfVxuICAgIGlmICgoIUFycmF5LmlzQXJyYXkocmFuZ2VTb3VyY2UpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gcmFuZ2VTb3VyY2Uuc29tZSgoc2VsZWN0ZWREYXRlKSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdGVkRGF0ZSB8fCAhZGF0ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICBkYXRlLmdldEZ1bGxZZWFyKCkgPT09IHNlbGVjdGVkRGF0ZS5nZXRGdWxsWWVhcigpICYmXG4gICAgICAgIGRhdGUuZ2V0TW9udGgoKSA9PT0gc2VsZWN0ZWREYXRlLmdldE1vbnRoKCkgJiZcbiAgICAgICAgZGF0ZS5nZXREYXRlKCkgPT09IHNlbGVjdGVkRGF0ZS5nZXREYXRlKClcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBpc0JldHdlZW5EYXkoZGF0ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc2VsZWN0ZWRSYW5nZSkgJiYgdGhpcy5zZWxlY3RlZFJhbmdlLmV2ZXJ5KGRheSA9PiAhIWRheSkpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zZWxlY3RlZFJhbmdlLmZpbmRJbmRleChkYXkgPT4ge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpID09PSBkYXkuZ2V0RnVsbFllYXIoKSAmJlxuICAgICAgICBkYXRlLmdldE1vbnRoKCkgPT09IGRheS5nZXRNb250aCgpICYmXG4gICAgICAgIGRhdGUuZ2V0RGF0ZSgpID09PSBkYXkuZ2V0RGF0ZSgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gWydkZXZ1aS1kYXktc3RhcnQnLCAnZGV2dWktZGF5LWVuZCddW2luZGV4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGlzRGlzYWJsZWRUaW1lKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkU2lkZSA9IHRoaXMuaXNBdXhpbGlhcnkgPyB0aGlzLnJhbmdlRW5kIDogdGhpcy5yYW5nZVN0YXJ0O1xuICAgIHJldHVybiBzZWxlY3RlZFNpZGUgPyBzdXBlci5pc0Rpc2FibGVkRGF5KHNlbGVjdGVkU2lkZSkgOiB0cnVlO1xuICB9XG5cbiAgdGltZVVwKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdoJzoge1xuICAgICAgTnVtYmVyKHRoaXMuY3VycmVudEhvdXIpIDwgMjMgPyB0aGlzLmN1cnJlbnRIb3VyID0gKE51bWJlcih0aGlzLmN1cnJlbnRIb3VyKSArIDEpIDogdGhpcy5jdXJyZW50SG91ciA9IDA7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnbSc6IHtcbiAgICAgIE51bWJlcih0aGlzLmN1cnJlbnRNaW51dGUpIDwgNTkgPyB0aGlzLmN1cnJlbnRNaW51dGUgPSAoTnVtYmVyKHRoaXMuY3VycmVudE1pbnV0ZSkgKyAxKSA6IHRoaXMuY3VycmVudE1pbnV0ZSA9IDA7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAncyc6IHtcbiAgICAgIE51bWJlcih0aGlzLmN1cnJlbnRTZWNvbmQpIDwgNTkgPyB0aGlzLmN1cnJlbnRTZWNvbmQgPSAoTnVtYmVyKHRoaXMuY3VycmVudFNlY29uZCkgKyAxKSA6IHRoaXMuY3VycmVudFNlY29uZCA9IDA7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgfVxuICAgIHRoaXMudGltZUNoYW5nZSgpO1xuICB9XG5cbiAgdGltZURvd24odHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2gnOiB7XG4gICAgICBOdW1iZXIodGhpcy5jdXJyZW50SG91cikgPiAwID8gdGhpcy5jdXJyZW50SG91ciA9IChOdW1iZXIodGhpcy5jdXJyZW50SG91cikgLSAxKSA6IHRoaXMuY3VycmVudEhvdXIgPSAyMztcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdtJzoge1xuICAgICAgTnVtYmVyKHRoaXMuY3VycmVudE1pbnV0ZSkgPiAwID8gdGhpcy5jdXJyZW50TWludXRlID0gKE51bWJlcih0aGlzLmN1cnJlbnRNaW51dGUpIC0gMSkgOiB0aGlzLmN1cnJlbnRNaW51dGUgPSA1OTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdzJzoge1xuICAgICAgTnVtYmVyKHRoaXMuY3VycmVudFNlY29uZCkgPiAwID8gdGhpcy5jdXJyZW50U2Vjb25kID0gKE51bWJlcih0aGlzLmN1cnJlbnRTZWNvbmQpIC0gMSkgOiB0aGlzLmN1cnJlbnRTZWNvbmQgPSA1OTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB9XG4gICAgdGhpcy50aW1lQ2hhbmdlKCk7XG4gIH1cblxuICBmaXhUaW1lKGV2ZW50LCB0eXBlKSB7XG4gICAgLy8g55Sx5LqOa2V5cHJlc3PkuI3nm5HlkKzlvq7ova/ovpPlhaXms5XpnIDopoHkvb/nlKhrZXlkb3duXG4gICAgLy8g6ICMa2V5ZG93buS4reW+rui9r+i+k+WFpeazleeahGtleeaYrydQcm9jZXNzJ++8jOS4lGtleWRvd27msqHmnIljaGFyQ29kZe+8jOaJgOS7pemcgOimgeeUqGNvZGXliKTmlq1cbiAgICAvLyDmlYXpgIDmoLzlkozovpPlhaXkvb/nlKjlkIzkuIDkuKrkuovku7ZcbiAgICBsZXQgdGltZVR5cGU6IHN0cmluZztcbiAgICBjb25zdCBtaW4gPSAwO1xuICAgIGxldCBtYXggPSA1OTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdoJzoge1xuICAgICAgdGltZVR5cGUgPSAnY3VycmVudEhvdXInO1xuICAgICAgbWF4ID0gMjM7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnbSc6IHtcbiAgICAgIHRpbWVUeXBlID0gJ2N1cnJlbnRNaW51dGUnO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ3MnOiB7XG4gICAgICB0aW1lVHlwZSA9ICdjdXJyZW50U2Vjb25kJztcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB9XG4gICAgbGV0IHZhbHVlID0gZXZlbnQudGFyZ2V0Wyd2YWx1ZSddO1xuICAgIGNvbnN0IHNlbGVjdGlvblN0YXJ0ID0gZXZlbnQudGFyZ2V0WydzZWxlY3Rpb25TdGFydCddO1xuICAgIGNvbnN0IHNlbGVjdGlvbkVuZCA9IGV2ZW50LnRhcmdldFsnc2VsZWN0aW9uRW5kJ107XG4gICAgLy8g5piv5pWw5a2X55qE5pe25YCZ5YaN5aSE55CG77yM5YiG5Li65bCP6ZSu55uY5ZKM5pWw5a2X6ZSuXG4gICAgaWYgKC9eKERpZ2l0fE51bXBhZClcXGQkLy50ZXN0KGV2ZW50LmNvZGUpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGV0IGlucHV0O1xuICAgICAgaWYgKGV2ZW50WydjbGlwYm9hcmREYXRhJ10pIHtcbiAgICAgICAgaW5wdXQgPSBldmVudFsnY2xpcGJvYXJkRGF0YSddLmdldERhdGEoJ3RleHQnKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnRbJ2NvZGUnXSkge1xuICAgICAgICBpbnB1dCA9IGV2ZW50Wydjb2RlJ10uc2xpY2UoZXZlbnRbJ2NvZGUnXS5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvblN0YXJ0KSArIGlucHV0ICsgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbkVuZCk7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzICYmIHZhbHVlLmluZGV4T2YoJzAnKSA9PT0gMCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gOCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvblN0YXJ0IC0gMSkgKyB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uRW5kKTtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCAyKSB7XG4gICAgICAgIHZhbHVlID0gJzAnICsgdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghKGV2ZW50LmtleUNvZGUgPj0gMzcgJiYgZXZlbnQua2V5Q29kZSA8PSA0MCkpIHtcbiAgICAgIC8vIOWmguaenOS4jeaYr+S4iuS4i+W3puWPs++8jOWwsemYu+aLpu+8jOaJp+ihjOiHquW3seeahOWkhOeQhlxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgaWYgKC9eKERpZ2l0fE51bXBhZClcXGQkLy50ZXN0KGV2ZW50LmNvZGUpIHx8IGV2ZW50LmtleUNvZGUgPT09IDgpIHtcbiAgICAgIGlmIChOdW1iZXIodmFsdWUpID49IG1pbiAmJiBOdW1iZXIodmFsdWUpIDw9IG1heCkge1xuICAgICAgICB0aGlzW3RpbWVUeXBlXSA9IHZhbHVlO1xuICAgICAgICAvLyDpmLLmipbvvIzpmLLmraLmj5DliY3moKHpqozlr7zoh7TplJnor6/nmoTmoKHpqoxcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50aW1lQ2hhbmdlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdGltZUNoYW5nZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNBdXhpbGlhcnkpIHtcbiAgICAgIHRoaXMucmFuZ2VTdGFydCA9IG5ldyBEYXRlKHRoaXMucmFuZ2VTdGFydC5nZXRGdWxsWWVhcigpLCB0aGlzLnJhbmdlU3RhcnQuZ2V0TW9udGgoKSwgdGhpcy5yYW5nZVN0YXJ0LmdldERhdGUoKSxcbiAgICAgICAgTnVtYmVyKHRoaXMuY3VycmVudEhvdXIpLCBOdW1iZXIodGhpcy5jdXJyZW50TWludXRlKSwgTnVtYmVyKHRoaXMuY3VycmVudFNlY29uZCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJhbmdlRW5kID0gbmV3IERhdGUodGhpcy5yYW5nZUVuZC5nZXRGdWxsWWVhcigpLCB0aGlzLnJhbmdlRW5kLmdldE1vbnRoKCksIHRoaXMucmFuZ2VFbmQuZ2V0RGF0ZSgpLFxuICAgICAgICBOdW1iZXIodGhpcy5jdXJyZW50SG91ciksIE51bWJlcih0aGlzLmN1cnJlbnRNaW51dGUpLCBOdW1iZXIodGhpcy5jdXJyZW50U2Vjb25kKSk7XG4gICAgfVxuICAgIHRoaXMucmFuZ2VDaGFuZ2UodGhpcy5lbnN1cmVSYW5nZVZhbHVlT3JkZXIoW3RoaXMucmFuZ2VTdGFydCwgdGhpcy5yYW5nZUVuZF0pKTtcbiAgfVxuXG4gIGlzU2FtZURhdGUoZGF0ZTE6IERhdGUsIGRhdGUyOiBEYXRlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRhdGUxPy5nZXRGdWxsWWVhcigpID09PSBkYXRlMj8uZ2V0RnVsbFllYXIoKSAmJiBkYXRlMS5nZXRNb250aCgpID09PSBkYXRlMi5nZXRNb250aCgpICYmIGRhdGUxLmdldERhdGUoKSA9PT0gZGF0ZTIuZ2V0RGF0ZSgpO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY2hhbmdlcywgJ3NlbGVjdGVkUmFuZ2UnKSkge1xuICAgICAgdGhpcy5zZWxlY3RpbmdSYW5nZSA9IGZhbHNlO1xuICAgICAgW3RoaXMucmFuZ2VTdGFydCwgdGhpcy5yYW5nZUVuZF0gPSBjaGFuZ2VzWydzZWxlY3RlZFJhbmdlJ10uY3VycmVudFZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGlzSW5SYW5nZShkYXRlKSB7XG4gICAgY29uc3QgcmFuZ2VTdGFydCA9IHRoaXMucmFuZ2VTdGFydDtcbiAgICBsZXQgcmFuZ2VFbmQgPSB0aGlzLnJhbmdlRW5kO1xuICAgIGlmICh0aGlzLnNlbGVjdGluZ1JhbmdlKSB7XG4gICAgICByYW5nZUVuZCA9IHRoaXMucHJldmlld0VuZDtcbiAgICB9XG4gICAgZGF0ZSA9IChuZXcgRGF0ZShkYXRlKSkuZ2V0VGltZSgpO1xuICAgIHJldHVybiBkYXRlIDwgTWF0aC5tYXgoKG5ldyBEYXRlKHJhbmdlU3RhcnQpKS5nZXRUaW1lKCksIChuZXcgRGF0ZShyYW5nZUVuZCkpLmdldFRpbWUoKSlcbiAgICAgICYmIGRhdGUgPiBNYXRoLm1pbigobmV3IERhdGUocmFuZ2VTdGFydCkpLmdldFRpbWUoKSwgKG5ldyBEYXRlKHJhbmdlRW5kKSkuZ2V0VGltZSgpKTtcbiAgfVxuXG4gIGVuc3VyZVJhbmdlVmFsdWVPcmRlcihkYXRlUmFuZ2U6IERhdGVbXSwgaW5pdFRpbWUgPSBmYWxzZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGVSYW5nZSkgJiYgZGF0ZVJhbmdlLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8g5b2T6YCJ5oup5ZCM5LiA5aSp5pe277yM5Yik5pat5pe26Ze05piv5ZCm6aG65bqP6ZSZ6K+v5bm25L+u5q2jXG4gICAgICBpZiAodGhpcy5pc1NhbWVEYXRlKGRhdGVSYW5nZVswXSwgZGF0ZVJhbmdlWzFdKSAmJiBkYXRlUmFuZ2VbMF0uZ2V0VGltZSgpIC0gZGF0ZVJhbmdlWzFdLmdldFRpbWUoKSA+IDApIHtcbiAgICAgICAgdGhpcy5maXhSZXZlcnNlVGltZShkYXRlUmFuZ2UpO1xuICAgICAgfVxuICAgICAgLy8g5b2T5ZCO5LiA5qyh5pe26Ze06YCJ5oup5q+U5YmN5LiA5qyh5pel5pyf6Z2g5YmN5pe277yM5a+55pe26Ze0572u5o2iXG4gICAgICBpZiAoaW5pdFRpbWUgJiYgZGF0ZVJhbmdlWzBdLmdldFRpbWUoKSAtIGRhdGVSYW5nZVsxXS5nZXRUaW1lKCkgPiAwKSB7XG4gICAgICAgIGRhdGVSYW5nZVswXSA9IG5ldyBEYXRlKGRhdGVSYW5nZVswXS5zZXRIb3VycygyMywgNTksIDU5KSk7XG4gICAgICAgIGRhdGVSYW5nZVsxXSA9IG5ldyBEYXRlKGRhdGVSYW5nZVsxXS5zZXRIb3VycygwLCAwLCAwKSk7XG4gICAgICB9XG4gICAgICBpZiAoZGF0ZVJhbmdlLmV2ZXJ5KGRheSA9PiAhIWRheSkpIHtcbiAgICAgICAgZGF0ZVJhbmdlLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICByZXR1cm4gKG5ldyBEYXRlKGEpKS5nZXRUaW1lKCkgLSAobmV3IERhdGUoYikuZ2V0VGltZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWRhdGVSYW5nZVswXSkge1xuICAgICAgICAgIGRhdGVSYW5nZVswXSA9IGRhdGVSYW5nZVsxXTtcbiAgICAgICAgICBkYXRlUmFuZ2VbMV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRlUmFuZ2U7XG4gIH1cblxuICBmaXhSZXZlcnNlVGltZShkYXRlUmFuZ2U6IERhdGVbXSkge1xuICAgIGlmICh0aGlzLmlzQXV4aWxpYXJ5KSB7XG4gICAgICBkYXRlUmFuZ2VbMV0gPSBkYXRlUmFuZ2VbMF07XG4gICAgICB0aGlzLmN1cnJlbnRIb3VyID0gZGF0ZVJhbmdlWzFdLmdldEhvdXJzKCk7XG4gICAgICB0aGlzLmN1cnJlbnRNaW51dGUgPSBkYXRlUmFuZ2VbMV0uZ2V0TWludXRlcygpO1xuICAgICAgdGhpcy5jdXJyZW50U2Vjb25kID0gZGF0ZVJhbmdlWzFdLmdldFNlY29uZHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0ZVJhbmdlWzBdID0gZGF0ZVJhbmdlWzFdO1xuICAgICAgdGhpcy5jdXJyZW50SG91ciA9IGRhdGVSYW5nZVswXS5nZXRIb3VycygpO1xuICAgICAgdGhpcy5jdXJyZW50TWludXRlID0gZGF0ZVJhbmdlWzBdLmdldE1pbnV0ZXMoKTtcbiAgICAgIHRoaXMuY3VycmVudFNlY29uZCA9IGRhdGVSYW5nZVswXS5nZXRTZWNvbmRzKCk7XG4gICAgfVxuICB9XG5cbiAgb25OZXh0TW9udGgoaW52b2NhdGlvbj86IGFueSkge1xuICAgIGlmICh0aGlzLmhhc05leHRNb250aCgpIHx8IGludm9jYXRpb24gPT09ICdpbml0Jykge1xuICAgICAgbGV0IG1heERhdGVJblJhbmdlO1xuICAgICAgaWYgKGludm9jYXRpb24gPT09ICdpbml0Jykge1xuICAgICAgICBtYXhEYXRlSW5SYW5nZSA9IHRoaXMuc2VsZWN0ZWRSYW5nZS5yZWR1Y2UoKHN0YXJ0LCBlbmQpID0+IG5ldyBEYXRlKGVuZCkgPiBuZXcgRGF0ZShzdGFydCkgPyBlbmQgOiBzdGFydCk7XG4gICAgICB9XG4gICAgICBzdXBlci5vbk5leHRNb250aChtYXhEYXRlSW5SYW5nZSwgJ2luaXQnKTtcbiAgICAgIHRoaXMubm90aWZ5Q2FsZW5kZXJDaGFuZ2UoKTtcbiAgICB9XG4gIH1cblxuICBoYXNOZXh0TW9udGgoKSB7XG4gICAgbGV0IGhhc05leHRNb250aCA9IHRydWU7XG4gICAgLy8g5Ymv6Z2i5p2/5Y+q55So6ICD6JmRbWF4RGF0ZeeahOW9seWTjVxuICAgIC8vIOS4u+mdouadv+WQjOaXtuiAg+iZkW1heERhdGXlkozml6XljobnmoTlvbHlk41cbiAgICAvLyBtaW5EYXRl55qE5b2x5ZON5Zyoc3VwZXIuaGFzTmV4dE1vbnRoKCnkuK3mnInorqHnrpdcbiAgICBpZiAoIXRoaXMuaXNBdXhpbGlhcnkgJiYgdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdICYmIHRoaXMuY3VycmVudENhbGVuZGFyc1sxXSkge1xuICAgICAgaGFzTmV4dE1vbnRoID0gdGhpcy5pc0JlZm9yZU1vcmVUaGFuT25lTW9udGgodGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdLCB0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNOZXh0TW9udGggJiYgc3VwZXIuaGFzTmV4dE1vbnRoKCk7XG4gIH1cblxuICBvblByZU1vbnRoKCkge1xuICAgIGlmICh0aGlzLmhhc1ByZU1vbnRoKCkpIHtcbiAgICAgIHN1cGVyLm9uUHJlTW9udGgoKTtcbiAgICAgIHRoaXMubm90aWZ5Q2FsZW5kZXJDaGFuZ2UoKTtcbiAgICB9XG4gIH1cblxuICBoYXNQcmVNb250aCgpIHtcbiAgICBsZXQgaGFzUHJldk1vbnRoID0gdHJ1ZTtcbiAgICAvLyDkuLvpnaLmnb/lj6rnlKjogIPomZFtaW5EYXRl55qE5b2x5ZONXG4gICAgLy8g5Ymv6Z2i5p2/5ZCM5pe26ICD6JmRbWluRGF0ZeWSjOaXpeWOhueahOW9seWTjVxuICAgIC8vIG1pbkRhdGXnmoTlvbHlk43lnKhzdXBlci5oYXNQcmVNb250aCgp5Lit5pyJ6K6h566XXG4gICAgaWYgKHRoaXMuaXNBdXhpbGlhcnkgJiYgdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdICYmIHRoaXMuY3VycmVudENhbGVuZGFyc1sxXSkge1xuICAgICAgaGFzUHJldk1vbnRoID0gdGhpcy5pc0FmdGVyTW9yZVRoYW5PbmVNb250aCh0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMV0sIHRoaXMuY3VycmVudENhbGVuZGFyc1swXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhc1ByZXZNb250aCAmJiBzdXBlci5oYXNQcmVNb250aCgpO1xuICB9XG5cbiAgaGFzUHJlWWVhck9wdGlvbigpIHtcbiAgICBsZXQgaGFzUHJldlllYXIgPSB0cnVlO1xuICAgIGlmICh0aGlzLm9wZW5DaG9vc2VZZWFyKSB7XG4gICAgICBpZiAoIXRoaXMuaXNBdXhpbGlhcnkpIHtcbiAgICAgICAgaGFzUHJldlllYXIgPSB0aGlzLm5vd01pblllYXIgPiB0aGlzLm1pbkRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc1ByZXZZZWFyID0gdGhpcy5ub3dNaW5ZZWFyID4gdGhpcy5taW5EYXRlLmdldEZ1bGxZZWFyKCkgJiZcbiAgICAgICAgICB0aGlzLmlzQmVmb3JlTW9yZVRoYW5PbmVZZWFyKHRoaXMuY3VycmVudENhbGVuZGFyc1swXSwge3llYXI6IHRoaXMubm93TWluWWVhciwgbW9udGg6IHRoaXMuY3VycmVudENhbGVuZGFyc1sxXS5tb250aH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdICYmIHRoaXMuY3VycmVudENhbGVuZGFyc1sxXSkge1xuICAgICAgLy8g5Li76Z2i5p2/5Y+q55So6ICD6JmRbWluRGF0ZeeahOW9seWTjVxuICAgICAgaWYgKCF0aGlzLmlzQXV4aWxpYXJ5KSB7XG4gICAgICAgIGhhc1ByZXZZZWFyID0gdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdLnllYXIgPiB0aGlzLm1pbkRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIH0gZWxzZSB7IC8vIOWJr+mdouadv+WQjOaXtuiAg+iZkW1pbkRhdGXlkozml6XljobnmoTlvbHlk41cbiAgICAgICAgaGFzUHJldlllYXIgPSB0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMV0ueWVhciA+IHRoaXMubWluRGF0ZS5nZXRGdWxsWWVhcigpICYmXG4gICAgICAgICAgdGhpcy5pc0JlZm9yZU1vcmVUaGFuT25lWWVhcih0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMF0sIHRoaXMuY3VycmVudENhbGVuZGFyc1sxXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNQcmV2WWVhcjtcbiAgfVxuXG4gIGhhc05leHRZZWFyT3B0aW9uKCkge1xuICAgIGxldCBoYXNOZXh0WWVhciA9IHRydWU7XG4gICAgaWYgKHRoaXMub3BlbkNob29zZVllYXIpIHtcbiAgICAgIGlmICh0aGlzLmlzQXV4aWxpYXJ5KSB7XG4gICAgICAgIGhhc05leHRZZWFyID0gdGhpcy5ub3dNYXhZZWFyIDwgdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYXNOZXh0WWVhciA9IHRoaXMubm93TWF4WWVhciA8IHRoaXMubWF4RGF0ZS5nZXRGdWxsWWVhcigpICYmXG4gICAgICAgICAgdGhpcy5pc0FmdGVyTW9yZVRoYW5PbmVZZWFyKHRoaXMuY3VycmVudENhbGVuZGFyc1sxXSwge3llYXI6IHRoaXMubm93TWF4WWVhciwgbW9udGg6IHRoaXMuY3VycmVudENhbGVuZGFyc1swXS5tb250aH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdICYmIHRoaXMuY3VycmVudENhbGVuZGFyc1sxXSkge1xuICAgICAgLy8g5Ymv6Z2i5p2/5Y+q55So6ICD6JmRbWF4RGF0ZeeahOW9seWTjVxuICAgICAgaWYgKHRoaXMuaXNBdXhpbGlhcnkpIHtcbiAgICAgICAgaGFzTmV4dFllYXIgPSB0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMV0ueWVhciA8IHRoaXMubWF4RGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgfSBlbHNlIHsgLy8g5Li76Z2i5p2/5ZCM5pe26ICD6JmRbWF4RGF0ZeWSjOaXpeWOhueahOW9seWTjVxuICAgICAgICBoYXNOZXh0WWVhciA9IHRoaXMuY3VycmVudENhbGVuZGFyc1swXS55ZWFyIDwgdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkgJiZcbiAgICAgICAgICB0aGlzLmlzQWZ0ZXJNb3JlVGhhbk9uZVllYXIodGhpcy5jdXJyZW50Q2FsZW5kYXJzWzFdLCB0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFzTmV4dFllYXI7XG4gIH1cblxuICBpc1llYXJEaXNhYmxlKHllYXI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmlzQXV4aWxpYXJ5KSB7XG4gICAgICAvLyDlhYjliKTlrprkuLvpnaLmnb/mmK/lkKbmr5TpmYTpnaLmnb/lsI/kuIDlubTku6XkuIrvvIzmmK/nmoTor51kaXNhYmxlZOS4umZhbHNlO1xuICAgICAgcmV0dXJuICEodGhpcy5pc0JlZm9yZU1vcmVUaGFuT25lWWVhcih0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMF0sIHsgeWVhcjogeWVhciArIDEsIG1vbnRoOiB0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMV0ubW9udGh9KSB8fFxuICAgICAgICAvLyDkuLvpmYTpnaLmnb/lnKjlkIzkuIDlubTml7bvvIzliKTmlq3kuLvpmYTpnaLmnb/mnIjmmK/lkKblnKjkuLTnlYzlgLzvvJtcbiAgICAgICAgKHRoaXMuY3VycmVudENhbGVuZGFyc1swXS55ZWFyID09PSB5ZWFyICYmIHRoaXMuY3VycmVudENhbGVuZGFyc1swXS5tb250aCAhPT0gMTEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICEodGhpcy5pc0FmdGVyTW9yZVRoYW5PbmVZZWFyKHRoaXMuY3VycmVudENhbGVuZGFyc1sxXSwge3llYXI6IHllYXIgLSAxLCBtb250aDogdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdLm1vbnRofSkgfHxcbiAgICAgICAgKHRoaXMuY3VycmVudENhbGVuZGFyc1sxXS55ZWFyID09PSB5ZWFyICYmIHRoaXMuY3VycmVudENhbGVuZGFyc1sxXS5tb250aCAhPT0gMCkpO1xuICAgIH1cbiAgfVxuXG4gIGlzTW9udGhEaXNhYmxlKG1vbnRoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pc0F1eGlsaWFyeSkge1xuICAgICAgcmV0dXJuICF0aGlzLmlzQmVmb3JlTW9yZVRoYW5PbmVNb250aChcbiAgICAgICAgdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdLCB7eWVhcjogdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzFdLnllYXIsIG1vbnRoOiBwYXJzZUludChtb250aCwgMTApIC0gMSArIDF9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gIXRoaXMuaXNBZnRlck1vcmVUaGFuT25lTW9udGgoXG4gICAgICAgIHRoaXMuY3VycmVudENhbGVuZGFyc1sxXSwge3llYXI6IHRoaXMuY3VycmVudENhbGVuZGFyc1swXS55ZWFyLCBtb250aDogcGFyc2VJbnQobW9udGgsIDEwKSAtIDEgLSAxfVxuICAgICAgKTtcbiAgICB9XG5cbiAgfVxuXG4gIG9uUHJlWWVhcigpIHtcbiAgICBpZiAoIXRoaXMuaGFzUHJlWWVhck9wdGlvbigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLm9wZW5DaG9vc2VZZWFyKSB7XG4gICAgICBpZiAodGhpcy5ub3dNaW5ZZWFyIC0gdGhpcy5feWVhck51bWJlciA+PSB0aGlzLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSkge1xuICAgICAgICB0aGlzLm5vd01heFllYXIgPSB0aGlzLm5vd01pblllYXIgLSAxO1xuICAgICAgICB0aGlzLm5vd01pblllYXIgPSB0aGlzLm5vd01pblllYXIgLSB0aGlzLl95ZWFyTnVtYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ub3dNYXhZZWFyID0gdGhpcy5ub3dNaW5ZZWFyIC0gMTtcbiAgICAgICAgdGhpcy5ub3dNaW5ZZWFyID0gdGhpcy5taW5EYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICB9XG4gICAgICB0aGlzLm9uWWVhclJhbmdlQ2hhbmdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub25TZWxlY3RZZWFyKE51bWJlcih0aGlzLmN1cnJlbnRZZWFyKSAtIDEpO1xuICAgIH1cbiAgICB0aGlzLm5vdGlmeUNhbGVuZGVyQ2hhbmdlKCk7XG4gIH1cblxuICBvbk5leHRZZWFyKCkge1xuICAgIGlmICghdGhpcy5oYXNOZXh0WWVhck9wdGlvbigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLm9wZW5DaG9vc2VZZWFyKSB7XG4gICAgICBpZiAodGhpcy5ub3dNYXhZZWFyICsgdGhpcy5feWVhck51bWJlciA8PSB0aGlzLm1heERhdGUuZ2V0RnVsbFllYXIoKSkge1xuICAgICAgICB0aGlzLm5vd01pblllYXIgPSB0aGlzLm5vd01heFllYXIgKyAxO1xuICAgICAgICB0aGlzLm5vd01heFllYXIgPSB0aGlzLm5vd01heFllYXIgKyB0aGlzLl95ZWFyTnVtYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ub3dNaW5ZZWFyID0gdGhpcy5ub3dNYXhZZWFyICsgMTtcbiAgICAgICAgdGhpcy5ub3dNYXhZZWFyID0gdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICB9XG4gICAgICB0aGlzLm9uWWVhclJhbmdlQ2hhbmdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub25TZWxlY3RZZWFyKE51bWJlcih0aGlzLmN1cnJlbnRZZWFyKSArIDEpO1xuICAgIH1cbiAgICB0aGlzLm5vdGlmeUNhbGVuZGVyQ2hhbmdlKCk7XG4gIH1cblxuICBvblNlbGVjdE1vbnRoKG1vbnRoKSB7XG4gICAgaWYgKG1vbnRoLmRpc2FibGVkIHx8IHRoaXMuaXNNb250aERpc2FibGUobW9udGgudGl0bGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VycmVudE1vbnRoSW5kZXggPSBtb250aC5pbmRleDtcbiAgICB0aGlzLm9uRGlzcGxheVdlZWtzQ2hhbmdlKCk7XG4gICAgdGhpcy5vcGVuQ2hvb3NlTW9udGggPSBmYWxzZTtcblxuICAgIHRoaXMuaXNBdXhpbGlhcnkgPyB0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMV0ubW9udGggPSB0aGlzLmN1cnJlbnRNb250aEluZGV4IDogdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzBdLm1vbnRoID0gdGhpcy5jdXJyZW50TW9udGhJbmRleDtcbiAgfVxuXG4gIG9uU2VsZWN0WWVhcih5ZWFyLCAkZXZlbnQ/OiBFdmVudCkge1xuICAgIGlmICgkZXZlbnQpIHtcbiAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgY29uc3QgeWVhckRpc2FibGVkID0gdHlwZW9mIHllYXIgPT09ICdvYmplY3QnID8geWVhci5kaXNhYmxlZCA6IGZhbHNlO1xuICAgIGNvbnN0IHllYXJUaXRsZSA9IHR5cGVvZiB5ZWFyID09PSAnb2JqZWN0JyA/IHllYXIudGl0bGUgOiB5ZWFyO1xuICAgIGlmICh5ZWFyRGlzYWJsZWQgfHwgdGhpcy5pc1llYXJEaXNhYmxlKHllYXIudGl0bGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFllYXIgPSB5ZWFyVGl0bGU7XG4gICAgdGhpcy5vbkRpc3BsYXlXZWVrc0NoYW5nZSgpO1xuICAgIHRoaXMuYXZhaWxhYmxlTW9udGhzID0gdGhpcy5vbkRpc3BsYXlNb250aHNDaGFuZ2UoKTtcbiAgICB0aGlzLm9wZW5DaG9vc2VZZWFyID0gZmFsc2U7XG4gICAgaWYgKCEkZXZlbnQpIHtcbiAgICAgIHRoaXMuaXNBdXhpbGlhcnkgPyB0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMV0ueWVhciA9IHRoaXMuY3VycmVudFllYXIgOiB0aGlzLmN1cnJlbnRDYWxlbmRhcnNbMF0ueWVhciA9IHRoaXMuY3VycmVudFllYXI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMub3BlbkNob29zZU1vbnRoID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5pc0F1eGlsaWFyeSkge1xuICAgICAgdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzFdLnllYXIgPSB0aGlzLmN1cnJlbnRZZWFyO1xuICAgICAgdGhpcy5jdXJyZW50Q2FsZW5kYXJzWzFdLm1vbnRoID0gMTE7XG4gICAgICB0aGlzLmN1cnJlbnRNb250aEluZGV4ID0gMTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudENhbGVuZGFyc1swXS55ZWFyID0gdGhpcy5jdXJyZW50WWVhcjtcbiAgICAgIHRoaXMuY3VycmVudENhbGVuZGFyc1swXS5tb250aCA9IDA7XG4gICAgICB0aGlzLmN1cnJlbnRNb250aEluZGV4ID0gMDtcbiAgICB9XG4gIH1cblxuICBpc0JlZm9yZU1vcmVUaGFuT25lTW9udGgoZGF0ZUE6IFNpbXBsZURhdGUsIGRhdGVCOiBTaW1wbGVEYXRlKSB7XG4gICAgaWYgKGRhdGVBLnllYXIgPiBkYXRlQi55ZWFyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRhdGVBLnllYXIgPT09IGRhdGVCLnllYXIgJiYgZGF0ZUIubW9udGggPD0gZGF0ZUEubW9udGggKyAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8g5aSE55CGQeaXpeacn+S4ukLml6XmnJ/liY3kuIDlubQxMuaciOWQjOaXtkLml6XmnJ/kuLox5pyI55qE54m55q6K5oOF5Ya1XG4gICAgcmV0dXJuICEoZGF0ZUIueWVhciAtIGRhdGVBLnllYXIgPT09IDEgJiYgZGF0ZUEubW9udGggPT09IDExICYmIGRhdGVCLm1vbnRoID09PSAwKTtcbiAgfVxuXG4gIGlzQWZ0ZXJNb3JlVGhhbk9uZU1vbnRoKGRhdGVBOiBTaW1wbGVEYXRlLCBkYXRlQjogU2ltcGxlRGF0ZSkge1xuICAgIGlmIChkYXRlQS55ZWFyIDwgZGF0ZUIueWVhcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChkYXRlQS55ZWFyID09PSBkYXRlQi55ZWFyICYmIGRhdGVCLm1vbnRoICsgMSA+PSBkYXRlQS5tb250aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIOWkhOeQhkHml6XmnJ/kuLpC5pel5pyf5ZCO5LiA5bm0MeaciOWQjOaXtkLml6XmnJ/kuLoxMuaciOeahOeJueauiuaDheWGtVxuICAgIHJldHVybiAhKGRhdGVBLnllYXIgLSBkYXRlQi55ZWFyID09PSAxICYmIGRhdGVBLm1vbnRoID09PSAwICYmIGRhdGVCLm1vbnRoID09PSAxMSk7XG4gIH1cblxuICBpc0JlZm9yZU1vcmVUaGFuT25lWWVhcihkYXRlQTogU2ltcGxlRGF0ZSwgZGF0ZUI6IFNpbXBsZURhdGUpIHtcbiAgICBpZiAoZGF0ZUEueWVhciA+PSBkYXRlQi55ZWFyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8g5aSE55CGQuaXpeacn+avlEHml6XmnJ/lpKcx5bm05ZCM5pe2QeaXpeacn+aciOS7veWkp+S6jkLml6XmnJ/mnIjku73nmoTmg4XlhrVcbiAgICByZXR1cm4gIShkYXRlQi55ZWFyIC0gZGF0ZUEueWVhciA9PT0gMSAmJiBkYXRlQS5tb250aCA+PSBkYXRlQi5tb250aCk7XG4gIH1cblxuICBpc0FmdGVyTW9yZVRoYW5PbmVZZWFyKGRhdGVBOiBTaW1wbGVEYXRlLCBkYXRlQjogU2ltcGxlRGF0ZSkge1xuICAgIGlmIChkYXRlQS55ZWFyIDw9IGRhdGVCLnllYXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyDlpITnkIZB5pel5pyf5q+UQuaXpeacn+WkpzHlubTlkIzml7ZB5pel5pyf5pyI5Lu95bCP5LqOQuaXpeacn+aciOS7veeahOaDheWGtVxuICAgIHJldHVybiAoIShkYXRlQS55ZWFyIC0gZGF0ZUIueWVhciA9PT0gMSAmJiBkYXRlQS5tb250aCA8PSBkYXRlQi5tb250aCkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG5vdGlmeUNhbGVuZGVyQ2hhbmdlKCkge1xuICAgIHRoaXMuc3luY1BpY2tlclBhaXIuZW1pdCh7XG4gICAgICB5ZWFyOiB0aGlzLmN1cnJlbnRZZWFyLFxuICAgICAgbW9udGg6IHRoaXMuY3VycmVudE1vbnRoSW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIGNvbmZpcm1UaW1lKCkge1xuICAgIHRoaXMuY29uc29saWRhdGVUaW1lLmVtaXQoKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0VGltZShkYXRlOiBhbnkpIHtcbiAgICByZXR1cm4gKG5ldyBEYXRlKGRhdGUuc2V0SG91cnModGhpcy5jdXJyZW50SG91ciwgdGhpcy5jdXJyZW50TWludXRlLCB0aGlzLmN1cnJlbnRTZWNvbmQpKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25TZWxlY3REYXRlQ2hhbmdlZCgpIHtcbiAgICBsZXQgZGF0ZSA9IHRoaXMuc2VsZWN0ZWREYXRlIHx8IG5ldyBEYXRlKCk7XG4gICAgaWYgKGRhdGUuZ2V0VGltZSgpIDwgdGhpcy5taW5EYXRlLmdldFRpbWUoKSkge1xuICAgICAgZGF0ZSA9IHRoaXMubWluRGF0ZTtcbiAgICB9XG4gICAgaWYgKGRhdGUuZ2V0VGltZSgpID4gdGhpcy5tYXhEYXRlLmdldFRpbWUoKSkge1xuICAgICAgZGF0ZSA9IHRoaXMubWF4RGF0ZTtcbiAgICB9XG4gICAgdGhpcy5zZWxlY3RlZERhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZSB8fCBkYXRlO1xuICAgIHRoaXMuY3VycmVudFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgdGhpcy5jdXJyZW50TW9udGhJbmRleCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICBpZiAoIXRoaXMuc2hvd1RpbWUpIHsgcmV0dXJuOyB9XG4gICAgc3dpdGNoICh0aGlzLmlzQXV4aWxpYXJ5KSB7XG4gICAgY2FzZSBmYWxzZTpcbiAgICAgIC8vIExlZnQgcGFuZWxcbiAgICAgIHRoaXMuY3VycmVudEhvdXIgPSB0aGlzLnJhbmdlU3RhcnQgPyB0aGlzLnJhbmdlU3RhcnQuZ2V0SG91cnMoKSA6IDA7XG4gICAgICB0aGlzLmN1cnJlbnRNaW51dGUgPSB0aGlzLnJhbmdlU3RhcnQgPyB0aGlzLnJhbmdlU3RhcnQuZ2V0TWludXRlcygpIDogMDtcbiAgICAgIHRoaXMuY3VycmVudFNlY29uZCA9IHRoaXMucmFuZ2VTdGFydCA/IHRoaXMucmFuZ2VTdGFydC5nZXRTZWNvbmRzKCkgOiAwO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSB0cnVlOlxuICAgICAgLy8gUmlnaHQgcGFuZWxcbiAgICAgIHRoaXMuY3VycmVudEhvdXIgPSB0aGlzLnJhbmdlRW5kID8gdGhpcy5yYW5nZUVuZC5nZXRIb3VycygpIDogMjM7XG4gICAgICB0aGlzLmN1cnJlbnRNaW51dGUgPSB0aGlzLnJhbmdlRW5kID8gdGhpcy5yYW5nZUVuZC5nZXRNaW51dGVzKCkgOiA1OTtcbiAgICAgIHRoaXMuY3VycmVudFNlY29uZCA9IHRoaXMucmFuZ2VFbmQgPyB0aGlzLnJhbmdlRW5kLmdldFNlY29uZHMoKSA6IDU5O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGN1cnJlbnRUaW1lICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaG91cjogdGhpcy5jdXJyZW50SG91cixcbiAgICAgIG1pbnV0ZTogdGhpcy5jdXJyZW50TWludXRlLFxuICAgICAgc2Vjb25kOiB0aGlzLmN1cnJlbnRTZWNvbmRcbiAgICB9O1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiZGV2dWktbW9udGgtdmlldyB7eyBjc3NDbGFzcyB9fVwiPlxuICA8dGFibGUgY2xhc3M9XCJkZXZ1aS10YWJsZSBkZXZ1aS1tb250aC12aWV3LXRhYmxlXCI+XG4gICAgPHRoZWFkPlxuICAgICAgPHRyIGNsYXNzPVwiZGV2dWktY2FsZW5kZXItaGVhZGVyXCI+XG4gICAgICAgIDx0ZD5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3M9XCJkZXZ1aS1idG4tbGlua1wiXG4gICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgKGNsaWNrKT1cIm9uUHJlWWVhcigpXCJcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgJ2RldnVpLXllYXItbW9udGgtZGlzYWJsZWQnOiAhaGFzUHJlWWVhck9wdGlvbigpIH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgd2lkdGg9XCIxMHB4XCJcbiAgICAgICAgICAgICAgaGVpZ2h0PVwiMTBweFwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTAgMTBcIlxuICAgICAgICAgICAgICB2ZXJzaW9uPVwiMS4xXCJcbiAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxnIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC0xLjAwMDAwMCwgLTEuMDAwMDAwKVwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0xMSwxLjgzMzMzMzMzIEwxMSwxMC4xNjY2NjY3IEw3LDcuMzg4MzMzMzMgTDcsMTAuMTY2NjY2NyBMMSw2IEw3LDEuODMzMzMzMzMgTDcsNC42MTAzMzMzMyBMMTEsMS44MzMzMzMzMyBaXCJcbiAgICAgICAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZD5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgKm5nSWY9XCIhb3BlbkNob29zZVllYXIgJiYgIW9wZW5DaG9vc2VNb250aFwiXG4gICAgICAgICAgICBjbGFzcz1cImRldnVpLWJ0bi1saW5rIGRldnVpLWJ0bi1sZWZ0XCJcbiAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAoY2xpY2spPVwib25QcmVNb250aCgpXCJcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgJ2RldnVpLXllYXItbW9udGgtZGlzYWJsZWQnOiAhaGFzUHJlTW9udGgoKSB9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIHdpZHRoPVwiNnB4XCJcbiAgICAgICAgICAgICAgaGVpZ2h0PVwiMTBweFwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgNiAxMFwiXG4gICAgICAgICAgICAgIHZlcnNpb249XCIxLjFcIlxuICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGcgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTMuMDAwMDAwLCAtMS4wMDAwMDApXCI+XG4gICAgICAgICAgICAgICAgICA8cG9seWdvblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNi4wMDAwMDAsIDYuMDAwMDAwKSByb3RhdGUoLTkwLjAwMDAwMCkgdHJhbnNsYXRlKC02LjAwMDAwMCwgLTYuMDAwMDAwKSBcIlxuICAgICAgICAgICAgICAgICAgICBwb2ludHM9XCI2IDMgMTAuMTY2NjY2NyA5IDEuODMzMzMzMzMgOVwiXG4gICAgICAgICAgICAgICAgICA+PC9wb2x5Z29uPlxuICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQgY29sc3Bhbj1cIjNcIiBjbGFzcz1cImRldnVpLWRyb3Bkb3duXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXZ1aS1kYXRlLXRpdGxlXCIgKGNsaWNrKT1cInRvZ2dsZSgkZXZlbnQsICd5ZWFyJylcIj57eyBpMThuVGV4dD8ueWVhckRpc3BsYXkoY3VycmVudFllYXIpIH19PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGV2dWktZGF0ZS10aXRsZVwiIChjbGljayk9XCJ0b2dnbGUoJGV2ZW50LCAnbW9udGgnKVwiPnt7IChpMThuVGV4dD8ubW9udGhzT2ZZZWFyKVtjdXJyZW50TW9udGhJbmRleF0gfX08L3NwYW4+XG4gICAgICAgICAgPHVsIGNsYXNzPVwiZGV2dWktbW9udGhPcHRpb24gdGV4dC1jZW50ZXJcIiBbc3R5bGUuZGlzcGxheV09XCJvcGVuQ2hvb3NlTW9udGggPyAnYmxvY2snIDogJ25vbmUnXCI+XG4gICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IG1vbnRoIG9mIGF2YWlsYWJsZU1vbnRoc1wiXG4gICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgYWN0aXZlOiBjdXJyZW50TW9udGhJbmRleCA9PSBtb250aC5pbmRleCwgZGlzYWJsZWQ6IG1vbnRoLmRpc2FibGVkIHx8IGlzTW9udGhEaXNhYmxlKG1vbnRoLnRpdGxlKSB9XCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uU2VsZWN0TW9udGgobW9udGgpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgbW9udGgudGl0bGUgfX1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJkZXZ1aS15ZWFyT3B0aW9uIHRleHQtY2VudGVyXCIgW3N0eWxlLmRpc3BsYXldPVwib3BlbkNob29zZVllYXIgPyAnYmxvY2snIDogJ25vbmUnXCI+XG4gICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGl0ZW0gb2YgeWVhck9wdGlvbnNcIlxuICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7IGFjdGl2ZTogY3VycmVudFllYXIgPT0gaXRlbS50aXRsZSwgZGlzYWJsZWQ6IGl0ZW0uZGlzYWJsZWQgfHwgaXNZZWFyRGlzYWJsZShpdGVtLnRpdGxlKSB9XCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uU2VsZWN0WWVhcihpdGVtLCAkZXZlbnQpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgaXRlbS50aXRsZSB9fVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgICpuZ0lmPVwiIW9wZW5DaG9vc2VZZWFyICYmICFvcGVuQ2hvb3NlTW9udGhcIlxuICAgICAgICAgICAgY2xhc3M9XCJkZXZ1aS1idG4tbGluayBkZXZ1aS1idG4tcmlnaHRcIlxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgIChjbGljayk9XCJvbk5leHRNb250aCgpXCJcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgJ2RldnVpLXllYXItbW9udGgtZGlzYWJsZWQnOiAhaGFzTmV4dE1vbnRoKCkgfVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICB3aWR0aD1cIjZweFwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjlweFwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgNiA5XCJcbiAgICAgICAgICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMy4wMDAwMDAsIC0yLjAwMDAwMClcIj5cbiAgICAgICAgICAgICAgICAgIDxwb2x5Z29uXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSg2LjAwMDAwMCwgNi4xNjY2NjcpIHNjYWxlKC0xLCAxKSByb3RhdGUoLTkwLjAwMDAwMCkgdHJhbnNsYXRlKC02LjAwMDAwMCwgLTYuMTY2NjY3KSBcIlxuICAgICAgICAgICAgICAgICAgICBwb2ludHM9XCI2IDMuMTY2NjY2NjcgMTAuMTY2NjY2NyA5LjE2NjY2NjY3IDEuODMzMzMzMzMgOS4xNjY2NjY2N1wiXG4gICAgICAgICAgICAgICAgICA+PC9wb2x5Z29uPlxuICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGNsYXNzPVwiZGV2dWktYnRuLWxpbmtcIlxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgIChjbGljayk9XCJvbk5leHRZZWFyKClcIlxuICAgICAgICAgICAgW25nQ2xhc3NdPVwieyAnZGV2dWkteWVhci1tb250aC1kaXNhYmxlZCc6ICFoYXNOZXh0WWVhck9wdGlvbigpIH1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgd2lkdGg9XCIxMHB4XCJcbiAgICAgICAgICAgICAgaGVpZ2h0PVwiOXB4XCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMCA5XCJcbiAgICAgICAgICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZyBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMS4wMDAwMDAsIC0yLjAwMDAwMClcIj5cbiAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIHBvaW50cz1cIjUgNC43Nzc3Nzc3OCA1IDIgMTEgNi4xNjY2NjY2NyA1IDEwLjMzMzMzMzMgNSA3LjU1NTU1NTU2IDEgMTAuMzMzMzMzMyAxIDJcIj48L3BvbHlnb24+XG4gICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvdGQ+XG4gICAgICA8L3RyPlxuICAgICAgPHRyIGNsYXNzPVwic21hbGwgdGV4dC1jZW50ZXIgZGV2dWktd2Vlay1oZWFkZXJcIj5cbiAgICAgICAgPHRkICpuZ0Zvcj1cImxldCBpdGVtIG9mIGkxOG5UZXh0Py5kYXlzT2ZXZWVrXCI+e3sgaXRlbSB9fTwvdGQ+XG4gICAgICA8L3RyPlxuICAgIDwvdGhlYWQ+XG4gICAgPHRib2R5PlxuICAgICAgPHRyICpuZ0Zvcj1cImxldCB3ZWVrIG9mIGRpc3BsYXlXZWVrc1wiPlxuICAgICAgICA8dGRcbiAgICAgICAgICAqbmdGb3I9XCJsZXQgZGF5IG9mIHdlZWtcIlxuICAgICAgICAgIGNsYXNzPVwiZGV2dWktZGF5IHt7IGlzQmV0d2VlbkRheShkYXkuZGF0ZSkgfX1cIlxuICAgICAgICAgIFtuZ0NsYXNzXT1cIntcbiAgICAgICAgICAgICdkZXZ1aS1vdXQtb2YtbW9udGgnOiAhZGF5LmluTW9udGgsXG4gICAgICAgICAgICAnZGV2dWktaW4tbW9udGgtZGF5JzogZGF5LmluTW9udGgsXG4gICAgICAgICAgICBhY3RpdmU6IGlzU2VsZWN0RGF5KGRheS5kYXRlKSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkRGF5KGRheS5kYXRlKSxcbiAgICAgICAgICAgICdkZXZ1aS1pbi1yYW5nZSc6IGlzSW5SYW5nZShkYXkuZGF0ZSksXG4gICAgICAgICAgICAnZGV2dWktdG9kYXknOiBkYXkuaXNUb2RheVxuICAgICAgICAgIH1cIlxuICAgICAgICAgIChjbGljayk9XCJvblNlbGVjdERhdGUoJGV2ZW50LCBkYXkuZGF0ZSlcIlxuICAgICAgICAgIChtb3VzZW92ZXIpPVwiZW1pdEhvdmVyRGF0ZSgkZXZlbnQsIGRheS5kYXRlKVwiXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2dWktY2FsZW5kYXItZGF0ZVwiPnt7IGRheS5kYXkgfX08L2Rpdj5cbiAgICAgICAgPC90ZD5cbiAgICAgIDwvdHI+XG4gICAgPC90Ym9keT5cbiAgICA8dGZvb3Q+XG4gICAgICA8dHIgY2xhc3M9XCJ0aW1lLXBpY2tlci12aWV3XCIgKm5nSWY9XCJzaG93VGltZVwiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiIWN1c3RvbVZpZXdUZW1wbGF0ZVwiPlxuICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldnVpLXRpbWVwaWNrZXJcIiAqbmdJZj1cInNob3dUaW1lXCIgW25nQ2xhc3NdPVwieyAnZGV2dWktdGltZXBpY2tlci1kaXNhYmxlZCc6IGlzRGlzYWJsZWRUaW1lKCkgfVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2dWktdGltZVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCBbbmdNb2RlbF09XCJjdXJyZW50SG91clwiIChrZXlkb3duKT1cImZpeFRpbWUoJGV2ZW50LCAnaCcpXCIgW2Rpc2FibGVkXT1cImlzRGlzYWJsZWRUaW1lKClcIiAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS1idG4tbmF2XCIgKm5nSWY9XCIhaXNEaXNhYmxlZFRpbWUoKVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi11cFwiIChjbGljayk9XCJ0aW1lVXAoJ2gnKVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1kb3duXCIgKGNsaWNrKT1cInRpbWVEb3duKCdoJylcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZ1aS10aW1lXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZGV2dWktbWludXRlc1wiIFtuZ01vZGVsXT1cImN1cnJlbnRNaW51dGVcIiAoa2V5ZG93bik9XCJmaXhUaW1lKCRldmVudCwgJ20nKVwiIFtkaXNhYmxlZF09XCJpc0Rpc2FibGVkVGltZSgpXCIgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2dWktYnRuLW5hdlwiICpuZ0lmPVwiIWlzRGlzYWJsZWRUaW1lKClcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tdXBcIiAoY2xpY2spPVwidGltZVVwKCdtJylcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZG93blwiIChjbGljayk9XCJ0aW1lRG93bignbScpXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2dWktdGltZVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImRldnVpLXNlY29uZHNcIiBbbmdNb2RlbF09XCJjdXJyZW50U2Vjb25kXCIgKGtleWRvd24pPVwiZml4VGltZSgkZXZlbnQsICdzJylcIiBbZGlzYWJsZWRdPVwiaXNEaXNhYmxlZFRpbWUoKVwiIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldnVpLWJ0bi1uYXZcIiAqbmdJZj1cIiFpc0Rpc2FibGVkVGltZSgpXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLXVwXCIgKGNsaWNrKT1cInRpbWVVcCgncycpXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWRvd25cIiAoY2xpY2spPVwidGltZURvd24oJ3MnKVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNvbHNwYW49XCIzXCIgKm5nSWY9XCJpc0F1eGlsaWFyeVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldnVpLWJ0bi13cmFwcGVyXCI+XG4gICAgICAgICAgICAgIDxkLWJ1dHRvbiBic1N0eWxlPVwiY29tbW9uXCIgW2Rpc2FibGVkXT1cIiFyYW5nZVN0YXJ0IHx8ICFyYW5nZUVuZCB8fCBkaXNhYmxlZFwiIChidG5DbGljayk9XCJjb25maXJtVGltZSgpXCIgYnNTaXplPVwic21cIj5cbiAgICAgICAgICAgICAgICB7eyBpMThuQ29tbW9uVGV4dD8uYnRuQ29uZmlybSB9fVxuICAgICAgICAgICAgICA8L2QtYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8L3RyPlxuICAgIDwvdGZvb3Q+XG4gIDwvdGFibGU+XG48L2Rpdj5cbiJdfQ==