import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, Input, Output, Renderer2, ViewChild } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { I18nService } from 'ng-devui/i18n';
import { fromEvent, Subject } from 'rxjs';
import { debounceTime, filter, map, takeUntil } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "ng-devui/i18n";
import * as i2 from "ng-devui/common";
import * as i3 from "@angular/common";
export class SearchComponent {
    constructor(renderer, i18n, cdr, el) {
        this.renderer = renderer;
        this.i18n = i18n;
        this.cdr = cdr;
        this.el = el;
        this.maxLength = Number.MAX_SAFE_INTEGER;
        this.isKeyupSearch = false;
        this.delay = 300;
        this.disabled = false;
        this.iconPosition = 'right';
        this.noBorder = false;
        this.autoFocus = false;
        this.searchFn = new EventEmitter();
        this.clearIconExit = false;
        this.destroy$ = new Subject();
        this.onChange = (_) => null;
        this.onTouch = () => null;
    }
    ngOnInit() {
        this.setI18nText();
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouch = fn;
    }
    writeValue(value = '') {
        this.renderer.setProperty(this.filterInputElement.nativeElement, 'value', value);
        this.renderClearIcon();
    }
    setI18nText() {
        this.i18nCommonText = this.i18n.getI18nText().common;
        this.i18nSubscription = this.i18n.langChange()
            .pipe(takeUntil(this.destroy$))
            .subscribe((data) => {
            this.i18nCommonText = data.common;
            this.cdr.markForCheck();
        });
    }
    clearText() {
        this.renderer.setProperty(this.filterInputElement.nativeElement, 'value', '');
        if (this.onChange) {
            this.onChange('');
        }
        this.searchFn.emit('');
        this.filterInputElement.nativeElement.focus();
        this.renderClearIcon();
    }
    inputChange(value, event) {
        this.renderClearIcon();
        // 此函数不能删除，需要给filterInput.value赋值，从而控制clear的显隐。因为registerFilterChange对clear的显隐控制不起作用。
    }
    inputBlur() {
        this.onTouch();
    }
    clickSearch(term) {
        if (!this.disabled) {
            this.searchFn.emit(term);
        }
    }
    registerFilterChange() {
        fromEvent(this.filterInputElement.nativeElement, 'input')
            .pipe(takeUntil(this.destroy$), map((e) => e.target.value), debounceTime(this.delay))
            .subscribe((value) => {
            this.onChange(value);
            if (this.isKeyupSearch) {
                this.searchFn.emit(value);
            }
        });
        fromEvent(this.filterInputElement.nativeElement, 'keydown').pipe(takeUntil(this.destroy$), filter((keyEvent) => keyEvent.key === 'Enter'), debounceTime(this.delay)).subscribe((keyEvent) => {
            this.searchFn.emit(this.filterInputElement.nativeElement.value);
        });
    }
    ngAfterViewInit() {
        this.registerFilterChange();
        this.renderClearIcon();
    }
    renderClearIcon() {
        if (this.iconPosition === 'right') {
            if (this.filterInputElement.nativeElement.value && this.lineElement && this.clearIconElement) {
                this.clearIconExit = true;
            }
            else if (this.lineElement && this.clearIconElement) {
                this.clearIconExit = false;
            }
        }
        else {
            if (this.filterInputElement.nativeElement.value && this.clearIconElement) {
                this.clearIconExit = true;
            }
            else if (this.clearIconElement) {
                this.clearIconExit = false;
            }
        }
        this.cdr.markForCheck();
    }
    ngOnDestroy() {
        this.destroy$.next(true);
    }
}
SearchComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: SearchComponent, deps: [{ token: i0.Renderer2 }, { token: i1.I18nService }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });
SearchComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: SearchComponent, selector: "d-search", inputs: { size: "size", placeholder: "placeholder", maxLength: "maxLength", isKeyupSearch: "isKeyupSearch", delay: "delay", disabled: "disabled", cssClass: "cssClass", iconPosition: "iconPosition", noBorder: "noBorder", autoFocus: "autoFocus" }, outputs: { searchFn: "searchFn" }, providers: [
        {
            provide: NG_VALUE_ACCESSOR,
            useExisting: forwardRef(() => SearchComponent),
            multi: true,
        },
    ], viewQueries: [{ propertyName: "filterInputElement", first: true, predicate: ["filterInput"], descendants: true, static: true }, { propertyName: "lineElement", first: true, predicate: ["line"], descendants: true }, { propertyName: "clearIconElement", first: true, predicate: ["clearIcon"], descendants: true }], exportAs: ["search"], ngImport: i0, template: "<div class=\"devui-search\">\n  <input\n    #filterInput\n    [dAutoFocus]=\"autoFocus\"\n    [placeholder]=\"placeholder || i18nCommonText?.searchPlaceholder\"\n    (change)=\"inputChange(filterInput.value, $event)\"\n    (keyup)=\"inputChange(filterInput.value, $event)\"\n    [attr.maxlength]=\"maxLength\"\n    [disabled]=\"disabled\"\n    (blur)=\"inputBlur()\"\n    type=\"text\"\n    class=\"devui-input {{ cssClass }}\"\n    [ngClass]=\"{\n      'devui-input-sm': size === 'sm',\n      'devui-input-lg': size === 'lg',\n      'devui-clear-exit': clearIconExit,\n      'devui-icon-left': iconPosition === 'left',\n      'devui-search-no-border': noBorder === true\n    }\"\n  />\n  <span\n    class=\"devui-search-icon\"\n    [ngClass]=\"{ 'devui-search-icon-sm': size === 'sm', 'devui-search-icon-lg': size === 'lg', 'devui-icon-left': iconPosition === 'left' }\"\n    (click)=\"clickSearch(filterInput.value)\"\n  >\n    <svg\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      class=\"svg-icon-search\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M7,0 C10.8659932,0 14,3.13400675 14,7 C14,8.57190212 13.4818819,10.0227913 12.6071076,11.1912056 L15.7071068,14.2928932 C16.0976311,14.6834175 16.0976311,15.3165825 15.7071068,15.7071068 C15.3466228,16.0675907 14.7793918,16.0953203 14.3871006,15.7902954 L14.2928932,15.7071068 L11.1912056,12.6071076 C10.0227913,13.4818819 8.57190212,14 7,14 C3.13400675,14 5.5067062e-14,10.8659932 5.5067062e-14,7 C5.5067062e-14,3.13400675 3.13400675,0 7,0 Z M7,2 C4.23857625,2 2,4.23857625 2,7 C2,9.76142375 4.23857625,12 7,12 C9.76142375,12 12,9.76142375 12,7 C12,4.23857625 9.76142375,2 7,2 Z\"\n          id=\"\u692D\u5706\u5F62\"\n          fill=\"#71757F\"\n        ></path>\n      </g>\n    </svg>\n  </span>\n  <span\n    #line\n    *ngIf=\"iconPosition === 'right'\"\n    class=\"devui-search-line\"\n    [ngClass]=\"{ 'devui-search-line-sm': size === 'sm', 'devui-search-line-lg': size === 'lg', 'devui-clear-exit': clearIconExit }\"\n  >\n  </span>\n  <span\n    #clearIcon\n    (click)=\"clearText()\"\n    class=\"devui-search-clear\"\n    [ngClass]=\"{\n      'devui-search-clear-sm': size === 'sm',\n      'devui-search-clear-lg': size === 'lg',\n      'devui-clear-exit': clearIconExit,\n      'devui-icon-left': iconPosition === 'left'\n    }\"\n  >\n    <svg\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      class=\"svg-icon-clear\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M5.87867966,5.17157288 C5.68341751,4.97631073 5.36683502,4.97631073 5.17157288,5.17157288 C4.99800652,5.34513923 4.97872137,5.61456363 5.11371742,5.80943177 L5.17157288,5.87867966 L7.29218611,7.99929289 L5.17157288,10.1213203 C4.97631073,10.3165825 4.97631073,10.633165 5.17157288,10.8284271 C5.34513923,11.0019935 5.61456363,11.0212786 5.80943177,10.8862826 L5.87867966,10.8284271 L7.99929289,8.70639967 L10.1213203,10.8284271 C10.3165825,11.0236893 10.633165,11.0236893 10.8284271,10.8284271 C11.0019935,10.6548608 11.0212786,10.3854364 10.8862826,10.1905682 L10.8284271,10.1213203 L8.70710678,8 L10.8284271,5.87867966 C11.0236893,5.68341751 11.0236893,5.36683502 10.8284271,5.17157288 C10.6548608,4.99800652 10.3854364,4.97872137 10.1905682,5.11371742 L10.1213203,5.17157288 L8,7.29289322 L5.87867966,5.17157288 Z\"\n          id=\"\u5F62\u72B6\"\n          fill=\"#D5D5DB\"\n          fill-rule=\"nonzero\"\n        ></path>\n      </g>\n    </svg>\n  </span>\n</div>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.devui-search .devui-serach-line{border-color:#f2f2f3;border-color:var(--devui-dividing-line, #f2f2f3)}svg.svg-icon-search path{fill:#71757f;fill:var(--devui-icon-fill, #71757f);transition:all cubic-bezier(.645,.045,.355,1) .3s;transition:all var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1)) var(--devui-animation-duration-slow, .3s)}svg.svg-icon-search:hover path{fill:#252b3a;fill:var(--devui-icon-fill-hover, #252b3a)}svg.svg-icon-clear{vertical-align:middle;position:relative;top:-.1em}svg.svg-icon-clear path{fill:#d7d8da;fill:var(--devui-shape-icon-fill, #d7d8da);transition:all cubic-bezier(.645,.045,.355,1) .3s;transition:all var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1)) var(--devui-animation-duration-slow, .3s)}svg.svg-icon-clear:hover path{fill:#babbc0;fill:var(--devui-shape-icon-fill-hover, #babbc0)}:host{display:inline-block}.devui-search{position:relative}.devui-search .devui-input{height:28px;padding:4px 28px 4px 8px;font-size:12px;font-size:var(--devui-font-size, 12px);text-overflow:ellipsis}.devui-search .devui-input.devui-icon-left{padding-left:32px}.devui-search .devui-input.devui-search-no-border{border:none}.devui-search .devui-input.devui-clear-exit:not(.devui-icon-left){padding-right:60px}.devui-search .devui-input-sm{height:26px;padding:4px 24px 4px 8px;font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-search .devui-input-sm.devui-clear-exit:not(.devui-icon-left){padding-right:56px}.devui-search .devui-input-lg{height:46px;padding:12px 36px 12px 8px;font-size:14px;font-size:var(--devui-font-size-lg, 14px);line-height:24px}.devui-search .devui-input-lg.devui-clear-exit:not(.devui-icon-left){padding-right:72px}.devui-search .devui-input::-ms-clear{display:none}.devui-search .devui-input:disabled{background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5);border-color:#dfe1e6;border-color:var(--devui-disabled-line, #dfe1e6);color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-search .devui-input:disabled+.devui-search-icon svg path{fill:#cfd0d3;fill:var(--devui-disabled-text, #cfd0d3)}.devui-search .icon{cursor:pointer}.devui-search .devui-search-icon{position:absolute;width:auto;pointer-events:all;cursor:pointer;height:100%;line-height:28px;padding:0 12px;top:0;right:0;z-index:2;text-align:center;display:flex;align-items:center;justify-content:center}.devui-search .devui-search-icon.devui-icon-left{left:8px;right:auto;padding-left:0}.devui-search .devui-search-icon>svg{height:16px;width:16px}.devui-search .devui-search-icon-sm{height:26px;line-height:26px;padding:0 12px}.devui-search .devui-search-icon-sm>svg{height:14px;width:14px}.devui-search .devui-search-icon-lg{height:46px;line-height:46px}.devui-search .devui-search-icon-lg>svg{height:18px;width:18px}.devui-search .devui-search-clear{position:absolute;width:auto;top:0;right:36px;padding:0 8px;pointer-events:all;cursor:pointer;height:100%;line-height:28px;font-size:14px;font-size:var(--devui-font-size-lg, 14px);z-index:2;display:none}.devui-search .devui-search-clear.devui-icon-left{right:0}.devui-search .devui-search-clear.devui-clear-exit{display:block}.devui-search .devui-search-clear-sm{line-height:26px;padding:0 8px}.devui-search .devui-search-clear-sm>svg{height:14px;width:14px}.devui-search .devui-search-clear-lg{right:46px;line-height:46px;padding:0 8px}.devui-search .devui-search-clear-lg>svg{height:18px;width:18px}.devui-search .devui-search-line{position:absolute;right:36px;height:46%;top:27%;width:1px;border-left-width:1px;border-left-style:solid;border-color:#d7d8da;border-color:var(--devui-line, #d7d8da);line-height:28px;display:none}.devui-search .devui-search-line.devui-clear-exit{display:block}.devui-search .devui-search-line-sm{line-height:26px}.devui-search .devui-search-line-lg{line-height:46px;right:42px}\n"], directives: [{ type: i2.AutoFocusDirective, selector: "[dAutoFocus]", inputs: ["dAutoFocus"] }, { type: i3.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: SearchComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-search', exportAs: 'search', changeDetection: ChangeDetectionStrategy.OnPush, preserveWhitespaces: false, providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => SearchComponent),
                            multi: true,
                        },
                    ], template: "<div class=\"devui-search\">\n  <input\n    #filterInput\n    [dAutoFocus]=\"autoFocus\"\n    [placeholder]=\"placeholder || i18nCommonText?.searchPlaceholder\"\n    (change)=\"inputChange(filterInput.value, $event)\"\n    (keyup)=\"inputChange(filterInput.value, $event)\"\n    [attr.maxlength]=\"maxLength\"\n    [disabled]=\"disabled\"\n    (blur)=\"inputBlur()\"\n    type=\"text\"\n    class=\"devui-input {{ cssClass }}\"\n    [ngClass]=\"{\n      'devui-input-sm': size === 'sm',\n      'devui-input-lg': size === 'lg',\n      'devui-clear-exit': clearIconExit,\n      'devui-icon-left': iconPosition === 'left',\n      'devui-search-no-border': noBorder === true\n    }\"\n  />\n  <span\n    class=\"devui-search-icon\"\n    [ngClass]=\"{ 'devui-search-icon-sm': size === 'sm', 'devui-search-icon-lg': size === 'lg', 'devui-icon-left': iconPosition === 'left' }\"\n    (click)=\"clickSearch(filterInput.value)\"\n  >\n    <svg\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      class=\"svg-icon-search\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M7,0 C10.8659932,0 14,3.13400675 14,7 C14,8.57190212 13.4818819,10.0227913 12.6071076,11.1912056 L15.7071068,14.2928932 C16.0976311,14.6834175 16.0976311,15.3165825 15.7071068,15.7071068 C15.3466228,16.0675907 14.7793918,16.0953203 14.3871006,15.7902954 L14.2928932,15.7071068 L11.1912056,12.6071076 C10.0227913,13.4818819 8.57190212,14 7,14 C3.13400675,14 5.5067062e-14,10.8659932 5.5067062e-14,7 C5.5067062e-14,3.13400675 3.13400675,0 7,0 Z M7,2 C4.23857625,2 2,4.23857625 2,7 C2,9.76142375 4.23857625,12 7,12 C9.76142375,12 12,9.76142375 12,7 C12,4.23857625 9.76142375,2 7,2 Z\"\n          id=\"\u692D\u5706\u5F62\"\n          fill=\"#71757F\"\n        ></path>\n      </g>\n    </svg>\n  </span>\n  <span\n    #line\n    *ngIf=\"iconPosition === 'right'\"\n    class=\"devui-search-line\"\n    [ngClass]=\"{ 'devui-search-line-sm': size === 'sm', 'devui-search-line-lg': size === 'lg', 'devui-clear-exit': clearIconExit }\"\n  >\n  </span>\n  <span\n    #clearIcon\n    (click)=\"clearText()\"\n    class=\"devui-search-clear\"\n    [ngClass]=\"{\n      'devui-search-clear-sm': size === 'sm',\n      'devui-search-clear-lg': size === 'lg',\n      'devui-clear-exit': clearIconExit,\n      'devui-icon-left': iconPosition === 'left'\n    }\"\n  >\n    <svg\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      class=\"svg-icon-clear\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M5.87867966,5.17157288 C5.68341751,4.97631073 5.36683502,4.97631073 5.17157288,5.17157288 C4.99800652,5.34513923 4.97872137,5.61456363 5.11371742,5.80943177 L5.17157288,5.87867966 L7.29218611,7.99929289 L5.17157288,10.1213203 C4.97631073,10.3165825 4.97631073,10.633165 5.17157288,10.8284271 C5.34513923,11.0019935 5.61456363,11.0212786 5.80943177,10.8862826 L5.87867966,10.8284271 L7.99929289,8.70639967 L10.1213203,10.8284271 C10.3165825,11.0236893 10.633165,11.0236893 10.8284271,10.8284271 C11.0019935,10.6548608 11.0212786,10.3854364 10.8862826,10.1905682 L10.8284271,10.1213203 L8.70710678,8 L10.8284271,5.87867966 C11.0236893,5.68341751 11.0236893,5.36683502 10.8284271,5.17157288 C10.6548608,4.99800652 10.3854364,4.97872137 10.1905682,5.11371742 L10.1213203,5.17157288 L8,7.29289322 L5.87867966,5.17157288 Z\"\n          id=\"\u5F62\u72B6\"\n          fill=\"#D5D5DB\"\n          fill-rule=\"nonzero\"\n        ></path>\n      </g>\n    </svg>\n  </span>\n</div>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.devui-search .devui-serach-line{border-color:#f2f2f3;border-color:var(--devui-dividing-line, #f2f2f3)}svg.svg-icon-search path{fill:#71757f;fill:var(--devui-icon-fill, #71757f);transition:all cubic-bezier(.645,.045,.355,1) .3s;transition:all var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1)) var(--devui-animation-duration-slow, .3s)}svg.svg-icon-search:hover path{fill:#252b3a;fill:var(--devui-icon-fill-hover, #252b3a)}svg.svg-icon-clear{vertical-align:middle;position:relative;top:-.1em}svg.svg-icon-clear path{fill:#d7d8da;fill:var(--devui-shape-icon-fill, #d7d8da);transition:all cubic-bezier(.645,.045,.355,1) .3s;transition:all var(--devui-animation-ease-in-out-smooth, cubic-bezier(.645, .045, .355, 1)) var(--devui-animation-duration-slow, .3s)}svg.svg-icon-clear:hover path{fill:#babbc0;fill:var(--devui-shape-icon-fill-hover, #babbc0)}:host{display:inline-block}.devui-search{position:relative}.devui-search .devui-input{height:28px;padding:4px 28px 4px 8px;font-size:12px;font-size:var(--devui-font-size, 12px);text-overflow:ellipsis}.devui-search .devui-input.devui-icon-left{padding-left:32px}.devui-search .devui-input.devui-search-no-border{border:none}.devui-search .devui-input.devui-clear-exit:not(.devui-icon-left){padding-right:60px}.devui-search .devui-input-sm{height:26px;padding:4px 24px 4px 8px;font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-search .devui-input-sm.devui-clear-exit:not(.devui-icon-left){padding-right:56px}.devui-search .devui-input-lg{height:46px;padding:12px 36px 12px 8px;font-size:14px;font-size:var(--devui-font-size-lg, 14px);line-height:24px}.devui-search .devui-input-lg.devui-clear-exit:not(.devui-icon-left){padding-right:72px}.devui-search .devui-input::-ms-clear{display:none}.devui-search .devui-input:disabled{background-color:#f5f5f5;background-color:var(--devui-disabled-bg, #f5f5f5);border-color:#dfe1e6;border-color:var(--devui-disabled-line, #dfe1e6);color:#cfd0d3;color:var(--devui-disabled-text, #cfd0d3)}.devui-search .devui-input:disabled+.devui-search-icon svg path{fill:#cfd0d3;fill:var(--devui-disabled-text, #cfd0d3)}.devui-search .icon{cursor:pointer}.devui-search .devui-search-icon{position:absolute;width:auto;pointer-events:all;cursor:pointer;height:100%;line-height:28px;padding:0 12px;top:0;right:0;z-index:2;text-align:center;display:flex;align-items:center;justify-content:center}.devui-search .devui-search-icon.devui-icon-left{left:8px;right:auto;padding-left:0}.devui-search .devui-search-icon>svg{height:16px;width:16px}.devui-search .devui-search-icon-sm{height:26px;line-height:26px;padding:0 12px}.devui-search .devui-search-icon-sm>svg{height:14px;width:14px}.devui-search .devui-search-icon-lg{height:46px;line-height:46px}.devui-search .devui-search-icon-lg>svg{height:18px;width:18px}.devui-search .devui-search-clear{position:absolute;width:auto;top:0;right:36px;padding:0 8px;pointer-events:all;cursor:pointer;height:100%;line-height:28px;font-size:14px;font-size:var(--devui-font-size-lg, 14px);z-index:2;display:none}.devui-search .devui-search-clear.devui-icon-left{right:0}.devui-search .devui-search-clear.devui-clear-exit{display:block}.devui-search .devui-search-clear-sm{line-height:26px;padding:0 8px}.devui-search .devui-search-clear-sm>svg{height:14px;width:14px}.devui-search .devui-search-clear-lg{right:46px;line-height:46px;padding:0 8px}.devui-search .devui-search-clear-lg>svg{height:18px;width:18px}.devui-search .devui-search-line{position:absolute;right:36px;height:46%;top:27%;width:1px;border-left-width:1px;border-left-style:solid;border-color:#d7d8da;border-color:var(--devui-line, #d7d8da);line-height:28px;display:none}.devui-search .devui-search-line.devui-clear-exit{display:block}.devui-search .devui-search-line-sm{line-height:26px}.devui-search .devui-search-line-lg{line-height:46px;right:42px}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i1.I18nService }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }]; }, propDecorators: { size: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], maxLength: [{
                type: Input
            }], isKeyupSearch: [{
                type: Input
            }], delay: [{
                type: Input
            }], disabled: [{
                type: Input
            }], cssClass: [{
                type: Input
            }], iconPosition: [{
                type: Input
            }], noBorder: [{
                type: Input
            }], autoFocus: [{
                type: Input
            }], searchFn: [{
                type: Output
            }], filterInputElement: [{
                type: ViewChild,
                args: ['filterInput', { static: true }]
            }], lineElement: [{
                type: ViewChild,
                args: ['line']
            }], clearIconElement: [{
                type: ViewChild,
                args: ['clearIcon']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2RldnVpL3NlYXJjaC9zZWFyY2guY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZGV2dWkvc2VhcmNoL3NlYXJjaC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBRUwsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsVUFBVSxFQUNWLFlBQVksRUFDWixVQUFVLEVBQ1YsS0FBSyxFQUdMLE1BQU0sRUFDTixTQUFTLEVBQ1QsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBd0IsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RSxPQUFPLEVBQWlCLFdBQVcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBZ0IsTUFBTSxNQUFNLENBQUM7QUFDeEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7OztBQWlCdEUsTUFBTSxPQUFPLGVBQWU7SUFDMUIsWUFBb0IsUUFBbUIsRUFBVSxJQUFpQixFQUFVLEdBQXNCLEVBQVUsRUFBYztRQUF0RyxhQUFRLEdBQVIsUUFBUSxDQUFXO1FBQVUsU0FBSSxHQUFKLElBQUksQ0FBYTtRQUFVLFFBQUcsR0FBSCxHQUFHLENBQW1CO1FBQVUsT0FBRSxHQUFGLEVBQUUsQ0FBWTtRQVdqSCxjQUFTLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDO1FBQ3BDLGtCQUFhLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLFVBQUssR0FBRyxHQUFHLENBQUM7UUFDWixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBRWpCLGlCQUFZLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFDakIsY0FBUyxHQUFHLEtBQUss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LEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQUN2QixXQUFXO3NCQUE3QixTQUFTO3VCQUFDLE1BQU07Z0JBQ08sZ0JBQWdCO3NCQUF2QyxTQUFTO3VCQUFDLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBZnRlclZpZXdJbml0LFxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgUmVuZGVyZXIyLFxuICBWaWV3Q2hpbGRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBJMThuSW50ZXJmYWNlLCBJMThuU2VydmljZSB9IGZyb20gJ25nLWRldnVpL2kxOG4nO1xuaW1wb3J0IHsgZnJvbUV2ZW50LCBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgZmlsdGVyLCBtYXAsIHRha2VVbnRpbCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZC1zZWFyY2gnLFxuICB0ZW1wbGF0ZVVybDogJy4vc2VhcmNoLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vc2VhcmNoLmNvbXBvbmVudC5zY3NzJ10sXG4gIGV4cG9ydEFzOiAnc2VhcmNoJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFNlYXJjaENvbXBvbmVudCksXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICB9LFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBTZWFyY2hDb21wb25lbnQgaW1wbGVtZW50cyBDb250cm9sVmFsdWVBY2Nlc3NvciwgT25Jbml0LCBPbkRlc3Ryb3ksIEFmdGVyVmlld0luaXQge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjIsIHByaXZhdGUgaTE4bjogSTE4blNlcnZpY2UsIHByaXZhdGUgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBlbDogRWxlbWVudFJlZikge1xuICB9XG5cbiAgLyoqXG4gICAqIOOAkOWPr+mAieOAkeS4i+aLiemAieahhuWwuuWvuFxuICAgKi9cbiAgQElucHV0KCkgc2l6ZTogJycgfCAnc20nIHwgJ2xnJztcbiAgLyoqXG4gICAqIOOAkOWPr+mAieOAkeS4i+aLiem7mOiupOaYvuekuuaWh+Wtl1xuICAgKi9cbiAgQElucHV0KCkgcGxhY2Vob2xkZXI6IHN0cmluZztcbiAgQElucHV0KCkgbWF4TGVuZ3RoID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gIEBJbnB1dCgpIGlzS2V5dXBTZWFyY2ggPSBmYWxzZTtcbiAgQElucHV0KCkgZGVsYXkgPSAzMDA7XG4gIEBJbnB1dCgpIGRpc2FibGVkID0gZmFsc2U7XG4gIEBJbnB1dCgpIGNzc0NsYXNzOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGljb25Qb3NpdGlvbiA9ICdyaWdodCc7XG4gIEBJbnB1dCgpIG5vQm9yZGVyID0gZmFsc2U7XG4gIEBJbnB1dCgpIGF1dG9Gb2N1cyA9IGZhbHNlO1xuICBAT3V0cHV0KCkgc2VhcmNoRm4gPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcbiAgQFZpZXdDaGlsZCgnZmlsdGVySW5wdXQnLCB7IHN0YXRpYzogdHJ1ZSB9KSBmaWx0ZXJJbnB1dEVsZW1lbnQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2xpbmUnKSBsaW5lRWxlbWVudDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnY2xlYXJJY29uJykgY2xlYXJJY29uRWxlbWVudDogRWxlbWVudFJlZjtcbiAgaTE4bkNvbW1vblRleHQ6IEkxOG5JbnRlcmZhY2VbJ2NvbW1vbiddO1xuICBpMThuU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gIGNsZWFySWNvbkV4aXQgPSBmYWxzZTtcbiAgd2lkdGg6IG51bWJlcjtcbiAgZGVzdHJveSQgPSBuZXcgU3ViamVjdCgpO1xuICBwcml2YXRlIG9uQ2hhbmdlID0gKF86IGFueSkgPT4gbnVsbDtcbiAgcHJpdmF0ZSBvblRvdWNoID0gKCkgPT4gbnVsbDtcblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnNldEkxOG5UZXh0KCk7XG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlID0gZm47XG4gIH1cblxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vblRvdWNoID0gZm47XG4gIH1cblxuICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkgPSAnJyk6IHZvaWQge1xuICAgIHRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5maWx0ZXJJbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudCwgJ3ZhbHVlJywgdmFsdWUpO1xuICAgIHRoaXMucmVuZGVyQ2xlYXJJY29uKCk7XG4gIH1cblxuICBzZXRJMThuVGV4dCgpIHtcbiAgICB0aGlzLmkxOG5Db21tb25UZXh0ID0gdGhpcy5pMThuLmdldEkxOG5UZXh0KCkuY29tbW9uO1xuICAgIHRoaXMuaTE4blN1YnNjcmlwdGlvbiA9IHRoaXMuaTE4bi5sYW5nQ2hhbmdlKClcbiAgICAgIC5waXBlKHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSlcbiAgICAgIC5zdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5pMThuQ29tbW9uVGV4dCA9IGRhdGEuY29tbW9uO1xuICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgY2xlYXJUZXh0KCkge1xuICAgIHRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5maWx0ZXJJbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudCwgJ3ZhbHVlJywgJycpO1xuICAgIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLm9uQ2hhbmdlKCcnKTtcbiAgICB9XG4gICAgdGhpcy5zZWFyY2hGbi5lbWl0KCcnKTtcbiAgICB0aGlzLmZpbHRlcklucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XG4gICAgdGhpcy5yZW5kZXJDbGVhckljb24oKTtcbiAgfVxuXG4gIGlucHV0Q2hhbmdlKHZhbHVlLCBldmVudD8pIHtcbiAgICB0aGlzLnJlbmRlckNsZWFySWNvbigpO1xuICAgIC8vIOatpOWHveaVsOS4jeiDveWIoOmZpO+8jOmcgOimgee7mWZpbHRlcklucHV0LnZhbHVl6LWL5YC877yM5LuO6ICM5o6n5Yi2Y2xlYXLnmoTmmL7pmpDjgILlm6DkuLpyZWdpc3RlckZpbHRlckNoYW5nZeWvuWNsZWFy55qE5pi+6ZqQ5o6n5Yi25LiN6LW35L2c55So44CCXG4gIH1cblxuICBpbnB1dEJsdXIoKSB7XG4gICAgdGhpcy5vblRvdWNoKCk7XG4gIH1cblxuICBjbGlja1NlYXJjaCh0ZXJtKSB7XG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLnNlYXJjaEZuLmVtaXQodGVybSk7XG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJGaWx0ZXJDaGFuZ2UoKSB7XG4gICAgZnJvbUV2ZW50KHRoaXMuZmlsdGVySW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsICdpbnB1dCcpXG4gICAgICAucGlwZShcbiAgICAgICAgdGFrZVVudGlsKHRoaXMuZGVzdHJveSQpLFxuICAgICAgICBtYXAoKGU6IGFueSkgPT4gZS50YXJnZXQudmFsdWUpLFxuICAgICAgICBkZWJvdW5jZVRpbWUodGhpcy5kZWxheSkpXG4gICAgICAuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLm9uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuaXNLZXl1cFNlYXJjaCkge1xuICAgICAgICAgIHRoaXMuc2VhcmNoRm4uZW1pdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgZnJvbUV2ZW50KHRoaXMuZmlsdGVySW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsICdrZXlkb3duJykucGlwZShcbiAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSxcbiAgICAgIGZpbHRlcigoa2V5RXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IGtleUV2ZW50LmtleSA9PT0gJ0VudGVyJyksXG4gICAgICBkZWJvdW5jZVRpbWUodGhpcy5kZWxheSksXG4gICAgKS5zdWJzY3JpYmUoKGtleUV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnNlYXJjaEZuLmVtaXQodGhpcy5maWx0ZXJJbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudC52YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgdGhpcy5yZWdpc3RlckZpbHRlckNoYW5nZSgpO1xuICAgIHRoaXMucmVuZGVyQ2xlYXJJY29uKCk7XG4gIH1cblxuICByZW5kZXJDbGVhckljb24oKSB7XG4gICAgaWYgKHRoaXMuaWNvblBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICBpZiAodGhpcy5maWx0ZXJJbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudC52YWx1ZSAmJiB0aGlzLmxpbmVFbGVtZW50ICYmIHRoaXMuY2xlYXJJY29uRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNsZWFySWNvbkV4aXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxpbmVFbGVtZW50ICYmIHRoaXMuY2xlYXJJY29uRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNsZWFySWNvbkV4aXQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuZmlsdGVySW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQudmFsdWUgJiYgdGhpcy5jbGVhckljb25FbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2xlYXJJY29uRXhpdCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2xlYXJJY29uRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNsZWFySWNvbkV4aXQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLmRlc3Ryb3kkLm5leHQodHJ1ZSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJkZXZ1aS1zZWFyY2hcIj5cbiAgPGlucHV0XG4gICAgI2ZpbHRlcklucHV0XG4gICAgW2RBdXRvRm9jdXNdPVwiYXV0b0ZvY3VzXCJcbiAgICBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXIgfHwgaTE4bkNvbW1vblRleHQ/LnNlYXJjaFBsYWNlaG9sZGVyXCJcbiAgICAoY2hhbmdlKT1cImlucHV0Q2hhbmdlKGZpbHRlcklucHV0LnZhbHVlLCAkZXZlbnQpXCJcbiAgICAoa2V5dXApPVwiaW5wdXRDaGFuZ2UoZmlsdGVySW5wdXQudmFsdWUsICRldmVudClcIlxuICAgIFthdHRyLm1heGxlbmd0aF09XCJtYXhMZW5ndGhcIlxuICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgKGJsdXIpPVwiaW5wdXRCbHVyKClcIlxuICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICBjbGFzcz1cImRldnVpLWlucHV0IHt7IGNzc0NsYXNzIH19XCJcbiAgICBbbmdDbGFzc109XCJ7XG4gICAgICAnZGV2dWktaW5wdXQtc20nOiBzaXplID09PSAnc20nLFxuICAgICAgJ2RldnVpLWlucHV0LWxnJzogc2l6ZSA9PT0gJ2xnJyxcbiAgICAgICdkZXZ1aS1jbGVhci1leGl0JzogY2xlYXJJY29uRXhpdCxcbiAgICAgICdkZXZ1aS1pY29uLWxlZnQnOiBpY29uUG9zaXRpb24gPT09ICdsZWZ0JyxcbiAgICAgICdkZXZ1aS1zZWFyY2gtbm8tYm9yZGVyJzogbm9Cb3JkZXIgPT09IHRydWVcbiAgICB9XCJcbiAgLz5cbiAgPHNwYW5cbiAgICBjbGFzcz1cImRldnVpLXNlYXJjaC1pY29uXCJcbiAgICBbbmdDbGFzc109XCJ7ICdkZXZ1aS1zZWFyY2gtaWNvbi1zbSc6IHNpemUgPT09ICdzbScsICdkZXZ1aS1zZWFyY2gtaWNvbi1sZyc6IHNpemUgPT09ICdsZycsICdkZXZ1aS1pY29uLWxlZnQnOiBpY29uUG9zaXRpb24gPT09ICdsZWZ0JyB9XCJcbiAgICAoY2xpY2spPVwiY2xpY2tTZWFyY2goZmlsdGVySW5wdXQudmFsdWUpXCJcbiAgPlxuICAgIDxzdmdcbiAgICAgIHdpZHRoPVwiMTZweFwiXG4gICAgICBoZWlnaHQ9XCIxNnB4XCJcbiAgICAgIHZpZXdCb3g9XCIwIDAgMTYgMTZcIlxuICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICBjbGFzcz1cInN2Zy1pY29uLXNlYXJjaFwiXG4gICAgPlxuICAgICAgPGcgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBkPVwiTTcsMCBDMTAuODY1OTkzMiwwIDE0LDMuMTM0MDA2NzUgMTQsNyBDMTQsOC41NzE5MDIxMiAxMy40ODE4ODE5LDEwLjAyMjc5MTMgMTIuNjA3MTA3NiwxMS4xOTEyMDU2IEwxNS43MDcxMDY4LDE0LjI5Mjg5MzIgQzE2LjA5NzYzMTEsMTQuNjgzNDE3NSAxNi4wOTc2MzExLDE1LjMxNjU4MjUgMTUuNzA3MTA2OCwxNS43MDcxMDY4IEMxNS4zNDY2MjI4LDE2LjA2NzU5MDcgMTQuNzc5MzkxOCwxNi4wOTUzMjAzIDE0LjM4NzEwMDYsMTUuNzkwMjk1NCBMMTQuMjkyODkzMiwxNS43MDcxMDY4IEwxMS4xOTEyMDU2LDEyLjYwNzEwNzYgQzEwLjAyMjc5MTMsMTMuNDgxODgxOSA4LjU3MTkwMjEyLDE0IDcsMTQgQzMuMTM0MDA2NzUsMTQgNS41MDY3MDYyZS0xNCwxMC44NjU5OTMyIDUuNTA2NzA2MmUtMTQsNyBDNS41MDY3MDYyZS0xNCwzLjEzNDAwNjc1IDMuMTM0MDA2NzUsMCA3LDAgWiBNNywyIEM0LjIzODU3NjI1LDIgMiw0LjIzODU3NjI1IDIsNyBDMiw5Ljc2MTQyMzc1IDQuMjM4NTc2MjUsMTIgNywxMiBDOS43NjE0MjM3NSwxMiAxMiw5Ljc2MTQyMzc1IDEyLDcgQzEyLDQuMjM4NTc2MjUgOS43NjE0MjM3NSwyIDcsMiBaXCJcbiAgICAgICAgICBpZD1cIuakreWchuW9olwiXG4gICAgICAgICAgZmlsbD1cIiM3MTc1N0ZcIlxuICAgICAgICA+PC9wYXRoPlxuICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuICA8L3NwYW4+XG4gIDxzcGFuXG4gICAgI2xpbmVcbiAgICAqbmdJZj1cImljb25Qb3NpdGlvbiA9PT0gJ3JpZ2h0J1wiXG4gICAgY2xhc3M9XCJkZXZ1aS1zZWFyY2gtbGluZVwiXG4gICAgW25nQ2xhc3NdPVwieyAnZGV2dWktc2VhcmNoLWxpbmUtc20nOiBzaXplID09PSAnc20nLCAnZGV2dWktc2VhcmNoLWxpbmUtbGcnOiBzaXplID09PSAnbGcnLCAnZGV2dWktY2xlYXItZXhpdCc6IGNsZWFySWNvbkV4aXQgfVwiXG4gID5cbiAgPC9zcGFuPlxuICA8c3BhblxuICAgICNjbGVhckljb25cbiAgICAoY2xpY2spPVwiY2xlYXJUZXh0KClcIlxuICAgIGNsYXNzPVwiZGV2dWktc2VhcmNoLWNsZWFyXCJcbiAgICBbbmdDbGFzc109XCJ7XG4gICAgICAnZGV2dWktc2VhcmNoLWNsZWFyLXNtJzogc2l6ZSA9PT0gJ3NtJyxcbiAgICAgICdkZXZ1aS1zZWFyY2gtY2xlYXItbGcnOiBzaXplID09PSAnbGcnLFxuICAgICAgJ2RldnVpLWNsZWFyLWV4aXQnOiBjbGVhckljb25FeGl0LFxuICAgICAgJ2RldnVpLWljb24tbGVmdCc6IGljb25Qb3NpdGlvbiA9PT0gJ2xlZnQnXG4gICAgfVwiXG4gID5cbiAgICA8c3ZnXG4gICAgICB3aWR0aD1cIjE2cHhcIlxuICAgICAgaGVpZ2h0PVwiMTZweFwiXG4gICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgIHZlcnNpb249XCIxLjFcIlxuICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgY2xhc3M9XCJzdmctaWNvbi1jbGVhclwiXG4gICAgPlxuICAgICAgPGcgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBkPVwiTTgsMSBDMTEuODY1OTkzMiwxIDE1LDQuMTM0MDA2NzUgMTUsOCBDMTUsMTEuODY1OTkzMiAxMS44NjU5OTMyLDE1IDgsMTUgQzQuMTM0MDA2NzUsMTUgMSwxMS44NjU5OTMyIDEsOCBDMSw0LjEzNDAwNjc1IDQuMTM0MDA2NzUsMSA4LDEgWiBNNS44Nzg2Nzk2Niw1LjE3MTU3Mjg4IEM1LjY4MzQxNzUxLDQuOTc2MzEwNzMgNS4zNjY4MzUwMiw0Ljk3NjMxMDczIDUuMTcxNTcyODgsNS4xNzE1NzI4OCBDNC45OTgwMDY1Miw1LjM0NTEzOTIzIDQuOTc4NzIxMzcsNS42MTQ1NjM2MyA1LjExMzcxNzQyLDUuODA5NDMxNzcgTDUuMTcxNTcyODgsNS44Nzg2Nzk2NiBMNy4yOTIxODYxMSw3Ljk5OTI5Mjg5IEw1LjE3MTU3Mjg4LDEwLjEyMTMyMDMgQzQuOTc2MzEwNzMsMTAuMzE2NTgyNSA0Ljk3NjMxMDczLDEwLjYzMzE2NSA1LjE3MTU3Mjg4LDEwLjgyODQyNzEgQzUuMzQ1MTM5MjMsMTEuMDAxOTkzNSA1LjYxNDU2MzYzLDExLjAyMTI3ODYgNS44MDk0MzE3NywxMC44ODYyODI2IEw1Ljg3ODY3OTY2LDEwLjgyODQyNzEgTDcuOTk5MjkyODksOC43MDYzOTk2NyBMMTAuMTIxMzIwMywxMC44Mjg0MjcxIEMxMC4zMTY1ODI1LDExLjAyMzY4OTMgMTAuNjMzMTY1LDExLjAyMzY4OTMgMTAuODI4NDI3MSwxMC44Mjg0MjcxIEMxMS4wMDE5OTM1LDEwLjY1NDg2MDggMTEuMDIxMjc4NiwxMC4zODU0MzY0IDEwLjg4NjI4MjYsMTAuMTkwNTY4MiBMMTAuODI4NDI3MSwxMC4xMjEzMjAzIEw4LjcwNzEwNjc4LDggTDEwLjgyODQyNzEsNS44Nzg2Nzk2NiBDMTEuMDIzNjg5Myw1LjY4MzQxNzUxIDExLjAyMzY4OTMsNS4zNjY4MzUwMiAxMC44Mjg0MjcxLDUuMTcxNTcyODggQzEwLjY1NDg2MDgsNC45OTgwMDY1MiAxMC4zODU0MzY0LDQuOTc4NzIxMzcgMTAuMTkwNTY4Miw1LjExMzcxNzQyIEwxMC4xMjEzMjAzLDUuMTcxNTcyODggTDgsNy4yOTI4OTMyMiBMNS44Nzg2Nzk2Niw1LjE3MTU3Mjg4IFpcIlxuICAgICAgICAgIGlkPVwi5b2i54q2XCJcbiAgICAgICAgICBmaWxsPVwiI0Q1RDVEQlwiXG4gICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgID48L3BhdGg+XG4gICAgICA8L2c+XG4gICAgPC9zdmc+XG4gIDwvc3Bhbj5cbjwvZGl2PlxuIl19