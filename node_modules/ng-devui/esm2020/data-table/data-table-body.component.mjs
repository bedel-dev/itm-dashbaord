import { Component, Inject, Input, TemplateRef } from '@angular/core';
import { DATA_TABLE } from './data-table.token';
import * as i0 from "@angular/core";
import * as i1 from "./data-table-row.component";
import * as i2 from "@angular/common";
import * as i3 from "@angular/cdk/scrolling";
import * as i4 from "ng-devui/dragdrop";
export class DataTableBodyComponent {
    constructor(dt) {
        this.dt = dt;
        this.dataSource = [];
        this.nestedIndex = '-1';
    }
    ngOnChanges(changes) {
        if (changes['columns'] && this.columns) {
            let columnSpan = this.columns.length;
            if (this.showExpandToggle) {
                columnSpan += 1;
            }
            if (this.checkable) {
                columnSpan += 1;
            }
            this.childTdColspan = columnSpan;
        }
    }
    trackByFn(index, item) {
        return index;
    }
}
DataTableBodyComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DataTableBodyComponent, deps: [{ token: DATA_TABLE }], target: i0.ɵɵFactoryTarget.Component });
DataTableBodyComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DataTableBodyComponent, selector: "d-data-table-body, [dDataTableBody]", inputs: { checkable: "checkable", showExpandToggle: "showExpandToggle", allChecked: "allChecked", selectable: "selectable", editModel: "editModel", editRowItem: "editRowItem", dataSource: "dataSource", resizeable: "resizeable", columns: "columns", detailTemplateRef: "detailTemplateRef", timeout: "timeout", type: "type", rowHoveredHighlight: "rowHoveredHighlight", tableLevel: "tableLevel", nestedIndex: "nestedIndex", virtualScroll: "virtualScroll", tableWidthConfig: "tableWidthConfig", headerExpandConfig: "headerExpandConfig", generalRowHoveredData: "generalRowHoveredData" }, usesOnChanges: true, ngImport: i0, template: "<tr *ngIf=\"headerExpandConfig?.expand\">\n  <td [attr.colspan]=\"tableWidthConfig.length\">\n    <ng-template\n      [ngTemplateOutlet]=\"headerExpandConfig?.expandTemplateRef || default\"\n      [ngTemplateOutletContext]=\"{ $implicit: this, columns: columns }\"\n    >\n    </ng-template>\n    <ng-template #default>\n      <div>{{ headerExpandConfig?.description }}</div>\n    </ng-template>\n  </td>\n</tr>\n<ng-container *ngIf=\"!virtualScroll; else scrollViewTpl\">\n  <ng-container *ngFor=\"let rowItem of dataSource; trackBy: trackByFn; let rowIndex = index\">\n    <ng-template [ngTemplateOutlet]=\"trTable\" [ngTemplateOutletContext]=\"{ rowItem: rowItem, rowIndex: rowIndex }\"> </ng-template>\n  </ng-container>\n</ng-container>\n\n<ng-template #scrollViewTpl>\n  <ng-container *cdkVirtualFor=\"let rowItem of dataSource; trackBy: trackByFn; let rowIndex = index\">\n    <ng-template [ngTemplateOutlet]=\"trTable\" [ngTemplateOutletContext]=\"{ rowItem: rowItem || {}, rowIndex: rowIndex }\"> </ng-template>\n  </ng-container>\n</ng-template>\n\n<ng-template #trTable let-rowIndex=\"rowIndex\" let-rowItem=\"rowItem\">\n  <tr\n    *ngIf=\"!rowItem?.$draggable\"\n    dDataTableRow\n    [generalRowHoveredData]=\"generalRowHoveredData\"\n    [resizeable]=\"resizeable\"\n    [checkable]=\"checkable\"\n    [rowIndex]=\"rowIndex\"\n    [rowItem]=\"rowItem\"\n    [columns]=\"columns\"\n    [editRowItem]=\"editRowItem\"\n    [editModel]=\"editModel\"\n    [allChecked]=\"allChecked\"\n    [showExpandToggle]=\"showExpandToggle\"\n    [timeout]=\"timeout\"\n    [tableLevel]=\"tableLevel\"\n    [nestedIndex]=\"nestedIndex\"\n    class=\"{{ rowItem.$rowClass ? rowItem.$rowClass : '' }}\"\n    [ngClass]=\"{ 'table-row-selected': rowItem.$checked }\"\n  ></tr>\n  <tr\n    *ngIf=\"rowItem?.$draggable\"\n    dDataTableRow\n    dDraggable\n    [generalRowHoveredData]=\"generalRowHoveredData\"\n    [resizeable]=\"resizeable\"\n    [checkable]=\"checkable\"\n    [rowIndex]=\"rowIndex\"\n    [rowItem]=\"rowItem\"\n    [columns]=\"columns\"\n    [editRowItem]=\"editRowItem\"\n    [editModel]=\"editModel\"\n    [allChecked]=\"allChecked\"\n    [showExpandToggle]=\"showExpandToggle\"\n    [timeout]=\"timeout\"\n    [tableLevel]=\"tableLevel\"\n    [nestedIndex]=\"nestedIndex\"\n    class=\"{{ rowItem.$rowClass ? rowItem.$rowClass : '' }}\"\n    [ngClass]=\"{ 'table-row-selected': rowItem.$checked }\"\n    [dragData]=\"{ data: rowItem }\"\n    [dragScope]=\"rowItem?.$draggable['scope']\"\n    [dragOverClass]=\"rowItem?.$draggable['class']\"\n    [dragHandle]=\"rowItem?.$draggable['handler']\"\n  ></tr>\n  <tr *ngIf=\"rowItem && rowItem['$isDetailOpen'] && rowItem.detail\">\n    <td [attr.colspan]=\"checkable ? 2 : 1\"></td>\n    <td [attr.colspan]=\"columns.length\" class=\"detail-content\" [style.padding]=\"'13px'\">\n      <ng-template\n        [ngTemplateOutlet]=\"detailTemplateRef || default\"\n        [ngTemplateOutletContext]=\"{ $implicit: this, detail: rowItem.detail, rowIndex: rowIndex, rowItem: rowItem }\"\n      >\n      </ng-template>\n      <ng-template #default let-detail=\"detail\" let-rowIndex=\"rowIndex\" let-rowItem=\"rowItem\">\n        <div>{{ detail }}</div>\n      </ng-template>\n    </td>\n  </tr>\n  <tr class=\"expand-row\" *ngIf=\"rowItem?.$expandConfig?.expand\">\n    <td *ngIf=\"checkable\"></td>\n    <td *ngIf=\"showExpandToggle\"></td>\n    <td [attr.colspan]=\"columns.length\">\n      <ng-template\n        [ngTemplateOutlet]=\"rowItem.$expandConfig?.expandTemplateRef || default\"\n        [ngTemplateOutletContext]=\"{ $implicit: this, columns: columns, rowIndex: rowIndex, rowItem: rowItem }\"\n      >\n      </ng-template>\n      <ng-template #default>\n        <div>{{ rowItem.$expandConfig?.description }}</div>\n      </ng-template>\n    </td>\n  </tr>\n  <tr class=\"child-table\" *ngIf=\"rowItem['$isChildTableOpen'] && rowItem['children']\">\n    <td [attr.colspan]=\"childTdColspan\">\n      <table\n        class=\"devui-table {{ type ? 'table-' + type : '' }} {{ rowHoveredHighlight ? 'table-hover' : '' }}\"\n        [style.table-layout]=\"'fixed'\"\n      >\n        <colgroup>\n          <col [style.width]=\"config.width\" *ngFor=\"let config of tableWidthConfig\" />\n        </colgroup>\n        <tbody\n          dDataTableBody\n          [dataSource]=\"rowItem['children']\"\n          [resizeable]=\"resizeable\"\n          [columns]=\"columns\"\n          [checkable]=\"checkable\"\n          [allChecked]=\"allChecked\"\n          [selectable]=\"selectable\"\n          [editModel]=\"editModel\"\n          [editRowItem]=\"editRowItem\"\n          [showExpandToggle]=\"showExpandToggle\"\n          [detailTemplateRef]=\"detailTemplateRef\"\n          [timeout]=\"timeout\"\n          [type]=\"type\"\n          [rowHoveredHighlight]=\"rowHoveredHighlight\"\n          [tableLevel]=\"tableLevel + 1\"\n          [nestedIndex]=\"nestedIndex + ',' + rowIndex\"\n          [tableWidthConfig]=\"tableWidthConfig\"\n          [generalRowHoveredData]=\"generalRowHoveredData\"\n        ></tbody>\n      </table>\n    </td>\n  </tr>\n</ng-template>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.detail-content{color:#252b3a;color:var(--devui-text, #252b3a);font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;background-color:#f5f5f5;background-color:var(--devui-area, #f5f5f5)}.child-table:hover{background:transparent!important}.child-table .devui-table{background:transparent;margin-bottom:0}.child-table>td{padding:0;border:0}::ng-deep .devui-table tbody>tr.expand-row{background:#f7f8fa;background:var(--devui-table-expand-area-bg, #f7f8fa)}\n"], components: [{ type: i1.DataTableRowComponent, selector: "d-data-table-row, [dDataTableRow]", inputs: ["rowItem", "selectable", "checkable", "showExpandToggle", "rowIndex", "allChecked", "columns", "editModel", "editRowItem", "resizeable", "timeout", "tableLevel", "nestedIndex", "generalRowHoveredData"], outputs: ["detailChange"] }, { type: DataTableBodyComponent, selector: "d-data-table-body, [dDataTableBody]", inputs: ["checkable", "showExpandToggle", "allChecked", "selectable", "editModel", "editRowItem", "dataSource", "resizeable", "columns", "detailTemplateRef", "timeout", "type", "rowHoveredHighlight", "tableLevel", "nestedIndex", "virtualScroll", "tableWidthConfig", "headerExpandConfig", "generalRowHoveredData"] }], directives: [{ type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i3.CdkVirtualForOf, selector: "[cdkVirtualFor][cdkVirtualForOf]", inputs: ["cdkVirtualForOf", "cdkVirtualForTrackBy", "cdkVirtualForTemplate", "cdkVirtualForTemplateCacheSize"] }, { type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i4.DraggableDirective, selector: "[dDraggable]", inputs: ["dragData", "dragHandle", "dragEffect", "dragScope", "dragHandleClass", "dragOverClass", "disabled", "enableDragFollow", "dragFollowOptions", "originPlaceholder", "dragIdentity", "dragItemParentName", "dragItemChildrenName"], outputs: ["dragStartEvent", "dragEvent", "dragEndEvent", "dropEndEvent"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DataTableBodyComponent, decorators: [{
            type: Component,
            args: [{ selector: 'd-data-table-body, [dDataTableBody]', preserveWhitespaces: false, template: "<tr *ngIf=\"headerExpandConfig?.expand\">\n  <td [attr.colspan]=\"tableWidthConfig.length\">\n    <ng-template\n      [ngTemplateOutlet]=\"headerExpandConfig?.expandTemplateRef || default\"\n      [ngTemplateOutletContext]=\"{ $implicit: this, columns: columns }\"\n    >\n    </ng-template>\n    <ng-template #default>\n      <div>{{ headerExpandConfig?.description }}</div>\n    </ng-template>\n  </td>\n</tr>\n<ng-container *ngIf=\"!virtualScroll; else scrollViewTpl\">\n  <ng-container *ngFor=\"let rowItem of dataSource; trackBy: trackByFn; let rowIndex = index\">\n    <ng-template [ngTemplateOutlet]=\"trTable\" [ngTemplateOutletContext]=\"{ rowItem: rowItem, rowIndex: rowIndex }\"> </ng-template>\n  </ng-container>\n</ng-container>\n\n<ng-template #scrollViewTpl>\n  <ng-container *cdkVirtualFor=\"let rowItem of dataSource; trackBy: trackByFn; let rowIndex = index\">\n    <ng-template [ngTemplateOutlet]=\"trTable\" [ngTemplateOutletContext]=\"{ rowItem: rowItem || {}, rowIndex: rowIndex }\"> </ng-template>\n  </ng-container>\n</ng-template>\n\n<ng-template #trTable let-rowIndex=\"rowIndex\" let-rowItem=\"rowItem\">\n  <tr\n    *ngIf=\"!rowItem?.$draggable\"\n    dDataTableRow\n    [generalRowHoveredData]=\"generalRowHoveredData\"\n    [resizeable]=\"resizeable\"\n    [checkable]=\"checkable\"\n    [rowIndex]=\"rowIndex\"\n    [rowItem]=\"rowItem\"\n    [columns]=\"columns\"\n    [editRowItem]=\"editRowItem\"\n    [editModel]=\"editModel\"\n    [allChecked]=\"allChecked\"\n    [showExpandToggle]=\"showExpandToggle\"\n    [timeout]=\"timeout\"\n    [tableLevel]=\"tableLevel\"\n    [nestedIndex]=\"nestedIndex\"\n    class=\"{{ rowItem.$rowClass ? rowItem.$rowClass : '' }}\"\n    [ngClass]=\"{ 'table-row-selected': rowItem.$checked }\"\n  ></tr>\n  <tr\n    *ngIf=\"rowItem?.$draggable\"\n    dDataTableRow\n    dDraggable\n    [generalRowHoveredData]=\"generalRowHoveredData\"\n    [resizeable]=\"resizeable\"\n    [checkable]=\"checkable\"\n    [rowIndex]=\"rowIndex\"\n    [rowItem]=\"rowItem\"\n    [columns]=\"columns\"\n    [editRowItem]=\"editRowItem\"\n    [editModel]=\"editModel\"\n    [allChecked]=\"allChecked\"\n    [showExpandToggle]=\"showExpandToggle\"\n    [timeout]=\"timeout\"\n    [tableLevel]=\"tableLevel\"\n    [nestedIndex]=\"nestedIndex\"\n    class=\"{{ rowItem.$rowClass ? rowItem.$rowClass : '' }}\"\n    [ngClass]=\"{ 'table-row-selected': rowItem.$checked }\"\n    [dragData]=\"{ data: rowItem }\"\n    [dragScope]=\"rowItem?.$draggable['scope']\"\n    [dragOverClass]=\"rowItem?.$draggable['class']\"\n    [dragHandle]=\"rowItem?.$draggable['handler']\"\n  ></tr>\n  <tr *ngIf=\"rowItem && rowItem['$isDetailOpen'] && rowItem.detail\">\n    <td [attr.colspan]=\"checkable ? 2 : 1\"></td>\n    <td [attr.colspan]=\"columns.length\" class=\"detail-content\" [style.padding]=\"'13px'\">\n      <ng-template\n        [ngTemplateOutlet]=\"detailTemplateRef || default\"\n        [ngTemplateOutletContext]=\"{ $implicit: this, detail: rowItem.detail, rowIndex: rowIndex, rowItem: rowItem }\"\n      >\n      </ng-template>\n      <ng-template #default let-detail=\"detail\" let-rowIndex=\"rowIndex\" let-rowItem=\"rowItem\">\n        <div>{{ detail }}</div>\n      </ng-template>\n    </td>\n  </tr>\n  <tr class=\"expand-row\" *ngIf=\"rowItem?.$expandConfig?.expand\">\n    <td *ngIf=\"checkable\"></td>\n    <td *ngIf=\"showExpandToggle\"></td>\n    <td [attr.colspan]=\"columns.length\">\n      <ng-template\n        [ngTemplateOutlet]=\"rowItem.$expandConfig?.expandTemplateRef || default\"\n        [ngTemplateOutletContext]=\"{ $implicit: this, columns: columns, rowIndex: rowIndex, rowItem: rowItem }\"\n      >\n      </ng-template>\n      <ng-template #default>\n        <div>{{ rowItem.$expandConfig?.description }}</div>\n      </ng-template>\n    </td>\n  </tr>\n  <tr class=\"child-table\" *ngIf=\"rowItem['$isChildTableOpen'] && rowItem['children']\">\n    <td [attr.colspan]=\"childTdColspan\">\n      <table\n        class=\"devui-table {{ type ? 'table-' + type : '' }} {{ rowHoveredHighlight ? 'table-hover' : '' }}\"\n        [style.table-layout]=\"'fixed'\"\n      >\n        <colgroup>\n          <col [style.width]=\"config.width\" *ngFor=\"let config of tableWidthConfig\" />\n        </colgroup>\n        <tbody\n          dDataTableBody\n          [dataSource]=\"rowItem['children']\"\n          [resizeable]=\"resizeable\"\n          [columns]=\"columns\"\n          [checkable]=\"checkable\"\n          [allChecked]=\"allChecked\"\n          [selectable]=\"selectable\"\n          [editModel]=\"editModel\"\n          [editRowItem]=\"editRowItem\"\n          [showExpandToggle]=\"showExpandToggle\"\n          [detailTemplateRef]=\"detailTemplateRef\"\n          [timeout]=\"timeout\"\n          [type]=\"type\"\n          [rowHoveredHighlight]=\"rowHoveredHighlight\"\n          [tableLevel]=\"tableLevel + 1\"\n          [nestedIndex]=\"nestedIndex + ',' + rowIndex\"\n          [tableWidthConfig]=\"tableWidthConfig\"\n          [generalRowHoveredData]=\"generalRowHoveredData\"\n        ></tbody>\n      </table>\n    </td>\n  </tr>\n</ng-template>\n", styles: [".devui-font-size-base{font-size:12px;font-size:var(--devui-font-size, 12px)}.devui-font-base{font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;line-height:1.5}.devui-font-size-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px)}.devui-font-modal-title{font-size:18px;font-size:var(--devui-font-size-modal-title, 18px);font-weight:700;line-height:1.5}.devui-font-size-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px)}.devui-font-page-title{font-size:16px;font-size:var(--devui-font-size-page-title, 16px);font-weight:700;line-height:1.5}.devui-font-size-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px)}.devui-font-secondary-title{font-size:14px;font-size:var(--devui-font-size-card-title, 14px);font-weight:700;line-height:1.5}.detail-content{color:#252b3a;color:var(--devui-text, #252b3a);font-size:12px;font-size:var(--devui-font-size, 12px);font-weight:400;background-color:#f5f5f5;background-color:var(--devui-area, #f5f5f5)}.child-table:hover{background:transparent!important}.child-table .devui-table{background:transparent;margin-bottom:0}.child-table>td{padding:0;border:0}::ng-deep .devui-table tbody>tr.expand-row{background:#f7f8fa;background:var(--devui-table-expand-area-bg, #f7f8fa)}\n"] }]
        }], ctorParameters: function () { return [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [DATA_TABLE]
                }] }]; }, propDecorators: { checkable: [{
                type: Input
            }], showExpandToggle: [{
                type: Input
            }], allChecked: [{
                type: Input
            }], selectable: [{
                type: Input
            }], editModel: [{
                type: Input
            }], editRowItem: [{
                type: Input
            }], dataSource: [{
                type: Input
            }], resizeable: [{
                type: Input
            }], columns: [{
                type: Input
            }], detailTemplateRef: [{
                type: Input
            }], timeout: [{
                type: Input
            }], type: [{
                type: Input
            }], rowHoveredHighlight: [{
                type: Input
            }], tableLevel: [{
                type: Input
            }], nestedIndex: [{
                type: Input
            }], virtualScroll: [{
                type: Input
            }], tableWidthConfig: [{
                type: Input
            }], headerExpandConfig: [{
                type: Input
            }], generalRowHoveredData: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS10YWJsZS1ib2R5LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2RldnVpL2RhdGEtdGFibGUvZGF0YS10YWJsZS1ib2R5LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uL2RldnVpL2RhdGEtdGFibGUvZGF0YS10YWJsZS1ib2R5LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBNEIsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRWhHLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQzs7Ozs7O0FBVWhELE1BQU0sT0FBTyxzQkFBc0I7SUFxQmpDLFlBQXVDLEVBQU87UUFBUCxPQUFFLEdBQUYsRUFBRSxDQUFLO1FBZHJDLGVBQVUsR0FBVSxFQUFFLENBQUM7UUFRdkIsZ0JBQVcsR0FBRyxJQUFJLENBQUM7SUFRNUIsQ0FBQztJQUVELFdBQVcsQ0FBQyxPQUFzQjtRQUNoQyxJQUFJLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ3RDLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ3JDLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUN6QixVQUFVLElBQUksQ0FBQyxDQUFDO2FBQ2pCO1lBQ0QsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUNsQixVQUFVLElBQUksQ0FBQyxDQUFDO2FBQ2pCO1lBQ0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxVQUFVLENBQUM7U0FDbEM7SUFDSCxDQUFDO0lBRUQsU0FBUyxDQUFDLEtBQUssRUFBRSxJQUFJO1FBQ25CLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQzs7bUhBeENVLHNCQUFzQixrQkFxQmIsVUFBVTt1R0FyQm5CLHNCQUFzQixzcUJDWm5DLDZnS0FnSUEsK25ERHBIYSxzQkFBc0I7MkZBQXRCLHNCQUFzQjtrQkFQbEMsU0FBUzsrQkFDRSxxQ0FBcUMsdUJBRzFCLEtBQUs7OzBCQXdCYixNQUFNOzJCQUFDLFVBQVU7NENBcEJyQixTQUFTO3NCQUFqQixLQUFLO2dCQUNHLGdCQUFnQjtzQkFBeEIsS0FBSztnQkFDRyxVQUFVO3NCQUFsQixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csU0FBUztzQkFBakIsS0FBSztnQkFDRyxXQUFXO3NCQUFuQixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxPQUFPO3NCQUFmLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLE9BQU87c0JBQWYsS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csbUJBQW1CO3NCQUEzQixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxhQUFhO3NCQUFyQixLQUFLO2dCQUNHLGdCQUFnQjtzQkFBeEIsS0FBSztnQkFDRyxrQkFBa0I7c0JBQTFCLEtBQUs7Z0JBQ0cscUJBQXFCO3NCQUE3QixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIElucHV0LCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMsIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBUYWJsZUV4cGFuZENvbmZpZywgVGFibGVXaWR0aENvbmZpZyB9IGZyb20gJy4vZGF0YS10YWJsZS5tb2RlbCc7XG5pbXBvcnQgeyBEQVRBX1RBQkxFIH0gZnJvbSAnLi9kYXRhLXRhYmxlLnRva2VuJztcbmltcG9ydCB7IERhdGFUYWJsZUNvbHVtblRtcGxDb21wb25lbnQgfSBmcm9tICcuL3RtcGwvZGF0YS10YWJsZS1jb2x1bW4tdG1wbC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdkLWRhdGEtdGFibGUtYm9keSwgW2REYXRhVGFibGVCb2R5XScsXG4gIHRlbXBsYXRlVXJsOiAnLi9kYXRhLXRhYmxlLWJvZHkuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9kYXRhLXRhYmxlLWJvZHkuY29tcG9uZW50LnNjc3MnXSxcbiAgcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2UsXG4gIC8vIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIERhdGFUYWJsZUJvZHlDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuICBASW5wdXQoKSBjaGVja2FibGU6IGJvb2xlYW47XG4gIEBJbnB1dCgpIHNob3dFeHBhbmRUb2dnbGU6IGJvb2xlYW47XG4gIEBJbnB1dCgpIGFsbENoZWNrZWQ6IGJvb2xlYW47XG4gIEBJbnB1dCgpIHNlbGVjdGFibGU6IGJvb2xlYW47XG4gIEBJbnB1dCgpIGVkaXRNb2RlbDogc3RyaW5nO1xuICBASW5wdXQoKSBlZGl0Um93SXRlbTogYW55O1xuICBASW5wdXQoKSBkYXRhU291cmNlOiBhbnlbXSA9IFtdO1xuICBASW5wdXQoKSByZXNpemVhYmxlOiBib29sZWFuO1xuICBASW5wdXQoKSBjb2x1bW5zOiBEYXRhVGFibGVDb2x1bW5UbXBsQ29tcG9uZW50W107XG4gIEBJbnB1dCgpIGRldGFpbFRlbXBsYXRlUmVmOiBUZW1wbGF0ZVJlZjxhbnk+O1xuICBASW5wdXQoKSB0aW1lb3V0OiBudW1iZXI7XG4gIEBJbnB1dCgpIHR5cGU6IHN0cmluZztcbiAgQElucHV0KCkgcm93SG92ZXJlZEhpZ2hsaWdodDogYm9vbGVhbjtcbiAgQElucHV0KCkgdGFibGVMZXZlbDogbnVtYmVyO1xuICBASW5wdXQoKSBuZXN0ZWRJbmRleCA9ICctMSc7XG4gIEBJbnB1dCgpIHZpcnR1YWxTY3JvbGw7XG4gIEBJbnB1dCgpIHRhYmxlV2lkdGhDb25maWc6IFRhYmxlV2lkdGhDb25maWdbXTtcbiAgQElucHV0KCkgaGVhZGVyRXhwYW5kQ29uZmlnOiBUYWJsZUV4cGFuZENvbmZpZztcbiAgQElucHV0KCkgZ2VuZXJhbFJvd0hvdmVyZWREYXRhOiBib29sZWFuO1xuICBjaGlsZFRkQ29sc3BhbjogbnVtYmVyO1xuICBjb25zdHJ1Y3RvcihASW5qZWN0KERBVEFfVEFCTEUpIHB1YmxpYyBkdDogYW55KSB7XG5cbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoY2hhbmdlc1snY29sdW1ucyddICYmIHRoaXMuY29sdW1ucykge1xuICAgICAgbGV0IGNvbHVtblNwYW4gPSB0aGlzLmNvbHVtbnMubGVuZ3RoO1xuICAgICAgaWYgKHRoaXMuc2hvd0V4cGFuZFRvZ2dsZSkge1xuICAgICAgICBjb2x1bW5TcGFuICs9IDE7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jaGVja2FibGUpIHtcbiAgICAgICAgY29sdW1uU3BhbiArPSAxO1xuICAgICAgfVxuICAgICAgdGhpcy5jaGlsZFRkQ29sc3BhbiA9IGNvbHVtblNwYW47XG4gICAgfVxuICB9XG5cbiAgdHJhY2tCeUZuKGluZGV4LCBpdGVtKSB7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG59XG4iLCI8dHIgKm5nSWY9XCJoZWFkZXJFeHBhbmRDb25maWc/LmV4cGFuZFwiPlxuICA8dGQgW2F0dHIuY29sc3Bhbl09XCJ0YWJsZVdpZHRoQ29uZmlnLmxlbmd0aFwiPlxuICAgIDxuZy10ZW1wbGF0ZVxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwiaGVhZGVyRXhwYW5kQ29uZmlnPy5leHBhbmRUZW1wbGF0ZVJlZiB8fCBkZWZhdWx0XCJcbiAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogdGhpcywgY29sdW1uczogY29sdW1ucyB9XCJcbiAgICA+XG4gICAgPC9uZy10ZW1wbGF0ZT5cbiAgICA8bmctdGVtcGxhdGUgI2RlZmF1bHQ+XG4gICAgICA8ZGl2Pnt7IGhlYWRlckV4cGFuZENvbmZpZz8uZGVzY3JpcHRpb24gfX08L2Rpdj5cbiAgICA8L25nLXRlbXBsYXRlPlxuICA8L3RkPlxuPC90cj5cbjxuZy1jb250YWluZXIgKm5nSWY9XCIhdmlydHVhbFNjcm9sbDsgZWxzZSBzY3JvbGxWaWV3VHBsXCI+XG4gIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IHJvd0l0ZW0gb2YgZGF0YVNvdXJjZTsgdHJhY2tCeTogdHJhY2tCeUZuOyBsZXQgcm93SW5kZXggPSBpbmRleFwiPlxuICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJ0clRhYmxlXCIgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgcm93SXRlbTogcm93SXRlbSwgcm93SW5kZXg6IHJvd0luZGV4IH1cIj4gPC9uZy10ZW1wbGF0ZT5cbiAgPC9uZy1jb250YWluZXI+XG48L25nLWNvbnRhaW5lcj5cblxuPG5nLXRlbXBsYXRlICNzY3JvbGxWaWV3VHBsPlxuICA8bmctY29udGFpbmVyICpjZGtWaXJ0dWFsRm9yPVwibGV0IHJvd0l0ZW0gb2YgZGF0YVNvdXJjZTsgdHJhY2tCeTogdHJhY2tCeUZuOyBsZXQgcm93SW5kZXggPSBpbmRleFwiPlxuICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJ0clRhYmxlXCIgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgcm93SXRlbTogcm93SXRlbSB8fCB7fSwgcm93SW5kZXg6IHJvd0luZGV4IH1cIj4gPC9uZy10ZW1wbGF0ZT5cbiAgPC9uZy1jb250YWluZXI+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI3RyVGFibGUgbGV0LXJvd0luZGV4PVwicm93SW5kZXhcIiBsZXQtcm93SXRlbT1cInJvd0l0ZW1cIj5cbiAgPHRyXG4gICAgKm5nSWY9XCIhcm93SXRlbT8uJGRyYWdnYWJsZVwiXG4gICAgZERhdGFUYWJsZVJvd1xuICAgIFtnZW5lcmFsUm93SG92ZXJlZERhdGFdPVwiZ2VuZXJhbFJvd0hvdmVyZWREYXRhXCJcbiAgICBbcmVzaXplYWJsZV09XCJyZXNpemVhYmxlXCJcbiAgICBbY2hlY2thYmxlXT1cImNoZWNrYWJsZVwiXG4gICAgW3Jvd0luZGV4XT1cInJvd0luZGV4XCJcbiAgICBbcm93SXRlbV09XCJyb3dJdGVtXCJcbiAgICBbY29sdW1uc109XCJjb2x1bW5zXCJcbiAgICBbZWRpdFJvd0l0ZW1dPVwiZWRpdFJvd0l0ZW1cIlxuICAgIFtlZGl0TW9kZWxdPVwiZWRpdE1vZGVsXCJcbiAgICBbYWxsQ2hlY2tlZF09XCJhbGxDaGVja2VkXCJcbiAgICBbc2hvd0V4cGFuZFRvZ2dsZV09XCJzaG93RXhwYW5kVG9nZ2xlXCJcbiAgICBbdGltZW91dF09XCJ0aW1lb3V0XCJcbiAgICBbdGFibGVMZXZlbF09XCJ0YWJsZUxldmVsXCJcbiAgICBbbmVzdGVkSW5kZXhdPVwibmVzdGVkSW5kZXhcIlxuICAgIGNsYXNzPVwie3sgcm93SXRlbS4kcm93Q2xhc3MgPyByb3dJdGVtLiRyb3dDbGFzcyA6ICcnIH19XCJcbiAgICBbbmdDbGFzc109XCJ7ICd0YWJsZS1yb3ctc2VsZWN0ZWQnOiByb3dJdGVtLiRjaGVja2VkIH1cIlxuICA+PC90cj5cbiAgPHRyXG4gICAgKm5nSWY9XCJyb3dJdGVtPy4kZHJhZ2dhYmxlXCJcbiAgICBkRGF0YVRhYmxlUm93XG4gICAgZERyYWdnYWJsZVxuICAgIFtnZW5lcmFsUm93SG92ZXJlZERhdGFdPVwiZ2VuZXJhbFJvd0hvdmVyZWREYXRhXCJcbiAgICBbcmVzaXplYWJsZV09XCJyZXNpemVhYmxlXCJcbiAgICBbY2hlY2thYmxlXT1cImNoZWNrYWJsZVwiXG4gICAgW3Jvd0luZGV4XT1cInJvd0luZGV4XCJcbiAgICBbcm93SXRlbV09XCJyb3dJdGVtXCJcbiAgICBbY29sdW1uc109XCJjb2x1bW5zXCJcbiAgICBbZWRpdFJvd0l0ZW1dPVwiZWRpdFJvd0l0ZW1cIlxuICAgIFtlZGl0TW9kZWxdPVwiZWRpdE1vZGVsXCJcbiAgICBbYWxsQ2hlY2tlZF09XCJhbGxDaGVja2VkXCJcbiAgICBbc2hvd0V4cGFuZFRvZ2dsZV09XCJzaG93RXhwYW5kVG9nZ2xlXCJcbiAgICBbdGltZW91dF09XCJ0aW1lb3V0XCJcbiAgICBbdGFibGVMZXZlbF09XCJ0YWJsZUxldmVsXCJcbiAgICBbbmVzdGVkSW5kZXhdPVwibmVzdGVkSW5kZXhcIlxuICAgIGNsYXNzPVwie3sgcm93SXRlbS4kcm93Q2xhc3MgPyByb3dJdGVtLiRyb3dDbGFzcyA6ICcnIH19XCJcbiAgICBbbmdDbGFzc109XCJ7ICd0YWJsZS1yb3ctc2VsZWN0ZWQnOiByb3dJdGVtLiRjaGVja2VkIH1cIlxuICAgIFtkcmFnRGF0YV09XCJ7IGRhdGE6IHJvd0l0ZW0gfVwiXG4gICAgW2RyYWdTY29wZV09XCJyb3dJdGVtPy4kZHJhZ2dhYmxlWydzY29wZSddXCJcbiAgICBbZHJhZ092ZXJDbGFzc109XCJyb3dJdGVtPy4kZHJhZ2dhYmxlWydjbGFzcyddXCJcbiAgICBbZHJhZ0hhbmRsZV09XCJyb3dJdGVtPy4kZHJhZ2dhYmxlWydoYW5kbGVyJ11cIlxuICA+PC90cj5cbiAgPHRyICpuZ0lmPVwicm93SXRlbSAmJiByb3dJdGVtWyckaXNEZXRhaWxPcGVuJ10gJiYgcm93SXRlbS5kZXRhaWxcIj5cbiAgICA8dGQgW2F0dHIuY29sc3Bhbl09XCJjaGVja2FibGUgPyAyIDogMVwiPjwvdGQ+XG4gICAgPHRkIFthdHRyLmNvbHNwYW5dPVwiY29sdW1ucy5sZW5ndGhcIiBjbGFzcz1cImRldGFpbC1jb250ZW50XCIgW3N0eWxlLnBhZGRpbmddPVwiJzEzcHgnXCI+XG4gICAgICA8bmctdGVtcGxhdGVcbiAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwiZGV0YWlsVGVtcGxhdGVSZWYgfHwgZGVmYXVsdFwiXG4gICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogdGhpcywgZGV0YWlsOiByb3dJdGVtLmRldGFpbCwgcm93SW5kZXg6IHJvd0luZGV4LCByb3dJdGVtOiByb3dJdGVtIH1cIlxuICAgICAgPlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgIDxuZy10ZW1wbGF0ZSAjZGVmYXVsdCBsZXQtZGV0YWlsPVwiZGV0YWlsXCIgbGV0LXJvd0luZGV4PVwicm93SW5kZXhcIiBsZXQtcm93SXRlbT1cInJvd0l0ZW1cIj5cbiAgICAgICAgPGRpdj57eyBkZXRhaWwgfX08L2Rpdj5cbiAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgPC90ZD5cbiAgPC90cj5cbiAgPHRyIGNsYXNzPVwiZXhwYW5kLXJvd1wiICpuZ0lmPVwicm93SXRlbT8uJGV4cGFuZENvbmZpZz8uZXhwYW5kXCI+XG4gICAgPHRkICpuZ0lmPVwiY2hlY2thYmxlXCI+PC90ZD5cbiAgICA8dGQgKm5nSWY9XCJzaG93RXhwYW5kVG9nZ2xlXCI+PC90ZD5cbiAgICA8dGQgW2F0dHIuY29sc3Bhbl09XCJjb2x1bW5zLmxlbmd0aFwiPlxuICAgICAgPG5nLXRlbXBsYXRlXG4gICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInJvd0l0ZW0uJGV4cGFuZENvbmZpZz8uZXhwYW5kVGVtcGxhdGVSZWYgfHwgZGVmYXVsdFwiXG4gICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogdGhpcywgY29sdW1uczogY29sdW1ucywgcm93SW5kZXg6IHJvd0luZGV4LCByb3dJdGVtOiByb3dJdGVtIH1cIlxuICAgICAgPlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgIDxuZy10ZW1wbGF0ZSAjZGVmYXVsdD5cbiAgICAgICAgPGRpdj57eyByb3dJdGVtLiRleHBhbmRDb25maWc/LmRlc2NyaXB0aW9uIH19PC9kaXY+XG4gICAgICA8L25nLXRlbXBsYXRlPlxuICAgIDwvdGQ+XG4gIDwvdHI+XG4gIDx0ciBjbGFzcz1cImNoaWxkLXRhYmxlXCIgKm5nSWY9XCJyb3dJdGVtWyckaXNDaGlsZFRhYmxlT3BlbiddICYmIHJvd0l0ZW1bJ2NoaWxkcmVuJ11cIj5cbiAgICA8dGQgW2F0dHIuY29sc3Bhbl09XCJjaGlsZFRkQ29sc3BhblwiPlxuICAgICAgPHRhYmxlXG4gICAgICAgIGNsYXNzPVwiZGV2dWktdGFibGUge3sgdHlwZSA/ICd0YWJsZS0nICsgdHlwZSA6ICcnIH19IHt7IHJvd0hvdmVyZWRIaWdobGlnaHQgPyAndGFibGUtaG92ZXInIDogJycgfX1cIlxuICAgICAgICBbc3R5bGUudGFibGUtbGF5b3V0XT1cIidmaXhlZCdcIlxuICAgICAgPlxuICAgICAgICA8Y29sZ3JvdXA+XG4gICAgICAgICAgPGNvbCBbc3R5bGUud2lkdGhdPVwiY29uZmlnLndpZHRoXCIgKm5nRm9yPVwibGV0IGNvbmZpZyBvZiB0YWJsZVdpZHRoQ29uZmlnXCIgLz5cbiAgICAgICAgPC9jb2xncm91cD5cbiAgICAgICAgPHRib2R5XG4gICAgICAgICAgZERhdGFUYWJsZUJvZHlcbiAgICAgICAgICBbZGF0YVNvdXJjZV09XCJyb3dJdGVtWydjaGlsZHJlbiddXCJcbiAgICAgICAgICBbcmVzaXplYWJsZV09XCJyZXNpemVhYmxlXCJcbiAgICAgICAgICBbY29sdW1uc109XCJjb2x1bW5zXCJcbiAgICAgICAgICBbY2hlY2thYmxlXT1cImNoZWNrYWJsZVwiXG4gICAgICAgICAgW2FsbENoZWNrZWRdPVwiYWxsQ2hlY2tlZFwiXG4gICAgICAgICAgW3NlbGVjdGFibGVdPVwic2VsZWN0YWJsZVwiXG4gICAgICAgICAgW2VkaXRNb2RlbF09XCJlZGl0TW9kZWxcIlxuICAgICAgICAgIFtlZGl0Um93SXRlbV09XCJlZGl0Um93SXRlbVwiXG4gICAgICAgICAgW3Nob3dFeHBhbmRUb2dnbGVdPVwic2hvd0V4cGFuZFRvZ2dsZVwiXG4gICAgICAgICAgW2RldGFpbFRlbXBsYXRlUmVmXT1cImRldGFpbFRlbXBsYXRlUmVmXCJcbiAgICAgICAgICBbdGltZW91dF09XCJ0aW1lb3V0XCJcbiAgICAgICAgICBbdHlwZV09XCJ0eXBlXCJcbiAgICAgICAgICBbcm93SG92ZXJlZEhpZ2hsaWdodF09XCJyb3dIb3ZlcmVkSGlnaGxpZ2h0XCJcbiAgICAgICAgICBbdGFibGVMZXZlbF09XCJ0YWJsZUxldmVsICsgMVwiXG4gICAgICAgICAgW25lc3RlZEluZGV4XT1cIm5lc3RlZEluZGV4ICsgJywnICsgcm93SW5kZXhcIlxuICAgICAgICAgIFt0YWJsZVdpZHRoQ29uZmlnXT1cInRhYmxlV2lkdGhDb25maWdcIlxuICAgICAgICAgIFtnZW5lcmFsUm93SG92ZXJlZERhdGFdPVwiZ2VuZXJhbFJvd0hvdmVyZWREYXRhXCJcbiAgICAgICAgPjwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgIDwvdGQ+XG4gIDwvdHI+XG48L25nLXRlbXBsYXRlPlxuIl19