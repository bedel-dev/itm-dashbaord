{"version":3,"file":"ng-devui-select.mjs","sources":["../../devui/select/select.component.ts","../../devui/select/select.component.html","../../devui/select/select.module.ts","../../devui/select/ng-devui-select.ts"],"sourcesContent":["import {\n  CdkConnectedOverlay,\n  CdkOverlayOrigin,\n  ConnectedOverlayPositionChange,\n  ConnectedPosition,\n  VerticalConnectionPos\n} from '@angular/cdk/overlay';\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport {\n  addClassToOrigin,\n  AppendToBodyDirection,\n  AppendToBodyDirectionsConfig, DevConfigService, fadeInOut,\n  formWithDropDown,\n  removeClassFromOrigin, WithConfig\n} from 'ng-devui/utils';\nimport { WindowRef } from 'ng-devui/window-ref';\nimport { BehaviorSubject, fromEvent, Observable, of, Subscription } from 'rxjs';\nimport { debounceTime, filter, map, switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'd-select',\n  templateUrl: './select.component.html',\n  styleUrls: [`./select.component.scss`],\n  exportAs: 'select',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => SelectComponent),\n      multi: true\n    }\n  ],\n  animations: [\n    fadeInOut\n  ],\n  preserveWhitespaces: false,\n})\nexport class SelectComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy, OnChanges {\n  get isOpen() {\n    return this._isOpen;\n  }\n\n  set isOpen(value) {\n    this._isOpen = value;\n    this.toggleChange.emit(value);\n    this.setDocumentClickListener();\n    if (this.selectWrapper) {\n      this.dropDownWidth = this.width ? this.width : (this.selectWrapper.nativeElement.offsetWidth);\n    }\n    if (value) {\n      addClassToOrigin(this.selectWrapper);\n      setTimeout(() => {\n        this.startAnimation = true;\n        this.changeDetectorRef.detectChanges();\n      });\n    } else {\n      removeClassFromOrigin(this.selectWrapper);\n      this.onTouch();\n    }\n  }\n  /**\n   * 【必选】下拉选项资源，支持Array<string>, Array<{key: value}>\n   */\n  @Input() options = [];\n  /**\n   * 【可选】是否支持过滤搜索\n   */\n  @Input() isSearch = false;\n  /**\n   * 【可选】是否支持聚焦自动展开下拉\n   */\n  @Input() toggleOnFocus = false;\n  /**\n   * 【可选】下拉菜单高度，建议使用px作为高度单位\n   */\n  @Input() scrollHight = '300px';\n  /**\n   * 【可选】下拉高亮css\n   */\n  @Input() highlightItemClass = 'active';\n  /**\n   * 【当传入资源（options）类型为Array<{key: value}，必选】针对传入资源options的每项对应字段做过滤操作\n   */\n  @Input() filterKey: string;\n  /**\n   * 【可选】是否支持多选\n   */\n  @Input() multiple: boolean;\n  /**\n   * 【可选】是否支持全选\n   */\n  @Input() isSelectAll = false;\n  /**\n   * 【可选】是否可以输入\n   */\n  @Input() readonly = true;\n  /**\n   * 【可选】下拉选框尺寸\n   */\n  @Input() size: '' | 'sm' | 'lg';\n  /**\n   * 【可选】是否appendToBody\n   */\n  @Input() appendToBody = false;\n  /**\n * 【可选】cdk模式overlay Positions的控制\n */\n  @Input() appendToBodyDirections: Array<AppendToBodyDirection | ConnectedPosition> = [\n    'rightDown', 'leftDown', 'rightUp', 'leftUp'\n  ];\n  /**\n   * 【可选】cdk模式origin width\n   */\n  @Input() width: number;\n  /**\n   * 【可选】模板高度\n   */\n  @Input() templateItemSize: number; // 模板itemSize，appendToBody为true\n  /**\n   * 【可选】是否禁用下拉框\n   */\n  @Input() disabled = false;\n  /**\n   * 【可选】下拉默认显示文字\n   */\n  @Input() placeholder = '';\n  @Input() searchPlaceholder = '';\n  /**\n   * 【可选】搜索函数，当需要自定义下拉选择过滤规则时可以使用\n   *  请保证返回值有id和option字段，id是确保尤其多选的时候能正确索引对应选项\n   *  简单实现参考：\n   *  search = (term) => {\n   *    return of(\n   *     [Lily, May, Jorsh, Shiwa, Nanth]\n   *     .map((option, index) => ({id: index, option: option}))\n   *     .filter(item => item.option.name.toLowerCase().indexOf(term.toLowerCase()) !== -1)\n   *   );\n   *  }\n   */\n  @Input() searchFn: (term: string) => Observable<Array<{ id: string | number; option: any }>>;\n  /**\n   * 【可选】决定选择框文字如何显示，默认显示filterKey字段或者本身的值\n   */\n  @Input() valueParser: (item: any) => any;\n  /**\n   * 【可选】决定下拉框没项文字如何显示，默认显示filterKey字段或者本身的值\n   */\n  @Input() formatter: (item: any) => string;\n  @Input() direction: 'up' | 'down' | 'auto' = 'down';\n  @Input() overview: 'border' | 'underlined' = 'border';\n\n  /**\n   *  【可选】是否开启clear功能（是否开启只对单选生效）\n   */\n  @Input() allowClear = false;\n\n  get isClearIconShow() {\n    return this.allowClear && !this.multiple && !this.disabled && this.value;\n  }\n\n  @Input() color;\n  /**\n   *  【可选】启用数据懒加载，默认不启用\n   */\n  @Input() enableLazyLoad = false;\n\n  /**\n   * 是否虚拟滚动\n   */\n  @Input() virtualScroll;\n\n  /**\n   * 非必填，如传入，会忽略ContentChild\n   */\n  @Input() inputItemTemplate: TemplateRef<any>;\n\n  @ContentChild(TemplateRef) itemTemplate: TemplateRef<any>;\n\n  /**\n   * 输出函数，当选中某个选项项后，将会调用此函数，参数为当前选择项的值。如果需要获取所有选择状态的值，请参考(ngModelChange)方法\n   */\n  @Output() valueChange = new EventEmitter<any>();\n  i18nCommonText: I18nInterface['common'];\n  i18nSubscription: Subscription;\n  /**\n   * select下拉toggle事件，值为true或false\n   */\n  @Output() toggleChange = new EventEmitter<any>();\n\n  @Output() loadMore = new EventEmitter<any>();\n\n  @Input() extraConfig: {\n    labelization?: {\n      // 选中项显示成标签一样，带有删除按钮可以单个删除\n      enable: boolean; // 默认值为false\n      overflow?: 'normal' | 'scroll-y' | 'multiple-line' | string; // 默认值为''\n      containerMaxHeight?: string; // 默认值1.8em\n      /**\n       * @deprecated\n       */\n      containnerMaxHeight?: string; // 默认值1.8em\n      labelMaxWidth?: string; // 默认100%\n    };\n    selectedItemWithTemplate?: {\n      // 单选情况下，显示选项使用了template的情况下，顶部选中的内容是否也以template展示\n      enable: boolean; // 默认值为false\n    };\n    // 多选情况下，用户搜索后按回车默认操作结果的第一个选项，没有结果则关闭下拉列表\n    enableFocusFirstFilteredOption?: boolean;\n    [feature: string]: any;\n  };\n\n  /**\n   * 【当传入资源（options）类型为Array<{key: value}，必选】针对传入资源options的每项对应字段做禁用操作的key\n   */\n  @Input() optionDisabledKey = '';\n  /**\n   * 【当传入资源（options）类型为Array<{key: value}，必选】针对传入资源options的每项对应字段禁止变更的key\n   */\n  @Input() optionImmutableKey = '';\n  /**\n   * 【可选】配置无数据展示\n   */\n  @Input() noResultItemTemplate: TemplateRef<any>;\n  /**\n   * 【可选】配置多选的时候是否维持原数组排序还是用户选择的顺序排序，默认是用户顺序\n   */\n  @Input() keepMultipleOrder: 'origin' | 'user-select' = 'user-select';\n  @Input() customViewTemplate: TemplateRef<any>;\n  /**\n   * customViewTemplate的方向，支持下方和右方\n   */\n  @Input() customViewDirection: 'bottom' | 'right' | 'left' | 'top' = 'bottom';\n  @Input() autoFocus = false;\n  @Input() notAutoScroll = false; // 自动聚焦的时候，自动滚动到select位置\n  @Input() loadingTemplateRef: TemplateRef<any>;\n  @Input() @WithConfig() showAnimation = true;\n  @ViewChild('selectWrapper', { static: true }) selectWrapper: ElementRef;\n  @ViewChild('selectInput') selectInputElement: ElementRef;\n  @ViewChild('selectMenu') selectMenuElement: ElementRef;\n  @ViewChild('selectBox', { static: true }) selectBoxElement: ElementRef;\n  @ViewChild('selectInputWithTemplate') selectInputWithTemplateElement: ElementRef;\n  @ViewChild('selectInputWithLabel') selectInputWithLabelElement: ElementRef;\n  @ViewChild('filterInput') filterInputElement: ElementRef;\n  @ViewChild('dropdownUl') dropdownUl: ElementRef;\n  @ViewChild(CdkConnectedOverlay) connectedOverlay: CdkConnectedOverlay;\n  @ViewChild(CdkVirtualScrollViewport) virtualScrollViewport: CdkVirtualScrollViewport;\n  virtualScrollViewportSizeMightChange = false;\n  showLoading = false;\n  _isOpen = false;\n  menuPosition: VerticalConnectionPos = 'bottom';\n  halfChecked = false;\n  allChecked = false;\n  isMouseEvent = false;\n  dropDownWidth: number;\n  startAnimation = false;\n\n  filter = '';\n  activeIndex = -1;\n\n  // for multiple\n  availableOptions = [];\n  multiItems = [];\n\n  popDirection: 'top' | 'bottom';\n\n  selectIndex = -1;\n  _inputValue: any;\n  document: Document;\n  scrollHeightNum: number;\n  minBuffer: number;\n  maxBuffer: number;\n  virtualScrollItemSize: any = {\n    sm: 30,\n    normal: 36,\n    lg: 50,\n    space: 4\n  };\n\n  cdkConnectedOverlayOrigin: CdkOverlayOrigin;\n  overlayPositions: Array<ConnectedPosition>;\n\n  private sourceSubscription: BehaviorSubject<any>;\n  private filterSubscription: Subscription;\n  public value;\n  private resetting = false;\n\n  private onChange = (_: any) => null;\n  private onTouch = () => null;\n\n  constructor(\n    private renderer: Renderer2,\n    private windowRef: WindowRef,\n    private changeDetectorRef: ChangeDetectorRef,\n    private i18n: I18nService,\n    private ngZone: NgZone,\n    private devConfigService: DevConfigService,\n    @Inject(DOCUMENT) private doc: any\n  ) {\n    this.valueParser = item => (typeof item === 'object' ? item[this.filterKey] || '' : (String(item)) ? item.toString() : '');\n    this.formatter = item => (typeof item === 'object' ? item[this.filterKey] || '' : (String(item)) ? item.toString() : '');\n    this.document = this.doc;\n  }\n\n  ngOnInit(): void {\n    if (!this.searchFn) {\n      this.searchFn = (term: any) => {\n        return of(\n          (this.options ? this.options : [])\n            .map((option, index) => ({ option: option, id: index }))\n            .filter(\n              item =>\n                this.formatter(item.option)\n                  .toLowerCase()\n                  .indexOf(term.toLowerCase()) !== -1\n            )\n        );\n      };\n    }\n\n    // 只有多选的情况isSelectAll为true才有意义\n    if (!this.multiple) {\n      this.isSelectAll = false;\n    }\n    this.setI18nText();\n    this.registerFilterChange();\n    this.setPositions();\n  }\n\n  ngAfterViewInit() {\n    if (this.autoFocus && this.selectBoxElement) {\n      setTimeout(() => {\n        this.selectBoxElement.nativeElement.focus({\n          preventScroll: this.notAutoScroll\n        });\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.sourceSubscription) {\n      this.sourceSubscription.unsubscribe();\n    }\n    if (this.filterSubscription) {\n      this.filterSubscription.unsubscribe();\n    }\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n    this.document.removeEventListener('click', this.onDocumentClick);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes && (changes.searchFn || changes.options)) {\n      this.resetSource();\n      if (this.virtualScroll && this.virtualScrollViewport) {\n        this.virtualScrollViewportSizeMightChange = true;\n        this.virtualScrollViewport.checkViewportSize();\n      }\n    }\n    if (changes['appendToBodyDirections']) {\n      this.setPositions();\n    }\n  }\n  setPositions() {\n    if (this.appendToBodyDirections && this.appendToBodyDirections.length > 0) {\n      this.overlayPositions = this.appendToBodyDirections.map(position => {\n        if (typeof position === 'string') {\n          return AppendToBodyDirectionsConfig[position];\n        } else {\n          return position;\n        }\n      }).filter(position => position !== undefined);\n    } else {\n      this.overlayPositions = undefined;\n    }\n  }\n\n  setI18nText() {\n    this.i18nCommonText = this.i18n.getI18nText().common;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nCommonText = data.common;\n    });\n  }\n\n  getVirtualScrollHeight(len, size) {\n    if (len > 0) {\n      let height =\n        (this.templateItemSize || this.virtualScrollItemSize[size || 'normal']) * len + this.virtualScrollItemSize.space * (len - 1);\n      if (this.isSelectAll && this.multiple) {\n        height += this.virtualScrollItemSize[size ? size : 'normal'] + this.virtualScrollItemSize.space;\n      }\n      const scrollHeight = parseInt(this.scrollHight, 10);\n      this.scrollHeightNum = height > scrollHeight ? scrollHeight : height;\n      return `${this.scrollHeightNum}px`;\n    }\n  }\n\n  get realVirtualScrollItemSize() {\n    const itemSize = (this.templateItemSize || this.virtualScrollItemSize[this.size || 'normal']) + this.virtualScrollItemSize.space;\n    const num = Math.round(this.scrollHeightNum / itemSize) || 10;\n    this.minBuffer = num * 1.5 * itemSize;\n    this.maxBuffer = num * 2.5 * itemSize;\n    return itemSize;\n  }\n\n  resetSource() {\n    if (this.sourceSubscription && this.searchFn) {\n      this.resetting = true;\n      this.sourceSubscription.next('');\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouch = fn;\n  }\n\n  registerFilterChange(): void {\n    this.sourceSubscription = new BehaviorSubject<any>('');\n    this.sourceSubscription.pipe(switchMap(term => this.searchFn(term))).subscribe(options => {\n      this.availableOptions = options;\n      this.setAvailableOptions();\n      this.changeDetectorRef.markForCheck();\n      if (this.appendToBody) {\n        setTimeout(() => {\n          if (this.connectedOverlay && this.connectedOverlay.overlayRef) {\n            this.connectedOverlay.overlayRef.updatePosition();\n          }\n        });\n      }\n      // 显示数据变更，需要判断全选半选状态\n      if (this.isSelectAll) {\n        const selectedItemForFilterOptions = [];\n        this.multiItems.forEach(item => {\n          this.availableOptions.forEach(option => {\n            if (item['id'] === option['id']) {\n              selectedItemForFilterOptions.push(item);\n            }\n          });\n        });\n        this.setChecked(selectedItemForFilterOptions);\n      }\n      if (!this.multiple && (!this.value || this.availableOptions && !this.availableOptions.find(option => option.option === this.value))) {\n        this.selectIndex = this.filter && this.availableOptions && this.availableOptions.length > 0 ? 0 : -1;\n      }\n    });\n\n    this.sourceSubscription.subscribe(term => {\n      if (this.resetting && term === '') {\n        this.writeValue(this.value);\n        this.resetting = false;\n      }\n    });\n\n    this.searchInputValueChangeEvent();\n  }\n\n  searchInputValueChangeEvent() {\n    if (this.isSearch && this.isOpen && this.filterInputElement) {\n      this.filterInputElement.nativeElement.focus();\n      if (!this.filterSubscription || this.appendToBody) { // 避免重复订阅\n        this.filterSubscription = fromEvent(this.filterInputElement.nativeElement, 'input')\n          .pipe(\n            map((e: any) => e.target.value),\n            filter(term => !this.disabled && this.searchFn && term.length >= 0),\n            debounceTime(300) // hard code need refactory\n          )\n          .subscribe(term => {\n            this.selectIndex = -1;\n            return this.sourceSubscription.next(term);\n          });\n      }\n    }\n  }\n\n  writeValue(obj: any): void {\n    let objValue = obj;\n    if (obj === null || obj === undefined) {\n      if (this.multiple) {\n        objValue = [];\n      } else {\n        objValue = '';\n      }\n    }\n    this.value = objValue;\n\n    if (this.multiple) {\n      this.value = this.value ? this.value : [];\n      this.value = Array.isArray(this.value) ? this.value : [this.value];\n      this.multiItems = this.value.map((option, index) => ({ option: option, id: this.options.indexOf(option) }));\n    } else {\n      const selectedItem = this.availableOptions.find(\n        item => this.formatter(item.option) === this.formatter(this.value)\n      );\n      this.activeIndex = selectedItem ? selectedItem.id : -1;\n      this.selectIndex = this.activeIndex ? this.activeIndex : -1;\n    }\n\n    this.writeIntoInput(this.value);\n    this.changeDetectorRef.markForCheck();\n    this.setChecked(this.value);\n  }\n\n  writeIntoInput(value): void {\n    this._inputValue = this.multiple\n      ? (value || []).map(option => this.valueParser(option)).join(', ')\n      : this.valueParser(value);\n    this.setAvailableOptions();\n  }\n\n  setAvailableOptions() {\n    if (!this.value || !Array.isArray(this.availableOptions)) {\n      return;\n    }\n    let _value = this.value;\n    if (!this.multiple) {\n      _value = [_value];\n    }\n    this.availableOptions = this.availableOptions\n      .map((item) => ({\n        isChecked: _value.findIndex(i => JSON.stringify(i) === JSON.stringify(item.option)) > -1, id: item.id, option: item.option\n      }));\n  }\n\n  choose = (option, index, $event?: Event) => {\n    if ($event) {\n      $event.preventDefault();\n      $event.stopPropagation();\n    }\n\n    if (typeof option === 'object') {\n      if (Object.keys(option).length === 0 || this.disabled) {\n        this.isOpen = false;\n        return;\n      }\n    } else {\n      if (this.disabled) {\n        this.isOpen = false;\n        return;\n      }\n    }\n\n    if (this.optionDisabledKey && option[this.optionDisabledKey]) {\n      return;\n    }\n    if (this.optionImmutableKey && option[this.optionImmutableKey]) {\n      return;\n    }\n\n    if (this.multiple) {\n      const indexOfOption = this.multiItems.findIndex(item => JSON.stringify(item.option) === JSON.stringify(option));\n      if (indexOfOption === -1) {\n        this.multiItems.push({ id: index, option });\n      } else {\n        this.multiItems.splice(indexOfOption, 1);\n      }\n      if (this.keepMultipleOrder === 'origin') {\n        this.multiItems.sort((a, b) => a.id - b.id);\n      }\n      this.value = this.multiItems.map(item => item.option);\n    } else {\n      this.value = option;\n      this.activeIndex = index;\n      this.selectIndex = index;\n      this.toggle();\n    }\n    this.writeIntoInput(this.value);\n    this.onChange(this.value);\n    this.valueChange.emit(option);\n    this.setChecked(this.value);\n  };\n\n  updateCdkConnectedOverlayOrigin() {\n    if (this.selectWrapper.nativeElement) {\n      this.cdkConnectedOverlayOrigin = new CdkOverlayOrigin(\n        formWithDropDown(this.selectWrapper) || this.selectWrapper.nativeElement\n      );\n    }\n  }\n\n  autoToggle($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    if (this.toggleOnFocus && !this.disabled && !this.isOpen && !this.isMouseEvent) {\n      this.toggle();\n    }\n  }\n\n  // mousedown mouseup解决focus与click冲突问题\n  @HostListener('mousedown', ['$event'])\n  public setMouseEventTrue(event) {\n    this.isMouseEvent = true;\n  }\n  @HostListener('mouseup', ['$event'])\n  public setMouseEventFalse(event) {\n    this.isMouseEvent = false;\n  }\n\n  toggle() {\n    if (this.disabled) {\n      this.isOpen = false;\n      return;\n    }\n\n    if (!this.isOpen) {\n      this.filter = '';\n      this.resetSource();\n      if (!this.appendToBody) {\n        let direction = '';\n        switch (this.direction) {\n        case 'auto':\n          direction = this.isBottomRectEnough() ? 'bottom' : 'top';\n          break;\n        case 'down':\n          direction = 'bottom';\n          break;\n        case 'up':\n          direction = 'top';\n          break;\n        default:\n          direction = 'bottom';\n        }\n        this.popDirection = <any>direction;\n      } else {\n        this.updateCdkConnectedOverlayOrigin();\n      }\n    } else if (!this.showAnimation) {\n      this.startAnimation = false;\n    }\n    this.isOpen = !this.isOpen;\n    if (this.virtualScrollViewportSizeMightChange) { // 解决虚拟滚动更新options长度展开前无法获取正确高度影响\n      setTimeout(() => {\n        if (this.virtualScrollViewportSizeMightChange && this.virtualScrollViewport) {\n          this.virtualScrollViewportSizeMightChange = false;\n          this.virtualScrollViewport.checkViewportSize();\n        }\n      }, 0);\n    }\n    if (this.isSearch && this.isOpen) { // 条件外移减少setTimeout\n      setTimeout(() => {\n        this.searchInputValueChangeEvent();\n      }, 100);\n    }\n  }\n\n  isBottomRectEnough() {\n    const selectMenuElement = this.selectMenuElement.nativeElement;\n    const selectInputElement = this.selectInputElement || this.selectInputWithLabelElement || this.selectInputWithTemplateElement;\n    const displayStyle =\n      selectMenuElement.style['display'] || (<any>window).getComputedStyle(selectMenuElement).display;\n    let tempStyle;\n    if (displayStyle === 'none') { // 必要， 否则首次展开必有问题， 如果animationEnd之后设置为none也会有问题\n      tempStyle = {\n        visibility: selectMenuElement.style.visibility,\n        display: selectMenuElement.style.display,\n        transform: selectMenuElement.style.transform,\n      };\n      this.renderer.setStyle(selectMenuElement, 'visibility', 'hidden');\n      this.renderer.setStyle(selectMenuElement, 'display', 'block');\n      this.renderer.setStyle(selectMenuElement, 'transform', 'translate(0, -9999)');\n    }\n    const elementHeight = selectMenuElement.offsetHeight;\n    const bottomDistance =\n      this.windowRef.innerHeight - selectInputElement.nativeElement.getBoundingClientRect().bottom;\n    const isBottomEnough = bottomDistance >= elementHeight;\n    if (displayStyle === 'none') {\n      this.renderer.setStyle(selectMenuElement, 'visibility', tempStyle.visibility);\n      this.renderer.setStyle(selectMenuElement, 'display', tempStyle.display);\n      this.renderer.setStyle(selectMenuElement, 'transform', tempStyle.transform);\n    }\n    return isBottomEnough;\n  }\n\n  setDocumentClickListener() {\n    this.ngZone.runOutsideAngular(() => {\n      if (this.isOpen) {\n        this.document.addEventListener('click', this.onDocumentClick);\n      } else {\n        this.document.removeEventListener('click', this.onDocumentClick);\n      }\n    });\n  }\n\n  onDocumentClick = ($event: Event) => {\n    if (this.isOpen && !this.selectBoxElement.nativeElement.contains($event.target)) {\n      this.isOpen = false;\n      this.selectIndex = this.activeIndex ? this.activeIndex : -1;\n      this.changeDetectorRef.detectChanges();\n    }\n  };\n\n  onEscKeyup($event) {\n    if (this.isOpen) {\n      $event.stopPropagation();\n    }\n    this.isOpen = false;\n  }\n\n  handleKeyUpEvent($event) {\n    if (this.isOpen) {\n      $event.preventDefault();\n      $event.stopPropagation();\n      this.selectIndex = this.selectIndex === 0 || this.selectIndex === -1 ? this.availableOptions.length - 1 : this.selectIndex - 1;\n      this.scrollToActive();\n    }\n  }\n\n  handleKeyDownEvent($event) {\n    if (this.isOpen) {\n      $event.preventDefault();\n      $event.stopPropagation();\n      this.selectIndex =\n        this.selectIndex === this.availableOptions.length - 1 ? 0 : this.selectIndex + 1;\n      this.scrollToActive();\n    }\n  }\n\n  scrollToActive(): void {\n    const that = this;\n    setTimeout(_ => {\n      try {\n        const selectIndex = that.selectIndex + (that.isSelectAll ? 1 : 0); // 多了个全选会导致问题，index需要加1\n        const scrollPane: any = that.dropdownUl.nativeElement.children[selectIndex];\n        if (scrollPane.scrollIntoViewIfNeeded) {\n          scrollPane.scrollIntoViewIfNeeded(false);\n        } else {\n          const containerInfo = that.dropdownUl.nativeElement.getBoundingClientRect();\n          const elementInfo = scrollPane.getBoundingClientRect();\n          if (elementInfo.bottom > containerInfo.bottom || elementInfo.top < containerInfo.top) {\n            scrollPane.scrollIntoView(false);\n          }\n        }\n      } catch (e) {\n      }\n    });\n  }\n\n  handleKeyEnterEvent($event) {\n    if (this.isOpen) {\n      $event.preventDefault();\n      $event.stopPropagation();\n      const item = this.getSelectedItem();\n      if (item) {\n        this.choose(item.option, item.id, $event);\n      } else {\n        this.toggle();\n      }\n    } else {\n      this.toggle();\n    }\n  }\n\n  getSelectedItem = () => {\n    return this.extraConfig?.enableFocusFirstFilteredOption && this.multiple && this.availableOptions.length\n      ? this.availableOptions[0]\n      : this.availableOptions[this.selectIndex];\n  };\n\n  removeItem(item, $event) {\n    this.choose(item.option, item.id, $event);\n  }\n\n  selectAll() {\n    const mutableOption = this.optionImmutableKey\n      ? this.availableOptions.filter(item => !item.option[this.optionImmutableKey])\n      : this.availableOptions;\n    const selectedImmutableOption = this.optionImmutableKey\n      ? this.multiItems.filter(item => item.option[this.optionImmutableKey])\n      : [];\n\n    if (mutableOption && mutableOption.length > (this.multiItems.length - selectedImmutableOption.length)) {\n      mutableOption.forEach(item => {\n        const indexOfOption = this.multiItems\n          .findIndex(i => JSON.stringify(i.option) === JSON.stringify(item.option));\n        if (indexOfOption === -1) {\n          this.multiItems.push({ id: item.id, option: item.option });\n        }\n      });\n    } else {\n      this.multiItems = [...selectedImmutableOption];\n    }\n    this.value = this.multiItems.map(item => item.option);\n    this.writeIntoInput(this.value);\n    this.onChange(this.value);\n    this.valueChange.emit(this.multiItems);\n    this.setChecked(this.value);\n  }\n\n  trackByFn(index, item) {\n    return index;\n  }\n\n  trackByOptionPointer(index, item) {\n    return item.option;\n  }\n\n  loadMoreEvent(event) {\n    this.showLoading = true;\n    this.loadMore.emit({ instance: this, event: event });\n  }\n\n  loadFinish() {\n    this.showLoading = false;\n    this.changeDetectorRef.markForCheck();\n  }\n\n  loadStart() {\n    this.showLoading = true;\n    this.changeDetectorRef.markForCheck();\n  }\n\n  onPositionChange(position: ConnectedOverlayPositionChange) {\n    this.menuPosition = position.connectionPair.originY;\n  }\n\n  animationEnd($event) {\n    if (!this.isOpen && this.selectMenuElement && this.showAnimation) {\n      const targetElement = this.selectMenuElement.nativeElement;\n      this.startAnimation = false;\n      setTimeout(() => {\n        // 动画会覆盖导致display还是block， 所以要等动画覆盖完\n        this.renderer.setStyle(targetElement, 'display', 'none');\n      });\n    }\n  }\n\n  setChecked(selectedItem) {\n    if (!selectedItem) {\n      return;\n    }\n    if (!this.isSelectAll) {\n      return;\n    }\n    this.halfChecked = false;\n    if (selectedItem.length === this.availableOptions.length) {\n      this.allChecked = true;\n    } else if (selectedItem.length === 0) {\n      this.allChecked = false;\n    } else {\n      this.halfChecked = true;\n    }\n  }\n\n  showSelectAll() {\n    return this.isSelectAll && this.multiple && this.availableOptions.length > 0;\n  }\n\n  public forceSearchNext() {\n    this.sourceSubscription.next(this.filter);\n  }\n\n  valueClear($event) {\n    $event.stopPropagation();\n    this.value = null;\n    this.resetStatus();\n    this.onChange(this.value);\n    this.valueChange.emit(this.value);\n  }\n\n  resetStatus() {\n    this.writeIntoInput('');\n    if (this.availableOptions && this.availableOptions[this.activeIndex]) {\n      this.availableOptions[this.activeIndex].isChecked = false;\n    }\n    this.activeIndex = -1;\n    this.selectIndex = -1;\n    this.changeDetectorRef.markForCheck();\n  }\n\n  clearText() {\n    this.filter = '';\n    this.forceSearchNext();\n  }\n}\n","<div\n  class=\"devui-drop{{ popDirection === 'bottom' ? 'down' : 'up' }} \n  {{ size ? 'devui-select-' + size : '' }} \n  devui-dropdown-origin\"\n  [ngClass]=\"[isOpen ? 'open' : '', overview === 'underlined' ? 'devui-select-underlined-border' : '', disabled ? 'disabled' : '']\"\n  #selectWrapper\n>\n  <div\n    #selectBox\n    class=\"devui-form-group devui-has-feedback\"\n    (click)=\"toggle()\"\n    (focus)=\"autoToggle($event)\"\n    [tabindex]=\"0\"\n    (keydown.esc)=\"onEscKeyup($event)\"\n    (keydown.ArrowUp)=\"handleKeyUpEvent($event)\"\n    (keydown.ArrowDown)=\"handleKeyDownEvent($event)\"\n    (keydown.enter)=\"handleKeyEnterEvent($event)\"\n  >\n    <input\n      #selectInput\n      [placeholder]=\"placeholder\"\n      [disabled]=\"disabled\"\n      [ngClass]=\"[size ? 'devui-select-input-' + size : '']\"\n      type=\"text\"\n      class=\"devui-form-control devui-select-input devui-input\"\n      [minLength]=\"0\"\n      autocomplete=\"off\"\n      [tabindex]=\"-1\"\n      [readonly]=\"readonly\"\n      [value]=\"_inputValue || ''\"\n      *ngIf=\"\n        !(extraConfig?.labelization?.enable && multiple) &&\n        !(!extraConfig?.labelization?.enable && extraConfig?.selectedItemWithTemplate?.enable && (inputItemTemplate || itemTemplate))\n      \"\n    />\n    <div\n      #selectInputWithTemplate\n      class=\"devui-select-list-wrapper devui-form-control {{ size ? 'devui-select-input-' + size : '' }}\"\n      *ngIf=\"extraConfig?.selectedItemWithTemplate?.enable && (inputItemTemplate || itemTemplate) && !extraConfig?.labelization?.enable\"\n    >\n      <div class=\"devui-select-placeholder\" *ngIf=\"!_inputValue\">\n        {{ placeholder }}\n      </div>\n      <div class=\"devui-select-selected-item-with-template\" *ngIf=\"_inputValue\">\n        <ng-template\n          [ngTemplateOutlet]=\"inputItemTemplate || itemTemplate\"\n          [ngTemplateOutletContext]=\"{\n            option: value,\n            filterKey: filterKey,\n            position: 'result',\n            inputValue: _inputValue\n          }\"\n        >\n        </ng-template>\n      </div>\n    </div>\n\n    <div\n      #selectInputWithLabel\n      class=\"devui-select-list-wrapper devui-form-control {{ size ? 'devui-select-input-' + size : '' }}\"\n      *ngIf=\"extraConfig?.labelization?.enable && multiple\"\n    >\n      <div class=\"devui-select-placeholder\" *ngIf=\"multiItems.length === 0\">\n        {{ placeholder }}\n      </div>\n      <ul\n        class=\"devui-select-tag-list {{ extraConfig?.labelization?.overflow }}\"\n        [style.maxHeight]=\"extraConfig?.labelization?.containerMaxHeight || extraConfig?.labelization?.containnerMaxHeight\"\n        *ngIf=\"multiItems.length > 0\"\n      >\n        <li\n          class=\"devui-select-tag-item\"\n          *ngFor=\"let item of multiItems; let index = index; trackBy: trackByOptionPointer\"\n          [style.maxWidth]=\"extraConfig?.labelization?.labelMaxWidth\"\n          [ngClass]=\"{\n            disabled: optionDisabledKey && item.option[optionDisabledKey]\n          }\"\n        >\n          <d-tag\n            [deletable]=\"!(disabled || (optionDisabledKey && item.option[optionDisabledKey]))\"\n            [tag]=\"valueParser(item.option)\"\n            (tagDelete)=\"removeItem(item, $event?.event)\"\n          ></d-tag>\n        </li>\n      </ul>\n    </div>\n\n    <span class=\"devui-form-control-feedback devui-input-group-addon\" [ngClass]=\"{ 'devui-clear-icon-show': isClearIconShow }\">\n      <span class=\"devui-select-clear-icon\" (mousedown)=\"$event.preventDefault()\" (click)=\"valueClear($event)\"> </span>\n      <span class=\"devui-select-chevron-icon\" [ngClass]=\"{ 'devui-select-chevron-icon-animation': showAnimation }\">\n        <svg\n          width=\"1em\"\n          height=\"1em\"\n          viewBox=\"0 0 16 16\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <path\n              d=\"M12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </svg>\n      </span>\n    </span>\n  </div>\n  <ng-container *ngIf=\"appendToBody\">\n    <ng-template\n      cdk-connected-overlay\n      [cdkConnectedOverlayOrigin]=\"cdkConnectedOverlayOrigin\"\n      [cdkConnectedOverlayWidth]=\"dropDownWidth\"\n      [cdkConnectedOverlayOpen]=\"isOpen\"\n      [cdkConnectedOverlayPositions]=\"overlayPositions\"\n      (positionChange)=\"onPositionChange($event)\"\n      (backdropClick)=\"isOpen = false\"\n    >\n      <ng-template [ngTemplateOutlet]=\"selectDropdownTpl\"></ng-template>\n    </ng-template>\n  </ng-container>\n  <ng-container *ngIf=\"!appendToBody\">\n    <ng-template [ngTemplateOutlet]=\"selectDropdownTpl\"></ng-template>\n  </ng-container>\n</div>\n\n<!--下拉模板-->\n<ng-template #selectDropdownTpl>\n  <div\n    #selectMenu\n    class=\"devui-dropdown-menu\"\n    [ngClass]=\"{\n      'devui-dropdown-menu-cdk': appendToBody,\n      'devui-custom-right': customViewTemplate && customViewDirection === 'right',\n      'devui-custom-left': customViewTemplate && customViewDirection === 'left',\n      'devui-custom-top': customViewTemplate && customViewDirection === 'top',\n      'devui-dropdown-menu-multiple': multiple,\n      'devui-reset-min-width': width\n    }\"\n    [@fadeInOut]=\"isOpen && startAnimation ? (appendToBody ? menuPosition : popDirection) : 'void'\"\n    (@fadeInOut.done)=\"animationEnd($event)\"\n    [@.disabled]=\"!showAnimation\"\n  >\n    <ul\n      dLoading\n      [showLoading]=\"showLoading\"\n      positionType=\"relative\"\n      [message]=\"i18nCommonText?.loading\"\n      [loadingTemplateRef]=\"loadingTemplateRef\"\n      [backdrop]=\"true\"\n      class=\"devui-dropdown-menu-wrap {{ size ? 'devui-dropdown-menu-' + size : '' }}\"\n      (click)=\"$event.stopPropagation(); $event.preventDefault()\"\n    >\n      <li [style.display]=\"isSearch ? 'block' : 'none'\">\n        <div class=\"devui-form-group devui-has-feedback\" [style.margin]=\"'0'\">\n          <input\n            #filterInput\n            [ngClass]=\"[size ? 'devui-select-input-' + size : '', filter ? 'devui-search-filter' : '']\"\n            name=\"select\"\n            type=\"text\"\n            [(ngModel)]=\"filter\"\n            autocomplete=\"off\"\n            [placeholder]=\"searchPlaceholder\"\n            class=\"devui-form-control devui-select-search devui-select-input\"\n            (keydown.ArrowUp)=\"handleKeyUpEvent($event)\"\n            (keydown.ArrowDown)=\"handleKeyDownEvent($event)\"\n            (keydown.enter)=\"handleKeyEnterEvent($event)\"\n            (keydown.esc)=\"onEscKeyup($event)\"\n          />\n          <span class=\"devui-form-control-feedback\">\n            <svg\n              width=\"14px\"\n              height=\"14px\"\n              viewBox=\"0 0 14 14\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              class=\"svg-icon-search\"\n              style=\"vertical-align: middle\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -1.000000)\">\n                  <path\n                    d=\"M7.30811922,1 C10.7919973,1 13.6162384,3.82424117 13.6162384,7.30811922 C13.6162384,8.72507634 13.149053,10.0329164 12.3603151,11.0860065 L14.7360564,13.4616238 C15.0879812,13.8135487 15.0879812,14.3841316 14.7360564,14.7360564 C14.3841316,15.0879812 13.8135487,15.0879812 13.4616238,14.7360564 L11.0860065,12.3603151 C10.0329164,13.149053 8.72507634,13.6162384 7.30811922,13.6162384 C3.82424117,13.6162384 1,10.7919973 1,7.30811922 C1,3.82424117 3.82424117,1 7.30811922,1 Z M7.31,2.51 C4.6590332,2.51 2.51,4.6590332 2.51,7.31 C2.51,9.9609668 4.6590332,12.11 7.31,12.11 C9.9609668,12.11 12.11,9.9609668 12.11,7.31 C12.11,4.6590332 9.9609668,2.51 7.31,2.51 Z\"\n                    fill-rule=\"nonzero\"\n                  ></path>\n                </g>\n              </g>\n            </svg>\n          </span>\n          <span\n            #clearIcon\n            class=\"devui-form-control-feedback devui-search-clear\"\n            [ngClass]=\"size ? 'devui-search-clear-' + size : ''\"\n            (click)=\"clearText()\"\n            *ngIf=\"filter\"\n          >\n            <svg\n              width=\"16px\"\n              height=\"16px\"\n              viewBox=\"0 0 16 16\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <path\n                  d=\"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M5.87867966,5.17157288 C5.68341751,4.97631073 5.36683502,4.97631073 5.17157288,5.17157288 C4.99800652,5.34513923 4.97872137,5.61456363 5.11371742,5.80943177 L5.17157288,5.87867966 L7.29218611,7.99929289 L5.17157288,10.1213203 C4.97631073,10.3165825 4.97631073,10.633165 5.17157288,10.8284271 C5.34513923,11.0019935 5.61456363,11.0212786 5.80943177,10.8862826 L5.87867966,10.8284271 L7.99929289,8.70639967 L10.1213203,10.8284271 C10.3165825,11.0236893 10.633165,11.0236893 10.8284271,10.8284271 C11.0019935,10.6548608 11.0212786,10.3854364 10.8862826,10.1905682 L10.8284271,10.1213203 L8.70710678,8 L10.8284271,5.87867966 C11.0236893,5.68341751 11.0236893,5.36683502 10.8284271,5.17157288 C10.6548608,4.99800652 10.3854364,4.97872137 10.1905682,5.11371742 L10.1213203,5.17157288 L8,7.29289322 L5.87867966,5.17157288 Z\"\n                  fill-rule=\"nonzero\"\n                ></path>\n              </g>\n            </svg>\n          </span>\n        </div>\n      </li>\n      <ul\n        *ngIf=\"!virtualScroll || enableLazyLoad; else scrollViewTpl\"\n        class=\"devui-select-list-unstyled devui-scrollbar\"\n        dLazyLoad\n        [enableLazyLoad]=\"enableLazyLoad\"\n        (loadMore)=\"loadMoreEvent($event)\"\n        [ngStyle]=\"{ 'max-height': scrollHight, width: '100%' }\"\n        #dropdownUl\n      >\n        <ng-template [ngTemplateOutlet]=\"selectAllTpl\"></ng-template>\n        <ng-container *ngFor=\"let item of availableOptions; let index = index; trackBy: trackByFn\">\n          <ng-template [ngTemplateOutlet]=\"dropdownItemTpl\" [ngTemplateOutletContext]=\"{ item: item, index: index }\"></ng-template>\n        </ng-container>\n        <div *ngIf=\"availableOptions?.length === 0 && !noResultItemTemplate && !this.showLoading\" class=\"devui-no-data-tip\">\n          {{ filter ? i18nCommonText?.noRecordsFound : i18nCommonText?.noData }}\n        </div>\n      </ul>\n\n      <div *ngIf=\"availableOptions?.length === 0 && noResultItemTemplate && !this.showLoading\" class=\"devui-no-data-tip\">\n        <ng-template [ngTemplateOutlet]=\"noResultItemTemplate\" [ngTemplateOutletContext]=\"{ options: options }\"></ng-template>\n      </div>\n    </ul>\n    <ng-container *ngIf=\"customViewTemplate\">\n      <div class=\"devui-select-custom-area\">\n        <ng-template [ngTemplateOutlet]=\"customViewTemplate\" [ngTemplateOutletContext]=\"{ $implicit: this, choose: choose }\"></ng-template>\n      </div>\n    </ng-container>\n  </div>\n</ng-template>\n\n<!--虚拟滚动模板-->\n<ng-template #scrollViewTpl>\n  <cdk-virtual-scroll-viewport\n    [ngStyle]=\"{\n      height: getVirtualScrollHeight(availableOptions?.length, size),\n      width: '100%',\n      'max-height': scrollHight\n    }\"\n    [itemSize]=\"realVirtualScrollItemSize\"\n    [minBufferPx]=\"minBuffer\"\n    [maxBufferPx]=\"maxBuffer\"\n    class=\"viewport-wrapper devui-select-list-unstyled devui-scrollbar\"\n    #dropdownUl\n  >\n    <ng-template [ngTemplateOutlet]=\"selectAllTpl\"></ng-template>\n    <ng-container *cdkVirtualFor=\"let item of availableOptions; let index = index; trackBy: trackByFn\">\n      <ng-template [ngTemplateOutlet]=\"dropdownItemTpl\" [ngTemplateOutletContext]=\"{ item: item, index: index }\"></ng-template>\n    </ng-container>\n  </cdk-virtual-scroll-viewport>\n</ng-template>\n\n<!--全选模板-->\n<ng-template #selectAllTpl>\n  <li class=\"devui-dropdown-item\" *ngIf=\"showSelectAll()\" (click)=\"selectAll()\">\n    <span>\n      <d-checkbox [label]=\"i18nCommonText.checkAll\" [isShowTitle]=\"false\" [halfchecked]=\"halfChecked\" [(ngModel)]=\"allChecked\"></d-checkbox>\n    </span>\n  </li>\n</ng-template>\n\n<!--下拉Item模板-->\n<ng-template #dropdownItemTpl let-item=\"item\" let-index=\"index\">\n  <li\n    [title]=\"inputItemTemplate || itemTemplate ? '' : formatter(item.option)\"\n    [ngClass]=\"[\n      'devui-dropdown-item',\n      item.isChecked ? highlightItemClass : '',\n      selectIndex === index && item.id !== activeIndex ? 'selected' : '',\n      optionDisabledKey && item.option[optionDisabledKey] ? 'disabled' : ''\n    ]\"\n    (click)=\"choose(item.option, item.id, $event)\"\n  >\n    <ng-template\n      [ngTemplateOutlet]=\"inputItemTemplate || itemTemplate || (multiple ? checkBoxItem : defaultItem)\"\n      [ngTemplateOutletContext]=\"\n        multiple\n          ? {\n              option: item.option,\n              checked: item.isChecked,\n              filterKey: filterKey,\n              position: 'list',\n              template: checkBoxItem\n            }\n          : {\n              option: item.option,\n              filterKey: filterKey,\n              position: 'list',\n              template: defaultItem\n            }\n      \"\n    >\n    </ng-template>\n  </li>\n</ng-template>\n\n<ng-template #defaultItem let-option=\"option\">\n  {{ formatter(option) }}\n</ng-template>\n\n<ng-template #checkBoxItem let-option=\"option\" let-checked=\"checked\">\n  <d-checkbox\n    [color]=\"color\"\n    [label]=\"formatter(option)\"\n    [cssClass]=\"'devui-select-checkbox'\"\n    [ngModel]=\"checked\"\n    [disabled]=\"option[optionDisabledKey]\"\n  >\n  </d-checkbox>\n</ng-template>\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CheckBoxModule } from 'ng-devui/checkbox';\nimport { LoadingModule } from 'ng-devui/loading';\nimport { TagsModule } from 'ng-devui/tags';\nimport { LazyLoadModule } from 'ng-devui/utils';\nimport { WindowRefModule } from 'ng-devui/window-ref';\nimport { SelectComponent } from './select.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    OverlayModule,\n    ScrollingModule,\n    CheckBoxModule,\n    LoadingModule,\n    LazyLoadModule,\n    WindowRefModule,\n    TagsModule,\n  ],\n  exports: [SelectComponent],\n  declarations: [SelectComponent],\n})\nexport class SelectModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}