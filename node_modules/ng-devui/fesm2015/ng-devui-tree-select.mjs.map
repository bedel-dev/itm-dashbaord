{"version":3,"file":"ng-devui-tree-select.mjs","sources":["../../devui/tree-select/tree-default-icons.ts","../../devui/tree-select/tree-select.component.ts","../../devui/tree-select/tree-select.component.html","../../devui/tree-select/tree-select.module.ts","../../devui/tree-select/ng-devui-tree-select.ts"],"sourcesContent":["const DefaultIcons = {\n  iconParentClose:\n  `\n    <span style=\"width: 14px; display: inline-block; content: '';\">\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      >\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M3,2 L13,2 C13.5522847,2 14,2.44771525 14,3 L14,13 C14,13.5522847 13.5522847,14 13,14 L3,14 C2.44771525,14 2,13.5522847 2,\n            13 L2,3 C2,2.44771525 2.44771525,2 3,2 Z M7,7 L4,7 L4,9 L7,9 L7,12 L9,12 L9,9 L12,9 L12,7 L9,7 L9,4 L7,4 L7,7 Z\"\n            fill=\"#5E6678\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n    </span>\n  `,\n  iconParentOpen:\n  `\n    <span style=\"width: 14px; display: inline-block; content: '';\">\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      >\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M3,2 L13,2 C13.5522847,2 14,2.44771525 14,3 L14,13 C14,13.5522847 13.5522847,14 13,14 L3,14 C2.44771525,14 2,13.5522847 2,\n            13 L2,3 C2,2.44771525 2.44771525,2 3,2 Z M12,7 L4,7 L4,9 L12,9 L12,7 Z\"\n            fill=\"#5E6678\"\n            fill-rule=\"nonzero\"\n          ></path>\n        </g>\n      </svg>\n    </span>\n  `,\n  iconLeaf: `\n    <span style=\"width: 14px; display: inline-block; content: '';\"></span>\n  `\n};\n\nexport default {\n  ...DefaultIcons\n};\n\nexport {\n  DefaultIcons\n};\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { SearchComponent } from 'ng-devui/search';\nimport { ICheckboxInput, ITreeItem, OperableTreeComponent, TreeNode } from 'ng-devui/tree';\nimport { addClassToOrigin, DevConfigService, removeClassFromOrigin, WithConfig } from 'ng-devui/utils';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport DefaultIcons from './tree-default-icons';\n\n@Component({\n  selector: 'd-tree-select',\n  templateUrl: './tree-select.component.html',\n  styleUrls: [`./tree-select.component.scss`],\n  exportAs: 'select',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TreeSelectComponent),\n      multi: true,\n    },\n  ],\n  preserveWhitespaces: false,\n})\nexport class TreeSelectComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy, OnChanges {\n  @Input() checkableRelation: 'upward' | 'downward' | 'both' | 'none' = 'both';\n  @Input() set allowClear(allowClear) {\n    // 废弃\n    this._allowClear = allowClear;\n  }\n\n  get allowClear() {\n    return !this.disabled && !this.multiple && !this.enableLabelization && this.allowUnselect && this._allowClear && !!this.selectedValue;\n  }\n\n  @Input() set treeData(treeData) {\n    this._sourceTree = treeData;\n    this.refreshTree(treeData);\n  }\n\n  get treeData() {\n    return this._treeData;\n  }\n\n  get isOpen() {\n    return this._isOpen;\n  }\n\n  set isOpen(value) {\n    if (this._isOpen !== value) {\n      this._isOpen = value;\n      if (!value) {\n        removeClassFromOrigin(this.selectHost);\n        this.onTouch();\n      } else {\n        addClassToOrigin(this.selectHost);\n      }\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  set value(val) {\n    this._value = val;\n    if (val && Array.isArray(val) && val.length) {\n      this.valueType = 'array';\n      this.valueLength = val.length;\n    } else if (val && Object.keys(val).length) {\n      this.valueType = 'object';\n    } else {\n      this.valueType = undefined;\n    }\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  constructor(\n    protected renderer: Renderer2,\n    protected changeDetectorRef: ChangeDetectorRef,\n    private i18n: I18nService,\n    private devConfigService: DevConfigService\n  ) {}\n  @Input() @WithConfig() showAnimation = true;\n  @Input() placeholder = '';\n  @Input() disabled = false;\n  @Input() expandTree = false;\n  @Input() multiple = false;\n  @Input() treeNodeIdKey = 'id';\n  @Input() treeNodeChildrenKey = 'children';\n  @Input() treeNodeTitleKey = 'title';\n  @Input() disabledKey = 'disabled';\n  @Input() leafOnly = false;\n  @Input() delimiter = ', '; // 废弃\n  @Input() iconParentOpen: string = DefaultIcons.iconParentOpen;\n  @Input() iconParentClose: string = DefaultIcons.iconParentClose;\n  @Input() iconLeaf: string = DefaultIcons.iconLeaf;\n  @Input() closeOnNodeSelected = true;\n  @Input() width: string = null;\n  @Input() searchable = false;\n  @Input() appendTo = 'body';\n  @Input() allowUnselect = true;\n  @Input() iconTemplatePosition: string;\n  @Input() iconTemplateInput: TemplateRef<any>;\n  @Input() enableLabelization = true;\n  @Input() customItemTemplate: TemplateRef<any>;\n  @Input() customViewTemplate: TemplateRef<any>;\n  @Input() customViewDirection: 'bottom' | 'right' | 'left' = 'bottom';\n  @ViewChild('selectHost', { static: true }) selectHost: ElementRef;\n  @ViewChild('optionsContainer', { static: true }) optionsContainer: ElementRef;\n  @ViewChild('tree', { static: true }) tree: OperableTreeComponent;\n  @ViewChild('searchInput') searchInput: SearchComponent;\n  @ViewChild('searchInputModel') searchInputModel;\n  @ViewChild('popper', { static: true }) popper;\n  @ContentChild('iconTemplate') iconTemplatePassThrough;\n  // TODO: need to change to nodeToggledEvent\n  @Output() nodeToggleEvent = new EventEmitter<any>();\n  @Output() valueChanged = new EventEmitter<any>();\n  @Input() virtualScroll = false;\n  @Input() virtualScrollItemSize = 30;\n  @Input() virtualScrollMinBufferPx = 300;\n  @Input() virtualScrollMaxBufferPx = 600;\n  @Input() virtualScrollHeightPx = 300;\n  checkboxInput: ICheckboxInput;\n  _treeData: Array<ITreeItem> = [];\n  currentActiveNode: ITreeItem;\n  searchString: string = null;\n  i18nCommonText: I18nInterface['common'];\n  i18nSubscription: Subscription;\n  noRecord = false;\n  valueType: 'array' | 'object' | undefined;\n  displayValue: string | Array<string>;\n  valueLength: number;\n  userAgent: string;\n  destroy$ = new Subject();\n  validVirtualScrollHeight: number;\n  private _value: object | Array<any> | any;\n  private _isOpen = false;\n  private _sourceTree = [];\n  private _allowClear: boolean;\n  private timer: any;\n  @Input() readyEvent = (treeSelect: TreeSelectComponent) => {};\n\n  private onChange = (_: any) => null;\n  private onTouch = () => null;\n\n  ngAfterViewInit(): void {\n    this.changeDetectorRef.detectChanges();\n    this.readyEvent(this);\n    if (this.searchable) {\n      this.registerSearchListener();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {}\n\n  ngOnDestroy(): void {\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n    this.isOpen = false; // 销毁Popper\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngOnInit(): void {\n    this.setI18nText();\n    this.queryMedia();\n  }\n\n  afterTreeInit() {\n    if (this.virtualScroll) {\n      this.tree.treeFactory.flattenNodes.pipe(takeUntil(this.destroy$)).subscribe((data) => {\n        const treeNodeOnDisplay = data.filter((node) => !(node.data.isHide || node.data.hideInVirtualScroll));\n        this.validVirtualScrollHeight = Math.min(treeNodeOnDisplay.length * this.virtualScrollItemSize, this.virtualScrollHeightPx);\n      });\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouch = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  writeValue(value: any): void {\n    this.value = this.multiple ? Object.assign([], value) : value;\n    this.refreshTree(this.treeData);\n    // Trigger visualization after tree data is fulfilled.\n    this.changeDetectorRef.detectChanges();\n    this.visualizeSelectedItems();\n  }\n\n  toggle() {\n    if (this.disabled) {\n      return;\n    }\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n    const applyNow = !this.timer;\n    this.timer = setTimeout(() => {\n      this.timer = null;\n    }, 200);\n    if (applyNow) {\n      this.isOpen = !this.isOpen;\n    }\n  }\n\n  private setI18nText() {\n    this.i18nCommonText = this.i18n.getI18nText().common;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nCommonText = data.common;\n    });\n  }\n\n  private queryMedia() {\n    if (typeof window === 'undefined') {\n      return;\n    }\n    const userAgent = window.navigator.userAgent;\n    if (userAgent.indexOf('Edge') > -1) {\n      this.userAgent = 'edge';\n    } else if (userAgent.indexOf('MSIE') > -1 || userAgent.indexOf('Trident/') > -1) {\n      this.userAgent = 'ie';\n    } else if (userAgent.indexOf('Firefox') > -1) {\n      this.userAgent = 'firefox';\n    } else {\n      this.userAgent = 'chrome';\n    }\n  }\n\n  private prepareTree(treeNode: any, expandTree = false) {\n    if (Array.isArray(treeNode)) {\n      return treeNode.map((node) => this.prepareTree(node, expandTree));\n    } else if (treeNode) {\n      let parentCheckedByChildren = false;\n      if (Object.prototype.hasOwnProperty.call(treeNode, this.treeNodeChildrenKey)) {\n        treeNode.open = expandTree ? true : treeNode.open;\n        treeNode[this.treeNodeChildrenKey] = this.prepareTree(treeNode[this.treeNodeChildrenKey], expandTree);\n        if (this.multiple) {\n          [parentCheckedByChildren, treeNode.halfChecked] = this.resolveParentNode(treeNode[this.treeNodeChildrenKey]);\n        }\n      }\n      if (Object.prototype.hasOwnProperty.call(treeNode, this.treeNodeIdKey)) {\n        const nodeId = treeNode[this.treeNodeIdKey];\n        if (this.multiple) {\n          const selectedByValue = this.nodeSelected(nodeId);\n          treeNode.isActive = false;\n          treeNode.isChecked = selectedByValue || parentCheckedByChildren;\n          if (!this.leafOnly && !selectedByValue && parentCheckedByChildren) {\n            const insertObject = {};\n            insertObject[this.treeNodeIdKey] = treeNode[this.treeNodeIdKey];\n            insertObject[this.treeNodeTitleKey] = treeNode[this.treeNodeTitleKey];\n            (this.value as any[]).push(insertObject);\n            // 赋值触发setValue设置valueType和valueLength\n            /* eslint-disable-next-line no-self-assign*/\n            this.value = this.value;\n          }\n        } else {\n          treeNode.isChecked = false;\n          treeNode.isActive = this.nodeSelected(nodeId);\n          if (treeNode.isActive) {\n            this.currentActiveNode = treeNode;\n          }\n        }\n      }\n\n      return treeNode;\n    }\n  }\n\n  private nodeSelected(treeNodeId: any) {\n    if (!this.value) {\n      return false;\n    }\n\n    if (this.multiple && Array.isArray(this.value)) {\n      // polyfill Array.prototype.includes()\n      return this.value.map((_) => _[this.treeNodeIdKey]).indexOf(treeNodeId) > -1;\n    } else {\n      return this.value[this.treeNodeIdKey] && treeNodeId === this.value[this.treeNodeIdKey];\n    }\n  }\n\n  private resolveParentNode(treeNodes: ITreeItem[]): boolean[] {\n    const enableParentNodeCheckByChild = this.checkableRelation === 'both' || this.checkableRelation === 'upward';\n    const childrenFullCheckedCount = enableParentNodeCheckByChild && treeNodes.filter((_) => _.isChecked).length;\n    const childrenCheckedCount = enableParentNodeCheckByChild && treeNodes.filter((_) => _.isChecked || _.halfChecked).length;\n    return [\n      childrenFullCheckedCount > 0 && treeNodes.length === childrenFullCheckedCount,\n      childrenCheckedCount > 0 && treeNodes.length > childrenFullCheckedCount,\n    ];\n  }\n\n  private refreshTree(treeData: Array<any>) {\n    this._treeData = Object.assign([], this.prepareTree(treeData, this.expandTree));\n  }\n\n  onOperableNodeChecked(selectedNodes: ITreeItem[]) {\n    const selectedValueExtractor = (_selectedNodes) => {\n      return this.leafOnly\n        ? _selectedNodes.filter((_) => !_.data.isParent).map((_) => _.data.originItem)\n        : _selectedNodes.map((_) => _.data.originItem);\n    };\n    if (this.multiple) {\n      this.value = selectedValueExtractor(selectedNodes);\n      this.emitEvents();\n    }\n  }\n\n  onOperableNodeSelected(selectedNode: TreeNode | TreeNode[]) {\n    const node = selectedNode as TreeNode;\n    if (!this.multiple) {\n      if (this.leafOnly && node.data.isParent) {\n        return;\n      }\n      if (node.data.isActive) {\n        this.currentActiveNode = node.data.originItem;\n        this.value = node.data.originItem;\n        // Configurable close on node selected\n        if (this.closeOnNodeSelected) {\n          this.isOpen = false;\n        }\n      } else {\n        if (this.allowUnselect) {\n          this.currentActiveNode = null;\n          this.value = null;\n        } else {\n          node.data.isActive = true;\n          if (this.closeOnNodeSelected) {\n            this.isOpen = false;\n          }\n        }\n      }\n\n      this.emitEvents();\n    }\n  }\n\n  emitEvents() {\n    this.visualizeSelectedItems();\n    this.onChange(this.value);\n    this.valueChanged.emit(this.selectedValue());\n  }\n\n  visualizeSelectedItems() {\n    if (this.multiple) {\n      this.visualizeMultipleValue();\n    } else {\n      this.visualizeSingleValue();\n    }\n  }\n\n  visualizeMultipleValue() {\n    if (this.tree && this.tree.treeFactory) {\n      const selectedNodes = this.selectedValue() as any[];\n      const valueText = selectedNodes.map((_) => _[this.treeNodeTitleKey]);\n      this.displayValue = valueText;\n    } else {\n      this.emptyInput();\n    }\n  }\n\n  visualizeSingleValue() {\n    if (this.value && this.value[this.treeNodeTitleKey]) {\n      const valueText = this.value[this.treeNodeTitleKey];\n      this.displayValue = valueText;\n    } else {\n      this.emptyInput();\n    }\n  }\n\n  emptyInput() {\n    this.displayValue = '';\n  }\n\n  selectedValue() {\n    return this.value;\n  }\n\n  responsePopperChange(popperState: any) {\n    if (popperState && this.searchable) {\n      this.focusSearchInput();\n    }\n\n    if (popperState && this.virtualScroll && this.tree) {\n      this.tree.operableTree.viewPort.checkViewportSize();\n    }\n  }\n\n  private focusSearchInput() {\n    if (this.searchInput.filterInputElement.nativeElement) {\n      this.searchInput.filterInputElement.nativeElement.focus();\n    }\n  }\n\n  search(searchString) {\n    const searchRes = this.tree.treeFactory.searchTree(searchString, true);\n    if (typeof searchRes === 'boolean') {\n      this.noRecord = searchRes;\n    } else if (Array.isArray(searchRes)) {\n      this.noRecord = searchRes.every((res) => !res);\n    }\n    this.tree.treeFactory.getFlattenNodes();\n    this.popper.update();\n  }\n\n  private registerSearchListener() {\n    this.searchInputModel.valueChanges.pipe(debounceTime(500), distinctUntilChanged()).subscribe((searchString) => {\n      this.search(searchString);\n    });\n  }\n\n  clearValue(event, item, index?) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.multiple) {\n      this.tree.treeFactory.checkNodesById(item[this.treeNodeIdKey], false);\n      const curValue = this.tree.treeFactory.getCheckedNodes();\n      this.value = this.leafOnly\n        ? curValue.filter((node) => !node.data.isParent).map((node) => node.data.originItem)\n        : curValue.map((node) => node.data.originItem);\n    } else {\n      this.clearAll();\n    }\n    this.emitEvents();\n  }\n\n  clearAll() {\n    this.tree.treeFactory.deactivateAllNodes();\n    this.currentActiveNode = null;\n    this.value = null;\n  }\n\n  onNodeToggled($event) {\n    if (this.popper) {\n      this.popper.update();\n    }\n    this.nodeToggleEvent.emit($event);\n  }\n}\n","<div class=\"devui-tree-select {{ userAgent }}\">\n  <d-popper-component\n    [poppoverAppendDirection]=\"customViewDirection\"\n    [(open)]=\"isOpen\"\n    [fluidPopper]=\"!width\"\n    (openChange)=\"responsePopperChange($event)\"\n    [appendTo]=\"appendTo\"\n    [showAnimation]=\"showAnimation\"\n    #popper\n  >\n    <div\n      #selectHost\n      class=\"devui-select-input devui-form-control devui-tree-select-input devui-dropdown-origin\"\n      (click)=\"toggle()\"\n      autocomplete=\"off\"\n      [ngClass]=\"{ disabled: disabled, 'devui-select-no-label': !enableLabelization }\"\n      readonly\n      popper-activator\n    >\n      {{ !valueType ? placeholder : '' }}\n      <div class=\"devui-select-item\" *ngIf=\"valueType === 'object' && enableLabelization && !customItemTemplate\">\n        <span class=\"devui-select-item-content\">{{ value[treeNodeTitleKey] }}</span>\n        <span *ngIf=\"!disabled\" class=\"devui-select-item-clear-icon\" (click)=\"clearValue($event, value)\">\n          <svg\n            width=\"6px\"\n            height=\"6px\"\n            viewBox=\"0 0 10 10\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <g transform=\"translate(-3.000000, -3.000000)\" fill-rule=\"nonzero\">\n                <path\n                  d=\"M11.6426,3.19816936 C11.9239974,2.91574512 12.4131626,2.93784891 12.7352108,3.24751057 C13.0571998,3.5572302 13.0901298,4.03723416 12.8087324,4.31965839 L9.14064666,7.99900183 L12.8087324,11.6803416 C13.0645482,11.9370909 13.0605893,12.3571292 12.8158402,12.6640749 L12.7352108,12.7524894 C12.4131626,13.0621511 11.9239974,13.0842548 11.6426,12.8018306 L8,9.14489021 L4.35740003,12.8018306 C4.10158422,13.05858 3.6740594,13.0636532 3.35648225,12.8298003 L3.26478919,12.7524894 C2.94280021,12.4427698 2.90987023,11.9627658 3.19126762,11.6803416 L6.8583349,7.99900183 L3.19126762,4.31965839 C2.93545181,4.06290908 2.93941068,3.64287076 3.18415975,3.3359251 L3.26478919,3.24751057 C3.58683735,2.93784891 4.07600264,2.91574512 4.35740003,3.19816936 L8,6.85411161 L11.6426,3.19816936 Z\"\n                ></path>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </div>\n      <div class=\"devui-select-item devui-no-label-item\" *ngIf=\"valueType === 'object' && !enableLabelization && !customItemTemplate\">\n        {{ value[treeNodeTitleKey] }}\n      </div>\n      <div class=\"devui-select-item devui-no-label-item\" *ngIf=\"valueType === 'object' && customItemTemplate\">\n        <ng-template [ngTemplateOutlet]=\"customItemTemplate\" [ngTemplateOutletContext]=\"{ item: value }\"></ng-template>\n      </div>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && enableLabelization && !customItemTemplate\">\n        <li class=\"devui-select-item\" *ngFor=\"let item of value; let i = index\">\n          <span class=\"devui-select-item-content\">{{ item[treeNodeTitleKey] }}</span>\n          <span *ngIf=\"!disabled\" class=\"devui-select-item-clear-icon\" (click)=\"clearValue($event, item, i)\">\n            <svg\n              width=\"6px\"\n              height=\"6px\"\n              viewBox=\"0 0 10 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -3.000000)\" fill-rule=\"nonzero\">\n                  <path\n                    d=\"M11.6426,3.19816936 C11.9239974,2.91574512 12.4131626,2.93784891 12.7352108,3.24751057 C13.0571998,3.5572302 13.0901298,4.03723416 12.8087324,4.31965839 L9.14064666,7.99900183 L12.8087324,11.6803416 C13.0645482,11.9370909 13.0605893,12.3571292 12.8158402,12.6640749 L12.7352108,12.7524894 C12.4131626,13.0621511 11.9239974,13.0842548 11.6426,12.8018306 L8,9.14489021 L4.35740003,12.8018306 C4.10158422,13.05858 3.6740594,13.0636532 3.35648225,12.8298003 L3.26478919,12.7524894 C2.94280021,12.4427698 2.90987023,11.9627658 3.19126762,11.6803416 L6.8583349,7.99900183 L3.19126762,4.31965839 C2.93545181,4.06290908 2.93941068,3.64287076 3.18415975,3.3359251 L3.26478919,3.24751057 C3.58683735,2.93784891 4.07600264,2.91574512 4.35740003,3.19816936 L8,6.85411161 L11.6426,3.19816936 Z\"\n                  ></path>\n                </g>\n              </g>\n            </svg>\n          </span>\n        </li>\n      </ul>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && !enableLabelization && !customItemTemplate\">\n        <li class=\"devui-select-item devui-no-label-item\" *ngFor=\"let item of value; let i = index\">\n          {{ item[treeNodeTitleKey] }}\n          <span *ngIf=\"valueLength && i < valueLength - 1\">, </span>\n        </li>\n      </ul>\n      <ul class=\"devui-select-list\" *ngIf=\"valueType === 'array' && customItemTemplate\">\n        <li class=\"devui-select-item devui-no-label-item\" *ngFor=\"let item of value\">\n          <ng-template [ngTemplateOutlet]=\"customItemTemplate\" [ngTemplateOutletContext]=\"{ item: item }\"></ng-template>\n        </li>\n      </ul>\n    </div>\n    <div popper-prepend class=\"devui-tree-select devui-search-container devui-form-group devui-has-feedback\" *ngIf=\"searchable\">\n      <d-search #searchInputModel=\"ngModel\" #searchInput [(ngModel)]=\"searchString\" [placeholder]=\"''\"></d-search>\n    </div>\n    <div\n      class=\"devui-tree-select devui-options-container\"\n      #optionsContainer\n      popper-container\n      [ngStyle]=\"{ width: width, maxHeight: validVirtualScrollHeight === undefined ? '300px' : validVirtualScrollHeight + 'px' }\"\n    >\n      <d-operable-tree\n        #tree\n        [style.display]=\"treeData && treeData.length > 0 && !noRecord ? 'block' : 'none'\"\n        [tree]=\"treeData\"\n        [treeNodeIdKey]=\"treeNodeIdKey\"\n        [treeNodeChildrenKey]=\"treeNodeChildrenKey\"\n        [checkboxDisabledKey]=\"disabledKey\"\n        [checkboxInput]=\"checkboxInput\"\n        [checkable]=\"multiple\"\n        [checkableRelation]=\"checkableRelation\"\n        [canActivateNode]=\"!multiple\"\n        [canActivateParentNode]=\"!leafOnly\"\n        (nodeChecked)=\"onOperableNodeChecked($event)\"\n        (nodeSelected)=\"onOperableNodeSelected($event)\"\n        (nodeToggled)=\"onNodeToggled($event)\"\n        [iconParentOpen]=\"iconParentOpen\"\n        [iconParentClose]=\"iconParentClose\"\n        [iconLeaf]=\"iconLeaf\"\n        [treeNodeTitleKey]=\"treeNodeTitleKey\"\n        [iconTemplatePosition]=\"iconTemplatePosition\"\n        [virtualScroll]=\"virtualScroll\"\n        [itemSize]=\"virtualScrollItemSize\"\n        [minBufferPx]=\"virtualScrollMinBufferPx\"\n        [maxBufferPx]=\"virtualScrollMaxBufferPx\"\n        [virtualScrollHeight]=\"validVirtualScrollHeight + 'px'\"\n        (afterTreeInit)=\"afterTreeInit()\"\n        class=\"devui-tree\"\n      >\n        <ng-template *ngIf=\"iconTemplateInput || iconTemplatePassThrough\" #iconTemplate let-node=\"node\">\n          <ng-template [ngTemplateOutlet]=\"iconTemplateInput || iconTemplatePassThrough\" [ngTemplateOutletContext]=\"{ node: node }\">\n          </ng-template>\n        </ng-template>\n      </d-operable-tree>\n      <div *ngIf=\"!treeData || treeData.length <= 0\" class=\"devui-no-data-tip\">\n        {{ i18nCommonText?.noData }}\n      </div>\n      <div *ngIf=\"noRecord\" class=\"devui-no-data-tip\">\n        {{ i18nCommonText?.noRecordsFound }}\n      </div>\n    </div>\n\n    <!-- 自定义区域 -->\n    <div popper-append *ngIf=\"customViewTemplate\">\n      <ng-template [ngTemplateOutlet]=\"customViewTemplate\" [ngTemplateOutletContext]=\"{ $implicit: this }\"></ng-template>\n    </div>\n  </d-popper-component>\n  <div\n    [ngClass]=\"{ disabled: disabled, clear: allowClear }\"\n    (click)=\"$event.stopPropagation(); $event.preventDefault(); clearAll(); emitEvents()\"\n  ></div>\n  <span\n    class=\"devui-select-chevron-icon\"\n    [class.open]=\"isOpen\"\n    [ngClass]=\"{ disabled: disabled, 'allow-clear': allowClear, 'devui-select-chevron-icon-animation': showAnimation }\"\n  >\n    <svg\n      width=\"14px\"\n      height=\"14px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 Z\"\n          fill-rule=\"nonzero\"\n        ></path>\n      </g>\n    </svg>\n  </span>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CheckBoxModule } from 'ng-devui/checkbox';\nimport { LoadingModule } from 'ng-devui/loading';\nimport { SearchModule } from 'ng-devui/search';\nimport { TreeModule } from 'ng-devui/tree';\nimport { PopperModule } from 'ng-devui/utils';\nimport { TreeSelectComponent } from './tree-select.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, CheckBoxModule, LoadingModule, TreeModule, PopperModule, SearchModule],\n  exports: [TreeSelectComponent],\n  declarations: [TreeSelectComponent],\n  providers: [],\n})\nexport class TreeSelectModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["DefaultIcons"],"mappings":"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"}