{"version":3,"file":"ng-devui-popover.mjs","sources":["../../devui/popover/popover.component.ts","../../devui/popover/popover.component.html","../../devui/popover/popover.directive.ts","../../devui/popover/popover.module.ts","../../devui/popover/ng-devui-popover.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef\n} from '@angular/core';\nimport { PositionService } from 'ng-devui/position';\nimport { directionFadeInOut } from 'ng-devui/utils';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { PopoverType, PositionType } from './popover.types';\n\ninterface PopoverStyle {\n  backgroundColor?: string;\n}\n\n@Component({\n  selector: 'd-popover',\n  templateUrl: './popover.component.html',\n  styleUrls: [`./popover.component.scss`],\n  animations: [directionFadeInOut],\n})\nexport class PopoverComponent implements OnInit, AfterViewInit, OnDestroy, OnChanges {\n  @Input() triggerElementRef: ElementRef;\n  currentPosition: PositionType = 'top';\n  connectionBias: string;\n  _position: PositionType | PositionType[] = ['top', 'left', 'bottom', 'right'];\n  @Input() get position() {\n    return this._position;\n  }\n  set position(pos) {\n    this._position = pos;\n    this.currentPosition = Array.isArray(pos) ? pos[0] : pos;\n  }\n  @Input() content: string | HTMLElement | TemplateRef<any>;\n  @Input() showAnimation = true;\n  @Input() scrollElement: Element;\n  @Input() appendToBody: boolean;\n  @Input() zIndex = 1060;\n  @Input() popType: PopoverType;\n  @Input() popMaxWidth: number;\n  @Input() popoverStyle: PopoverStyle;\n\n  /**\n   * @deprecated Use mouseLeaveDelay to replace.\n   */\n  @Input() set hoverDelayTime(delayTime: any) {\n    this.mouseLeaveDelay = delayTime;\n  }\n\n  // 防止每次鼠标不小心经过目标元素就会显示出PopOver的内容，所以增加适当的延迟。\n  @Input() mouseEnterDelay = 150;\n\n  // 因为鼠标移出之后如果立刻消失会很突然，所以增加略小一些的延迟，使得既不突然也反应灵敏\n  @Input() mouseLeaveDelay = 100;\n  animateState: string;\n\n  @HostBinding('style.display') get display() {\n    return this.content ? 'block' : 'none';\n  }\n  @HostBinding('class') get class() {\n    return 'devui-popover ' + this.currentPosition + ' ' + this.connectionBias + ' devui-popover-' + this.popType;\n  }\n  @HostBinding('@directionFadeInOut') get state() {\n    return this.animateState;\n  }\n  @HostBinding('@.disabled') get disabled() {\n    return !this.showAnimation;\n  }\n  get template() {\n    return this.content instanceof TemplateRef ? this.content : null;\n  }\n\n  subs: Subscription = new Subscription();\n  SCROLL_REFRESH_INTERVAL = 100;\n\n  constructor(\n    private renderer: Renderer2,\n    private positionService: PositionService,\n    public elementRef: ElementRef,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnInit() {\n    this.elementRef.nativeElement.style.zIndex = this.zIndex;\n  }\n\n  ngAfterViewInit() {\n    this.updatePosition();\n    if (this.appendToBody) {\n      if (!this.scrollElement) {\n        this.scrollElement = this.positionService.getScrollParent(this.triggerElementRef.nativeElement);\n      }\n      this.subs.add(\n        fromEvent(this.scrollElement || window, 'scroll')\n          .pipe(debounceTime(this.SCROLL_REFRESH_INTERVAL))\n          .subscribe(() => {\n            this.updatePosition();\n          })\n      );\n      this.subs.add(\n        fromEvent(window, 'resize')\n          .pipe(debounceTime(this.SCROLL_REFRESH_INTERVAL))\n          .subscribe(() => {\n            this.updatePosition();\n          })\n      );\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['content']) {\n      if (this.content !== undefined) {\n        this.updatePosition();\n      }\n    }\n  }\n\n  show() {}\n\n  hide() {\n    this.animateState = 'void';\n  }\n\n  // will be overwrite by directive\n  onHidden() {}\n\n  @HostListener('@directionFadeInOut.done', ['$event'])\n  onAnimationEnd(event) {\n    if (event.toState === 'void') {\n      this.onHidden();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.subs) {\n      this.subs.unsubscribe();\n    }\n  }\n\n  updatePosition() {\n    this.renderer.setStyle(this.elementRef.nativeElement, 'visibility', 'hidden');\n    this.renderer.setStyle(this.elementRef.nativeElement, 'transform', 'translate(0, -99999px)');\n    const rect = this.positionService.positionElements(\n      this.triggerElementRef.nativeElement,\n      this.elementRef.nativeElement,\n      this.position,\n      this.appendToBody\n    );\n    setTimeout(() => {\n      // 预防脏检查\n      this.currentPosition = rect.placementPrimary;\n      this.animateState = this.currentPosition;\n      this.connectionBias = `bias-${rect.placementSecondary}`;\n      if (rect.placementSecondary === 'center') {\n        if (rect.placementPrimary === 'left' || rect.placementPrimary === 'right') {\n          this.connectionBias = 'bias-vertical-center';\n        } else {\n          this.connectionBias = 'bias-horizontal-center';\n        }\n      }\n      this.renderer.setStyle(this.elementRef.nativeElement, 'left', `${rect.left}px`);\n      this.renderer.setStyle(this.elementRef.nativeElement, 'top', `${rect.top}px`);\n      // 移除样式\n      this.renderer.removeStyle(this.elementRef.nativeElement, 'visibility');\n      this.renderer.removeStyle(this.elementRef.nativeElement, 'transform');\n    });\n  }\n\n  public updatePositionAndDetectChange() {\n    this.updatePosition();\n    this.cdr.detectChanges();\n  }\n}\n","<div class=\"arrow\" [ngStyle]=\"{ backgroundColor: popoverStyle?.backgroundColor ? popoverStyle.backgroundColor : '' }\"></div>\n<div class=\"devui-popover-content\" [style.maxWidth.px]=\"popMaxWidth\" [ngStyle]=\"popoverStyle\">\n  <span class=\"devui-popover-icon\" *ngIf=\"popType && popType !== 'default'\">\n    <svg\n      *ngIf=\"popType === 'success'\"\n      class=\"devui-icon devui-icon-success\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <circle cx=\"8\" cy=\"8\" r=\"7\"></circle>\n        <path d=\"M8,0 C3.6,0 0,3.6 0,8 C0,12.4 3.6,16 8,16 C12.4,16 16,12.4 16,8 C16,3.6 12.4,0 8,0 Z\" fill-rule=\"nonzero\"></path>\n        <polygon\n          stroke-width=\"0.4\"\n          fill-rule=\"nonzero\"\n          points=\"8.16 10.48 7.32 11.32 6.48 10.48 6.48 10.48 3.6 7.68 4.44 6.84 7.28 9.68 11.52 5.44 12.36 6.28\"\n        ></polygon>\n      </g>\n    </svg>\n    <svg\n      *ngIf=\"popType === 'warning'\"\n      class=\"devui-icon devui-icon-warning\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <polygon\n          points=\"7.5 1.74501946 1.39184847 13.5954649 7.08947368 14.2207621 13.9973698 13.5954649 10.9383683 5.61273879 8.40084114 1.27624313\"\n        ></polygon>\n        <path\n          d=\"M8.51325441,0.127397589 C8.70423071,0.228333932 8.8605922,0.383286648 8.96244623,0.57254229 L15.8714442,13.4101975 C16.1549662,13.9370117 15.9538562,14.5918482 15.4222523,14.8728158 C15.2642579,14.9563203 15.0879506,15 14.9088903,15 L1.09089441,15 C0.488410063,15 0,14.5159904 0,13.9189343 C0,13.7414873 0.0440768395,13.5667684 0.128340519,13.4101975 L7.03733844,0.57254229 C7.32086049,0.0457280838 7.98165058,-0.153569987 8.51325441,0.127397589 Z M8.87894737,11.2105263 L7.08947368,11.2105263 L7.08947368,13 L8.87894737,13 L8.87894737,11.2105263 Z M8.96842105,4.5 L7,4.5 L7.08947368,9.86842105 L8.87894737,9.86842105 L8.96842105,4.5 Z\"\n        ></path>\n      </g>\n    </svg>\n    <svg\n      *ngIf=\"popType === 'info'\"\n      class=\"devui-icon devui-icon-info\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <circle cx=\"8\" cy=\"8\" r=\"7\"></circle>\n        <g stroke-width=\"1\">\n          <path\n            d=\"M8,0 C3.6,0 0,3.6 0,8 C0,12.4 3.6,16 8,16 C12.4,16 16,12.4 16,8 C16,3.6 12.4,0 8,0 Z M9,5 L7,5 L7,3 L9,3 L9,5 Z M9,12.6 L7,12.6 L7,6.6 L9,6.6 L9,12.6 Z\"\n          ></path>\n        </g>\n      </g>\n    </svg>\n    <svg\n      *ngIf=\"popType === 'error'\"\n      class=\"devui-icon devui-icon-error\"\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 16 16\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <circle cx=\"8\" cy=\"8\" r=\"7\"></circle>\n        <path\n          d=\"M8,0 C3.6,0 0,3.6 0,8 C0,12.4 3.6,16 8,16 C12.4,16 16,12.4 16,8 C16,3.6 12.4,0 8,0 Z M9,12.6 L7,12.6 L7,10.6 L9,10.6 L9,12.6 Z M9,9.1 L7,9.1 L6.9,3.1 L9.1,3.1 L9,9.1 Z\"\n          fill-rule=\"nonzero\"\n        ></path>\n      </g>\n    </svg>\n  </span>\n  <ng-template [ngTemplateOutlet]=\"template || defaultTemplate\"> </ng-template>\n  <ng-template #defaultTemplate>\n    <div class=\"devui-popover-main-content\" [ngClass]=\"{ 'with-icon': popType && popType !== 'default' }\" [innerHTML]=\"content\"></div>\n  </ng-template>\n</div>\n","import { DOCUMENT } from '@angular/common';\nimport {\n  ComponentFactoryResolver,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  TemplateRef,\n  ViewContainerRef\n} from '@angular/core';\nimport { OverlayContainerRef } from 'ng-devui/overlay-container';\nimport { DevConfigService, WithConfig } from 'ng-devui/utils';\nimport { fromEvent, Subject, Subscription } from 'rxjs';\nimport { debounceTime, filter, map, takeUntil } from 'rxjs/operators';\nimport { PopoverComponent } from './popover.component';\nimport { PopoverType, PositionType, TriggerType } from './popover.types';\n\n@Directive({\n  selector: '[dPopover]',\n  exportAs: 'dPopover',\n})\nexport class PopoverDirective implements OnInit, OnDestroy {\n  popoverComponentRef: ComponentRef<PopoverComponent>;\n  _content: string | HTMLElement | TemplateRef<any>;\n  private subscription: Subscription = new Subscription();\n  /**\n   * popover内容\n   */\n  @Input() set content(_popoverContent) {\n    this._content = _popoverContent;\n    if (this.popoverComponentRef) {\n      this.popoverComponentRef.instance.content = _popoverContent;\n      setTimeout(() => {\n        if (this.popoverComponentRef) {\n          this.popoverComponentRef.instance.updatePosition();\n        }\n      });\n    }\n  }\n  /**\n   * 是否通过visible来控制popover状态\n   */\n  @Input() controlled: boolean;\n  /**\n   * popover显示位置\n   */\n  @Input() position: PositionType | PositionType[] = ['top', 'right', 'bottom', 'left'];\n  /**\n   * 是否显示动画\n   */\n  @Input() @WithConfig() showAnimation = true;\n\n  /**\n   * @deprecated Use showAnimation to replace.\n   */\n  @Input() set showAnimate(isShowAnimate: any) {\n    this.showAnimation = isShowAnimate;\n  }\n\n  /**\n   * `scrollElement` 默认值是 `window `, 可以不传，只有当页面的滚动不在 window 且`appendToBody`属性为`true`上的时候才需要传递\n   */\n  @Input() scrollElement: Element;\n  /**\n   * `appendToBody`默认可以不传，仅当popover绑定元素外层宽高不够时，overflow为hidden，不想popover的弹出框被一并隐藏掉。\n   */\n  @Input() appendToBody = true;\n  @Input() zIndex = 1060;\n\n  @Input() popType: PopoverType = 'default';\n\n  @Input() popMaxWidth: number;\n\n  // 触发 popover 的方式（点击/鼠标悬停等）\n  @Input() trigger: TriggerType = 'click';\n\n  /**\n   * @deprecated\n   * 是否可以移入popover内部\n   */\n  @Input() hoverToContent = false;\n\n  /**\n   * @deprecated Use mouseLeaveDelay to replace.\n   * 曾经是触发移入popover内部的延迟时间\n   * 废弃,现在使用参数mouseLeaveDelay代替\n   */\n  @Input() set hoverDelayTime(delayTime: any) {\n    this.mouseLeaveDelay = delayTime;\n  }\n\n  // 设置样式\n  @Input() popoverStyle: object;\n\n  // 防止每次鼠标不小心经过目标元素就会显示出PopOver的内容，所以增加适当的延迟。\n  @Input() mouseEnterDelay = 150;\n\n  // 因为鼠标移出之后如果立刻消失会很突然，所以增加略小一些的延迟，使得既不突然也反应灵敏\n  @Input() mouseLeaveDelay = 100;\n  isEnter: boolean;\n  unsubscribe$ = new Subject();\n  unsubscribeP$ = new Subject();\n  document: Document;\n  @Input() set visible(_isShow: boolean) {\n    if (_isShow) {\n      // when set value and create component at the same time，should wait after ng2 dirty check done\n      setTimeout(() => this.show(), 0);\n    } else {\n      this.hide();\n    }\n  }\n\n  private get eleAppendToBody() {\n    return this.appendToBody || this.triggerElementRef.nativeElement.style.position === 'fixed';\n  }\n\n  constructor(\n    private triggerElementRef: ElementRef,\n    private overlayContainerRef: OverlayContainerRef,\n    private viewContainerRef: ViewContainerRef,\n    private injector: Injector,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private devConfigService: DevConfigService,\n    @Inject(DOCUMENT) private doc: any\n  ) {\n    this.document = this.doc;\n  }\n\n  onDocumentClick = (event) => {\n    event.stopPropagation();\n    if (this.controlled && !this.triggerElementRef.nativeElement.contains(event.target) &&\n      !(this.popoverComponentRef && this.popoverComponentRef.instance.elementRef.nativeElement.contains(event.target))) {\n      this.hide();\n    }\n  };\n\n  createPopover() {\n    if (this.eleAppendToBody) {\n      this.popoverComponentRef = this.overlayContainerRef.createComponent(\n        this.componentFactoryResolver.resolveComponentFactory(PopoverComponent)\n      );\n    } else {\n      this.popoverComponentRef = this.viewContainerRef.createComponent(\n        this.componentFactoryResolver.resolveComponentFactory(PopoverComponent),\n        this.viewContainerRef.length,\n        this.injector\n      );\n    }\n\n    Object.assign(this.popoverComponentRef.instance, {\n      content: this._content,\n      triggerElementRef: this.triggerElementRef,\n      position: this.position,\n      popType: this.popType,\n      popMaxWidth: this.popMaxWidth,\n      scrollElement: this.scrollElement,\n      appendToBody: this.eleAppendToBody,\n      zIndex: this.zIndex,\n      showAnimation: this.showAnimation,\n      popoverStyle: this.popoverStyle,\n    });\n\n    // 对创建的ToolTip组件添加鼠标移入和移出的监听事件\n    if (this.popoverComponentRef.instance.elementRef.nativeElement && this.trigger === 'hover') {\n      this.addMouseEvent();\n    }\n  }\n  addMouseEvent() {\n    const el = this.popoverComponentRef.instance.elementRef.nativeElement;\n    fromEvent(el, 'mouseenter')\n      .pipe(\n        map((event) => {\n          this.isEnter = true;\n          return event;\n        }),\n        debounceTime(0),\n        filter((event) => this.isEnter),\n        takeUntil(this.unsubscribeP$)\n      )\n      .subscribe(() => {\n        if (!this.popoverComponentRef) {\n          this.show();\n        }\n      });\n    fromEvent(el, 'mouseleave')\n      .pipe(\n        map((event) => {\n          this.isEnter = false;\n          return event;\n        }),\n        debounceTime(this.mouseLeaveDelay),\n        filter((event) => !this.isEnter),\n        takeUntil(this.unsubscribeP$)\n      )\n      .subscribe(() => {\n        this.hide();\n      });\n  }\n\n  show() {\n    this.hide();\n    if (!this.popoverComponentRef) {\n      this.createPopover();\n    }\n\n    this.popoverComponentRef.instance.show();\n    this.document.addEventListener('click', this.onDocumentClick);\n  }\n\n  destroy() {\n    if (this.popoverComponentRef) {\n      this.popoverComponentRef.destroy();\n      this.popoverComponentRef = null;\n    }\n    this.document.removeEventListener('click', this.onDocumentClick);\n    if (this.unsubscribeP$) {\n      this.unsubscribeP$.next();\n      this.unsubscribeP$.complete();\n    }\n  }\n\n  ngOnInit() {\n    const element = this.triggerElementRef.nativeElement;\n    if (this.trigger === 'click') {\n      this.subscription.add(\n        fromEvent(element, 'click').subscribe((event) => {\n          if (this.controlled) {\n            this.show();\n          }\n        })\n      );\n    } else if (this.trigger === 'hover') {\n      fromEvent(element, 'mouseenter')\n        .pipe(\n          map((event) => {\n            this.isEnter = true;\n            return event;\n          }),\n          debounceTime(this.mouseEnterDelay),\n          filter((event) => this.isEnter),\n          takeUntil(this.unsubscribe$)\n        )\n        .subscribe(() => {\n          if (!this.popoverComponentRef && this.controlled) {\n            this.show();\n          }\n        });\n\n      fromEvent(element, 'mouseleave')\n        .pipe(\n          map((event) => {\n            this.isEnter = false;\n            return event;\n          }),\n          debounceTime(this.mouseLeaveDelay),\n          filter((event) => !this.isEnter),\n          takeUntil(this.unsubscribe$)\n        )\n        .subscribe(() => {\n          if (this.controlled) {\n            this.hide();\n          }\n        });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.unsubscribeP$) {\n      this.unsubscribeP$.next();\n      this.unsubscribeP$.complete();\n    }\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n    this.destroy();\n    this.subscription.unsubscribe();\n  }\n\n  hide() {\n    if (this.popoverComponentRef) {\n      if (!this.showAnimation) {\n        this.destroy();\n        return;\n      }\n\n      this.popoverComponentRef.instance.hide();\n      this.popoverComponentRef.instance.onHidden = () => {\n        this.destroy();\n      };\n    }\n    if (this.unsubscribeP$) {\n      this.unsubscribeP$.next();\n      this.unsubscribeP$.complete();\n    }\n  }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport { OverlayContainerModule } from 'ng-devui/overlay-container';\nimport {PositioningModule} from 'ng-devui/position';\nimport {PopoverComponent} from './popover.component';\nimport {PopoverDirective} from './popover.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    PositioningModule,\n    OverlayContainerModule\n  ],\n  exports: [PopoverComponent, PopoverDirective],\n  declarations: [PopoverComponent, PopoverDirective],\n\n})\nexport class PopoverModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;;;;;;;;MA+Ba,gBAAgB;IAsD3B,YACU,QAAmB,EACnB,eAAgC,EACjC,UAAsB,EACrB,GAAsB;QAHtB,aAAQ,GAAR,QAAQ,CAAW;QACnB,oBAAe,GAAf,eAAe,CAAiB;QACjC,eAAU,GAAV,UAAU,CAAY;QACrB,QAAG,GAAH,GAAG,CAAmB;QAxDhC,oBAAe,GAAiB,KAAK,CAAC;QAEtC,cAAS,GAAkC,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;QASrE,kBAAa,GAAG,IAAI,CAAC;QAGrB,WAAM,GAAG,IAAI,CAAC;;QAad,oBAAe,GAAG,GAAG,CAAC;;QAGtB,oBAAe,GAAG,GAAG,CAAC;QAmB/B,SAAI,GAAiB,IAAI,YAAY,EAAE,CAAC;QACxC,4BAAuB,GAAG,GAAG,CAAC;KAO1B;IAtDJ,IAAa,QAAQ;QACnB,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;IACD,IAAI,QAAQ,CAAC,GAAG;QACd,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;KAC1D;;;;IAaD,IAAa,cAAc,CAAC,SAAc;QACxC,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;KAClC;IASD,IAAkC,OAAO;QACvC,OAAO,IAAI,CAAC,OAAO,GAAG,OAAO,GAAG,MAAM,CAAC;KACxC;IACD,IAA0B,KAAK;QAC7B,OAAO,gBAAgB,GAAG,IAAI,CAAC,eAAe,GAAG,GAAG,GAAG,IAAI,CAAC,cAAc,GAAG,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC;KAC/G;IACD,IAAwC,KAAK;QAC3C,OAAO,IAAI,CAAC,YAAY,CAAC;KAC1B;IACD,IAA+B,QAAQ;QACrC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;KAC5B;IACD,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,OAAO,YAAY,WAAW,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;KAClE;IAYD,QAAQ;QACN,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;KAC1D;IAED,eAAe;QACb,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;gBACvB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;aACjG;YACD,IAAI,CAAC,IAAI,CAAC,GAAG,CACX,SAAS,CAAC,IAAI,CAAC,aAAa,IAAI,MAAM,EAAE,QAAQ,CAAC;iBAC9C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;iBAChD,SAAS,CAAC;gBACT,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB,CAAC,CACL,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,GAAG,CACX,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;iBAChD,SAAS,CAAC;gBACT,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB,CAAC,CACL,CAAC;SACH;KACF;IAED,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,SAAS,CAAC,EAAE;YACtB,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC9B,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;SACF;KACF;IAED,IAAI,MAAK;IAET,IAAI;QACF,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;KAC5B;;IAGD,QAAQ,MAAK;IAGb,cAAc,CAAC,KAAK;QAClB,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM,EAAE;YAC5B,IAAI,CAAC,QAAQ,EAAE,CAAC;SACjB;KACF;IAED,WAAW;QACT,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;SACzB;KACF;IAED,cAAc;QACZ,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;QAC9E,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,WAAW,EAAE,wBAAwB,CAAC,CAAC;QAC7F,MAAM,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAChD,IAAI,CAAC,iBAAiB,CAAC,aAAa,EACpC,IAAI,CAAC,UAAU,CAAC,aAAa,EAC7B,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,YAAY,CAClB,CAAC;QACF,UAAU,CAAC;;YAET,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAC;YAC7C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC;YACzC,IAAI,CAAC,cAAc,GAAG,QAAQ,IAAI,CAAC,kBAAkB,EAAE,CAAC;YACxD,IAAI,IAAI,CAAC,kBAAkB,KAAK,QAAQ,EAAE;gBACxC,IAAI,IAAI,CAAC,gBAAgB,KAAK,MAAM,IAAI,IAAI,CAAC,gBAAgB,KAAK,OAAO,EAAE;oBACzE,IAAI,CAAC,cAAc,GAAG,sBAAsB,CAAC;iBAC9C;qBAAM;oBACL,IAAI,CAAC,cAAc,GAAG,wBAAwB,CAAC;iBAChD;aACF;YACD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC;YAChF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;;YAE9E,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;YACvE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;SACvE,CAAC,CAAC;KACJ;IAEM,6BAA6B;QAClC,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;KAC1B;;6GAtJU,gBAAgB;iGAAhB,gBAAgB,uqBC/B7B,g4HA+EA,8mHDlDc,CAAC,kBAAkB,CAAC;2FAErB,gBAAgB;kBAN5B,SAAS;+BACE,WAAW,cAGT,CAAC,kBAAkB,CAAC;uLAGvB,iBAAiB;sBAAzB,KAAK;gBAIO,QAAQ;sBAApB,KAAK;gBAOG,OAAO;sBAAf,KAAK;gBACG,aAAa;sBAArB,KAAK;gBACG,aAAa;sBAArB,KAAK;gBACG,YAAY;sBAApB,KAAK;gBACG,MAAM;sBAAd,KAAK;gBACG,OAAO;sBAAf,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBACG,YAAY;sBAApB,KAAK;gBAKO,cAAc;sBAA1B,KAAK;gBAKG,eAAe;sBAAvB,KAAK;gBAGG,eAAe;sBAAvB,KAAK;gBAG4B,OAAO;sBAAxC,WAAW;uBAAC,eAAe;gBAGF,KAAK;sBAA9B,WAAW;uBAAC,OAAO;gBAGoB,KAAK;sBAA5C,WAAW;uBAAC,qBAAqB;gBAGH,QAAQ;sBAAtC,WAAW;uBAAC,YAAY;gBA8DzB,cAAc;sBADb,YAAY;uBAAC,0BAA0B,EAAE,CAAC,QAAQ,CAAC;;;ME/GzC,gBAAgB;IA+F3B,YACU,iBAA6B,EAC7B,mBAAwC,EACxC,gBAAkC,EAClC,QAAkB,EAClB,wBAAkD,EAClD,gBAAkC,EAChB,GAAQ;QAN1B,sBAAiB,GAAjB,iBAAiB,CAAY;QAC7B,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,6BAAwB,GAAxB,wBAAwB,CAA0B;QAClD,qBAAgB,GAAhB,gBAAgB,CAAkB;QAChB,QAAG,GAAH,GAAG,CAAK;QAnG5B,iBAAY,GAAiB,IAAI,YAAY,EAAE,CAAC;;;;QAsB/C,aAAQ,GAAkC,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;;;;QAI/D,kBAAa,GAAG,IAAI,CAAC;;;;QAgBnC,iBAAY,GAAG,IAAI,CAAC;QACpB,WAAM,GAAG,IAAI,CAAC;QAEd,YAAO,GAAgB,SAAS,CAAC;;QAKjC,YAAO,GAAgB,OAAO,CAAC;;;;;QAM/B,mBAAc,GAAG,KAAK,CAAC;;QAevB,oBAAe,GAAG,GAAG,CAAC;;QAGtB,oBAAe,GAAG,GAAG,CAAC;QAE/B,iBAAY,GAAG,IAAI,OAAO,EAAE,CAAC;QAC7B,kBAAa,GAAG,IAAI,OAAO,EAAE,CAAC;QA2B9B,oBAAe,GAAG,CAAC,KAAK;YACtB,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;gBACjF,EAAE,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE;gBAClH,IAAI,CAAC,IAAI,EAAE,CAAC;aACb;SACF,CAAC;QATA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC;KAC1B;;;;IAlGD,IAAa,OAAO,CAAC,eAAe;QAClC,IAAI,CAAC,QAAQ,GAAG,eAAe,CAAC;QAChC,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC5B,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,OAAO,GAAG,eAAe,CAAC;YAC5D,UAAU,CAAC;gBACT,IAAI,IAAI,CAAC,mBAAmB,EAAE;oBAC5B,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;iBACpD;aACF,CAAC,CAAC;SACJ;KACF;;;;IAiBD,IAAa,WAAW,CAAC,aAAkB;QACzC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;KACpC;;;;;;IA8BD,IAAa,cAAc,CAAC,SAAc;QACxC,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;KAClC;IAcD,IAAa,OAAO,CAAC,OAAgB;QACnC,IAAI,OAAO,EAAE;;YAEX,UAAU,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,IAAI,EAAE,CAAC;SACb;KACF;IAED,IAAY,eAAe;QACzB,OAAO,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,KAAK,OAAO,CAAC;KAC7F;IAsBD,aAAa;QACX,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,CACjE,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,gBAAgB,CAAC,CACxE,CAAC;SACH;aAAM;YACL,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAC9D,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,gBAAgB,CAAC,EACvE,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAC5B,IAAI,CAAC,QAAQ,CACd,CAAC;SACH;QAED,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE;YAC/C,OAAO,EAAE,IAAI,CAAC,QAAQ;YACtB,iBAAiB,EAAE,IAAI,CAAC,iBAAiB;YACzC,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,YAAY,EAAE,IAAI,CAAC,eAAe;YAClC,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,YAAY,EAAE,IAAI,CAAC,YAAY;SAChC,CAAC,CAAC;;QAGH,IAAI,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;YAC1F,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;KACF;IACD,aAAa;QACX,MAAM,EAAE,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC;QACtE,SAAS,CAAC,EAAE,EAAE,YAAY,CAAC;aACxB,IAAI,CACH,GAAG,CAAC,CAAC,KAAK;YACR,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,OAAO,KAAK,CAAC;SACd,CAAC,EACF,YAAY,CAAC,CAAC,CAAC,EACf,MAAM,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC,EAC/B,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAC9B;aACA,SAAS,CAAC;YACT,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;gBAC7B,IAAI,CAAC,IAAI,EAAE,CAAC;aACb;SACF,CAAC,CAAC;QACL,SAAS,CAAC,EAAE,EAAE,YAAY,CAAC;aACxB,IAAI,CACH,GAAG,CAAC,CAAC,KAAK;YACR,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,KAAK,CAAC;SACd,CAAC,EACF,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,EAClC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAChC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAC9B;aACA,SAAS,CAAC;YACT,IAAI,CAAC,IAAI,EAAE,CAAC;SACb,CAAC,CAAC;KACN;IAED,IAAI;QACF,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YAC7B,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;QAED,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACzC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;KAC/D;IAED,OAAO;QACL,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC5B,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,CAAC;YACnC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;SACjC;QACD,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACjE,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;SAC/B;KACF;IAED,QAAQ;QACN,MAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC;QACrD,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;YAC5B,IAAI,CAAC,YAAY,CAAC,GAAG,CACnB,SAAS,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK;gBAC1C,IAAI,IAAI,CAAC,UAAU,EAAE;oBACnB,IAAI,CAAC,IAAI,EAAE,CAAC;iBACb;aACF,CAAC,CACH,CAAC;SACH;aAAM,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;YACnC,SAAS,CAAC,OAAO,EAAE,YAAY,CAAC;iBAC7B,IAAI,CACH,GAAG,CAAC,CAAC,KAAK;gBACR,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,OAAO,KAAK,CAAC;aACd,CAAC,EACF,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,EAClC,MAAM,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC,EAC/B,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAC7B;iBACA,SAAS,CAAC;gBACT,IAAI,CAAC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,UAAU,EAAE;oBAChD,IAAI,CAAC,IAAI,EAAE,CAAC;iBACb;aACF,CAAC,CAAC;YAEL,SAAS,CAAC,OAAO,EAAE,YAAY,CAAC;iBAC7B,IAAI,CACH,GAAG,CAAC,CAAC,KAAK;gBACR,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,OAAO,KAAK,CAAC;aACd,CAAC,EACF,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,EAClC,MAAM,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAChC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAC7B;iBACA,SAAS,CAAC;gBACT,IAAI,IAAI,CAAC,UAAU,EAAE;oBACnB,IAAI,CAAC,IAAI,EAAE,CAAC;iBACb;aACF,CAAC,CAAC;SACN;KACF;IAED,WAAW;QACT,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;SAC/B;QACD,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QAC7B,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;KACjC;IAED,IAAI;QACF,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC5B,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;gBACvB,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,OAAO;aACR;YAED,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YACzC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,QAAQ,GAAG;gBAC3C,IAAI,CAAC,OAAO,EAAE,CAAC;aAChB,CAAC;SACH;QACD,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;SAC/B;KACF;;6GAhRU,gBAAgB,mNAsGjB,QAAQ;iGAtGP,gBAAgB;AA6BJ;IAAb,UAAU,EAAE;;uDAAsB;2FA7BjC,gBAAgB;kBAJ5B,SAAS;mBAAC;oBACT,QAAQ,EAAE,YAAY;oBACtB,QAAQ,EAAE,UAAU;iBACrB;;;8BAuGI,MAAM;+BAAC,QAAQ;;yBA/FL,OAAO;sBAAnB,KAAK;gBAcG,UAAU;sBAAlB,KAAK;gBAIG,QAAQ;sBAAhB,KAAK;gBAIiB,aAAa;sBAAnC,KAAK;gBAKO,WAAW;sBAAvB,KAAK;gBAOG,aAAa;sBAArB,KAAK;gBAIG,YAAY;sBAApB,KAAK;gBACG,MAAM;sBAAd,KAAK;gBAEG,OAAO;sBAAf,KAAK;gBAEG,WAAW;sBAAnB,KAAK;gBAGG,OAAO;sBAAf,KAAK;gBAMG,cAAc;sBAAtB,KAAK;gBAOO,cAAc;sBAA1B,KAAK;gBAKG,YAAY;sBAApB,KAAK;gBAGG,eAAe;sBAAvB,KAAK;gBAGG,eAAe;sBAAvB,KAAK;gBAKO,OAAO;sBAAnB,KAAK;;;MC1FK,aAAa;;0GAAb,aAAa;2GAAb,aAAa,iBAHT,gBAAgB,EAAE,gBAAgB,aAL/C,YAAY;QACZ,iBAAiB;QACjB,sBAAsB,aAEd,gBAAgB,EAAE,gBAAgB;2GAIjC,aAAa,YATf;YACP,YAAY;YACZ,iBAAiB;YACjB,sBAAsB;SACvB;2FAKU,aAAa;kBAVzB,QAAQ;mBAAC;oBACR,OAAO,EAAE;wBACP,YAAY;wBACZ,iBAAiB;wBACjB,sBAAsB;qBACvB;oBACD,OAAO,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;oBAC7C,YAAY,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;iBAEnD;;;AChBD;;;;;;"}