{"version":3,"file":"ng-devui-position.mjs","sources":["../../devui/position/positioning.service.ts","../../devui/position/positioning.module.ts","../../devui/position/ng-devui-position.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { DocumentRef, WindowRef } from 'ng-devui/window-ref';\n\n@Injectable()\nexport class PositionService {\n\n  constructor(private documentRef: DocumentRef, private windowRef: WindowRef) {\n  }\n\n  position(element: HTMLElement, round = true) {\n    let elPosition;\n    let parentOffset = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };\n\n    if (this.getStyle(element, 'position') === 'fixed') {\n      elPosition = element.getBoundingClientRect();\n    } else {\n      const offsetParentEl = this.offsetParent(element);\n\n      elPosition = this.offset(element, false);\n\n      if (offsetParentEl !== this.documentRef.documentElement) {\n        parentOffset = this.offset(offsetParentEl, false);\n      }\n\n      parentOffset.top += offsetParentEl.clientTop - offsetParentEl.scrollTop;\n      parentOffset.left += offsetParentEl.clientLeft - offsetParentEl.scrollLeft;\n    }\n\n    elPosition.top -= parentOffset.top;\n    elPosition.bottom -= parentOffset.top;\n    elPosition.left -= parentOffset.left;\n    elPosition.right -= parentOffset.left;\n\n    if (round) {\n      elPosition.top = Math.round(elPosition.top);\n      elPosition.bottom = Math.round(elPosition.bottom);\n      elPosition.left = Math.round(elPosition.left);\n      elPosition.right = Math.round(elPosition.right);\n    }\n\n    return elPosition;\n  }\n\n  offset(element: HTMLElement, round = true) {\n    const elBcr = element.getBoundingClientRect();\n    const viewportOffset = {\n      top: this.windowRef.pageYOffset - this.documentRef.documentElement.clientTop,\n      left: this.windowRef.pageXOffset - this.documentRef.documentElement.clientLeft\n    };\n\n    const elOffset = {\n      height: elBcr.height || element.offsetHeight,\n      width: elBcr.width || element.offsetWidth,\n      top: elBcr.top + viewportOffset.top,\n      bottom: elBcr.bottom + viewportOffset.top,\n      left: elBcr.left + viewportOffset.left,\n      right: elBcr.right + viewportOffset.left\n    };\n\n    if (round) {\n      elOffset.height = Math.round(elOffset.height);\n      elOffset.width = Math.round(elOffset.width);\n      elOffset.top = Math.round(elOffset.top);\n      elOffset.bottom = Math.round(elOffset.bottom);\n      elOffset.left = Math.round(elOffset.left);\n      elOffset.right = Math.round(elOffset.right);\n    }\n\n    return elOffset;\n  }\n\n  getScrollParent(element) {\n    let style = getComputedStyle(element);\n    const excludeStaticParent = style.position === 'absolute';\n    const overflowRegex = /(auto|scroll|hidden)/;\n\n    if (style.position === 'fixed') {\n      return this.documentRef.body;\n    }\n    for (let parent = element; (parent = parent.parentElement); parent.parentElement !== this.documentRef.body) {\n      style = getComputedStyle(parent);\n      if (excludeStaticParent && style.position === 'static') {\n        continue;\n      }\n      if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) {\n        return parent;\n      }\n    }\n\n    return this.documentRef.body;\n  }\n\n  positionElements(hostElement: HTMLElement, targetElement: HTMLElement, placement: string | string[], appendToBody?: boolean): any {\n    const hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\n    const shiftWidth: any = {\n      left: hostElPosition.left,\n      center: hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2,\n      right: hostElPosition.left + hostElPosition.width\n    };\n    const shiftHeight: any = {\n      top: hostElPosition.top,\n      center: hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2,\n      bottom: hostElPosition.top + hostElPosition.height\n    };\n    const targetElBCR = targetElement.getBoundingClientRect();\n\n    const targetElPosition: any = {\n      height: targetElBCR.height || targetElement.offsetHeight,\n      width: targetElBCR.width || targetElement.offsetWidth,\n      top: 0,\n      bottom: targetElBCR.height || targetElement.offsetHeight,\n      left: 0,\n      right: targetElBCR.width || targetElement.offsetWidth\n    };\n\n    let placementPrimary: string;\n    let placementSecondary: string;\n\n    if (Array.isArray(placement)) {\n      const targetPlacement = this.getPlacement(hostElement, targetElement, placement);\n      placementPrimary = targetPlacement[0];\n      placementSecondary = targetPlacement[1];\n    } else {\n      placementPrimary = placement?.split('-')[0] || 'top';\n      placementSecondary = placement?.split('-')[1] || 'center';\n    }\n\n    switch (placementPrimary) {\n    case 'top':\n      targetElPosition.top = hostElPosition.top - targetElement.offsetHeight;\n      targetElPosition.bottom += hostElPosition.top - targetElement.offsetHeight;\n      targetElPosition.left = placementSecondary === 'right'\n        ? shiftWidth[placementSecondary] - targetElement.offsetWidth : shiftWidth[placementSecondary];\n      targetElPosition.right += shiftWidth[placementSecondary];\n      break;\n    case 'bottom':\n      targetElPosition.top = shiftHeight[placementPrimary];\n      targetElPosition.bottom += shiftHeight[placementPrimary];\n      targetElPosition.left = placementSecondary === 'right'\n        ? shiftWidth[placementSecondary] - targetElement.offsetWidth : shiftWidth[placementSecondary];\n      targetElPosition.right += shiftWidth[placementSecondary];\n      break;\n    case 'left':\n      targetElPosition.top = placementSecondary === 'bottom'\n        ? shiftHeight[placementSecondary] - targetElement.offsetHeight : shiftHeight[placementSecondary];\n      targetElPosition.bottom += shiftHeight[placementSecondary];\n      targetElPosition.left = hostElPosition.left - targetElement.offsetWidth;\n      targetElPosition.right += hostElPosition.left - targetElement.offsetWidth;\n      break;\n    case 'right':\n      targetElPosition.top = placementSecondary === 'bottom'\n        ? shiftHeight[placementSecondary] - targetElement.offsetHeight : shiftHeight[placementSecondary];\n      targetElPosition.bottom += shiftHeight[placementSecondary];\n      targetElPosition.left = shiftWidth[placementPrimary];\n      targetElPosition.right += shiftWidth[placementPrimary];\n      break;\n    }\n\n    targetElPosition.top = Math.round(targetElPosition.top);\n    targetElPosition.bottom = Math.round(targetElPosition.bottom);\n    targetElPosition.left = Math.round(targetElPosition.left);\n    targetElPosition.right = Math.round(targetElPosition.right);\n    targetElPosition.placementPrimary = placementPrimary;\n    targetElPosition.placementSecondary = placementSecondary;\n\n    return targetElPosition;\n  }\n\n  // 根据传入数组选取第一个合适的位置\n  private getPlacement(hostElement: HTMLElement, targetElement: HTMLElement, placement: string[]) {\n\n    const hostElPosition = this.offset(hostElement, false);\n    const shiftWidth: any = {\n      left: hostElPosition.left,\n      center: hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2,\n      right: hostElPosition.left + hostElPosition.width\n    };\n    const shiftHeight: any = {\n      top: hostElPosition.top,\n      center: hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2,\n      bottom: hostElPosition.top + hostElPosition.height\n    };\n\n    let placementPrimary = placement[0].split('-')[0] || 'top';\n    let placementSecondary = placement[0].split('-')[1] || 'center';\n\n    for (let i = 0; i < placement.length; i++) {\n      const placementPrimaryTemp = placement[i].split('-')[0] || 'top';\n      const placementSecondaryTemp = placement[i].split('-')[1] || 'center';\n\n      let top; let left;\n      switch (placementPrimaryTemp) {\n      case 'top':\n        top = hostElPosition.top - targetElement.offsetHeight;\n        left = placementSecondaryTemp === 'right'\n          ? shiftWidth[placementSecondaryTemp] - targetElement.offsetWidth : shiftWidth[placementSecondary];\n        break;\n      case 'bottom':\n        top = shiftHeight[placementPrimaryTemp];\n        left = placementSecondaryTemp === 'right'\n          ? shiftWidth[placementSecondaryTemp] - targetElement.offsetWidth : shiftWidth[placementSecondary];\n        break;\n      case 'left':\n        top = placementSecondaryTemp === 'bottom'\n          ? shiftHeight[placementSecondaryTemp] - targetElement.offsetHeight : shiftHeight[placementSecondary];\n        left = hostElPosition.left - targetElement.offsetWidth;\n        break;\n      case 'right':\n        top = placementSecondaryTemp === 'bottom'\n          ? shiftHeight[placementSecondaryTemp] - targetElement.offsetHeight : shiftHeight[placementSecondary];\n        left = shiftWidth[placementPrimaryTemp];\n        break;\n      }\n      if (this.isInViewPort(targetElement, {offsetLeft: left, offsetTop: top})) {\n        placementPrimary = placement[i].split('-')[0] || 'top';\n        placementSecondary = placement[i].split('-')[1] || 'center';\n        return [placementPrimary, placementSecondary];\n      }\n    }\n    return [placementPrimary, placementSecondary];\n  }\n\n  private isInViewPort(ele, {offsetLeft, offsetTop}) {\n    const targetElBCR = ele.getBoundingClientRect();\n    const viewPortHeight = this.windowRef.innerHeight || this.documentRef.documentElement.clientHeight\n    || this.documentRef.body.clientHeight;\n    const viewPortWidth = this.windowRef.innerWidth || this.documentRef.documentElement.clientWidth || this.documentRef.body.clientWidth;\n    const height = targetElBCR.height || targetElBCR.offsetHeight;\n    const width = targetElBCR.width || targetElBCR.offsetWidth;\n    offsetTop = offsetTop || ele.offsetTop;\n    const scrollTop = this.documentRef.documentElement.scrollTop || this.documentRef.body.scrollTop;\n    const top = offsetTop - scrollTop;\n    offsetLeft = offsetLeft || ele.offsetLeft;\n    const scrollLeft = this.documentRef.documentElement.scrollLeft || this.documentRef.body.scrollLeft;\n    const left = offsetLeft - scrollLeft;\n\n    return top + height <= viewPortHeight && top > 0 && left + width <= viewPortWidth && left > 0;\n  }\n\n  private getStyle(element: HTMLElement, prop: string): string {\n    return this.windowRef.getComputedStyle(element)[prop];\n  }\n\n  private isStaticPositioned(element: HTMLElement): boolean {\n    return (this.getStyle(element, 'position') || 'static') === 'static';\n  }\n\n  private offsetParent(element: HTMLElement): HTMLElement {\n    let offsetParentEl = <HTMLElement>element.offsetParent || this.documentRef.documentElement;\n\n    while (offsetParentEl && offsetParentEl !== this.documentRef.documentElement && this.isStaticPositioned(offsetParentEl)) {\n      offsetParentEl = <HTMLElement>offsetParentEl.offsetParent;\n    }\n\n    return offsetParentEl || this.documentRef.documentElement;\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {WindowRefModule} from 'ng-devui/window-ref';\nimport {PositionService} from './positioning.service';\n\n@NgModule({\n  imports: [WindowRefModule],\n  providers: [PositionService]\n})\n\nexport class PositioningModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}