{"version":3,"file":"ng-devui-theme.mjs","sources":["../../devui/theme/theme.ts","../../devui/theme/key-config.ts","../../devui/theme/theme-data.ts","../../devui/theme/media-query.ts","../../devui/theme/utils/event-bus.ts","../../devui/theme/utils/context-service.ts","../../devui/theme/utils/storage-service.ts","../../devui/theme/theme-service.ts","../../devui/theme/theme-management.ts","../../devui/theme/ng-devui-theme.ts"],"sourcesContent":["export type ThemeId = string;\n\nexport class Theme {\n  id: ThemeId;\n  name: string;\n  cnName?: string;\n  data: {\n    [cssVarName: string]: string;\n  };\n  extends?: ThemeId;\n  isDark?: boolean;\n  isPreview?: boolean;\n  isExtendable?: boolean;\n  extra?: {\n    appendClass?: Array<string>;\n    cssVariables?: {\n      [cssVarName: string]: string;\n    };\n    [prop: string]: any;\n  } | any;\n\n  constructor(theme: {\n    id: ThemeId;\n    name: string;\n    cnName?: string;\n    data: {\n      [cssVarName: string]: string;\n    };\n    extends?: ThemeId;\n    isDark?: boolean;\n    isPreview?: boolean;\n    isExtendable?: boolean;\n  }) {\n    this.id = theme.id;\n    this.name = theme.name;\n    this.cnName = theme.cnName || this.name;\n    this.data = theme.data;\n    this.extends = theme.extends || null;\n    this.isDark = theme.isDark || undefined;\n    this.isPreview = theme.isPreview || false;\n    this.isExtendable = theme.isExtendable || true;\n  }\n}\n","export const THEME_KEY = {\n  userLastPreferTheme : 'user-custom-theme', // localStorage 存储的上一次主题名字\n  userLastPreferThemeData: 'user-custom-theme-data', // localStorage 存储的上一次主题的变量，用于骨架屏阶段快速恢复主题\n  currentTheme: 'devuiCurrentTheme', // context（默认window） 当前主题名字\n  themeCollection: 'devuiThemes', // context（默认window） 存储所有主题集合\n  styleElementId: 'devuiThemeVariables', // DOM Style Element 的 id标识, 标记css变量声明的片段\n  transitionStyleElementId: 'devuiThemeColorTransition',  // DOM Style Element 的 id标识，标记临时使用的css颜色动画\n  uiThemeAttributeName: 'ui-theme', // body 和 style元素标记用户数据\n  themeService: 'devuiThemeService' // 全局window下的theme service实例\n};\n","import { Theme } from './theme';\n\nexport const devuiLightTheme: Theme = new Theme({\n  id: 'devui-light-theme',\n  name: 'Light Mode',\n  cnName: '浅色主题',\n  data: {\n    'devui-global-bg': '#f3f6f8',\n    'devui-global-bg-normal': '#ffffff',\n    'devui-base-bg': '#ffffff',\n    'devui-base-bg-dark': '#333854',\n    'devui-brand': '#5e7ce0',\n    'devui-brand-foil': '#859bff',\n    'devui-brand-hover': '#7693f5',\n    'devui-brand-active': '#526ecc',\n    'devui-brand-active-focus': '#344899',\n    'devui-contrast': '#c7000b',\n    'devui-text': '#252b3a',\n    'devui-text-weak': '#575d6c',\n    'devui-aide-text': '#8a8e99',\n    'devui-aide-text-hover':'#252b3a',\n    'devui-aide-text-stress': '#575d6c',\n    'devui-placeholder': '#8a8e99',\n    'devui-light-text': '#ffffff',\n    'devui-dark-text': '#252b3a',\n    'devui-link': '#526ecc',\n    'devui-link-active': '#344899',\n    'devui-link-light': '#96adfa',\n    'devui-link-light-active': '#beccfa',\n    'devui-line': '#adb0b8',\n    'devui-dividing-line': '#dfe1e6',\n    'devui-block': '#ffffff',\n    'devui-area': '#f8f8f8',\n    'devui-danger': '#f66f6a',\n    'devui-warning': '#fac20a',\n    'devui-waiting': '#9faad7',\n    'devui-success': '#50d4ab',\n    'devui-info': '#5e7ce0',\n    'devui-initial': '#e9edfa',\n    'devui-unavailable': '#f5f5f6',\n    'devui-shadow': 'rgba(37, 43, 58, 0.2)',\n    'devui-light-shadow': 'rgba(37, 43, 58, 0.1)',\n    'devui-connected-overlay-shadow': 'rgba(37, 43, 58, 0.12)',\n    'devui-feedback-overlay-shadow': 'rgba(37, 43, 58, 0.16)',\n    'devui-icon-text': '#252b3a',\n    'devui-icon-bg': '#ffffff',\n    'devui-icon-fill': '#8a8e99',\n    'devui-icon-fill-weak': '#babbc0',\n    'devui-icon-fill-hover': '#5e7ce0',\n    'devui-icon-fill-active': '#5e7ce0',\n    'devui-icon-fill-active-hover': '#526ecc',\n    'devui-shape-icon-fill': '#d7d8da',\n    'devui-shape-icon-fill-active': '#babbc0',\n    'devui-shape-icon-fill-hover': '#babbc0',\n    'devui-shape-icon-fill-disabled':'#f5f5f5',\n    'devui-form-control-line': '#adb0b8',\n    'devui-form-control-bg': '#ffffff',\n    'devui-form-control-line-hover': '#575d6c',\n    'devui-form-control-line-active': '#5e7ce0',\n    'devui-form-control-line-active-hover': '#344899',\n    'devui-list-item-active-bg': '#5e7ce0',\n    'devui-list-item-active-text': '#ffffff',\n    'devui-list-item-active-hover-bg': '#526ecc',\n    'devui-list-item-hover-bg': '#f2f5fc',\n    'devui-list-item-hover-text': '#526ecc',\n    'devui-list-item-selected-bg': '#e9edfa',\n    'devui-list-item-strip-bg': '#f2f5fc',\n    'devui-disabled-bg': '#f5f5f6',\n    'devui-disabled-line': '#dfe1e6',\n    'devui-disabled-text': '#adb0b8',\n    'devui-primary-disabled': '#beccfa',\n    'devui-icon-fill-active-disabled': '#beccfa',\n    'devui-label-bg': '#eef0f5',\n    'devui-connected-overlay-bg': '#ffffff',\n    'devui-connected-overlay-line': '#526ecc',\n    'devui-fullscreen-overlay-bg': '#ffffff',\n    'devui-feedback-overlay-bg': '#464d6e',\n    'devui-feedback-overlay-text': '#dfe1e6',\n    'devui-embed-search-bg': '#f2f5fc',\n    'devui-embed-search-bg-hover': '#eef0f5',\n    'devui-float-block-shadow': 'rgba(94, 124, 224, 0.3)',\n    'devui-highlight-overlay': 'rgba(255, 255, 255, 0.8)',\n    'devui-range-item-hover-bg': '#e9edfa',\n    'devui-primary': '#5e7ce0',\n    'devui-primary-hover': '#7693f5',\n    'devui-primary-active': '#344899',\n    'devui-contrast-hover': '#d64a52',\n    'devui-contrast-active': '#b12220',\n    'devui-danger-line': '#f66f6a',\n    'devui-danger-bg': '#ffeeed',\n    'devui-warning-line': '#fa9841',\n    'devui-warning-bg': '#fff3e8',\n    'devui-info-line': '#5e7ce0',\n    'devui-info-bg': '#f2f5fc',\n    'devui-success-line': '#50d4ab',\n    'devui-success-bg': '#edfff9',\n    'devui-primary-line': '#5e7ce0',\n    'devui-primary-bg': '#f2f5fc',\n    'devui-default-line': '#5e7ce0',\n    'devui-default-bg': '#f3f6f8',\n    'devui-shadow-length-base': '0 1px 4px 0',\n    'devui-shadow-length-slide-left': '-2px 0 8px 0',\n    'devui-shadow-length-slide-right': '2px 0 8px 0',\n    'devui-shadow-length-connected-overlay': '0 4px 8px 0',\n    'devui-shadow-length-hover': '0 8px 16px 0',\n    'devui-shadow-length-feedback-overlay': '0 8px 16px 0',\n    'devui-shadow-length-fullscreen-overlay': '0 12px 24px 0',\n    'devui-border-radius': '2px',\n    'devui-border-radius-feedback': '4px',\n    'devui-border-radius-card': '6px',\n    'devui-border-radius-full': '100px',\n    'devui-font-size': '12px',\n    'devui-font-size-card-title': '14px',\n    'devui-font-size-page-title': '16px',\n    'devui-font-size-modal-title': '18px',\n    'devui-font-size-price': '20px',\n    'devui-font-size-data-overview': '24px',\n    'devui-font-size-icon': '16px',\n    'devui-font-size-sm': '12px',\n    'devui-font-size-md': '12px',\n    'devui-font-size-lg': '14px',\n    'devui-font-title-weight': 'bold',\n    'devui-font-content-weight': 'normal',\n    'devui-line-height-base': '1.5',\n    'devui-animation-ease-in-smooth': 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n    'devui-animation-duration-slow': '300ms',\n    'devui-animation-duration-base': '200ms',\n    'devui-animation-duration-fast': '100ms',\n    'devui-animation-ease-in': 'cubic-bezier(0.5, 0, 0.84, 0.25)',\n    'devui-animation-ease-out': 'cubic-bezier(0.16, 0.75, 0.5, 1)',\n    'devui-animation-ease-in-out': 'cubic-bezier(0.5, 0.05, 0.5, 0.95)',\n    'devui-animation-ease-in-out-smooth': 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n    'devui-animation-linear': 'cubic-bezier(0, 0, 1, 1)',\n    'devui-z-index-full-page-overlay': '1080',\n    'devui-z-index-pop-up': '1060',\n    'devui-z-index-dropdown': '1052',\n    'devui-z-index-modal': '1050',\n    'devui-z-index-drawer': '1040',\n    'devui-z-index-framework': '1000',\n    'devui-icon-active-color': '#ffffff'\n  },\n  isDark: false,\n});\nexport const devuiGreenTheme: Theme = new Theme({\n  id: 'avenueui-green-theme',\n  name: 'Green - Light Mode',\n  cnName: '绿色主题',\n  data: {\n    ...devuiLightTheme.data,\n    'devui-global-bg': '#f3f8f7',\n    'devui-brand': '#3DCCA6',\n    'devui-brand-foil': '#7fdac1',\n    'devui-brand-hover': '#6DDEBB',\n    'devui-brand-active': '#07c693',\n    'devui-brand-active-focus': '#369676',\n    'devui-link': '#07c693',\n    'devui-link-active': '#07c693',\n    'devui-link-light': '#96fac8',\n    'devui-link-light-active': '#befade',\n    'devui-info': '#079CCD',\n    'devui-initial': '#CCCCCC',\n    'devui-icon-fill-active': '#3DCCA6',\n    'devui-icon-fill-active-hover': '#07c693',\n    'devui-form-control-line-active': '#3DCCA6',\n    'devui-form-control-line-active-hover': '#2EB28A',\n    'devui-list-item-active-bg': '#3DCCA6',\n    'devui-list-item-active-hover-bg': '#07c693',\n    'devui-list-item-hover-bg': '#f3fef9',\n    'devui-list-item-hover-text': '#07c693',\n    'devui-list-item-selected-bg': '#f3fef9',\n    'devui-list-item-strip-bg': '#f3fef9',\n    'devui-connected-overlay-line': '#07c693',\n    'devui-embed-search-bg': '#f3fef9',\n    'devui-float-block-shadow': 'rgba(94, 224, 181, 0.3)',\n    'devui-primary': '#3DCCA6',\n    'devui-primary-hover': '#6DDEBB',\n    'devui-primary-active': '#369676',\n    'devui-info-line': '#0486b1',\n    'devui-info-bg': '#e3f0f5',\n    'devui-success-line': '#50d492',\n    'devui-success-bg': '#edfff9',\n    'devui-primary-line': '#3DCCA6',\n    'devui-primary-bg': '#f3fef9',\n    'devui-default-line': '#3DCCA6',\n    'devui-default-bg': '#f3f8f7',\n    'devui-primary-disabled': '#c5f0e5',\n    'devui-icon-fill-active-disabled': '#c5f0e5',\n    'devui-range-item-hover-bg': '#d8f9ea',\n  },\n  extends: 'devui-light-theme',\n  isDark: false,\n});\nexport const devuiDarkTheme: Theme = new Theme({\n  id: 'devui-dark-theme',\n  name: 'Dark Mode',\n  cnName: '深色主题',\n  data: {\n    'devui-global-bg': '#202124',\n    'devui-global-bg-normal': '#202124',\n    'devui-base-bg': '#2E2F31',\n    'devui-base-bg-dark': '#2e2f31',\n    'devui-brand': '#5e7ce0',\n    'devui-brand-foil': '#313a61',\n    'devui-brand-hover': '#425288',\n    'devui-brand-active': '#526ecc',\n    'devui-brand-active-focus': '#344899',\n    'devui-contrast': '#C7000B',\n    'devui-text': '#E8E8E8',\n    'devui-text-weak': '#A0A0A0',\n    'devui-aide-text': '#909090',\n    'devui-aide-text-hover': '#73788a',\n    'devui-aide-text-stress': '#A0A0A0',\n    'devui-placeholder': '#8A8A8A',\n    'devui-light-text': '#ffffff',\n    'devui-dark-text': '#252b3a',\n    'devui-link': '#526ECC',\n    'devui-link-active': '#344899',\n    'devui-link-light': '#96adfa',\n    'devui-link-light-active': '#beccfa',\n    'devui-line': '#505153',\n    'devui-dividing-line': '#3D3E40',\n    'devui-block': '#606061',\n    'devui-area': '#34363A',\n    'devui-danger': '#f66f6a',\n    'devui-warning': '#fac20a',\n    'devui-waiting': '#5e6580',\n    'devui-success': '#50d4ab',\n    'devui-info': '#5e7ce0',\n    'devui-initial': '#64676e',\n    'devui-unavailable': '#5b5b5c',\n    'devui-shadow': 'rgba(0, 0, 0, 0.72)',\n    'devui-light-shadow': 'rgba(0, 0, 0, 0.3)',\n    'devui-connected-overlay-shadow': 'rgba(0, 0, 0, 0.42)',\n    'devui-feedback-overlay-shadow': 'rgba(0, 0, 0, 0.54)',\n    // 图标\n    'devui-icon-text': '#E8E8E8',\n    'devui-icon-bg': '#2E2F31',\n    'devui-icon-fill': '#606061',\n    'devui-icon-fill-hover': '#73788a',\n    'devui-icon-fill-active': '#5e7ce0',\n    'devui-icon-fill-active-hover': '#526ecc',\n    'devui-shape-icon-fill': '#5b5d66',\n    'devui-shape-icon-fill-active': '#868a99',\n    // 表单\n    'devui-form-control-line': '#505153',\n    'devui-form-control-bg': '#2E2F31',\n    'devui-form-control-line-hover': '#909090',\n    'devui-form-control-line-active': '#5e7ce0',\n    'devui-form-control-line-active-hover': '#344899',\n    'devui-list-item-active-bg': '#5e7ce0',\n    'devui-list-item-active-text': '#ffffff',\n    'devui-list-item-active-hover-bg': '#526ecc',\n    'devui-list-item-hover-bg': '#383838',\n    'devui-list-item-hover-text': '#526ecc',\n    'devui-list-item-selected-bg': '#454545',\n    'devui-list-item-strip-bg': '#383838',\n    'devui-table-expand-area-bg': '#393a3e',\n    // 禁用\n    'devui-disabled-bg': '#3D3E44',\n    'devui-disabled-line': '#505153',\n    'devui-disabled-text': '#7D7D7D',\n    'devui-primary-disabled': '#2B3458',\n    'devui-icon-fill-active-disabled': '#2B3458',\n    // 特殊背景色\n    'devui-label-bg': '#46443F',\n    'devui-connected-overlay-bg': '#2F2F2F',\n    'devui-connected-overlay-line': '#526ecc',\n    'devui-fullscreen-overlay-bg': '#2E2F31',\n    'devui-feedback-overlay-bg': '#4C4C4C',\n    'devui-feedback-overlay-text': '#DFE1E6',\n    'devui-embed-search-bg': '#383838',\n    'devui-embed-search-bg-hover': '#3D3E40',\n    'devui-float-block-shadow': 'rgba(94, 124, 224, 0.3)',\n    'devui-highlight-overlay': 'rgba(255, 255, 255, 0.1)',\n    'devui-range-item-hover-bg': '#454545',\n    // 按钮\n    'devui-primary': '#5e7ce0',\n    'devui-primary-hover': '#425288',\n    'devui-primary-active': '#344899',\n    'devui-contrast-hover': '#D64A52',\n    'devui-contrast-active': '#B12220',\n    // 状态\n    'devui-danger-line': '#985C5A',\n    'devui-danger-bg': '#4B3A39',\n    'devui-warning-line': '#8D6138',\n    'devui-warning-bg': '#554434',\n    'devui-info-line': '#546BB7',\n    'devui-info-bg': '#383D4F',\n    'devui-success-line': '#5D887D',\n    'devui-success-bg': '#304642',\n    'devui-primary-line': '#546BB7',\n    'devui-primary-bg': '#383D4F',\n    'devui-default-line': '#5e7ce0',\n    'devui-default-bg': '#383838',\n    'devui-icon-active-color': '#ffffff'\n  },\n  extends: 'devui-light-theme',\n  isDark: true,\n});\nexport const avenueuiGreenDarkTheme: Theme = new Theme({\n  id: 'avenueui-green-dark-theme',\n  name: 'Green - Dark Mode',\n  cnName: '绿色深色主题',\n  data: {\n    ...devuiDarkTheme.data,\n    'devui-brand': '#3DCCA6',\n    'devui-brand-foil': '#395e54',\n    'devui-brand-hover': '#4c9780',\n    'devui-brand-active': '#07c693',\n    'devui-brand-active-focus': '#297058',\n    'devui-link': '#07c693',\n    'devui-link-active': '#08a57b',\n    'devui-info': '#046788',\n    'devui-initial': '#64676e',\n    'devui-icon-fill-active': '#3DCCA6',\n    'devui-icon-fill-active-hover': '#07c693',\n    'devui-form-control-line-active': '#3DCCA6',\n    'devui-form-control-line-active-hover': '#297058',\n    'devui-list-item-active-bg': '#3DCCA6',\n    'devui-list-item-active-hover-bg': '#07c693',\n    'devui-list-item-hover-text': '#07c693',\n    'devui-connected-overlay-line': '#07c693',\n    'devui-embed-search-bg': '#3f4241',\n    'devui-float-block-shadow': 'rgba(94, 224, 181, 0.3)',\n    'devui-primary': '#3DCCA6',\n    'devui-primary-hover': '#6DDEBB',\n    'devui-primary-active': '#369676',\n    'devui-info-line': '#035e7c',\n    'devui-info-bg': '#383c3d',\n    'devui-primary-line': '#3DCCA6',\n    'devui-primary-bg': '#3f4241',\n    'devui-default-line': '#3DCCA6',\n    'devui-default-bg': '#383838',\n    'devui-primary-disabled': '#28544B',\n    'devui-icon-fill-active-disabled': '#28544B',\n  },\n  extends: 'devui-dark-theme',\n  isDark: true,\n});\n","import * as enquire from 'enquire.js';\nimport { ReplaySubject } from 'rxjs';\n\nexport class PrefersColorSchemeMediaQuery {\n  static enquire = enquire; // prevent code optimization excluding enquire out\n  private prefersColorSchemeSubject = new ReplaySubject<PrefersColorSchemeMediaQuery.Value>(1);\n  public prefersColorSchemeChange = this.prefersColorSchemeSubject.asObservable();\n\n  register() {\n    PrefersColorSchemeMediaQuery.enquire\n      .register.bind(enquire)(PrefersColorSchemeMediaQuery.Query.light, {\n        match: () => {\n          this.handleColorSchemeChange('light');\n        }\n      })\n      .register(PrefersColorSchemeMediaQuery.Query.dark, {\n        match: () => {\n          this.handleColorSchemeChange('dark');\n        }\n      });\n    this.prefersColorSchemeSubject.next(this.getInitValue());\n  }\n\n  unregister() {\n    PrefersColorSchemeMediaQuery.enquire\n      .unregister(PrefersColorSchemeMediaQuery.Query.light)\n      .unregister(PrefersColorSchemeMediaQuery.Query.dark);\n    this.prefersColorSchemeSubject.complete();\n  }\n\n  handleColorSchemeChange = (value: PrefersColorSchemeMediaQuery.Value) => {\n    this.prefersColorSchemeSubject.next(value);\n  };\n\n  getInitValue(): PrefersColorSchemeMediaQuery.Value {\n    return window.matchMedia(PrefersColorSchemeMediaQuery.Query.light).matches && 'light'\n     || window.matchMedia(PrefersColorSchemeMediaQuery.Query.dark).matches && 'dark'\n     || 'no-preference';\n  }\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-namespace */\nexport namespace PrefersColorSchemeMediaQuery {\n  export type Value = 'light' | 'dark' | 'no-preference';\n  export enum Query {\n    'light' = 'screen and (prefers-color-scheme: light)',\n    'dark' = 'screen and (prefers-color-scheme: dark)',\n    'noPreferences' = 'screen and (prefers-color-scheme: light)',\n  }\n}\n","import { IEventBus } from './interface';\n\nexport class EventBus implements IEventBus {\n  private eventBusCore = [];\n  private areFuncEqual(a, b) {\n    return a.toString() === b.toString();\n  }\n  private isKeyValueObjInArr(arr, key, val) {\n    const filteredArr = arr.filter(entry => {\n      return entry[key] === val;\n    });\n    return filteredArr.length > 0;\n  }\n  private removeFuncInFuncArr(arr, fn) {\n    for (let z = 0; z < arr.length; z++) {\n      if (this.areFuncEqual(arr[z], fn)) {\n        arr.splice(z, 1);\n      }\n    }\n    return arr;\n  }\n  private getKeyValueObjInArr(arr, key, val) {\n    const filteredArr = arr.filter(entry => {\n      return entry[key] === val;\n    });\n    return filteredArr[0];\n  }\n  private addEvent(eventName, eventFunc) {\n    if (!this.isKeyValueObjInArr(this.eventBusCore, 'eventName', eventName)) {\n      this.eventBusCore.push({ eventName: eventName, eventFuncArr: [eventFunc] });\n    } else {\n      this.eventBusCore = this.eventBusCore.map(event => {\n        if (event['eventName'] === eventName) {\n          event.eventFuncArr.push(eventFunc);\n        }\n        return event;\n      });\n    }\n  }\n  public add(eventName, callbacks) {\n    if (!eventName) {\n      return;\n    }\n    if (typeof callbacks === 'function') {\n      for (let i = 1; i < arguments.length; i++) {\n        this.addEvent(eventName, arguments[i]);\n      }\n    }\n    if (typeof callbacks === 'object' && callbacks.forEach) {\n      callbacks.forEach(fn => {\n        this.addEvent(eventName, fn);\n      });\n    }\n  }\n  public remove(eventName, callbacks) {\n    if (!eventName) {\n      return;\n    }\n    for (let i = 0; i < this.eventBusCore.length; i++) {\n      if (this.eventBusCore[i].eventName === eventName) {\n        if (arguments.length === 1) {\n          return this.eventBusCore.splice(i, 1);\n        }\n        const removedEvent = this.eventBusCore.splice(i, 1)[0];\n        if (typeof callbacks === 'function') {\n          for (let k = 1; k < arguments.length; k++) {\n            removedEvent.eventFuncArr = this.removeFuncInFuncArr(removedEvent.eventFuncArr, arguments[k]);\n          }\n        }\n        if (typeof callbacks === 'object' && callbacks.length) {\n          for (let x = 0; x < callbacks.length; x++) {\n            removedEvent.eventFuncArr = this.removeFuncInFuncArr(removedEvent.eventFuncArr, callbacks[x]);\n          }\n        }\n        this.eventBusCore.push(removedEvent);\n      }\n    }\n  }\n  public trigger(eventName, data) {\n    const event = this.getKeyValueObjInArr(this.eventBusCore, 'eventName', eventName);\n    if (event) {\n      (event.eventFuncArr || []).forEach(fn => {\n        fn.apply(this, data);\n      });\n    }\n  }\n}\n","import { IContextService } from './interface';\nexport class ContextService implements IContextService {\n  getDataFromNameSpace(nameSpace: string) {\n    return window[nameSpace];\n  }\n  setDataFromNameSpace(nameSpace: string, value: any) {\n    window[nameSpace] = value;\n  }\n}\n","import { IStorageService } from './interface';\nexport class StorageService implements IStorageService {\n  tryGetLocalStorage(key: string) {\n    return window.localStorage.getItem(key);\n  }\n  trySetLocalStorage(key: string, value: any) {\n    window.localStorage.setItem(key, value);\n  }\n}\n","import { THEME_KEY } from './key-config';\nimport { PrefersColorSchemeMediaQuery } from './media-query';\nimport { Theme } from './theme';\nimport { ContextService, EventBus, IContextService, IEventBus, IStorageService, StorageService } from './utils/index';\n\n/**\n * 负责CSS变量主题的装卸，主题元数据转换成主题数据\n */\nexport class ThemeService {\n  eventBus: IEventBus;\n  storage: IStorageService;\n  context: IContextService;\n  currentTheme: Theme;\n  contentElement: HTMLStyleElement;\n  colorTransitionElement: HTMLStyleElement;\n  extraData: {\n    [themeId: string]: {\n      cssVariables?: {\n        [varname: string]: string;\n      };\n      appendClasses?: Array<string>;\n    };\n  };\n  private _appendedClasses: Array<string>;\n  set appendClasses(classes: Array<string>) {\n    if (this._appendedClasses) {\n      this.removeAppendedClass(this._appendedClasses);\n    }\n    if (classes) {\n      this.addAppendClass(classes);\n    }\n    this._appendedClasses = classes;\n  }\n\n  get appendClasses() {\n    return this._appendedClasses;\n  }\n\n  public mediaQuery: PrefersColorSchemeMediaQuery;\n\n  constructor(eventBus?: IEventBus, storage?: IStorageService, context?: IContextService) {\n    this.eventBus = eventBus === undefined ? new EventBus() : eventBus;\n    this.storage = storage === undefined ? new StorageService() : storage;\n    this.context = context === undefined ? new ContextService() : context;\n  }\n\n  initializeTheme(specificThemeId?: string, allowDynamicTheme?: boolean) {\n    const themeId = specificThemeId\n                || this.storage.tryGetLocalStorage(THEME_KEY.userLastPreferTheme)\n                || this.context.getDataFromNameSpace(THEME_KEY.currentTheme);\n    let theme;\n\n    if (themeId) {\n      const themes = this.context.getDataFromNameSpace(THEME_KEY.themeCollection);\n      if (themes && Object.keys(themes).length > 0) {\n        theme = themes[themeId];\n      }\n    }\n    this.currentTheme = theme || {\n      id: 'empty-theme',\n      name: '',\n      data: {}\n    };\n    this.createColorTransition();\n    if (!theme && allowDynamicTheme) {\n      return;\n    }\n    this.applyTheme(this.currentTheme);\n  }\n\n  formatCSSVariables(themeData: Theme['data']) {\n    return Object.keys(themeData).map(\n      cssVar => ('--' + cssVar + ':' + themeData[cssVar])\n    ).join(';');\n  }\n\n  applyTheme(theme: Theme) {\n    this.addColorTransition();\n    this.currentTheme = theme;\n    if (!this.contentElement) {\n      const styleElement = document.getElementById(THEME_KEY.styleElementId);\n      if (styleElement) {\n        this.contentElement = <HTMLStyleElement>styleElement;\n      } else {\n        this.contentElement = document.createElement('style');\n        this.contentElement.id = THEME_KEY.styleElementId;\n        document.head.appendChild(this.contentElement);\n      }\n\n    }\n    this.contentElement.innerText = ':root { ' + this.formatCSSVariables(theme.data) + ' }';\n    this.contentElement.setAttribute(THEME_KEY.uiThemeAttributeName, this.currentTheme.id);\n    document.body.setAttribute(THEME_KEY.uiThemeAttributeName, this.currentTheme.id);\n\n    // 用于挂载额外变量和类名\n    this.applyExtraData();\n    this.saveCustomTheme(this.currentTheme);\n\n    // 通知外部主题变更\n    this.notify(theme, 'themeChanged');\n    setTimeout(() => {this.removeColorTransition(); }, 500);\n  }\n\n  saveCustomTheme(customTheme: Theme) {\n    this.storage.trySetLocalStorage(THEME_KEY.userLastPreferTheme, customTheme.id);\n    this.storage.trySetLocalStorage(THEME_KEY.userLastPreferThemeData, JSON.stringify(customTheme.data));\n    this.context.setDataFromNameSpace(THEME_KEY.currentTheme, customTheme.id);\n  }\n\n  private notify(theme: Theme, eventType: string) {\n    if (!this.eventBus) { return; }\n    this.eventBus.trigger(eventType, theme);\n  }\n\n  setEventBus(eb: IEventBus) {\n    this.eventBus = eb;\n  }\n\n  private addAppendClass(classNames: Array<string>) {\n    document.body.classList.add(...classNames);\n  }\n\n  private removeAppendedClass(classNames: Array<string>) {\n    document.body.classList.remove(...classNames);\n  }\n\n  setExtraData(data, apply = false) {\n    this.extraData = data;\n    if (apply) {\n      this.applyExtraData();\n    }\n  }\n\n  private applyExtraData() {\n    const theme = this.currentTheme;\n    if (this.extraData && this.extraData[theme.id] && this.extraData[theme.id].cssVariables) {\n      this.contentElement.innerText\n      = ':root { ' + this.formatCSSVariables(theme.data) + ' }'\n      + ':root { ' + this.formatCSSVariables(this.extraData[theme.id].cssVariables) + ' }';\n    }\n    if (this.extraData && this.extraData[theme.id] && this.extraData[theme.id].appendClasses) {\n      this.appendClasses = this.extraData[theme.id].appendClasses;\n    } else {\n      this.appendClasses = undefined;\n    }\n  }\n\n  public unloadTheme() {\n    if (this.contentElement && document.contains(this.contentElement)) {\n      this.contentElement.parentElement.removeChild(this.contentElement);\n    }\n    if (this.appendClasses) {\n      this.appendClasses = undefined;\n    }\n  }\n\n  public registerMediaQuery() {\n    if (!this.mediaQuery) {\n      this.mediaQuery = new PrefersColorSchemeMediaQuery();\n    }\n    this.mediaQuery.register();\n  }\n\n  public unregisterMediaQuery() {\n    if (!this.mediaQuery) {\n      return;\n    }\n    this.mediaQuery.unregister();\n    this.mediaQuery = undefined;\n  }\n\n  private createColorTransition() {\n    this.colorTransitionElement = document.createElement('style');\n    this.colorTransitionElement.id = THEME_KEY.transitionStyleElementId;\n    this.colorTransitionElement.innerText = `\n      * { transition: background .3s ease-out, background-color .3s ease-out,\n                    border .3s ease-out, border-color .3s ease-out,\n                    box-shadow .3s ease-out, box-shadow-color .3s ease-out}\n    `;\n  }\n\n  private addColorTransition() {\n    document.head.appendChild(this.colorTransitionElement);\n  }\n  private removeColorTransition() {\n    if (!this.colorTransitionElement.parentElement) {return; }\n    this.colorTransitionElement.parentElement.removeChild(this.colorTransitionElement);\n  }\n}\n","import cssVars from 'css-vars-ponyfill';\nimport { Subscription } from 'rxjs';\nimport { THEME_KEY } from './key-config';\nimport { Theme } from './theme';\nimport { devuiDarkTheme, devuiLightTheme } from './theme-data';\nimport { ThemeService } from './theme-service';\nimport { EventBus } from './utils';\n\n/**\n * usage\n * main.ts\n ```ts\n import { ThemeServiceInit } from 'ng-devui/theme';\n ThemeServiceInit();\n ```\n *\n*/\nexport function ThemeServiceInit(\n  themes?: { [themeName: string]: Theme },\n  defaultThemeName?: string,\n  extraData?: {\n    [themeName: string]: {\n      appendClasses?: Array<string>;\n      cssVariables?: {\n        [cssVarName: string]: string;\n      };\n    };\n  },\n  ieSupport = false, // TODO：css-var-ponyflll 仍有一些问题待定位\n  allowDynamicTheme = false\n) {\n  window[THEME_KEY.themeCollection] = themes || {\n    'devui-light-theme': devuiLightTheme,\n    'devui-dark-theme': devuiDarkTheme,\n  };\n  window[THEME_KEY.currentTheme] = defaultThemeName || 'devui-light-theme';\n  const eventBus = window['globalEventBus'] || new EventBus(); // window.globalEventBus 为 框架的事件总线\n  const themeService = new ThemeService(eventBus);\n  window[THEME_KEY.themeService] = themeService;\n\n  themeService.setExtraData(extraData || {\n    'devui-dark-theme': {\n      appendClasses: ['dark-mode']\n    }\n  });\n  themeService.initializeTheme(null, allowDynamicTheme);\n  if (ieSupport) {\n    ieSupportCssVar();\n  }\n  return themeService;\n}\n\nexport function ThemeServiceFollowSystemOn(themeConfig?: { lightThemeName: string; darkThemeName: string }): Subscription {\n  const themeService: ThemeService = window[THEME_KEY.themeService];\n  themeService.registerMediaQuery();\n  return themeService.mediaQuery.prefersColorSchemeChange.subscribe(value => {\n    if (value === 'dark') {\n      themeService.applyTheme(window[THEME_KEY.themeCollection][themeConfig && themeConfig.darkThemeName || 'devui-dark-theme']);\n    } else {\n      themeService.applyTheme(window[THEME_KEY.themeCollection][themeConfig && themeConfig.lightThemeName || 'devui-light-theme']);\n    }\n  });\n}\nexport function ThemeServiceFollowSystemOff(sub?: Subscription) {\n  if (sub) {\n    sub.unsubscribe();\n  }\n  const themeService = window[THEME_KEY.themeService];\n  themeService.unregisterMediaQuery();\n}\n\nexport function ieSupportCssVar() {\n  const isNativeSupport = window['CSS'] && CSS.supports && CSS.supports('(--a: 0)') || false;\n  if (isNativeSupport) { return; }\n  cssVars({ watch: true, silent: true });\n  const observer = new MutationObserver(function (mutations) {\n    mutations.forEach(function (mutation) {\n      cssVars({ watch: false, silent: true });\n      cssVars({ watch: true, silent: true });\n    });\n  });\n\n  const config = { attributes: true, attributeFilter: [THEME_KEY.uiThemeAttributeName] };\n\n  observer.observe(document.querySelector(`#${THEME_KEY.styleElementId}`), config);\n}\n\n// TODO: management should handle add / remove theme from theme collection.\n// TODO: move global variables（window.xxxx） to single namespace\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}