{"version":3,"file":"ng-devui-slider.mjs","sources":["../../devui/slider/slider.component.ts","../../devui/slider/slider.component.html","../../devui/slider/slider.module.ts","../../devui/slider/ng-devui-slider.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { distinctUntilChanged, map, pluck, takeUntil, tap } from 'rxjs/operators';\n\nconst SLIDER_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => SliderComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'd-slider',\n  templateUrl: './slider.component.html',\n  styleUrls: ['./slider.component.scss'],\n  providers: [SLIDER_CONTROL_VALUE_ACCESSOR],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  preserveWhitespaces: false,\n})\n\nexport class SliderComponent implements OnInit, OnChanges, ControlValueAccessor, OnDestroy, AfterViewInit {\n  constructor(private cdr: ChangeDetectorRef) {\n  }\n  private dragStartListener: Observable<number>;\n  private dragMoveListener: Observable<number>;\n  private dragEndListener: Observable<Event>;\n  private dragStartHandler: Subscription | null;\n  private dragMoveHandler: Subscription | null;\n  private dragEndHandler: Subscription | null;\n  private isDragging = false;\n  private isHovering = false;\n  public value;\n  public showValuePopover = false;\n  private mouseOverHandler: Subscription;\n  private mouseLeaveHandler: Subscription;\n\n  @ViewChild('slider', { static: true }) slider: ElementRef;\n  @ViewChild('sliderHandle', { static: true }) sliderHandle: ElementRef;\n  @ViewChild('sliderTrack', { static: true }) sliderTrack: ElementRef;\n  @ViewChild('sliderRail', { static: true }) sliderRail: ElementRef;\n  @Input() max = 100;\n  @Input() min = 0;\n  @Input() step = 1;\n  @Input() disabled = false;\n  @Output() afterChange = new EventEmitter<number>();\n  @Input() tipsRenderer: (value: number) => string = (value) => `${value}`;\n\n  ngOnInit() {\n    this.checkRangeValues(this.min, this.max);\n    this.checkStepValue();\n    this.toggleDisabled(this.disabled);\n    if (this.value === null) {\n      this.setValue(this.ensureValueInRange(null));\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (Object.prototype.hasOwnProperty.call(changes, 'min')\n      || Object.prototype.hasOwnProperty.call(changes, 'max')\n      || Object.prototype.hasOwnProperty.call(changes, 'step')) {\n      this.checkRangeValues(this.min, this.max);\n      this.checkStepValue();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.registerMouseEventsListeners();\n    this.registerHandleHoverPopoverListener();\n    this.toggleDisabled(this.disabled);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouchedCallback = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    this.toggleDisabled(isDisabled);\n  }\n\n  writeValue(newValue: number): void {\n    this.setValue(this.ensureValueInRange(newValue), false);\n  }\n\n  private onTouchedCallback = () => {\n  };\n\n  private onChangeCallback = (v: any) => {\n  };\n\n  private checkRangeValues(minValue, maxValue) {\n    if (maxValue <= minValue) {\n      throw new Error(`max value must be greater than min value`);\n    }\n  }\n\n  private checkStepValue() {\n    if (this.step < 0 || !this.step) {\n      throw new Error('step value must be greater than 0.');\n    } else if ((this.max - this.min) % this.step) {\n      throw new Error('(max - min) must be divisible by step.');\n    }\n  }\n\n  private ratioToValue(\n    ratio: number,\n    min: number,\n    max: number,\n    step: number\n  ): number {\n    let value = (max - min) * ratio + min;\n    if (step > 0) {\n      value = Math.round(value / step) * step;\n    }\n    return this.clamp(min, value, max);\n  }\n\n  private convertHandlePositionToRatio(handleX: number, startX: number, totalLength: number): number {\n    return this.clamp(0, (handleX - startX) / totalLength, 1);\n  }\n\n  private clamp(min: number, n: number, max: number) {\n    return Math.max(min, Math.min(n, max));\n  }\n\n  private updateStyle(percentage) {\n    percentage = Math.min(1, Math.max(0, percentage));\n    this.sliderTrack.nativeElement.style.width = `${percentage * 100}%`;\n    this.sliderHandle.nativeElement.style.left = `calc(${percentage * 100}% - 7px)`;\n  }\n\n  private registerMouseEventsListeners(): void {\n    this.dragStartListener = fromEvent(this.slider.nativeElement, 'mousedown').pipe(\n      tap((e: Event) => {\n        e.stopPropagation();\n        e.preventDefault();\n      }),\n      pluck<Event, number>('pageX'),\n      map((position: number) => this.mousePositionToAdaptiveValue(position))\n    );\n    this.dragEndListener = fromEvent(document, 'mouseup');\n    this.dragMoveListener = fromEvent(document, 'mousemove').pipe(\n      tap((e: Event) => {\n        e.stopPropagation();\n        e.preventDefault();\n      }),\n      pluck<Event, number>('pageX'),\n      distinctUntilChanged(),\n      map((position: number) => this.mousePositionToAdaptiveValue(position)),\n      distinctUntilChanged(),\n      takeUntil(this.dragEndListener)\n    );\n  }\n\n  private getSliderPagePosition(): number {\n    const rect = this.slider.nativeElement.getBoundingClientRect();\n    const window = this.slider.nativeElement.ownerDocument.defaultView;\n    return rect.left + window.pageXOffset;\n  }\n\n  private getRailLength(): number {\n    return this.sliderRail.nativeElement.clientWidth;\n  }\n\n  private mousePositionToAdaptiveValue(handleX: number): number {\n    const sliderStartX = this.getSliderPagePosition();\n    const sliderLength = this.getRailLength();\n    const ratio = this.convertHandlePositionToRatio(handleX, sliderStartX, sliderLength);\n    const value = this.ratioToValue(ratio, this.min, this.max, this.step);\n    return parseFloat(value.toFixed(this.getDecimals(this.step)));\n  }\n\n  private getDecimals(value: number): number {\n    const valueString = value.toString();\n    const integerLength = valueString.indexOf('.') + 1;\n    return integerLength >= 0 ? valueString.length - integerLength : 0;\n  }\n\n  private mouseStartMoving(value: number): void {\n    this.handleController(true);\n    this.setValue(value);\n  }\n\n  private mouseMoving(value: number): void {\n    this.setValue(value);\n    this.cdr.markForCheck();\n  }\n\n  private mouseStopMoving(): void {\n    this.afterChange.emit(this.value);\n    this.handleController(false);\n    this.onTouchedCallback();\n    this.cdr.markForCheck();\n  }\n\n  private subscribeMouseActions(mouseActions: string[] = ['start', 'move', 'end']): void {\n    if (mouseActions.indexOf('start') !== -1 && this.dragStartListener && !this.dragStartHandler) {\n      this.dragStartHandler = this.dragStartListener.subscribe(this.mouseStartMoving.bind(this));\n    }\n\n    if (mouseActions.indexOf('move') !== -1 && this.dragMoveListener && !this.dragMoveHandler) {\n      this.dragMoveHandler = this.dragMoveListener.subscribe(this.mouseMoving.bind(this));\n    }\n\n    if (mouseActions.indexOf('end') !== -1 && this.dragEndListener && !this.dragEndHandler) {\n      this.dragEndHandler = this.dragEndListener.subscribe(this.mouseStopMoving.bind(this));\n    }\n  }\n\n  private unsubscribeMouseActions(dragStages: string[] = ['start', 'move', 'end']): void {\n    if (dragStages.indexOf('start') !== -1 && this.dragStartHandler) {\n      this.dragStartHandler.unsubscribe();\n      this.dragStartHandler = null;\n    }\n\n    if (dragStages.indexOf('move') !== -1 && this.dragMoveHandler) {\n      this.dragMoveHandler.unsubscribe();\n      this.dragMoveHandler = null;\n    }\n\n    if (dragStages.indexOf('end') !== -1 && this.dragEndHandler) {\n      this.dragEndHandler.unsubscribe();\n      this.dragEndHandler = null;\n    }\n  }\n\n  private handleController(movable: boolean): void {\n    if (movable) {\n      this.isDragging = true;\n      this.showValuePopover = this.showValuePopoverController();\n      this.subscribeMouseActions(['move', 'end']);\n    } else {\n      this.isDragging = false;\n      this.showValuePopover = this.showValuePopoverController();\n      this.unsubscribeMouseActions(['move', 'end']);\n    }\n  }\n\n  private toggleDisabled(disabled: boolean): void {\n    if (disabled) {\n      this.unsubscribeMouseActions();\n    } else {\n      this.subscribeMouseActions(['start']);\n    }\n  }\n\n  private setValue(value: number | null, triggerOnChanges = true): void {\n    if (this.value !== value) {\n      this.value = value;\n      this.updateTrackAndHandle();\n    }\n    if (triggerOnChanges) {\n      this.onChangeCallback(this.value);\n    }\n  }\n\n  private ensureValueInRange(value: number | null): number {\n    let safeValue;\n    if (!this.valueMustBeValid(value)) {\n      safeValue = this.min;\n    } else {\n      safeValue = this.clamp(this.min, value as number, this.max);\n    }\n    return safeValue;\n  }\n\n  private updateTrackAndHandle(): void {\n    const value = this.value;\n    const offset = this.valueToOffset(value);\n    this.updateStyle(offset / 100);\n    this.cdr.markForCheck();\n  }\n\n  private valueMustBeValid(value: number): boolean {\n    return !isNaN(typeof value !== 'number' ? parseFloat(value) : value);\n  }\n\n  private valueToOffset(value: number): number {\n    return ((value - this.min) / (this.max - this.min)) * 100;\n  }\n\n  private registerHandleHoverPopoverListener() {\n    const mouseOverListener = fromEvent(this.sliderHandle.nativeElement, 'mouseover');\n    const mouseLeaveListener = fromEvent(this.sliderHandle.nativeElement, 'mouseout');\n    this.mouseOverHandler = mouseOverListener.subscribe(this.sliderHandlePopoverOnMouseHover.bind(this));\n    this.mouseLeaveHandler = mouseLeaveListener.subscribe(this.sliderHandlePopoverOnMouseLeave.bind(this));\n  }\n\n  private sliderHandlePopoverOnMouseHover() {\n    this.isHovering = true;\n    this.showValuePopover = this.showValuePopoverController();\n    this.cdr.markForCheck();\n  }\n\n  private sliderHandlePopoverOnMouseLeave() {\n    this.isHovering = false;\n    this.showValuePopover = this.showValuePopoverController();\n    this.cdr.markForCheck();\n  }\n\n  private unregisterHandleHoverTooltip() {\n    this.mouseOverHandler.unsubscribe();\n    this.mouseLeaveHandler.unsubscribe();\n  }\n\n  private showValuePopoverController() {\n    return this.isDragging || this.isHovering;\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribeMouseActions();\n    this.unregisterHandleHoverTooltip();\n  }\n}\n","<div class=\"devui-slider\" #slider [ngClass]=\"{ disabled: disabled }\">\n  <div class=\"devui-slider-rail\" #sliderRail [ngClass]=\"{ disabled: disabled }\"></div>\n  <div class=\"devui-slider-track\" #sliderTrack [ngClass]=\"{ disabled: disabled }\"></div>\n  <div\n    class=\"devui-slider-handle\"\n    #sliderHandle\n    [ngClass]=\"{ disabled: disabled }\"\n    dPopover\n    position=\"top\"\n    [content]=\"showValuePopover && tipsRenderer ? tipsRenderer(value) : ''\"\n    [showAnimation]=\"false\"\n    [visible]=\"tipsRenderer && showValuePopover\"\n  ></div>\n</div>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {PopoverModule} from 'ng-devui/popover';\nimport {SliderComponent} from './slider.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    PopoverModule\n  ],\n  exports: [SliderComponent],\n  declarations: [SliderComponent],\n  providers: [],\n})\n\nexport class SliderModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}