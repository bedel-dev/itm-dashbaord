{"version":3,"file":"ng-devui-portal.mjs","sources":["../../devui/portal/portal.component.ts","../../devui/portal/portal.module.ts","../../devui/portal/ng-devui-portal.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport {\n  ApplicationRef,\n  Component,\n  EmbeddedViewRef,\n  Inject,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { forEach } from 'lodash-es';\n\n@Component({\n  selector: 'd-portal',\n  template: `\n                   <ng-template #templateRef>\n                        <ng-content></ng-content>\n                    </ng-template>`,\n  preserveWhitespaces: false,\n})\nexport class PortalComponent {\n  viewRef: EmbeddedViewRef<any>;\n  portalContainer: HTMLElement;\n  @ViewChild('templateRef', { static: true }) templateRef: TemplateRef<any>;\n  document: Document;\n\n  constructor(private appRef: ApplicationRef, @Inject(DOCUMENT) private doc: any) {\n    this.document = this.doc;\n  }\n\n  addContent() {\n    this.portalContainer = this.document.createElement('div');\n    this.viewRef = this.templateRef.createEmbeddedView(this);\n    forEach(this.viewRef.rootNodes, (node) => {\n      this.portalContainer.appendChild(node);\n    });\n    this.appRef.attachView(this.viewRef);\n    this.document.body.appendChild(this.portalContainer);\n  }\n\n  open() {\n    this.close();\n    this.addContent();\n  }\n\n  close() {\n    if (this.viewRef && this.portalContainer) {\n      this.document.body.removeChild(this.portalContainer);\n      this.viewRef.destroy();\n      this.viewRef = null;\n      this.portalContainer = null;\n    }\n  }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {PortalComponent} from './portal.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [\n    PortalComponent,\n  ],\n  exports: [\n    PortalComponent,\n  ],\n})\nexport class PortalModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;MAmBa,eAAe;IAM1B,YAAoB,MAAsB,EAA4B,GAAQ;QAA1D,WAAM,GAAN,MAAM,CAAgB;QAA4B,QAAG,GAAH,GAAG,CAAK;QAC5E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC;KAC1B;IAED,UAAU;QACR,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACzD,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI;YACnC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SACxC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KACtD;IAED,IAAI;QACF,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,UAAU,EAAE,CAAC;KACnB;IAED,KAAK;QACH,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,eAAe,EAAE;YACxC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACrD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC7B;KACF;;4GAhCU,eAAe,gDAM0B,QAAQ;gGANjD,eAAe,0KANhB;;;mCAGuB;2FAGtB,eAAe;kBAR3B,SAAS;mBAAC;oBACT,QAAQ,EAAE,UAAU;oBACpB,QAAQ,EAAE;;;mCAGuB;oBACjC,mBAAmB,EAAE,KAAK;iBAC3B;;;8BAO8C,MAAM;+BAAC,QAAQ;;yBAHhB,WAAW;sBAAtD,SAAS;uBAAC,aAAa,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;;;MCP/B,YAAY;;yGAAZ,YAAY;0GAAZ,YAAY,iBANrB,eAAe,aAHf,YAAY,aAMZ,eAAe;0GAGN,YAAY,YAVd;YACP,YAAY;SACb;2FAQU,YAAY;kBAXxB,QAAQ;mBAAC;oBACR,OAAO,EAAE;wBACP,YAAY;qBACb;oBACD,YAAY,EAAE;wBACZ,eAAe;qBAChB;oBACD,OAAO,EAAE;wBACP,eAAe;qBAChB;iBACF;;;ACdD;;;;;;"}