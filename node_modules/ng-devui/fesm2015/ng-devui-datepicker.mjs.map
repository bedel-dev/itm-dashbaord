{"version":3,"file":"ng-devui-datepicker.mjs","sources":["../../devui/datepicker/date-change-event-args.model.ts","../../devui/datepicker/date-picker.config.service.ts","../../devui/datepicker/date-range-change-event-args.model.ts","../../devui/datepicker/datepicker.component.ts","../../devui/datepicker/datepicker.component.html","../../devui/datepicker/single-date-range-picker.component.ts","../../devui/datepicker/single-date-range-picker.component.html","../../devui/datepicker/date-range-picker.component.ts","../../devui/datepicker/date-range-picker.component.html","../../devui/datepicker/date-range-picker.directive.ts","../../devui/datepicker/date-range-picker.directive.html","../../devui/datepicker/datepicker-cdk-overlay.component.ts","../../devui/datepicker/datepicker.directive.ts","../../devui/datepicker/two-datepicker/two-datepicker-single.component.ts","../../devui/datepicker/two-datepicker/two-datepicker.component.ts","../../devui/datepicker/two-datepicker/two-datepicker.component.html","../../devui/datepicker/two-datepicker/two-datepicker-end.directive.ts","../../devui/datepicker/two-datepicker/two-datepicker-start.directive.ts","../../devui/datepicker/datepicker.module.ts","../../devui/datepicker/ng-devui-datepicker.ts"],"sourcesContent":["export enum SelectDateChangeReason {\n  date,\n  time,\n  button,\n  format,\n  custom\n}\n\nexport interface SelectDateChangeEventArgs {\n  reason: SelectDateChangeReason;\n  selectedDate: Date;\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DatePickerConfigService {\n  dateConfig = {\n    timePicker: false,\n    dateConverter: null,\n    min: 1900,\n    max: 2099,\n    format: {\n      date: 'y/MM/dd',\n      time: 'y/MM/dd HH:mm:ss'\n    }\n  };\n\n  defaultFormat = 'y/MM/dd';\n}\n","export enum SelectDateRangeChangeReason {\n  date,\n  time,\n  button,\n  format,\n  custom\n}\n\nexport interface SelectDateRangeChangeEventArgs {\n  reason: SelectDateRangeChangeReason;\n  selectedRange: Date[];\n}\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { DateConverter, DefaultDateConverter, unshiftString } from 'ng-devui/utils';\nimport { Subscription } from 'rxjs';\nimport { SelectDateChangeEventArgs, SelectDateChangeReason } from './date-change-event-args.model';\nimport { DatePickerConfigService as DatePickerConfig } from './date-picker.config.service';\n\n@Component({\n  selector: 'd-datepicker',\n  templateUrl: './datepicker.component.html',\n  styleUrls: ['./datepicker.component.scss'],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DatepickerComponent),\n    multi: true\n  }],\n  preserveWhitespaces: false\n})\nexport class DatepickerComponent implements OnInit, OnChanges, OnDestroy, ControlValueAccessor {\n  static DAY_DURATION = 24 * 60 * 60 * 1000;\n  protected _maxDate: Date;\n  protected _minDate: Date;\n  protected nowMinYear: number;\n  protected nowMaxYear: number;\n  @Input() cssClass: string;\n  @Input() dateConverter: DateConverter;\n  @Input() locale: string;\n  @Output() selectedDateChange = new EventEmitter<SelectDateChangeEventArgs>();\n  @Input() disabled = false;\n  @Input() customViewTemplate: TemplateRef<any>;\n  @Input() selectedDate: Date;\n  @Input() mode: 'year'|'month'|'date' = 'date';\n  @Input() dateFormat: string;\n  yearNumber = 12;\n  _yearNumber = 12;\n  _dateConfig: any;\n  currentYear: number;\n  currentMonthIndex: number;\n  _currentHour: number | string;\n  _currentMinute: number | string;\n  _currentSecond: number | string;\n  _showTime: boolean;\n  hourOptions: string[];\n  minuteOptions: string[];\n  displayWeeks: any[];\n  yearOptions: any[];\n  openChooseYear: boolean;\n  openChooseMonth: boolean;\n  availableMonths: any[];\n  i18nText: I18nInterface['datePicker'];\n  i18nLocale: I18nInterface['locale'];\n  i18nCommonText: I18nInterface['common'];\n  i18nSubscription: Subscription;\n\n  protected onChange = (_: any) => null;\n  protected onTouched = () => null;\n\n  constructor(\n    protected elementRef: ElementRef,\n    protected renderer2: Renderer2,\n    protected datePickerConfig: DatePickerConfig,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected i18n: I18nService\n  ) {\n    this._dateConfig = datePickerConfig['dateConfig'];\n    this.dateConverter = datePickerConfig['dateConfig'].dateConverter || new DefaultDateConverter();\n    this.renderer2.setStyle(this.elementRef.nativeElement, 'display', 'inline-block');\n    this.setI18nText();\n  }\n\n  ngOnInit() {\n    this._minDate = this.minDate ? new Date(this.minDate) : new Date(this.dateConfig.min, 0, 1, 0, 0, 0);\n    this._maxDate = this.maxDate ? new Date(this.maxDate) : new Date(this.dateConfig.max, 11, 31, 23, 59, 59);\n\n    this.hourOptions = new Array(24).fill(0).map((value, index) => this.fillLeft(index));\n    this.minuteOptions = new Array(60).fill(0).map((value, index) => this.fillLeft(index));\n    const nowDate = this.selectedDate || new Date();\n    this.nowMinYear = (nowDate).getFullYear() - Math.floor(this._yearNumber / 2) < this.minDate.getFullYear() ?\n      this.minDate.getFullYear() : (nowDate).getFullYear() - Math.floor(this._yearNumber / 2);\n    this.nowMaxYear = (nowDate).getFullYear() + Math.floor(this._yearNumber / 2) > this.maxDate.getFullYear() ?\n      this.maxDate.getFullYear() : (nowDate).getFullYear() + Math.floor(this._yearNumber / 2);\n    this.initMode();\n    this.onSelectDateChanged();\n    this.onDisplayWeeksChange();\n    this.onYearRangeChange();\n    this.initDatePicker();\n  }\n\n  initMode() {\n    if (this.mode === 'year') {\n      this.openChooseYear = true;\n      this.openChooseMonth = false;\n      if(!this.selectedDate){\n        this.selectedDate = new Date();\n      }\n      if(this.maxDate.getTime() < this.selectedDate.getTime()){\n        this.selectedDate = new Date(this.maxDate);\n      }\n      if(this.minDate.getTime() > this.selectedDate.getTime()){\n        this.selectedDate = new Date(this.minDate);\n      }\n    } else if (this.mode === 'month') {\n      this.openChooseYear = false;\n      this.openChooseMonth = true;\n      if(!this.selectedDate){\n        this.selectedDate = new Date();\n      }\n      if(this.maxDate.getTime() < this.selectedDate.getTime()){\n        this.selectedDate = new Date(this.maxDate);\n      }\n      if(this.minDate.getTime() > this.selectedDate.getTime()){\n        this.selectedDate = new Date(this.minDate);\n      }\n    } else {\n      this.openChooseYear = this.openChooseMonth = false;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes && changes['selectedDate'] && changes['selectedDate'].currentValue) {\n      this.writeValue(this.selectedDate);\n    }\n  }\n\n  @HostListener('document:click', ['$event'])\n  onDocumentClick($event) {\n    if (!this.elementRef.nativeElement.contains($event.target)) {\n      this.openChooseYear = this.openChooseMonth = false;\n      this.resetYearOptions();\n    }\n  }\n\n  @HostListener('click', ['$event'])\n  onClick($event) {\n    $event.stopPropagation();\n  }\n\n  @Input() set showTime(showTime: boolean) {\n    this._showTime = showTime;\n  }\n\n  get showTime() {\n    return typeof this._showTime === 'boolean' ? this._showTime : this.dateConfig.timePicker;\n  }\n\n  @Input() set dateConfig(dateConfig: any) {\n    if (this.checkDateConfig(dateConfig)) {\n      this._dateConfig = dateConfig;\n    } else {\n      this._dateConfig = this.datePickerConfig.dateConfig;\n    }\n  }\n\n  get dateConfig() {\n    return this._dateConfig;\n  }\n\n  checkDateConfig(dateConfig: any) {\n    if (!dateConfig) { return false; }\n    if (typeof(dateConfig.timePicker) !== 'boolean' || !dateConfig.max || !dateConfig.min) {\n      return false;\n    }\n    return true;\n  }\n\n  @Input() set minDate(date: Date | any) {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat);\n    if (parseDate) {\n      this._minDate = parseDate;\n      this.onYearRangeChange();\n    }\n  }\n  get minDate() {\n    return this._minDate;\n  }\n\n  @Input() set maxDate(date: Date | any) {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat);\n    if (parseDate) {\n      this._maxDate = parseDate;\n      this.onYearRangeChange();\n    }\n  }\n  get maxDate() {\n    return this._maxDate;\n  }\n\n  set currentHour(hour: number | string) {\n    this._currentHour = hour;\n  }\n\n  get currentHour() {\n    return unshiftString(String(this._currentHour), 2, '0');\n  }\n\n  set currentMinute(min: number | string) {\n    this._currentMinute = min;\n  }\n\n  get currentMinute() {\n    return unshiftString(String(this._currentMinute), 2, '0');\n  }\n\n  set currentSecond(sec: number | string) {\n    this._currentSecond = sec;\n  }\n\n  get currentSecond() {\n    return unshiftString(String(this._currentSecond), 2, '0');\n  }\n\n  protected resetYearOptions() {\n    this.initMode();\n    const baseYear = this.selectedDate ? this.selectedDate.getFullYear() : (new Date()).getFullYear();\n    this.currentYear = baseYear;\n    this.nowMinYear = baseYear - Math.floor(this._yearNumber / 2) < this.minDate.getFullYear() ?\n      this.minDate.getFullYear() : baseYear - Math.floor(this._yearNumber / 2);\n    this.nowMaxYear = baseYear + Math.floor(this._yearNumber / 2) > this.maxDate.getFullYear() ?\n      this.maxDate.getFullYear() : baseYear + Math.floor(this._yearNumber / 2);\n    this.onYearRangeChange();\n  }\n\n  onYearRangeChange() {\n    if (!this.nowMinYear || !this.nowMaxYear) {\n      return;\n    }\n    let baseYear = Math.round((this.nowMinYear + this.nowMaxYear) / 2);\n    if (this.nowMaxYear - this.nowMinYear < this._yearNumber - 1) {\n      if (this.nowMinYear === this.minDate.getFullYear() && this.nowMaxYear === this.maxDate.getFullYear()) {\n        baseYear = this.nowMinYear + Math.round((this.nowMaxYear - this.nowMinYear) / 2);\n      } else if (this.nowMinYear === this.minDate.getFullYear()) {\n        baseYear = this.nowMaxYear - this._yearNumber / 2 + 1;\n      } else if (this.nowMaxYear === this.maxDate.getFullYear()) {\n        baseYear = this.nowMinYear + this._yearNumber / 2;\n      }\n    }\n    this.yearOptions = new Array(this._yearNumber).fill(0).map((value, index) => {\n      const title = baseYear - this._yearNumber / 2 + index;\n      return {\n        title: title,\n        disabled: false\n      };\n    });\n    if (this._yearNumber > this.nowMaxYear - this.nowMinYear + 1) {\n      this.yearOptions.forEach((value, index) => {\n        if (index < 6) {\n          value.disabled = value.title < this.nowMinYear;\n        } else {\n          value.disabled = value.title > this.nowMaxYear;\n        }\n      });\n    }\n  }\n\n  writeValue(obj: any): void {\n    if (!obj) {\n      return;\n    }\n    this.selectedDate = this.dateConverter.parse(obj, this.dateFormat);\n    this.onSelectDateChanged();\n    this.onDisplayWeeksChange();\n    this.availableMonths = this.onDisplayMonthsChange();\n    this.changeDetectorRef.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  hasPreMonth() {\n    if (this.currentYear > this.minDate.getFullYear()) {\n      return true;\n    } else if (this.currentYear === this.minDate.getFullYear() && this.currentMonthIndex > this.minDate.getMonth()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  onPreMonth() {\n    if (!this.hasPreMonth()) {\n      return;\n    }\n\n    const date = new Date(this.currentYear, this.currentMonthIndex);\n    date.setMonth(date.getMonth() - 1);\n    this.currentMonthIndex = date.getMonth();\n    this.currentYear = date.getFullYear();\n    this.onDisplayWeeksChange();\n  }\n\n  hasNextMonth() {\n    if (this.currentYear < this.maxDate.getFullYear()) {\n      return true;\n    } else if (this.currentYear === this.maxDate.getFullYear() && this.currentMonthIndex < this.maxDate.getMonth()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  onNextMonth(currentDate?: Date, invocation?: any) {\n    if (!this.hasNextMonth() && invocation !== 'init') {\n      return;\n    }\n    let date;\n    if (currentDate) {\n      date = new Date(currentDate.getTime());\n    } else {\n      date = new Date(this.currentYear, this.currentMonthIndex);\n    }\n    date.setMonth(date.getMonth() + 1);\n    this.currentMonthIndex = date.getMonth();\n    this.currentYear = date.getFullYear();\n    this.onDisplayWeeksChange();\n  }\n\n  hasPreYearOption() {\n    if (this.openChooseYear) {\n      return this.yearOptions[0].title.toString() > this.minDate.getFullYear();\n    } else {\n      return Number(this.currentYear) > this.minDate.getFullYear();\n    }\n  }\n\n  onPreYearOption() {\n    if (!this.hasPreYearOption()) {\n      return;\n    }\n    if (this.openChooseYear) {\n      if (this.nowMinYear - this._yearNumber >= this.minDate.getFullYear()) {\n        this.nowMaxYear = this.nowMinYear - 1;\n        this.nowMinYear = this.nowMinYear - this._yearNumber;\n      } else {\n        this.nowMaxYear = this.nowMinYear - 1;\n        this.nowMinYear = this.minDate.getFullYear();\n      }\n      this.onYearRangeChange();\n    } else {\n      this.onSelectYear(Number(this.currentYear) - 1);\n    }\n  }\n\n  hasNextYearOption() {\n    if (this.openChooseYear) {\n      return this.yearOptions[11].title.toString() < this.maxDate.getFullYear();\n    } else {\n      return Number(this.currentYear) < this.maxDate.getFullYear();\n    }\n  }\n\n  onNextYearOption() {\n    if (!this.hasNextYearOption()) {\n      return;\n    }\n    if (this.openChooseYear) {\n      if (this.nowMaxYear + this._yearNumber <= this.maxDate.getFullYear()) {\n        this.nowMinYear = this.nowMaxYear + 1;\n        this.nowMaxYear = this.nowMaxYear + this._yearNumber;\n      } else {\n        this.nowMinYear = this.nowMaxYear + 1;\n        this.nowMaxYear = this.maxDate.getFullYear();\n      }\n      this.onYearRangeChange();\n    } else {\n      this.onSelectYear(Number(this.currentYear) + 1);\n    }\n  }\n\n  onSelectYear(year, $event?: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    const yearDisabled = typeof year === 'object' ? year.disabled : false;\n    const yearTitle = typeof year === 'object' ? year.title : year;\n    if (yearDisabled) {\n      return;\n    }\n    this.currentYear = yearTitle;\n    if (this.mode === 'year') {\n      this.onSelectDate($event, new Date(yearTitle, 0, 1));\n    } else if (this.mode === 'month') {\n      this.openChooseYear = false;\n      this.availableMonths = this.onDisplayMonthsChange();\n      this.currentMonthIndex = null;\n      this.openChooseMonth = true;\n    } else {\n      this.onDisplayWeeksChange();\n      this.availableMonths = this.onDisplayMonthsChange();\n      this.openChooseYear = false;\n      this.openChooseMonth = !!$event;\n    }\n  }\n\n  protected onSelectDateChanged() {\n    let date = this.selectedDate || new Date();\n    if (date.getTime() < this.minDate.getTime()) {\n      date = this.minDate;\n    }\n    if (date.getTime() > this.maxDate.getTime()) {\n      date = this.maxDate;\n    }\n    this.currentYear = date.getFullYear();\n    this.currentMonthIndex = date.getMonth();\n    this.currentHour = this.showTime ? date.getHours() : 0;\n    this.currentMinute = this.showTime ? date.getMinutes() : 0;\n    this.currentSecond = this.showTime ? date.getSeconds() : 0;\n  }\n\n  public onDisplayWeeksChange() {\n    const today = new Date();\n    const firstDayOfMonth = new Date(this.currentYear, this.currentMonthIndex, 1);\n    const weekOfDay = firstDayOfMonth.getDay();\n    const startDate = new Date(firstDayOfMonth.getTime() - weekOfDay * DatepickerComponent.DAY_DURATION);\n    const displayWeeks = [];\n    for (let i = 0; i < 6; i++) {\n      const startWeekDate = startDate.getTime() + i * 7 * DatepickerComponent.DAY_DURATION;\n      const weekDays = new Array(7).fill(0).map((value, index) => {\n        const currentDate = new Date(startWeekDate + index * DatepickerComponent.DAY_DURATION);\n        return {\n          day: this.fillLeft(currentDate.getDate()),\n          date: currentDate,\n          inMonth: currentDate.getMonth().toString() === this.currentMonthIndex.toString(),\n          isToday: currentDate.getFullYear() === today.getFullYear() &&\n            currentDate.getMonth() === today.getMonth() &&\n            currentDate.getDate() === today.getDate()\n        };\n      });\n      displayWeeks.push(weekDays);\n    }\n    this.displayWeeks = displayWeeks;\n  }\n\n  public onDisplayMonthsChange() {\n    const all = new Array(12).fill(0).map((value, index) => {\n      return {\n        index: index,\n        title: this.i18nText.monthsOfYear[index],\n        disabled: false\n      };\n    });\n\n    if (this.currentYear < this.minDate.getFullYear() || this.currentYear > this.maxDate.getFullYear()) {\n      all.map(month => {month.disabled = true; });\n    }\n\n    if (this.currentYear === this.minDate.getFullYear()) {\n      all.map(month => {month.disabled = month.index < this.minDate.getMonth(); });\n    }\n\n    if (this.currentYear === this.maxDate.getFullYear()) {\n      all.map(month => {month.disabled = month.index > this.maxDate.getMonth(); });\n    }\n    return all;\n  }\n\n  protected fillLeft(num: number) {\n    return num < 10 ? `0${num}` : `${num}`;\n  }\n\n  isDisabledDay(date) {\n    if (this.disabled) {\n      return true;\n    }\n    if (!date) {\n      return false;\n    }\n    const minDate = new Date(this.minDate.getFullYear(), this.minDate.getMonth(), this.minDate.getDate());\n    const maxDate = new Date(this.maxDate.getFullYear(), this.maxDate.getMonth(), this.maxDate.getDate(), 23, 59, 59);\n    const dis = date.getTime() < minDate.getTime();\n    return this.disabled || (date.getTime() < minDate.getTime() ||\n      date.getTime() > maxDate.getTime());\n  }\n\n  isSelectDay(date) {\n    if (!this.selectedDate || !date) {\n      return false;\n    }\n    return (\n      date.getFullYear() === this.selectedDate.getFullYear() &&\n      date.getMonth() === this.selectedDate.getMonth() &&\n      date.getDate() === this.selectedDate.getDate()\n    );\n  }\n\n  /*\n  **  @param invocation:调用时机\n  */\n  onSelectDate($event, date, invocation?: any, reason?: SelectDateChangeReason) {\n    if ($event.stopPropagation) {\n      $event.stopPropagation();\n    }\n    if (this.isDisabledDay(date)) {\n      return;\n    }\n    this.selectedDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(),\n      Number(this.currentHour), Number(this.currentMinute), Number(this.currentSecond));\n    const currentReason = typeof reason === 'number' ? reason : SelectDateChangeReason.date;\n    const dateObj = {\n      reason: currentReason,\n      selectedDate: this.selectedDate\n    };\n    this.onTouched();\n    this.writeValue(this.selectedDate);\n    // 初始化的时候不触发emit和ngModelChange\n    if (invocation !== 'init') {\n      this.onChange(dateObj);\n      this.selectedDateChange.emit(dateObj);\n    }\n    if (this.currentMonthIndex !== this.selectedDate.getMonth() ||\n      this.currentYear !== this.selectedDate.getFullYear()\n    ) {\n      this.currentYear = this.selectedDate.getFullYear();\n      this.currentMonthIndex = this.selectedDate.getMonth();\n      this.onDisplayWeeksChange();\n    }\n  }\n\n  fixTime(event, type) {\n    // 由于keypress不监听微软输入法需要使用keydown\n    // 而keydown中微软输入法的key是'Process'，且keydown没有charCode，所以需要用code判断\n    // 故退格和输入使用同一个事件\n    let timeType: string;\n    const min = 0;\n    let max = 59;\n    switch (type) {\n    case 'h': {\n      timeType = 'currentHour';\n      max = 23;\n      break;\n    }\n    case 'm': {\n      timeType = 'currentMinute';\n      break;\n    }\n    case 's': {\n      timeType = 'currentSecond';\n      break;\n    }\n    }\n    let value = event.target['value'];\n    const selectionStart = event.target['selectionStart'];\n    const selectionEnd = event.target['selectionEnd'];\n    // 是数字的时候再处理，分为小键盘和数字键\n    if (/^(Digit|Numpad)\\d$/.test(event.code)) {\n      event.preventDefault();\n      let input;\n      if (event['clipboardData']) {\n        input = event['clipboardData'].getData('text');\n      } else if (event['code']) {\n        input = event['code'].slice(event['code'].length - 1);\n      }\n      value = value.substring(0, selectionStart) + input + value.substring(selectionEnd);\n      if (value.length === 3 && value.indexOf('0') === 0) {\n        value = value.slice(1);\n      }\n    } else if (event.keyCode === 8) {\n      event.preventDefault();\n      value = value.substring(0, selectionStart - 1) + value.substring(selectionEnd);\n      if (value.length < 2) {\n        value = '0' + value;\n      }\n    } else if (!(event.keyCode >= 37 && event.keyCode <= 40)) {\n      // 如果不是上下左右，就阻拦，执行自己的处理\n      event.preventDefault();\n    }\n    if (/^(Digit|Numpad)\\d$/.test(event.code) || event.keyCode === 8) {\n      if (Number(value) >= min && Number(value) <= max) {\n        this[timeType] = value;\n        this.onTimeChange();\n      }\n    }\n  }\n\n  onTimeChange() {\n    const date = this.selectedDate || new Date();\n    this.selectedDate = new Date(date.getFullYear(),\n      date.getMonth(), date.getDate(), Number(this.currentHour), Number(this.currentMinute), Number(this.currentSecond));\n    const dateObj = {\n      reason: SelectDateChangeReason.time,\n      selectedDate: this.selectedDate\n    };\n    this.onTouched();\n    this.writeValue(this.selectedDate);\n    this.onChange(dateObj);\n    this.selectedDateChange.emit(dateObj);\n  }\n\n  timeUp(type) {\n    switch (type) {\n    case 'h': {\n      Number(this.currentHour) < 23 ? this.currentHour = (Number(this.currentHour) + 1) : this.currentHour = 0;\n      break;\n    }\n    case 'm': {\n      Number(this.currentMinute) < 59 ? this.currentMinute = (Number(this.currentMinute) + 1) : this.currentMinute = 0;\n      break;\n    }\n    case 's': {\n      Number(this.currentSecond) < 59 ? this.currentSecond = (Number(this.currentSecond) + 1) : this.currentSecond = 0;\n      break;\n    }\n    }\n    this.onTimeChange();\n  }\n\n  timeDown(type) {\n    switch (type) {\n    case 'h': {\n      Number(this.currentHour) > 0 ? this.currentHour = (Number(this.currentHour) - 1) : this.currentHour = 23;\n      break;\n    }\n    case 'm': {\n      Number(this.currentMinute) > 0 ? this.currentMinute = (Number(this.currentMinute) - 1) : this.currentMinute = 59;\n      break;\n    }\n    case 's': {\n      Number(this.currentSecond) > 0 ? this.currentSecond = (Number(this.currentSecond) - 1) : this.currentSecond = 59;\n      break;\n    }\n    }\n    this.onTimeChange();\n  }\n\n  clearAll = (reason?: SelectDateChangeReason) => {\n    this.writeValue(null);\n    this.selectedDate = null;\n    const currentReason = typeof reason === 'number' ? reason : SelectDateChangeReason.custom;\n    const dateObj = {\n      reason: currentReason,\n      selectedDate: null\n    };\n    // 清空时将null作为ngModelChange参数传出\n    this.onChange(dateObj);\n    this.selectedDateChange.emit(dateObj);\n  };\n\n  toggle($event: Event, which) {\n    $event.stopPropagation();\n    if (which === 'year') {\n      if (this.mode === 'year') {\n        return ;\n      } else if (this.mode === 'month') {\n        this.openChooseYear = true;\n        this.openChooseMonth = false;\n        return ;\n      } else {\n        this.openChooseYear = !this.openChooseYear;\n        this.openChooseMonth = false;\n      }\n    } else {\n      if (this.mode === 'month') {\n        return ;\n      }\n      this.openChooseMonth = !this.openChooseMonth;\n      this.openChooseYear = false;\n    }\n  }\n\n  isTodayDisable() {\n    return this.isDisabledDay(new Date());\n  }\n\n  isDisabledTime() {\n    return this.isDisabledDay(this.selectedDate);\n  }\n\n  initDatePicker() {\n    this.selectedDate = this.selectedDate ? this.selectedDate : new Date();\n    if (this.isDisabledDay(this.selectedDate)) {\n      return;\n    }\n    this.selectedDate = this.selectedDate ? this.selectedDate : new Date();\n    this.onSelectDateChanged();\n    this.onSelectDate({}, this.selectedDate, 'init');\n  }\n\n  confirmTime(event) {\n    event.stopPropagation();\n    const dateObj = {\n      reason: SelectDateChangeReason.button,\n      selectedDate: this.selectedDate\n    };\n    this.writeValue(this.selectedDate);\n    this.onChange(dateObj);\n    this.selectedDateChange.emit(dateObj);\n  }\n\n  chooseToday() {\n    const today = new Date();\n    if (this.isDisabledDay(today)) {\n      return;\n    }\n    this.selectedDate = today;\n    this.onSelectDateChanged();\n    this.onSelectDate({}, today, undefined, SelectDateChangeReason.button);\n  }\n\n  onSelectMonth(month) {\n    if (month.disabled) {\n      return;\n    }\n    this.currentMonthIndex = month.index;\n    if (this.mode === 'month') {\n      this.onSelectDate({} , new Date(this.currentYear, this.currentMonthIndex, 1));\n    } else {\n      this.onDisplayWeeksChange();\n      this.openChooseMonth = false;\n    }\n  }\n\n  chooseDate = (date: string, event = {}, reason = SelectDateChangeReason.custom) => {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat);\n    this.selectedDate = parseDate || new Date();\n    this.onSelectDateChanged();\n    this.onSelectDate(event, parseDate, undefined, reason);\n  };\n\n  get minDateDefined() {\n    return this.minDate.getTime() !== new Date(this.dateConfig.min, 0, 1, 0, 0, 0).getTime();\n  }\n\n  get maxDateDefined() {\n    return this.maxDate.getTime() !== new Date(this.dateConfig.max, 11, 31, 23, 59, 59).getTime();\n  }\n\n  setI18nText() {\n    this.i18nText = this.i18n.getI18nText().datePicker;\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18nCommonText = this.i18n.getI18nText().common;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nText = data.datePicker;\n      this.i18nLocale = data.locale;\n      this.i18nCommonText = data.common;\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n  }\n}\n","<div class=\"devui-month-view {{ cssClass }}\">\n  <table class=\"devui-table devui-month-view-table\">\n    <thead class=\"devui-noSelect\">\n      <tr class=\"devui-date-header\">\n        <td>\n          <a\n            class=\"devui-btn-link\"\n            aria-hidden=\"true\"\n            (click)=\"onPreYearOption()\"\n            [ngClass]=\"{\n              'devui-year-month-disabled': !hasPreYearOption()\n            }\"\n          >\n            <svg\n              width=\"10px\"\n              height=\"10px\"\n              viewBox=\"0 0 10 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -1.000000)\">\n                  <path\n                    d=\"M11,1.83333333 L11,10.1666667 L7,7.38833333 L7,10.1666667 L1,6 L7,1.83333333 L7,4.61033333 L11,1.83333333 Z\"\n                  ></path>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td>\n          <a\n            *ngIf=\"!openChooseYear && !openChooseMonth\"\n            class=\"devui-btn-link devui-btn-left\"\n            aria-hidden=\"true\"\n            (click)=\"onPreMonth()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasPreMonth() }\"\n          >\n            <svg\n              width=\"6px\"\n              height=\"10px\"\n              viewBox=\"0 0 6 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -1.000000)\">\n                  <polygon\n                    transform=\"translate(6.000000, 6.000000) rotate(-90.000000) translate(-6.000000, -6.000000) \"\n                    points=\"6 3 10.1666667 9 1.83333333 9\"\n                  ></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td colspan=\"3\" class=\"devui-dropdown\">\n          <span class=\"devui-date-title\" (click)=\"toggle($event, 'year')\">{{ i18nText?.yearDisplay(currentYear) }}</span>\n          <span class=\"devui-date-title\" (click)=\"toggle($event, 'month')\" *ngIf=\"mode !== 'year'\">{{\n            (i18nText?.monthsOfYear)[currentMonthIndex]\n          }}</span>\n          <ul class=\"devui-monthOption text-center\" [style.display]=\"openChooseMonth ? 'block' : 'none'\">\n            <li\n              *ngFor=\"let month of availableMonths\"\n              [ngClass]=\"{ active: currentMonthIndex == month.index, disabled: month.disabled }\"\n              (click)=\"onSelectMonth(month)\"\n            >\n              {{ month.title }}\n            </li>\n          </ul>\n          <ul class=\"devui-yearOption text-center\" [style.display]=\"openChooseYear ? 'block' : 'none'\">\n            <li\n              *ngFor=\"let item of yearOptions\"\n              [ngClass]=\"{ active: currentYear == item.title, disabled: item.disabled }\"\n              (click)=\"onSelectYear(item, $event)\"\n            >\n              {{ item.title }}\n            </li>\n          </ul>\n        </td>\n        <td>\n          <a\n            *ngIf=\"!openChooseYear && !openChooseMonth\"\n            class=\"devui-btn-link devui-btn-right\"\n            aria-hidden=\"true\"\n            (click)=\"onNextMonth()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasNextMonth() }\"\n          >\n            <svg\n              width=\"6px\"\n              height=\"9px\"\n              viewBox=\"0 0 6 9\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -2.000000)\">\n                  <polygon\n                    transform=\"translate(6.000000, 6.166667) scale(-1, 1) rotate(-90.000000) translate(-6.000000, -6.166667) \"\n                    points=\"6 3.16666667 10.1666667 9.16666667 1.83333333 9.16666667\"\n                  ></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td>\n          <a\n            class=\"devui-btn-link\"\n            aria-hidden=\"true\"\n            (click)=\"onNextYearOption()\"\n            [ngClass]=\"{\n              'devui-year-month-disabled': !hasNextYearOption()\n            }\"\n          >\n            <svg\n              width=\"10px\"\n              height=\"9px\"\n              viewBox=\"0 0 10 9\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -2.000000)\">\n                  <polygon points=\"5 4.77777778 5 2 11 6.16666667 5 10.3333333 5 7.55555556 1 10.3333333 1 2\"></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n      </tr>\n      <tr class=\"small text-center devui-week-header\">\n        <td *ngFor=\"let item of i18nText?.daysOfWeek\">{{ item }}</td>\n      </tr>\n    </thead>\n    <tbody class=\"devui-noSelect\">\n      <tr *ngFor=\"let week of displayWeeks\">\n        <td\n          *ngFor=\"let day of week\"\n          class=\"devui-day\"\n          [ngClass]=\"{\n            'devui-out-of-month': !day.inMonth,\n            'devui-in-month-day': day.inMonth,\n            active: isSelectDay(day.date),\n            disabled: isDisabledDay(day.date),\n            'devui-today': day.isToday\n          }\"\n          (click)=\"onSelectDate($event, day.date)\"\n        >\n          <div class=\"devui-calendar-date\">{{ day.day }}</div>\n        </td>\n      </tr>\n    </tbody>\n    <tfoot [ngClass]=\"{ 'devui-noSelect': !customViewTemplate }\">\n      <tr class=\"time-picker-view\" (click)=\"!customViewTemplate && $event.stopPropagation()\" *ngIf=\"showTime || !customViewTemplate\">\n        <td colspan=\"4\">\n          <div class=\"devui-timepicker\" *ngIf=\"showTime\" [ngClass]=\"{ 'devui-timepicker-disabled': isDisabledTime() }\">\n            <div class=\"devui-time\">\n              <input [ngModel]=\"currentHour\" (keydown)=\"fixTime($event, 'h')\" [disabled]=\"isDisabledTime()\" />\n              <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                <div class=\"btn-up\" (click)=\"timeUp('h')\"></div>\n                <div class=\"btn-down\" (click)=\"timeDown('h')\"></div>\n              </div>\n            </div>\n            <div class=\"devui-time\">\n              <input class=\"devui-minutes\" [ngModel]=\"currentMinute\" (keydown)=\"fixTime($event, 'm')\" [disabled]=\"isDisabledTime()\" />\n              <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                <div class=\"btn-up\" (click)=\"timeUp('m')\"></div>\n                <div class=\"btn-down\" (click)=\"timeDown('m')\"></div>\n              </div>\n            </div>\n            <div class=\"devui-time\">\n              <input class=\"devui-seconds\" [ngModel]=\"currentSecond\" (keydown)=\"fixTime($event, 's')\" [disabled]=\"isDisabledTime()\" />\n              <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                <div class=\"btn-up\" (click)=\"timeUp('s')\"></div>\n                <div class=\"btn-down\" (click)=\"timeDown('s')\"></div>\n              </div>\n            </div>\n          </div>\n        </td>\n        <td colspan=\"3\">\n          <div class=\"devui-btn-wrapper\" *ngIf=\"showTime\">\n            <d-button bsStyle=\"common\" [disabled]=\"disabled\" (btnClick)=\"confirmTime($event)\" bsSize=\"sm\"\n              >{{ i18nCommonText?.btnConfirm }}\n            </d-button>\n          </div>\n          <div class=\"devui-btn-wrapper\" *ngIf=\"!showTime\">\n            <d-button bsStyle=\"common\" [disabled]=\"isTodayDisable() || disabled\" (btnClick)=\"chooseToday()\" bsSize=\"sm\"\n              >{{ i18nText?.today }}\n            </d-button>\n          </div>\n        </td>\n      </tr>\n      <tr class=\"time-picker-view devui-custom-area\" *ngIf=\"customViewTemplate\">\n        <td colspan=\"7\">\n          <ng-template\n            [ngTemplateOutlet]=\"customViewTemplate\"\n            [ngTemplateOutletContext]=\"{ $implicit: this, chooseDate: chooseDate, clearAll: clearAll }\"\n          ></ng-template>\n        </td>\n      </tr>\n    </tfoot>\n  </table>\n</div>\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nService } from 'ng-devui/i18n';\nimport { DatePickerConfigService as DatePickerConfig } from './date-picker.config.service';\nimport { SelectDateRangeChangeEventArgs, SelectDateRangeChangeReason } from './date-range-change-event-args.model';\nimport { DatepickerComponent as SingleDatepickerComponent } from './datepicker.component';\n\nexport interface SimpleDate {\n  year: number;\n  month: number;\n}\n\n@Component({\n  selector: 'd-datepicker-range-single',\n  templateUrl: './single-date-range-picker.component.html',\n  styleUrls: ['./single-date-range-picker.component.scss'],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => SingleDateRangePickerComponent),\n    multi: true\n  }],\n  preserveWhitespaces: false,\n})\n\nexport class SingleDateRangePickerComponent extends SingleDatepickerComponent implements OnChanges, OnInit {\n  @Input() selectedRange: Date[] = Array(2);\n  @Input() rangePicker = false;\n  @Input() isAuxiliary = false;\n  @Input() currentCalendars = Array(2);\n  @Output() hoverOnDate = new EventEmitter<any>();\n  @Output() rangeSelected = new EventEmitter<SelectDateRangeChangeEventArgs>();\n  @Output() rangeSelecting = new EventEmitter<SelectDateRangeChangeEventArgs>();\n  @Output() syncPickerPair = new EventEmitter<{}>();\n  @Output() consolidateTime = new EventEmitter<any>();\n  public rangeStart;\n  public rangeEnd;\n  public previewEnd;\n  private timer;\n  protected selectingRange: boolean;\n\n  constructor(\n    protected elementRef: ElementRef,\n    protected renderer: Renderer2,\n    protected datePickerConfig: DatePickerConfig,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected i18n: I18nService\n  ) {\n    super(elementRef, renderer, datePickerConfig, changeDetectorRef, i18n);\n    this.setI18nText();\n  }\n\n  ngOnInit() {\n    [this.rangeStart, this.rangeEnd] = this.selectedRange;\n    const nowDate = this.selectedDate || new Date();\n    this.nowMinYear = (nowDate).getFullYear() - Math.floor(this._yearNumber / 2) < this.minDate.getFullYear() ?\n      this.minDate.getFullYear() : (nowDate).getFullYear() - Math.floor(this._yearNumber / 2);\n    this.nowMaxYear = (nowDate).getFullYear() + Math.floor(this._yearNumber / 2) > this.maxDate.getFullYear() ?\n      this.maxDate.getFullYear() : (nowDate).getFullYear() + Math.floor(this._yearNumber / 2);\n    if (!this.isAuxiliary && !this.rangeStart) {\n      // 主面板，未选择开始日期的情况\n      this.onSelectDateChanged();\n      this.onDisplayWeeksChange();\n      this.onYearRangeChange();\n      this.initDatePicker();\n    } else if (this.isAuxiliary && !this.rangeEnd) {\n      // 副面板，未选择结束日期的情况\n      this.onSelectDateChanged();\n      this.initDatePicker();\n      this.onYearRangeChange();\n      this.onNextMonth('init');\n      this.selectedDate = new Date(this.currentYear, this.currentMonthIndex);\n    } else if (!this.isAuxiliary && this.rangeStart) {\n      // 主面板，已选择开始日期的情况\n      this.selectedDate = this.rangeStart;\n      super.ngOnInit();\n    } else if (this.isAuxiliary && this.rangeEnd) {\n      // 副面板，已选择结束日期的情况\n      const rangeStart = this.convertDate(this.rangeStart);\n      const rangeEnd = this.convertDate(this.rangeEnd);\n      this.currentYear = rangeEnd.getFullYear();\n      this.currentMonthIndex = rangeEnd.getMonth();\n      this.selectedDate = new Date(this.currentYear, this.currentMonthIndex);\n      super.ngOnInit();\n      // 处理选择的日期范围开始和结束在同一个月的情况\n      if (rangeStart && rangeEnd && rangeStart.getFullYear() === rangeEnd.getFullYear() &&\n        rangeStart.getMonth() === rangeEnd.getMonth()) {\n        this.onNextMonth('init');\n      }\n      this.selectedDate = new Date(this.currentYear, this.currentMonthIndex);\n    }\n    this.availableMonths = this.onDisplayMonthsChange();\n    this.notifyCalenderChange();\n  }\n\n  /*\n  **  @param invocation:调用时机\n  */\n  onSelectDate($event, date, invocation?: any) {\n    if ($event.stopPropagation) {\n      $event.stopPropagation();\n    }\n\n    if (invocation !== 'init') {\n      if (this.isDisabledDay(date)) {\n        $event.preventDefault();\n        return;\n      }\n      const curDate = this.showTime && date ? this.setTime(date) : date;\n      this.selectRange(curDate);\n      this.selectedDate = this.isAuxiliary ? this.rangeEnd : this.rangeStart;\n    }\n  }\n\n  emitHoverDate($event, date) {\n    if (this.selectingRange && date.getTime() <= this.maxDate.getTime() && date.getTime() >= this.minDate.getTime()) {\n      this.hoverOnDate.emit(date);\n    }\n  }\n\n  selectStart(date) {\n    this.rangeStart = new Date(this.convertDate(date).setHours(0, 0, 0));\n  }\n\n  selectEnd(date) {\n    this.selectingRange = false;\n    this.rangeEnd = new Date(this.convertDate(date).setHours(23, 59, 59));\n    if (!!this.rangeStart && !!this.rangeEnd) {\n      this.rangeChange(this.ensureRangeValueOrder([this.rangeStart, this.rangeEnd], true), SelectDateRangeChangeReason.date);\n    }\n  }\n\n  convertDate(date) {\n    return date ? this.dateConverter.parse(date) : null;\n  }\n\n  selectRange(date, passive = false) {\n    if (this.disabled) {\n      return;\n    }\n    if (!this.rangeStart || (!!this.rangeStart && !!this.rangeEnd)) {\n      this.rangeEnd = null;\n      this.rangeStart = null;\n      this.selectStart(date);\n      this.selectingRange = true;\n      if (!passive) {\n        this.rangeSelecting.emit(this.rangeStart);\n      }\n    } else {\n      this.selectEnd(date);\n    }\n  }\n\n  rangeChange(range, reason?) {\n    this.selectedRange = range;\n    this.notifyValueChange(range, reason);\n  }\n\n  writeValue(selectedRange: any): void {\n    this.selectedRange = selectedRange;\n  }\n\n  protected notifyValueChange(selectedRange: Date[], reason?) {\n    const currentReason = typeof reason === 'number' ? reason : SelectDateRangeChangeReason.time;\n    this.onChange(selectedRange);\n    this.rangeSelected.emit({\n      reason: currentReason,\n      selectedRange: selectedRange\n    });\n  }\n\n  isSelectDay(date) {\n    let rangeSource = this.selectedRange;\n    if (this.selectingRange) {\n      rangeSource = [this.rangeStart, this.previewEnd];\n    }\n    if ((!Array.isArray(rangeSource))) {\n      return;\n    }\n    return rangeSource.some((selectedDate) => {\n      if (!selectedDate || !date) {\n        return false;\n      }\n      return (\n        date.getFullYear() === selectedDate.getFullYear() &&\n        date.getMonth() === selectedDate.getMonth() &&\n        date.getDate() === selectedDate.getDate()\n      );\n    });\n  }\n\n  isBetweenDay(date) {\n    if (Array.isArray(this.selectedRange) && this.selectedRange.every(day => !!day)) {\n      const index = this.selectedRange.findIndex(day => {\n        return date.getFullYear() === day.getFullYear() &&\n        date.getMonth() === day.getMonth() &&\n        date.getDate() === day.getDate();\n      });\n      return ['devui-day-start', 'devui-day-end'][index];\n    } else {\n      return;\n    }\n  }\n\n  isDisabledTime() {\n    const selectedSide = this.isAuxiliary ? this.rangeEnd : this.rangeStart;\n    return selectedSide ? super.isDisabledDay(selectedSide) : true;\n  }\n\n  timeUp(type) {\n    switch (type) {\n    case 'h': {\n      Number(this.currentHour) < 23 ? this.currentHour = (Number(this.currentHour) + 1) : this.currentHour = 0;\n      break;\n    }\n    case 'm': {\n      Number(this.currentMinute) < 59 ? this.currentMinute = (Number(this.currentMinute) + 1) : this.currentMinute = 0;\n      break;\n    }\n    case 's': {\n      Number(this.currentSecond) < 59 ? this.currentSecond = (Number(this.currentSecond) + 1) : this.currentSecond = 0;\n      break;\n    }\n    }\n    this.timeChange();\n  }\n\n  timeDown(type) {\n    switch (type) {\n    case 'h': {\n      Number(this.currentHour) > 0 ? this.currentHour = (Number(this.currentHour) - 1) : this.currentHour = 23;\n      break;\n    }\n    case 'm': {\n      Number(this.currentMinute) > 0 ? this.currentMinute = (Number(this.currentMinute) - 1) : this.currentMinute = 59;\n      break;\n    }\n    case 's': {\n      Number(this.currentSecond) > 0 ? this.currentSecond = (Number(this.currentSecond) - 1) : this.currentSecond = 59;\n      break;\n    }\n    }\n    this.timeChange();\n  }\n\n  fixTime(event, type) {\n    // 由于keypress不监听微软输入法需要使用keydown\n    // 而keydown中微软输入法的key是'Process'，且keydown没有charCode，所以需要用code判断\n    // 故退格和输入使用同一个事件\n    let timeType: string;\n    const min = 0;\n    let max = 59;\n    switch (type) {\n    case 'h': {\n      timeType = 'currentHour';\n      max = 23;\n      break;\n    }\n    case 'm': {\n      timeType = 'currentMinute';\n      break;\n    }\n    case 's': {\n      timeType = 'currentSecond';\n      break;\n    }\n    }\n    let value = event.target['value'];\n    const selectionStart = event.target['selectionStart'];\n    const selectionEnd = event.target['selectionEnd'];\n    // 是数字的时候再处理，分为小键盘和数字键\n    if (/^(Digit|Numpad)\\d$/.test(event.code)) {\n      event.preventDefault();\n      let input;\n      if (event['clipboardData']) {\n        input = event['clipboardData'].getData('text');\n      } else if (event['code']) {\n        input = event['code'].slice(event['code'].length - 1);\n      }\n      value = value.substring(0, selectionStart) + input + value.substring(selectionEnd);\n      if (value.length === 3 && value.indexOf('0') === 0) {\n        value = value.slice(1);\n      }\n    } else if (event.keyCode === 8) {\n      event.preventDefault();\n      value = value.substring(0, selectionStart - 1) + value.substring(selectionEnd);\n      if (value.length < 2) {\n        value = '0' + value;\n      }\n    } else if (!(event.keyCode >= 37 && event.keyCode <= 40)) {\n      // 如果不是上下左右，就阻拦，执行自己的处理\n      event.preventDefault();\n    }\n    if (/^(Digit|Numpad)\\d$/.test(event.code) || event.keyCode === 8) {\n      if (Number(value) >= min && Number(value) <= max) {\n        this[timeType] = value;\n        // 防抖，防止提前校验导致错误的校验\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n          this.timeChange();\n        }, 300);\n      }\n    }\n  }\n\n  timeChange() {\n    if (!this.isAuxiliary) {\n      this.rangeStart = new Date(this.rangeStart.getFullYear(), this.rangeStart.getMonth(), this.rangeStart.getDate(),\n        Number(this.currentHour), Number(this.currentMinute), Number(this.currentSecond));\n    } else {\n      this.rangeEnd = new Date(this.rangeEnd.getFullYear(), this.rangeEnd.getMonth(), this.rangeEnd.getDate(),\n        Number(this.currentHour), Number(this.currentMinute), Number(this.currentSecond));\n    }\n    this.rangeChange(this.ensureRangeValueOrder([this.rangeStart, this.rangeEnd]));\n  }\n\n  isSameDate(date1: Date, date2: Date): boolean {\n    return date1?.getFullYear() === date2?.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (Object.prototype.hasOwnProperty.call(changes, 'selectedRange')) {\n      this.selectingRange = false;\n      [this.rangeStart, this.rangeEnd] = changes['selectedRange'].currentValue;\n    }\n  }\n\n  isInRange(date) {\n    const rangeStart = this.rangeStart;\n    let rangeEnd = this.rangeEnd;\n    if (this.selectingRange) {\n      rangeEnd = this.previewEnd;\n    }\n    date = (new Date(date)).getTime();\n    return date < Math.max((new Date(rangeStart)).getTime(), (new Date(rangeEnd)).getTime())\n      && date > Math.min((new Date(rangeStart)).getTime(), (new Date(rangeEnd)).getTime());\n  }\n\n  ensureRangeValueOrder(dateRange: Date[], initTime = false) {\n    if (Array.isArray(dateRange) && dateRange.length === 2) {\n      // 当选择同一天时，判断时间是否顺序错误并修正\n      if (this.isSameDate(dateRange[0], dateRange[1]) && dateRange[0].getTime() - dateRange[1].getTime() > 0) {\n        this.fixReverseTime(dateRange);\n      }\n      // 当后一次时间选择比前一次日期靠前时，对时间置换\n      if (initTime && dateRange[0].getTime() - dateRange[1].getTime() > 0) {\n        dateRange[0] = new Date(dateRange[0].setHours(23, 59, 59));\n        dateRange[1] = new Date(dateRange[1].setHours(0, 0, 0));\n      }\n      if (dateRange.every(day => !!day)) {\n        dateRange.sort((a, b) => {\n          return (new Date(a)).getTime() - (new Date(b).getTime());\n        });\n      } else {\n        if (!dateRange[0]) {\n          dateRange[0] = dateRange[1];\n          dateRange[1] = null;\n        }\n      }\n    }\n    return dateRange;\n  }\n\n  fixReverseTime(dateRange: Date[]) {\n    if (this.isAuxiliary) {\n      dateRange[1] = dateRange[0];\n      this.currentHour = dateRange[1].getHours();\n      this.currentMinute = dateRange[1].getMinutes();\n      this.currentSecond = dateRange[1].getSeconds();\n    } else {\n      dateRange[0] = dateRange[1];\n      this.currentHour = dateRange[0].getHours();\n      this.currentMinute = dateRange[0].getMinutes();\n      this.currentSecond = dateRange[0].getSeconds();\n    }\n  }\n\n  onNextMonth(invocation?: any) {\n    if (this.hasNextMonth() || invocation === 'init') {\n      let maxDateInRange;\n      if (invocation === 'init') {\n        maxDateInRange = this.selectedRange.reduce((start, end) => new Date(end) > new Date(start) ? end : start);\n      }\n      super.onNextMonth(maxDateInRange, 'init');\n      this.notifyCalenderChange();\n    }\n  }\n\n  hasNextMonth() {\n    let hasNextMonth = true;\n    // 副面板只用考虑maxDate的影响\n    // 主面板同时考虑maxDate和日历的影响\n    // minDate的影响在super.hasNextMonth()中有计算\n    if (!this.isAuxiliary && this.currentCalendars[0] && this.currentCalendars[1]) {\n      hasNextMonth = this.isBeforeMoreThanOneMonth(this.currentCalendars[0], this.currentCalendars[1]);\n    }\n\n    return hasNextMonth && super.hasNextMonth();\n  }\n\n  onPreMonth() {\n    if (this.hasPreMonth()) {\n      super.onPreMonth();\n      this.notifyCalenderChange();\n    }\n  }\n\n  hasPreMonth() {\n    let hasPrevMonth = true;\n    // 主面板只用考虑minDate的影响\n    // 副面板同时考虑minDate和日历的影响\n    // minDate的影响在super.hasPreMonth()中有计算\n    if (this.isAuxiliary && this.currentCalendars[0] && this.currentCalendars[1]) {\n      hasPrevMonth = this.isAfterMoreThanOneMonth(this.currentCalendars[1], this.currentCalendars[0]);\n    }\n\n    return hasPrevMonth && super.hasPreMonth();\n  }\n\n  hasPreYearOption() {\n    let hasPrevYear = true;\n    if (this.openChooseYear) {\n      if (!this.isAuxiliary) {\n        hasPrevYear = this.nowMinYear > this.minDate.getFullYear();\n      } else {\n        hasPrevYear = this.nowMinYear > this.minDate.getFullYear() &&\n          this.isBeforeMoreThanOneYear(this.currentCalendars[0], {year: this.nowMinYear, month: this.currentCalendars[1].month});\n      }\n    } else if (this.currentCalendars[0] && this.currentCalendars[1]) {\n      // 主面板只用考虑minDate的影响\n      if (!this.isAuxiliary) {\n        hasPrevYear = this.currentCalendars[0].year > this.minDate.getFullYear();\n      } else { // 副面板同时考虑minDate和日历的影响\n        hasPrevYear = this.currentCalendars[1].year > this.minDate.getFullYear() &&\n          this.isBeforeMoreThanOneYear(this.currentCalendars[0], this.currentCalendars[1]);\n      }\n    }\n    return hasPrevYear;\n  }\n\n  hasNextYearOption() {\n    let hasNextYear = true;\n    if (this.openChooseYear) {\n      if (this.isAuxiliary) {\n        hasNextYear = this.nowMaxYear < this.maxDate.getFullYear();\n      } else {\n        hasNextYear = this.nowMaxYear < this.maxDate.getFullYear() &&\n          this.isAfterMoreThanOneYear(this.currentCalendars[1], {year: this.nowMaxYear, month: this.currentCalendars[0].month});\n      }\n    } else if (this.currentCalendars[0] && this.currentCalendars[1]) {\n      // 副面板只用考虑maxDate的影响\n      if (this.isAuxiliary) {\n        hasNextYear = this.currentCalendars[1].year < this.maxDate.getFullYear();\n      } else { // 主面板同时考虑maxDate和日历的影响\n        hasNextYear = this.currentCalendars[0].year < this.maxDate.getFullYear() &&\n          this.isAfterMoreThanOneYear(this.currentCalendars[1], this.currentCalendars[0]);\n      }\n    }\n    return hasNextYear;\n  }\n\n  isYearDisable(year: number): boolean {\n    if (this.isAuxiliary) {\n      // 先判定主面板是否比附面板小一年以上，是的话disabled为false;\n      return !(this.isBeforeMoreThanOneYear(this.currentCalendars[0], { year: year + 1, month: this.currentCalendars[1].month}) ||\n        // 主附面板在同一年时，判断主附面板月是否在临界值；\n        (this.currentCalendars[0].year === year && this.currentCalendars[0].month !== 11));\n    } else {\n      return !(this.isAfterMoreThanOneYear(this.currentCalendars[1], {year: year - 1, month: this.currentCalendars[0].month}) ||\n        (this.currentCalendars[1].year === year && this.currentCalendars[1].month !== 0));\n    }\n  }\n\n  isMonthDisable(month: string): boolean {\n    if (this.isAuxiliary) {\n      return !this.isBeforeMoreThanOneMonth(\n        this.currentCalendars[0], {year: this.currentCalendars[1].year, month: parseInt(month, 10) - 1 + 1}\n      );\n    } else {\n      return !this.isAfterMoreThanOneMonth(\n        this.currentCalendars[1], {year: this.currentCalendars[0].year, month: parseInt(month, 10) - 1 - 1}\n      );\n    }\n\n  }\n\n  onPreYear() {\n    if (!this.hasPreYearOption()) {\n      return;\n    }\n    if (this.openChooseYear) {\n      if (this.nowMinYear - this._yearNumber >= this.minDate.getFullYear()) {\n        this.nowMaxYear = this.nowMinYear - 1;\n        this.nowMinYear = this.nowMinYear - this._yearNumber;\n      } else {\n        this.nowMaxYear = this.nowMinYear - 1;\n        this.nowMinYear = this.minDate.getFullYear();\n      }\n      this.onYearRangeChange();\n    } else {\n      this.onSelectYear(Number(this.currentYear) - 1);\n    }\n    this.notifyCalenderChange();\n  }\n\n  onNextYear() {\n    if (!this.hasNextYearOption()) {\n      return;\n    }\n    if (this.openChooseYear) {\n      if (this.nowMaxYear + this._yearNumber <= this.maxDate.getFullYear()) {\n        this.nowMinYear = this.nowMaxYear + 1;\n        this.nowMaxYear = this.nowMaxYear + this._yearNumber;\n      } else {\n        this.nowMinYear = this.nowMaxYear + 1;\n        this.nowMaxYear = this.maxDate.getFullYear();\n      }\n      this.onYearRangeChange();\n    } else {\n      this.onSelectYear(Number(this.currentYear) + 1);\n    }\n    this.notifyCalenderChange();\n  }\n\n  onSelectMonth(month) {\n    if (month.disabled || this.isMonthDisable(month.title)) {\n      return;\n    }\n    this.currentMonthIndex = month.index;\n    this.onDisplayWeeksChange();\n    this.openChooseMonth = false;\n\n    this.isAuxiliary ? this.currentCalendars[1].month = this.currentMonthIndex : this.currentCalendars[0].month = this.currentMonthIndex;\n  }\n\n  onSelectYear(year, $event?: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    const yearDisabled = typeof year === 'object' ? year.disabled : false;\n    const yearTitle = typeof year === 'object' ? year.title : year;\n    if (yearDisabled || this.isYearDisable(year.title)) {\n      return;\n    }\n    this.currentYear = yearTitle;\n    this.onDisplayWeeksChange();\n    this.availableMonths = this.onDisplayMonthsChange();\n    this.openChooseYear = false;\n    if (!$event) {\n      this.isAuxiliary ? this.currentCalendars[1].year = this.currentYear : this.currentCalendars[0].year = this.currentYear;\n      return;\n    }\n    this.openChooseMonth = true;\n    if (this.isAuxiliary) {\n      this.currentCalendars[1].year = this.currentYear;\n      this.currentCalendars[1].month = 11;\n      this.currentMonthIndex = 11;\n    } else {\n      this.currentCalendars[0].year = this.currentYear;\n      this.currentCalendars[0].month = 0;\n      this.currentMonthIndex = 0;\n    }\n  }\n\n  isBeforeMoreThanOneMonth(dateA: SimpleDate, dateB: SimpleDate) {\n    if (dateA.year > dateB.year) {\n      return false;\n    }\n\n    if (dateA.year === dateB.year && dateB.month <= dateA.month + 1) {\n      return false;\n    }\n\n    // 处理A日期为B日期前一年12月同时B日期为1月的特殊情况\n    return !(dateB.year - dateA.year === 1 && dateA.month === 11 && dateB.month === 0);\n  }\n\n  isAfterMoreThanOneMonth(dateA: SimpleDate, dateB: SimpleDate) {\n    if (dateA.year < dateB.year) {\n      return false;\n    }\n\n    if (dateA.year === dateB.year && dateB.month + 1 >= dateA.month) {\n      return false;\n    }\n\n    // 处理A日期为B日期后一年1月同时B日期为12月的特殊情况\n    return !(dateA.year - dateB.year === 1 && dateA.month === 0 && dateB.month === 11);\n  }\n\n  isBeforeMoreThanOneYear(dateA: SimpleDate, dateB: SimpleDate) {\n    if (dateA.year >= dateB.year) {\n      return false;\n    }\n\n    // 处理B日期比A日期大1年同时A日期月份大于B日期月份的情况\n    return !(dateB.year - dateA.year === 1 && dateA.month >= dateB.month);\n  }\n\n  isAfterMoreThanOneYear(dateA: SimpleDate, dateB: SimpleDate) {\n    if (dateA.year <= dateB.year) {\n      return false;\n    }\n\n    // 处理A日期比B日期大1年同时A日期月份小于B日期月份的情况\n    return (!(dateA.year - dateB.year === 1 && dateA.month <= dateB.month));\n  }\n\n  protected notifyCalenderChange() {\n    this.syncPickerPair.emit({\n      year: this.currentYear,\n      month: this.currentMonthIndex\n    });\n  }\n\n  confirmTime() {\n    this.consolidateTime.emit();\n  }\n\n  private setTime(date: any) {\n    return (new Date(date.setHours(this.currentHour, this.currentMinute, this.currentSecond)));\n  }\n\n  protected onSelectDateChanged() {\n    let date = this.selectedDate || new Date();\n    if (date.getTime() < this.minDate.getTime()) {\n      date = this.minDate;\n    }\n    if (date.getTime() > this.maxDate.getTime()) {\n      date = this.maxDate;\n    }\n    this.selectedDate = this.selectedDate || date;\n    this.currentYear = date.getFullYear();\n    this.currentMonthIndex = date.getMonth();\n    if (!this.showTime) { return; }\n    switch (this.isAuxiliary) {\n    case false:\n      // Left panel\n      this.currentHour = this.rangeStart ? this.rangeStart.getHours() : 0;\n      this.currentMinute = this.rangeStart ? this.rangeStart.getMinutes() : 0;\n      this.currentSecond = this.rangeStart ? this.rangeStart.getSeconds() : 0;\n      break;\n    case true:\n      // Right panel\n      this.currentHour = this.rangeEnd ? this.rangeEnd.getHours() : 23;\n      this.currentMinute = this.rangeEnd ? this.rangeEnd.getMinutes() : 59;\n      this.currentSecond = this.rangeEnd ? this.rangeEnd.getSeconds() : 59;\n      break;\n    }\n  }\n\n  get currentTime () {\n    return {\n      hour: this.currentHour,\n      minute: this.currentMinute,\n      second: this.currentSecond\n    };\n  }\n}\n","<div class=\"devui-month-view {{ cssClass }}\">\n  <table class=\"devui-table devui-month-view-table\">\n    <thead>\n      <tr class=\"devui-calender-header\">\n        <td>\n          <a\n            class=\"devui-btn-link\"\n            aria-hidden=\"true\"\n            (click)=\"onPreYear()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasPreYearOption() }\"\n          >\n            <svg\n              width=\"10px\"\n              height=\"10px\"\n              viewBox=\"0 0 10 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -1.000000)\">\n                  <path\n                    d=\"M11,1.83333333 L11,10.1666667 L7,7.38833333 L7,10.1666667 L1,6 L7,1.83333333 L7,4.61033333 L11,1.83333333 Z\"\n                  ></path>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td>\n          <a\n            *ngIf=\"!openChooseYear && !openChooseMonth\"\n            class=\"devui-btn-link devui-btn-left\"\n            aria-hidden=\"true\"\n            (click)=\"onPreMonth()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasPreMonth() }\"\n          >\n            <svg\n              width=\"6px\"\n              height=\"10px\"\n              viewBox=\"0 0 6 10\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -1.000000)\">\n                  <polygon\n                    transform=\"translate(6.000000, 6.000000) rotate(-90.000000) translate(-6.000000, -6.000000) \"\n                    points=\"6 3 10.1666667 9 1.83333333 9\"\n                  ></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td colspan=\"3\" class=\"devui-dropdown\">\n          <span class=\"devui-date-title\" (click)=\"toggle($event, 'year')\">{{ i18nText?.yearDisplay(currentYear) }}</span>\n          <span class=\"devui-date-title\" (click)=\"toggle($event, 'month')\">{{ (i18nText?.monthsOfYear)[currentMonthIndex] }}</span>\n          <ul class=\"devui-monthOption text-center\" [style.display]=\"openChooseMonth ? 'block' : 'none'\">\n            <li\n              *ngFor=\"let month of availableMonths\"\n              [ngClass]=\"{ active: currentMonthIndex == month.index, disabled: month.disabled || isMonthDisable(month.title) }\"\n              (click)=\"onSelectMonth(month)\"\n            >\n              {{ month.title }}\n            </li>\n          </ul>\n          <ul class=\"devui-yearOption text-center\" [style.display]=\"openChooseYear ? 'block' : 'none'\">\n            <li\n              *ngFor=\"let item of yearOptions\"\n              [ngClass]=\"{ active: currentYear == item.title, disabled: item.disabled || isYearDisable(item.title) }\"\n              (click)=\"onSelectYear(item, $event)\"\n            >\n              {{ item.title }}\n            </li>\n          </ul>\n        </td>\n        <td>\n          <a\n            *ngIf=\"!openChooseYear && !openChooseMonth\"\n            class=\"devui-btn-link devui-btn-right\"\n            aria-hidden=\"true\"\n            (click)=\"onNextMonth()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasNextMonth() }\"\n          >\n            <svg\n              width=\"6px\"\n              height=\"9px\"\n              viewBox=\"0 0 6 9\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-3.000000, -2.000000)\">\n                  <polygon\n                    transform=\"translate(6.000000, 6.166667) scale(-1, 1) rotate(-90.000000) translate(-6.000000, -6.166667) \"\n                    points=\"6 3.16666667 10.1666667 9.16666667 1.83333333 9.16666667\"\n                  ></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n        <td>\n          <a\n            class=\"devui-btn-link\"\n            aria-hidden=\"true\"\n            (click)=\"onNextYear()\"\n            [ngClass]=\"{ 'devui-year-month-disabled': !hasNextYearOption() }\"\n          >\n            <svg\n              width=\"10px\"\n              height=\"9px\"\n              viewBox=\"0 0 10 9\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <g transform=\"translate(-1.000000, -2.000000)\">\n                  <polygon points=\"5 4.77777778 5 2 11 6.16666667 5 10.3333333 5 7.55555556 1 10.3333333 1 2\"></polygon>\n                </g>\n              </g>\n            </svg>\n          </a>\n        </td>\n      </tr>\n      <tr class=\"small text-center devui-week-header\">\n        <td *ngFor=\"let item of i18nText?.daysOfWeek\">{{ item }}</td>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let week of displayWeeks\">\n        <td\n          *ngFor=\"let day of week\"\n          class=\"devui-day {{ isBetweenDay(day.date) }}\"\n          [ngClass]=\"{\n            'devui-out-of-month': !day.inMonth,\n            'devui-in-month-day': day.inMonth,\n            active: isSelectDay(day.date),\n            disabled: isDisabledDay(day.date),\n            'devui-in-range': isInRange(day.date),\n            'devui-today': day.isToday\n          }\"\n          (click)=\"onSelectDate($event, day.date)\"\n          (mouseover)=\"emitHoverDate($event, day.date)\"\n        >\n          <div class=\"devui-calendar-date\">{{ day.day }}</div>\n        </td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr class=\"time-picker-view\" *ngIf=\"showTime\">\n        <ng-container *ngIf=\"!customViewTemplate\">\n          <td colspan=\"4\">\n            <div class=\"devui-timepicker\" *ngIf=\"showTime\" [ngClass]=\"{ 'devui-timepicker-disabled': isDisabledTime() }\">\n              <div class=\"devui-time\">\n                <input [ngModel]=\"currentHour\" (keydown)=\"fixTime($event, 'h')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('h')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('h')\"></div>\n                </div>\n              </div>\n              <div class=\"devui-time\">\n                <input class=\"devui-minutes\" [ngModel]=\"currentMinute\" (keydown)=\"fixTime($event, 'm')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('m')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('m')\"></div>\n                </div>\n              </div>\n              <div class=\"devui-time\">\n                <input class=\"devui-seconds\" [ngModel]=\"currentSecond\" (keydown)=\"fixTime($event, 's')\" [disabled]=\"isDisabledTime()\" />\n                <div class=\"devui-btn-nav\" *ngIf=\"!isDisabledTime()\">\n                  <div class=\"btn-up\" (click)=\"timeUp('s')\"></div>\n                  <div class=\"btn-down\" (click)=\"timeDown('s')\"></div>\n                </div>\n              </div>\n            </div>\n          </td>\n          <td colspan=\"3\" *ngIf=\"isAuxiliary\">\n            <div class=\"devui-btn-wrapper\">\n              <d-button bsStyle=\"common\" [disabled]=\"!rangeStart || !rangeEnd || disabled\" (btnClick)=\"confirmTime()\" bsSize=\"sm\">\n                {{ i18nCommonText?.btnConfirm }}\n              </d-button>\n            </div>\n          </td>\n        </ng-container>\n      </tr>\n    </tfoot>\n  </table>\n</div>\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { DateConverter, DefaultDateConverter } from 'ng-devui/utils';\nimport { Subject, Subscription } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { DatePickerConfigService as DatePickerConfig } from './date-picker.config.service';\nimport { SelectDateRangeChangeEventArgs, SelectDateRangeChangeReason } from './date-range-change-event-args.model';\n\n@Component({\n  selector: 'd-date-range-picker',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DateRangePickerComponent),\n    multi: true\n  }],\n  exportAs: 'dateRangePicker',\n  templateUrl: './date-range-picker.component.html',\n  styleUrls: ['./date-range-picker.component.scss'],\n  preserveWhitespaces: false,\n})\nexport class DateRangePickerComponent implements OnChanges, OnInit, ControlValueAccessor, OnDestroy {\n  @Input() locale: string;\n  @Input() cssClass: string;\n  @Input() disabled: boolean;\n  @Input() dateConverter: DateConverter;\n  @Input() selectedRange = [null, null];\n  @Input() dateFormat: string;\n  @Input() customViewTemplate: TemplateRef<any>;\n  @Output() selectedRangeChange = new EventEmitter<SelectDateRangeChangeEventArgs>();\n  @Output() hide = new EventEmitter<boolean>();\n  @ViewChild('leftPicker') leftPicker: ElementRef;\n  @ViewChild('rightPicker') rightPicker: ElementRef;\n  @ViewChild('templateWrap') templateWrap: ElementRef;\n  private _dateConfig: any;\n  private _maxDate: Date;\n  private _minDate: Date;\n  private _showTime: boolean;\n  public currentCalendars = [null, null];\n  public i18nLocale: I18nInterface['locale'];\n  public i18nText: I18nInterface['datePicker'];\n  private i18nSubscription: Subscription;\n  hoverOnDate: Subject<object> = new Subject<object>();\n  rangeStart;\n  rangeEnd;\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  @Input() set showTime(showTime: boolean) {\n    this._showTime = showTime;\n  }\n\n  get showTime() {\n    return typeof this._showTime === 'boolean' ? this._showTime : this.dateConfig.timePicker;\n  }\n\n  @Input() set dateConfig(dateConfig: any) {\n    if (this.checkDateConfig(dateConfig)) {\n      this._dateConfig = dateConfig;\n    } else {\n      this._dateConfig = this.datePickerConfig.dateConfig;\n    }\n  }\n\n  get dateConfig() {\n    return this._dateConfig;\n  }\n\n  @Input() set maxDate(date: Date | any) {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat) || null;\n    if (parseDate) {\n      this._maxDate = parseDate;\n    }\n  }\n\n  get maxDate() {\n    return this._maxDate;\n  }\n\n  @Input() set minDate(date: Date | any) {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat) || null;\n    if (parseDate) {\n      this._minDate = parseDate;\n    }\n  }\n\n  get minDate() {\n    return this._minDate;\n  }\n\n  constructor(private datePickerConfig: DatePickerConfig, private i18n: I18nService) {\n    this._dateConfig = datePickerConfig['dateConfig'];\n    this.dateConverter = datePickerConfig['dateConfig'].dateConverter || new DefaultDateConverter();\n    this.setI18nText();\n  }\n\n  checkDateConfig(dateConfig: any) {\n    if (!dateConfig) { return false; }\n    if (typeof(dateConfig.timePicker) !== 'boolean' || !dateConfig.max || !dateConfig.min || !dateConfig.format) {\n      return false;\n    }\n    return true;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes && changes['selectedRange'] && changes['selectedRange'].currentValue) {\n      this.writeValue(this.selectedRange);\n    }\n  }\n\n  ngOnInit() {\n    this._minDate = this.minDate ? new Date(this.minDate) : new Date(this.dateConfig.min, 0, 1, 0, 0, 0);\n    this._maxDate = this.maxDate ? new Date(this.maxDate) : new Date(this.dateConfig.max, 11, 31, 23, 59, 59);\n    this.subscribeHoverActions();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  writeValue(selectedRange): void {\n    if (selectedRange) {\n      this.selectedRange = selectedRange;\n      if (this.leftPicker) {\n        this.leftPicker['selectedRange'] = selectedRange;\n      }\n      if (this.rightPicker) {\n        this.rightPicker['selectedRange'] = selectedRange;\n      }\n      [this.rangeStart, this.rangeEnd] = this.selectedRange;\n    }\n  }\n\n  setI18nText() {\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18nText = this.i18n.getI18nText().datePicker;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nLocale = data.locale;\n      this.i18nText = data.datePicker;\n    });\n  }\n\n  rangeChange(data) {\n    this.chooseDate(data.selectedRange, data.reason);\n  }\n\n  chooseDate = (range, reason?) => {\n    const currentReason = typeof reason === 'number' ? reason : SelectDateRangeChangeReason.custom;\n    this.writeValue(range);\n    this.notifyValueChange(range, currentReason);\n  };\n\n  selectingDate(event) {\n    this.hoverOnDate.next(event);\n  }\n\n  subscribeHoverActions() {\n    this.hoverOnDate.pipe(\n      distinctUntilChanged()\n    ).subscribe((date) => {\n      this.previewRangeEnd(date);\n    });\n  }\n\n  previewRangeEnd(date) {\n    this.leftPicker['previewEnd'] = date;\n    this.rightPicker['previewEnd'] = date;\n  }\n\n  syncRangeStart(rangeStart, picker: any) {\n    picker.selectRange(rangeStart, true);\n  }\n\n  syncPickerPair(currentCalender: object, orientation: string) {\n    switch (orientation) {\n    case 'left':\n      this.currentCalendars[0] = currentCalender;\n      break;\n    case 'right':\n      this.currentCalendars[1] = currentCalender;\n      break;\n    }\n  }\n\n  notifyValueChange(range, reason) {\n    this.onChange(range);\n    this.onTouched();\n    this.selectedRangeChange.emit({\n      reason,\n      selectedRange: range\n    });\n  }\n\n  consolidateTime() {\n    const rangeStart = this.rangeStart;\n    const rangeEnd = this.rangeEnd;\n    const rangeStartTime = this.leftPicker['currentTime'];\n    const rangeEndTime = this.rightPicker['currentTime'];\n    this.rangeStart = new Date(rangeStart.getFullYear(), rangeStart.getMonth(), rangeStart.getDate(),\n      rangeStartTime.hour, rangeStartTime.minute, rangeStartTime.second);\n    this.rangeEnd = new Date(rangeEnd.getFullYear(), rangeEnd.getMonth(), rangeEnd.getDate(),\n      rangeEndTime.hour, rangeEndTime.minute, rangeEndTime.second);\n    const newRange = [this.rangeStart, this.rangeEnd];\n    this.onTouched();\n    this.writeValue(newRange);\n    this.notifyValueChange(newRange, SelectDateRangeChangeReason.button);\n    this.hide.emit(true);\n  }\n\n  ngOnDestroy(): void {\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n  }\n\n  clearAll = (reason?: SelectDateRangeChangeReason) => {\n    const currentReason = typeof reason === 'number' ? reason : SelectDateRangeChangeReason.custom;\n    this.chooseDate([null, null], currentReason);\n  };\n\n}\n","<div class=\"devui-date-range-picker\">\n  <d-datepicker-range-single\n    [locale]=\"locale || i18nLocale\"\n    class=\"devui-date-picker\"\n    [cssClass]=\"cssClass\"\n    [disabled]=\"disabled\"\n    [dateConverter]=\"dateConverter\"\n    (rangeSelected)=\"rangeChange($event)\"\n    [dateConfig]=\"dateConfig\"\n    [maxDate]=\"maxDate\"\n    [minDate]=\"minDate\"\n    (hoverOnDate)=\"selectingDate($event)\"\n    [rangePicker]=\"true\"\n    [selectedRange]=\"[rangeStart, rangeEnd]\"\n    (rangeSelecting)=\"syncRangeStart($event, rightPicker)\"\n    (syncPickerPair)=\"syncPickerPair($event, 'left')\"\n    [currentCalendars]=\"currentCalendars\"\n    [showTime]=\"showTime\"\n    #leftPicker\n  ></d-datepicker-range-single>\n  <d-datepicker-range-single\n    [locale]=\"locale || i18nLocale\"\n    class=\"devui-date-picker\"\n    [cssClass]=\"cssClass\"\n    [disabled]=\"disabled\"\n    [dateConverter]=\"dateConverter\"\n    (rangeSelected)=\"rangeChange($event)\"\n    [dateConfig]=\"dateConfig\"\n    [maxDate]=\"maxDate\"\n    [minDate]=\"minDate\"\n    (hoverOnDate)=\"selectingDate($event)\"\n    [rangePicker]=\"true\"\n    [selectedRange]=\"[rangeStart, rangeEnd]\"\n    (rangeSelecting)=\"syncRangeStart($event, leftPicker)\"\n    (syncPickerPair)=\"syncPickerPair($event, 'right')\"\n    [isAuxiliary]=\"true\"\n    [currentCalendars]=\"currentCalendars\"\n    [showTime]=\"showTime\"\n    (consolidateTime)=\"consolidateTime()\"\n    #rightPicker\n  ></d-datepicker-range-single>\n</div>\n<div class=\"devui-date-range-custom\" *ngIf=\"customViewTemplate\" #templateWrap>\n  <ng-template\n    [ngTemplateOutlet]=\"customViewTemplate\"\n    [ngTemplateOutletContext]=\"{\n      $implicit: this,\n      clearAll: clearAll,\n      chooseDate: chooseDate,\n      rangeStart: rangeStart,\n      rangeEnd: rangeEnd\n    }\"\n  ></ng-template>\n</div>\n","import { CdkOverlayOrigin, ConnectedOverlayPositionChange, VerticalConnectionPos } from '@angular/cdk/overlay';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectorRef,\n  Component,\n  ComponentRef,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport {\n  addClassToOrigin,\n  DateConverter,\n  DefaultDateConverter, DevConfigService, fadeInOut,\n  formWithDropDown,\n  removeClassFromOrigin, WithConfig\n} from 'ng-devui/utils';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { debounceTime, filter, map } from 'rxjs/operators';\nimport { DatePickerConfigService as DatePickerConfig } from './date-picker.config.service';\nimport { SelectDateRangeChangeEventArgs, SelectDateRangeChangeReason } from './date-range-change-event-args.model';\nimport { DateRangePickerComponent } from './date-range-picker.component';\n\n@Component({\n  /* eslint-disable-next-line @angular-eslint/component-selector*/\n  selector: '[dDateRangePicker]',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DateRangePickerDirective),\n    multi: true\n  }],\n  exportAs: 'dateRangePicker',\n  templateUrl: './date-range-picker.directive.html',\n  styleUrls: ['./date-range-picker.component.scss'],\n  animations: [\n    fadeInOut\n  ],\n  preserveWhitespaces: false,\n})\n// tslint:disable-next-line: component-class-suffix\nexport class DateRangePickerDirective implements OnInit, ControlValueAccessor, OnDestroy {\n  @Input() locale: string;\n  @Input() cssClass: string;\n  @Input() disabled: boolean;\n  @Input() dateConverter: DateConverter;\n  @Input() hideOnRangeSelected = false;\n  @Input() customViewTemplate: TemplateRef<any>;\n  @Input() splitter = '  -  ';\n  @Input() @WithConfig() showAnimation = true;\n  @Output() selectedRangeChange = new EventEmitter<SelectDateRangeChangeEventArgs>();\n  @ViewChild('dateRangePicker') dateRangePicker: ComponentRef<DateRangePickerComponent>;\n  private _maxDate: Date;\n  private _minDate: Date;\n  _selectedRange = [null, null];\n  private _isOpen = false;\n  private _dateConfig: any;\n  private _dateFormat: string;\n  private _showTime: boolean;\n  public cdkConnectedOverlayOrigin: any;\n  public i18nLocale: I18nInterface['locale'];\n  private i18nSubscription: Subscription;\n  private valueChangeSubscrip: Subscription;\n  datepickerPosition: VerticalConnectionPos = 'bottom';\n  valueList = [];\n  startAnimation = false;\n  document: Document;\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  @Input() set maxDate(date: Date | any) {\n    this._maxDate = date;\n  }\n\n  get maxDate() {\n    if (this.dateRangePicker && this.dateRangePicker['maxDate']) {\n      return this.dateRangePicker['maxDate'];\n    } else {\n      return this._maxDate;\n    }\n  }\n\n  @Input() set minDate(date: Date | any) {\n    this._minDate = date;\n  }\n\n  get minDate() {\n    if (this.dateRangePicker && this.dateRangePicker['minDate']) {\n      return this.dateRangePicker['minDate'];\n    } else {\n      return this._minDate;\n    }\n  }\n\n  @Input() set selectedRange(range: Array<Date | null>) {\n    if (Array.isArray(range) && range.every(_ => (!!_ || _ === null))) {\n      this._selectedRange = range;\n    }\n  }\n\n  get selectedRange() {\n    return this._selectedRange;\n  }\n\n  @Input() set showTime(showTime: boolean) {\n    this._showTime = showTime;\n  }\n\n  get showTime() {\n    return typeof this._showTime === 'boolean' ? this._showTime : this.dateConfig.timePicker;\n  }\n\n  @Input() set dateConfig(dateConfig: any) {\n    if (this.checkDateConfig(dateConfig)) {\n      this._dateConfig = dateConfig;\n    } else {\n      this._dateConfig = this.datePickerConfig.dateConfig;\n    }\n    this._dateFormat = this.showTime ? this._dateConfig.format.time : this._dateConfig.format.date;\n  }\n\n  get dateConfig() {\n    return this._dateConfig;\n  }\n\n  @Input() set dateFormat(dateFormat: string) {\n    if (dateFormat && this._dateFormat !== dateFormat) {\n      this._dateFormat = dateFormat;\n    }\n  }\n\n  get dateFormat() {\n    return this._dateFormat || this.datePickerConfig.defaultFormat;\n  }\n\n  set rangeStart(rangeStart: Date) {\n    if (this.dateRangePicker) {\n      this.dateRangePicker['rangeStart'] = rangeStart;\n    }\n  }\n\n  get rangeEnd() {\n    if (this.dateRangePicker) {\n      return this.dateRangePicker['rangeEnd'];\n    }\n  }\n\n  set isOpen(isOpen: boolean) {\n    if (this._isOpen !== isOpen) {\n      this._isOpen = isOpen;\n      if (!isOpen && !this.rangeEnd) {\n        this.rangeStart = null;\n      }\n      if (!isOpen) {\n        this.startAnimation = false;\n        removeClassFromOrigin(this.elementRef);\n        this.document.removeEventListener('click', this.onDocumentClick);\n      } else {\n        setTimeout(() => {\n          addClassToOrigin(this.elementRef);\n          this.document.addEventListener('click', this.onDocumentClick);\n          this.startAnimation = true;\n          this.cdr.detectChanges();\n        });\n      }\n    }\n  }\n\n  get isOpen() {\n    return this._isOpen;\n  }\n  constructor(\n    private elementRef: ElementRef,\n    private renderer: Renderer2,\n    private datePickerConfig: DatePickerConfig,\n    private i18n: I18nService,\n    private cdr: ChangeDetectorRef,\n    private devConfigService: DevConfigService,\n    @Inject(DOCUMENT) private doc: any\n  ) {\n    this._dateConfig = datePickerConfig['dateConfig'];\n    this.dateConverter = datePickerConfig['dateConfig'].dateConverter || new DefaultDateConverter();\n    this._minDate = this.minDate ? new Date(this.minDate) : new Date(this.dateConfig.min, 0, 1, 0, 0, 0);\n    this._maxDate = this.maxDate ? new Date(this.maxDate) : new Date(this.dateConfig.max, 11, 31, 23, 59, 59);\n    this.setI18nText();\n    this.document = this.doc;\n  }\n\n  @HostListener('blur', ['$event'])\n  onBlur($event) {\n    this.onTouched();\n    if (!this.validateDate(this.elementRef.nativeElement.value)) {\n      this.resetValue();\n    }\n  }\n\n  checkDateConfig(dateConfig: any) {\n    if (!dateConfig) { return false; }\n    if (typeof(dateConfig.timePicker) !== 'boolean' || !dateConfig.max || !dateConfig.min || !dateConfig.format) {\n      return false;\n    }\n    return true;\n  }\n\n  ngOnInit() {\n    this.updateCdkConnectedOverlayOrigin();\n    this.initInputChanges();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  initInputChanges(): void {\n    this.valueChangeSubscrip = fromEvent(this.elementRef.nativeElement, 'keyup').pipe(\n      map((e: any) => e.target.value),\n      filter(() => !this.disabled),\n      debounceTime(300)\n    ).subscribe(value => {\n      this.transUserInputToDatepicker(value);\n    });\n  }\n\n  writeValue(selectedRange): void {\n    this._selectedRange = selectedRange;\n    if (selectedRange) {\n      this.writeModelValue(selectedRange);\n    }\n  }\n\n  setI18nText() {\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nLocale = data.locale;\n    });\n  }\n\n  chooseDate = (range, reason?, hide = true) => {\n    if (this.dateRangePicker && this.dateRangePicker['chooseDate']) {\n      this.dateRangePicker['chooseDate'](range, reason);\n    } else {\n      this._selectedRange = [...range];\n      this.notifyValueChange({\n        reason: reason,\n        selectedRange: [...range]\n      });\n    }\n    if (!this.showTime && this.hideOnRangeSelected && hide) { this.hide(); }\n  };\n\n  updateCdkConnectedOverlayOrigin() {\n    if (this.elementRef.nativeElement) {\n      this.cdkConnectedOverlayOrigin = new CdkOverlayOrigin(\n        formWithDropDown(this.elementRef) || this.elementRef.nativeElement\n      );\n    }\n  }\n\n  toggle(clickShow?: boolean) {\n    if (clickShow === undefined) {\n      this.isOpen = !this.isOpen;\n    } else {\n      this.isOpen = clickShow;\n    }\n  }\n\n  public hide(event?) {\n    if (event !== false) {\n      this.isOpen = false;\n    }\n  }\n\n  private writeModelValue(input) {\n    if (Array.isArray(input) && input.every(_ => !!_)) {\n      this.renderer.setProperty(this.elementRef.nativeElement, 'value', this.formatDateRange(input));\n    } else {\n      this.renderer.setProperty(this.elementRef.nativeElement, 'value', '');\n    }\n  }\n\n  private formatDateRange(arr) {\n    return arr.map((date, i) => {\n      return (date ?\n        this.dateConverter.format(date, this.dateFormat, this.locale || this.i18nLocale) :\n        ['Start', 'End'][i]);\n    }).join(this.splitter);\n  }\n\n  onDocumentClick = ($event) => {\n    let templateWrap;\n    if (this.dateRangePicker && this.dateRangePicker['templateWrap']) {\n      templateWrap = this.dateRangePicker['templateWrap'];\n    }\n    if (templateWrap && templateWrap.nativeElement.contains($event.target) && !this.hideOnRangeSelected) {\n      this.isOpen = true;\n    } else if (this.elementRef.nativeElement !== $event.target) {\n      this.isOpen = false;\n    }\n    this.cdr.markForCheck();\n  };\n\n  onPositionChange(position: ConnectedOverlayPositionChange) {\n    switch (position.connectionPair.overlayY) {\n    case 'top':\n    case 'center':\n      this.datepickerPosition = 'bottom';\n      break;\n    case 'bottom':\n      this.datepickerPosition = 'top';\n    }\n  }\n\n  notifyValueChange(dateObj) {\n    this.writeValue(dateObj.selectedRange);\n    this.onChange(dateObj.selectedRange);\n    this.onTouched();\n    this.selectedRangeChange.emit({\n      reason: dateObj.reason,\n      selectedRange: dateObj.selectedRange\n    });\n    if (!this.showTime && this.hideOnRangeSelected) { this.hide(); }\n  }\n\n  private transUserInputToDatepicker(value?: string) {\n    if (!this.showTime && !this.disabled) {\n      const _value: string = value || this.elementRef.nativeElement.value;\n      if (!_value && !this.selectedRange.every(val => !!val)) {\n        this.clearAll(undefined, false);\n        return;\n      }\n      if (!_value) {\n        this.clearAll(undefined, false);\n        return;\n      }\n      if (this.validateDate(_value)) {\n        this.chooseDate(this.valueList, undefined, false);\n      }\n    } else {\n      this.resetValue();\n    }\n  }\n\n  resetValue(): void {\n    this.writeValue(this.selectedRange);\n  }\n\n  validateDate(value: string): boolean {\n    if (!value) {\n      return true;\n    }\n    this.valueList = value.split(this.splitter);\n    let valueFormat;\n    // 如果拆出来6个，则为日期间分隔符和年月日间分隔符相同的情况，此情况允许\n    if (this.valueList.length === 6 && this.valueList.every(val => !!val)) {\n      const curValueList = [];\n      this.valueList.forEach((val, index) => {\n        // 根据下标，前三个组装在一起，后三个组装在一起，不需要考虑分隔符，后面会format\n        if ((index + 1) % 3 === 1) {\n          curValueList.push(val);\n        } else {\n          curValueList[Math.ceil(index / 3) - 1] = curValueList[Math.ceil(index / 3) - 1] + '-' + val;\n        }\n      });\n      this.valueList = curValueList;\n    }\n    // 不管拆出来是6还是2个，都需要组装成2个日期\n    if (\n      this.valueList.length === 2 &&\n      this.valueList.every(val => !!val) &&\n      this.valueList.every((val, index) => new Date(val).getTime() === new Date(this.selectedRange[index]).getTime())\n    ) {\n      this.valueList = this.valueList.map(t => new Date(t));\n      return true;\n    }\n    if (!this.valueList.every(val => new Date(val).getTime())) {\n      return false;\n    }\n    if (this.valueList.length === 2 && this.valueList.every(val => !!val)) {\n      const valueTimeList = this.valueList.map(val => (new Date(`${val} 00:00:00`)).getTime());\n      valueFormat = this.formatDateRange(this.valueList.map(numValue => new Date(numValue)));\n      if (\n        value === valueFormat &&\n        !valueTimeList.every((val) => {\n          return (val >= this.minDate.getTime() && val <= this.maxDate.getTime());\n        })\n      ) {\n        return false;\n      } else {\n        // 判断前后俩日期是否大于最小，小于最大，若是则合法，进行如下操作\n        // 此时包括value为NaN既日期格式不正确的情况，对其进行处理下方判断会过滤掉\n        this.valueList = this.valueList.map(val => new Date(val).getTime()).sort((a, b) => a - b).map(numValue => new Date(numValue));\n      }\n      if (valueFormat && value === valueFormat) {\n        return true;\n      }\n      return false;\n    } else {\n      return false;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.hide();\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n    if (this.valueChangeSubscrip) {\n      this.valueChangeSubscrip.unsubscribe();\n    }\n    this.document.removeEventListener('click', this.onDocumentClick);\n  }\n\n  clearAll = (reason?: SelectDateRangeChangeReason, hide?: boolean) => {\n    const currentReason = typeof reason === 'number' ? reason : SelectDateRangeChangeReason.custom;\n    this.chooseDate([null, null], currentReason, hide);\n  };\n\n}\n","<ng-template\n  cdk-connected-overlay\n  [cdkConnectedOverlayOrigin]=\"cdkConnectedOverlayOrigin\"\n  [cdkConnectedOverlayOpen]=\"isOpen\"\n  (backdropClick)=\"isOpen=false\"\n  (positionChange)=\"onPositionChange($event)\"\n>\n  <div [@fadeInOut]=\"startAnimation ? datepickerPosition : 'void'\" [@.disabled]=\"!showAnimation\" class=\"devui-date-range-wrapper\">\n    <d-date-range-picker\n      #dateRangePicker\n      [locale]=\"locale\"\n      [cssClass]=\"cssClass\"\n      [disabled]=\"disabled\"\n      [dateConverter]=\"dateConverter\"\n      [customViewTemplate]=\"customViewTemplate\"\n      [minDate]=\"minDate\"\n      [maxDate]=\"maxDate\"\n      [dateFormat]=\"dateFormat\"\n      [showTime]=\"showTime\"\n      [selectedRange]=\"selectedRange\"\n      (selectedRangeChange)=\"notifyValueChange($event)\"\n      (hide)=\"hide($event)\"\n      [(ngModel)]=\"_selectedRange\"\n    ></d-date-range-picker>\n  </div>\n</ng-template>\n","import { CdkOverlayOrigin, ConnectedOverlayPositionChange, ConnectedPosition, VerticalConnectionPos } from '@angular/cdk/overlay';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewContainerRef\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport {\n  addClassToOrigin,\n  AppendToBodyDirection,\n  AppendToBodyDirectionsConfig,\n  DateConverter,\n  DefaultDateConverter,\n  fadeInOut,\n  formWithDropDown,\n  removeClassFromOrigin\n} from 'ng-devui/utils';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { debounceTime, filter, map } from 'rxjs/operators';\nimport { SelectDateChangeEventArgs, SelectDateChangeReason } from './date-change-event-args.model';\nimport { DatePickerConfigService as DatePickerConfig } from './date-picker.config.service';\n\n@Component({\n  /* eslint-disable-next-line @angular-eslint/component-selector*/\n  selector: '[dDatepicker][appendToBody]',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DatePickerAppendToBodyComponent),\n    multi: true\n  }],\n  exportAs: 'datepicker',\n  template: `\n    <ng-template cdk-connected-overlay\n                 [cdkConnectedOverlayOrigin]=\"cdkConnectedOverlayOrigin\"\n                 [cdkConnectedOverlayPositions]=\"positions\"\n                 [cdkConnectedOverlayOpen]=\"isOpen\"\n                 (backdropClick)=\"isOpen=false\"\n                 (positionChange)=\"onPositionChange($event)\">\n      <d-datepicker [@fadeInOut]=\"startAnimation ? datepickerPosition : 'void'\"\n                      [locale]=\"locale || i18nLocale\" [@.disabled]=\"!showAnimation\"\n                      [showTime]=\"showTime\" [cssClass]=\"cssClass\" [selectedDate]=\"selectedDate\"\n                      [disabled]=\"disabled\" [dateConverter]=\"dateConverter\" (selectedDateChange)=\"timeChange($event)\"\n                      [dateConfig]=\"dateConfig\"\n                      [customViewTemplate]=\"customViewTemplate\" [maxDate]=\"maxDate\"\n                      [minDate]=\"minDate\" class=\"devui-datepicker\"></d-datepicker>\n    </ng-template>\n  `,\n  animations: [\n    fadeInOut\n  ],\n  styleUrls: ['./datepicker-cdk-overlay.component.scss'],\n  preserveWhitespaces: false,\n})\nexport class DatePickerAppendToBodyComponent implements OnInit, OnChanges, OnDestroy, ControlValueAccessor {\n  @Input() appendToBodyDirections: Array<AppendToBodyDirection | ConnectedPosition> = [\n    'rightDown', 'leftDown', 'rightUp', 'leftUp'\n  ];\n  @Input() locale: string;\n  @Input() cssClass: string;\n  @Input() disabled: boolean;\n  @Input() dateConverter: DateConverter;\n  @Input() customViewTemplate: TemplateRef<any>;\n  @Input() autoOpen = false;\n  @Input() showAnimation = true;\n  @Output() selectedDateChange = new EventEmitter<SelectDateChangeEventArgs>();\n  selectedDate: Date;\n  _isOpen = false;\n  _dateConfig: any;\n  positions: ConnectedPosition[];\n  datepickerPosition: VerticalConnectionPos = 'bottom';\n  startAnimation = false;\n  private _dateFormat: string;\n  private _maxDate: Date;\n  private _minDate: Date;\n  private _showTime: boolean;\n  private valueChanges: Observable<any>;\n  private userInputSubscription: Subscription;\n  private i18nSubscription: Subscription;\n  public i18nLocale: I18nInterface['locale'];\n\n  public cdkConnectedOverlayOrigin: any;\n  document: Document;\n\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  @Input() set showTime(showTime: boolean) {\n    this._showTime = showTime;\n  }\n\n  get showTime() {\n    return typeof this._showTime === 'boolean' ? this._showTime : this.dateConfig.timePicker;\n  }\n\n  @Input() set dateConfig(dateConfig: any) {\n    if (this.checkDateConfig(dateConfig)) {\n      this._dateConfig = dateConfig;\n    } else {\n      this._dateConfig = this.datePickerConfig.dateConfig;\n    }\n    this._dateFormat = this.showTime ? this._dateConfig.format.time : this._dateConfig.format.date;\n  }\n\n  get dateConfig() {\n    return this._dateConfig;\n  }\n\n  @Input() set dateFormat(dateFormat: string) {\n    if (dateFormat && this._dateFormat !== dateFormat) {\n      this._dateFormat = dateFormat;\n      this.writeModelValue({selectedDate: this.selectedDate, reason: SelectDateChangeReason.format});\n    }\n  }\n\n  get dateFormat() {\n    return this._dateFormat || this.datePickerConfig.defaultFormat;\n  }\n\n  @Input() set maxDate(date: Date | any) {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat, this.locale || this.i18nLocale);\n    if (parseDate) {\n      this._maxDate = parseDate;\n    }\n  }\n  get maxDate() {\n    return this._maxDate;\n  }\n\n  @Input() set minDate(date: Date | any) {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat, this.locale || this.i18nLocale);\n    if (parseDate) {\n      this._minDate = parseDate;\n    }\n  }\n  get minDate() {\n    return this._minDate;\n  }\n\n  set isOpen(open: boolean) {\n    if (this._isOpen !== open) {\n      this._isOpen = open;\n      if (!open) {\n        this.startAnimation = false;\n        removeClassFromOrigin(this.elementRef);\n        this.document.removeEventListener('click', this.onDocumentClick);\n      } else {\n        setTimeout(() => {\n          this.startAnimation = true;\n          this.cdr.detectChanges();\n          addClassToOrigin(this.elementRef);\n          this.document.addEventListener('click', this.onDocumentClick);\n        });\n      }\n    }\n  }\n\n  get isOpen() {\n    return this._isOpen;\n  }\n\n  constructor(private elementRef: ElementRef, private viewContainerRef: ViewContainerRef,\n              private renderer2: Renderer2, private datePickerConfig: DatePickerConfig, private i18n: I18nService,\n              private cdr: ChangeDetectorRef,\n              @Inject(DOCUMENT) private doc: any) {\n    this._dateConfig = datePickerConfig['dateConfig'];\n    this.dateConverter = datePickerConfig['dateConfig'].dateConverter || new DefaultDateConverter();\n    this.setI18nText();\n    this.document = this.doc;\n  }\n\n  @HostListener('blur', ['$event'])\n  onBlur($event) {\n    this.onTouched();\n    const value = this.elementRef.nativeElement.value;\n    if (!this.validateDate(value)) {\n      this.resetValue();\n    }\n  }\n\n  checkDateConfig(dateConfig: any) {\n    if (!dateConfig) { return false; }\n    if (typeof(dateConfig.timePicker) !== 'boolean' || !dateConfig.max || !dateConfig.min || !dateConfig.format) {\n      return false;\n    }\n    return true;\n  }\n\n  ngOnInit() {\n    this._minDate = this.minDate ? new Date(this.minDate) : new Date(this.dateConfig.min, 0, 1, 0, 0, 0);\n    this._maxDate = this.maxDate ? new Date(this.maxDate) : new Date(this.dateConfig.max, 11, 31, 23, 59, 59);\n    this.setPositions();\n    this.updateCdkConnectedOverlayOrigin();\n    if (this.autoOpen) {\n      this.isOpen = true;\n    }\n    this.valueChanges = this.registerInputEvent();\n    this.userInputSubscription = this.valueChanges.subscribe((source) => this.transUserInputToDatepicker(source));\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['appendToBodyDirections']) {\n      this.setPositions();\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  registerInputEvent() {\n    return fromEvent(this.elementRef.nativeElement, 'keyup').pipe(\n      map((e: any) => e.target.value),\n      filter(() => !this.disabled),\n      debounceTime(300)\n    );\n  }\n\n  writeValue(obj: any): void {\n    this.selectedDate = obj ?\n      this.dateConverter.parse(obj, this.dateFormat, this.locale || this.i18nLocale) : null;\n    const value =\n      this.selectedDate ? this.dateConverter.format(this.selectedDate, this.dateFormat, this.locale || this.i18nLocale) : '';\n    this.renderer2.setProperty(this.elementRef.nativeElement, 'value', value);\n  }\n\n  setI18nText() {\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nLocale = data.locale;\n    });\n  }\n\n  timeChange(dateObj) {\n    this.writeValue(dateObj ? dateObj['selectedDate'] : null);\n    this.writeModelValue(dateObj);\n    if (dateObj && (dateObj['reason'] === SelectDateChangeReason.date && !this.showTime ||\n    dateObj['reason'] === SelectDateChangeReason.button)) {\n      this.isOpen = false;\n    }\n  }\n\n  updateCdkConnectedOverlayOrigin() {\n    if (this.elementRef.nativeElement) {\n      this.cdkConnectedOverlayOrigin = new CdkOverlayOrigin(\n        formWithDropDown(this.elementRef) || this.elementRef.nativeElement\n      );\n    }\n  }\n\n  toggle(clickShow?: boolean) {\n    if (clickShow === undefined) {\n      if (this.isOpen) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    } else {\n      if (clickShow) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n  }\n\n  hide() {\n    this.isOpen = false;\n  }\n\n  show() {\n    this.isOpen = true;\n  }\n\n  private writeModelValue(selectDateObj: any) {\n    let selectDate;\n    let dateReason = SelectDateChangeReason.time;\n    if (selectDateObj && typeof selectDateObj === 'object' && Object.prototype.hasOwnProperty.call(selectDateObj, 'selectedDate')) {\n      selectDate = selectDateObj.selectedDate;\n      dateReason = selectDateObj.reason;\n    }\n    if (selectDate) {\n      selectDate = new Date(selectDate);\n    } else {\n      selectDate = null;\n    }\n    this.onChange(selectDate); // 这行代码能触发ngModel绑定的变量值发生变化\n    this.onTouched();\n    this.selectedDateChange.emit({\n      reason: dateReason,\n      selectedDate: this.selectedDate\n    });\n  }\n\n  onDocumentClick = ($event) => {\n    if (this.elementRef.nativeElement !== $event.target) {\n      this.isOpen = false;\n      this.cdr.markForCheck();\n    }\n  };\n\n  onPositionChange(position: ConnectedOverlayPositionChange) {\n    switch (position.connectionPair.overlayY) {\n    case 'top':\n    case 'center':\n      this.datepickerPosition = 'bottom';\n      break;\n    case 'bottom':\n      this.datepickerPosition = 'top';\n    }\n  }\n\n  setPositions() {\n    if (this.appendToBodyDirections && this.appendToBodyDirections.length > 0) {\n      this.positions = this.appendToBodyDirections.map(position => {\n        if (typeof position === 'string') {\n          return AppendToBodyDirectionsConfig[position];\n        } else {\n          return position;\n        }\n      }).filter(position => position !== undefined);\n    } else {\n      this.positions = undefined;\n    }\n  }\n\n  private transUserInputToDatepicker(value) {\n    if (!value && !this.selectedDate) {\n      return;\n    }\n    if (!value) {\n      this.clearAll();\n      return;\n    }\n    const valueDate = new Date(value);\n    const valueFormat = valueDate && !isNaN(valueDate.getTime()) &&\n      this.dateConverter.format(valueDate, this.dateFormat, this.locale || this.i18nLocale);\n    if (new Date(valueFormat).getTime() === new Date(this.selectedDate).getTime() || !this.validateDate(value)) {\n      return;\n    }\n    if (this.showTime || this.disabled) {\n      this.resetValue();\n    } else {\n      this.selectedDate = valueDate;\n      this.writeModelValue({\n        reason: SelectDateChangeReason.custom,\n        selectedDate: valueDate\n      });\n    }\n  }\n\n  validateDate(value: string) {\n    const valueDate = new Date(value);\n    const valueFormat = valueDate && !isNaN(valueDate.getTime()) &&\n      this.dateConverter.format(valueDate, this.dateFormat, this.locale || this.i18nLocale);\n    if (\n      !valueDate || value !== valueFormat ||\n      (value === valueFormat && (valueDate.getTime() < this.minDate.getTime() || valueDate.getTime() > this.maxDate.getTime()))\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  resetValue() {\n    const resDate = this.selectedDate ?\n      this.dateConverter.format(this.selectedDate, this.dateFormat, this.locale || this.i18nLocale) :\n      '';\n    this.elementRef.nativeElement.value = resDate;\n  }\n\n  clearAll = (reason?: SelectDateChangeReason) => {\n    if (this.disabled) {\n      return;\n    }\n    this.writeValue(null);\n    this.selectedDate = null;\n    this.onChange(null);\n    this.onTouched();\n    const currentReason = typeof reason === 'number' ? reason : SelectDateChangeReason.custom;\n    this.selectedDateChange.emit({\n      reason: currentReason,\n      selectedDate: null\n    });\n  };\n\n  ngOnDestroy() {\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n    if (this.userInputSubscription) {\n      this.userInputSubscription.unsubscribe();\n    }\n    this.document.removeEventListener('click', this.onDocumentClick);\n  }\n}\n","import { animate, AnimationBuilder, AnimationMetadata, AnimationPlayer, style } from '@angular/animations';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectorRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewContainerRef\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport {\n  addClassToOrigin,\n  AnimationCurves,\n  AnimationDuration,\n  DateConverter,\n  DefaultDateConverter, DevConfigService, removeClassFromOrigin, WithConfig\n} from 'ng-devui/utils';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { debounceTime, filter, map } from 'rxjs/operators';\nimport { SelectDateChangeEventArgs, SelectDateChangeReason } from './date-change-event-args.model';\nimport { DatePickerConfigService as DatePickerConfig } from './date-picker.config.service';\nimport { DatepickerComponent } from './datepicker.component';\n\n@Directive({\n  selector: '[dDatepicker]:not([appendToBody])',\n  exportAs: 'datepicker',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DatepickerDirective),\n      multi: true,\n    },\n  ],\n})\nexport class DatepickerDirective implements OnInit, OnDestroy, ControlValueAccessor {\n  @Input() locale: string;\n  @Input() cssClass: string;\n  @Input() disabled: boolean;\n  @Input() mode: 'year' | 'month' | 'date' = 'date';\n  @Input() dateConverter: DateConverter;\n  yearNumber = 12;\n  @Input() direction: 'up' | 'down' = 'down';\n  @Input() customViewTemplate: TemplateRef<any>;\n  @Input() autoOpen = false;\n  @Input() @WithConfig() showAnimation = true;\n  @Output() selectedDateChange = new EventEmitter<SelectDateChangeEventArgs>();\n  selectedDate: Date;\n  private _isOpen = false;\n  _dateConfig: any;\n  private _dateFormat: string;\n  private _maxDate: Date;\n  private _minDate: Date;\n  private _showTime: boolean;\n  private cmpRef: ComponentRef<DatepickerComponent>;\n  private player: AnimationPlayer;\n  private valueChanges: Observable<any>;\n  private userInputSubscription: Subscription;\n  private i18nSubscription: Subscription;\n  private i18nLocale: I18nInterface['locale'];\n  document: Document;\n\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  set isOpen(val) {\n    this._isOpen = val;\n    if (val) {\n      addClassToOrigin(this.elementRef);\n      setTimeout(() => {\n        this.document.addEventListener('click', this.onDocumentClick);\n      });\n    } else {\n      removeClassFromOrigin(this.elementRef);\n      this.document.removeEventListener('click', this.onDocumentClick);\n    }\n  }\n  get isOpen() {\n    return this._isOpen;\n  }\n\n  @Input() set showTime(showTime: boolean) {\n    this._showTime = showTime;\n  }\n\n  get showTime() {\n    return typeof this._showTime === 'boolean' ? this._showTime : this.dateConfig.timePicker;\n  }\n\n  @Input() set dateConfig(dateConfig: any) {\n    if (this.checkDateConfig(dateConfig)) {\n      this._dateConfig = dateConfig;\n    } else {\n      this._dateConfig = this.datePickerConfig.dateConfig;\n    }\n    this._dateFormat = this.showTime ? this._dateConfig.format.time : this._dateConfig.format.date;\n  }\n\n  get dateConfig() {\n    return this._dateConfig;\n  }\n\n  @Input() set dateFormat(dateFormat: string) {\n    if (dateFormat && this._dateFormat !== dateFormat) {\n      this._dateFormat = dateFormat;\n      this.writeModelValue({ selectedDate: this.selectedDate, reason: SelectDateChangeReason.format });\n    }\n  }\n\n  get dateFormat() {\n    return this._dateFormat || this.datePickerConfig.defaultFormat;\n  }\n\n  @Input() set maxDate(date: Date | any) {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat);\n    if (parseDate) {\n      this._maxDate = parseDate;\n    }\n  }\n\n  get maxDate() {\n    return this._maxDate;\n  }\n\n  @Input() set minDate(date: Date | any) {\n    const parseDate = this.dateConverter.parse(date, this.dateFormat);\n    if (parseDate) {\n      this._minDate = parseDate;\n    }\n  }\n\n  get minDate() {\n    return this._minDate;\n  }\n\n  constructor(\n    private elementRef: ElementRef,\n    private viewContainerRef: ViewContainerRef,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private renderer2: Renderer2,\n    private injector: Injector,\n    private datePickerConfig: DatePickerConfig,\n    private i18n: I18nService,\n    private builder: AnimationBuilder,\n    private cdr: ChangeDetectorRef,\n    private devConfigService: DevConfigService,\n    @Inject(DOCUMENT) private doc: any\n  ) {\n    this._dateConfig = datePickerConfig['dateConfig'];\n    this.dateConverter = datePickerConfig['dateConfig'].dateConverter || new DefaultDateConverter();\n    this.selectedDate = null;\n    const factory = this.componentFactoryResolver.resolveComponentFactory(DatepickerComponent);\n    this.cmpRef = this.viewContainerRef.createComponent(factory, this.viewContainerRef.length, this.injector);\n    this.setI18nText();\n    this.document = this.doc;\n  }\n\n  @HostListener('blur', ['$event'])\n  onBlur($event) {\n    this.onTouched();\n    const value = this.elementRef.nativeElement.value;\n    if (!this.validateDate(value)) {\n      this.resetValue();\n    }\n  }\n\n  checkDateConfig(dateConfig: any) {\n    if (!dateConfig) {\n      return false;\n    }\n    if (typeof dateConfig.timePicker !== 'boolean' || !dateConfig.max || !dateConfig.min || !dateConfig.format) {\n      return false;\n    }\n    return true;\n  }\n\n  ngOnInit() {\n    this._minDate = this.minDate ? new Date(this.minDate) : new Date(this.dateConfig.min, 0, 1, 0, 0, 0);\n    this._maxDate = this.maxDate ? new Date(this.maxDate) : new Date(this.dateConfig.max, 11, 31, 23, 59, 59);\n    const target = this.cmpRef.location.nativeElement;\n    this.applyPopupStyling(target);\n    const component = this.cmpRef.instance;\n    component.dateFormat = this.dateFormat;\n    this.renderer2.setStyle(target, 'display', 'none');\n    component.writeValue(this.selectedDate);\n    this.fillPopupData();\n    component.ngOnInit();\n\n    component.registerOnChange((selectedDateObj) => {\n      this.writeValue(selectedDateObj);\n      this.onChange(selectedDateObj.selectedDate);\n    });\n\n    component.selectedDateChange.subscribe((arg: SelectDateChangeEventArgs) => {\n      if ((arg.reason === SelectDateChangeReason.date && !this.showTime) || arg.reason === SelectDateChangeReason.button) {\n        this.hide();\n      }\n    });\n\n    if (this.autoOpen) {\n      this.show();\n    }\n    this.valueChanges = this.registerInputEvent();\n    this.userInputSubscription = this.valueChanges.subscribe((source) => this.transUserInputToDatepicker(source));\n  }\n\n  writeValue(obj: any): void {\n    let curDate;\n    if (obj && typeof obj === 'object' && Object.prototype.hasOwnProperty.call(obj, 'selectedDate')) {\n      curDate = obj.selectedDate;\n    } else {\n      curDate = obj;\n    }\n    this.selectedDate = curDate ? this.dateConverter.parse(curDate, this.dateFormat) : null;\n    this.writeModelValue(obj);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  registerInputEvent() {\n    return fromEvent(this.elementRef.nativeElement, 'keyup').pipe(\n      map((e: any) => e.target.value),\n      filter(() => !this.disabled),\n      debounceTime(300)\n    );\n  }\n\n  private setI18nText() {\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nLocale = data.locale;\n    });\n  }\n\n  private applyPopupStyling(nativeElement: any) {\n    this.renderer2.addClass(nativeElement, 'devui-dropdown-menu');\n    this.renderer2.setStyle(nativeElement, 'padding', '0px');\n    this.renderer2.setStyle(nativeElement, 'left', '-1px');\n    this.renderer2.setStyle(nativeElement, 'top', 'calc(100% + 1px)');\n    if (this.direction === 'up') {\n      this.renderer2.setStyle(nativeElement, 'top', 'auto');\n      this.renderer2.setStyle(nativeElement, 'bottom', 'calc(100% + 1px)');\n    }\n  }\n\n  hide() {\n    const playAnimation = this.isOpen !== false;\n    this.isOpen = false;\n    if (playAnimation) {\n      this.playAnimation();\n    }\n  }\n\n  private writeModelValue(selectDateObj: any) {\n    let selectDate;\n    let dateReason = SelectDateChangeReason.time;\n    if (selectDateObj && typeof selectDateObj === 'object' && Object.prototype.hasOwnProperty.call(selectDateObj, 'selectedDate')) {\n      selectDate = selectDateObj.selectedDate;\n      dateReason = selectDateObj.reason;\n    } else {\n      selectDate = selectDateObj;\n    }\n    if (selectDate) {\n      selectDate = new Date(selectDate);\n    } else {\n      selectDate = null;\n    }\n    const value = selectDate ? this.dateConverter.format(selectDate, this.dateFormat, this.locale || this.i18nLocale) : '';\n    this.renderer2.setProperty(this.elementRef.nativeElement, 'value', value);\n    if (this.isOpen) {\n      this.cmpRef.instance.writeValue(this.selectedDate);\n    }\n    if (selectDateObj && typeof selectDateObj === 'object' && Object.prototype.hasOwnProperty.call(selectDateObj, 'selectedDate')) {\n      this.selectedDateChange.emit({\n        reason: dateReason,\n        selectedDate: this.selectedDate,\n      });\n      this.onTouched();\n    }\n  }\n\n  show() {\n    const component = this.cmpRef.instance;\n    component.writeValue(this.selectedDate);\n    this.fillPopupData();\n    const playAnimation = this.isOpen !== true;\n    this.isOpen = true;\n    if (playAnimation) {\n      setTimeout(() => {\n        this.playAnimation();\n      });\n    }\n  }\n\n  toggle(clickShow?: boolean) {\n    if (clickShow === undefined) {\n      if (this.isOpen) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    } else {\n      if (clickShow) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n  }\n\n  private fillPopupData() {\n    [\n      'showTime',\n      'maxDate',\n      'minDate',\n      'cssClass',\n      'disabled',\n      'dateConverter',\n      'locale',\n      'dateFormat',\n      'yearNumber',\n      'dateConfig',\n      'mode',\n      'customViewTemplate',\n    ].forEach((key) => {\n      if (this[key] !== undefined) {\n        this.cmpRef.instance[key] = this[key];\n      }\n    });\n  }\n\n  onDocumentClick = ($event) => {\n    if (this.elementRef.nativeElement !== $event.target) {\n      this.hide();\n      this.cdr.markForCheck();\n    }\n  };\n\n  clearAll(reason?: SelectDateChangeReason) {\n    if (this.disabled) {\n      return;\n    }\n    this.onTouched();\n    this.cmpRef.instance.clearAll(reason);\n  }\n\n  private popIn(direction): AnimationMetadata[] {\n    switch (direction) {\n    case 'top':\n      return [\n        style({ transform: 'scaleY(0.8) translateY(4px)', opacity: 0.8, transformOrigin: '0% 100%', display: 'block' }),\n        animate(\n          `${AnimationDuration.BASE} ${AnimationCurves.EASE_OUT}`,\n          style({ transform: 'scaleY(0.9999) translateY(0)', opacity: 1, transformOrigin: '0% 100%', display: 'block' })\n        ),\n      ];\n    case 'bottom':\n    default:\n      return [\n        style({ transform: 'scaleY(0.8)  translateY(-4px)', opacity: 0.8, transformOrigin: '0% 0%', display: 'block' }),\n        animate(\n          `${AnimationDuration.BASE}  ${AnimationCurves.EASE_OUT}`,\n          style({ transform: 'scaleY(0.9999)  translateY(0)', opacity: 1, transformOrigin: '0% 0%', display: 'block' })\n        ),\n      ];\n    }\n  }\n\n  private popOut(direction): AnimationMetadata[] {\n    switch (direction) {\n    case 'top':\n      return [\n        style({ transform: 'scaleY(0.9999)  translateY(0)', opacity: 1, transformOrigin: '0% 100%', display: 'block' }),\n        animate(\n          `${AnimationDuration.BASE} ${AnimationCurves.EASE_IN}`,\n          style({ transform: 'scaleY(0.8)  translateY(4px)', opacity: 0.8, transformOrigin: '0% 100%', display: 'block' })\n        ),\n      ];\n    case 'bottom':\n    default:\n      return [\n        style({ transform: 'scaleY(0.9999)  translateY(0)', opacity: 1, transformOrigin: '0% 0%', display: 'block' }),\n        animate(\n          `${AnimationDuration.BASE} ${AnimationCurves.EASE_IN}`,\n          style({ transform: 'scaleY(0.8)  translateY(-4px)', opacity: 0.8, transformOrigin: '0% 0%', display: 'block' })\n        ),\n      ];\n    }\n  }\n\n  private playAnimation() {\n    if (this.player) {\n      this.player.destroy();\n    }\n    let direction = '';\n    switch (this.direction) {\n    case 'down':\n      direction = 'bottom';\n      break;\n    case 'up':\n      direction = 'top';\n      break;\n    default:\n      direction = 'bottom';\n    }\n    if (this.showAnimation) {\n      const metadata = this.isOpen ? this.popIn(direction) : this.popOut(direction);\n      const factory = this.builder.build(metadata);\n      this.player = factory.create(this.cmpRef.location.nativeElement);\n      this.renderer2.setStyle(this.cmpRef.location.nativeElement, 'display', 'block');\n      this.player.onDone(() => {\n        if (!this.isOpen) {\n          const targetElement = this.cmpRef.location.nativeElement;\n          this.renderer2.setStyle(targetElement, 'display', 'none');\n        }\n      });\n      this.player.play();\n    } else {\n      this.renderer2.setStyle(this.cmpRef.location.nativeElement, 'display', this.isOpen ? 'block' : 'none');\n    }\n  }\n\n  private transUserInputToDatepicker(value) {\n    if (!value && !this.selectedDate) {\n      return;\n    }\n    if (!value) {\n      this.clearAll();\n      return;\n    }\n    const valueDate = new Date(value);\n    const valueFormat =\n      valueDate instanceof Date &&\n      !isNaN(valueDate.getTime()) &&\n      this.dateConverter.format(valueDate, this.dateFormat, this.locale || this.i18nLocale);\n    if (new Date(valueFormat).getTime() === new Date(this.selectedDate).getTime() || !this.validateDate(value)) {\n      return;\n    }\n    if (this.showTime || this.disabled) {\n      this.resetValue();\n    } else {\n      this.cmpRef.instance.chooseDate(value);\n    }\n  }\n\n  validateDate(value: string) {\n    const valueDate = new Date(value);\n    const valueFormat =\n      valueDate && !isNaN(valueDate.getTime()) && this.dateConverter.format(valueDate, this.dateFormat, this.locale || this.i18nLocale);\n    if (\n      !valueDate ||\n      value !== valueFormat ||\n      (value === valueFormat && (valueDate.getTime() < this.minDate.getTime() || valueDate.getTime() > this.maxDate.getTime()))\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  resetValue() {\n    const resDate = this.selectedDate ? this.dateConverter.format(this.selectedDate, this.dateFormat, this.locale || this.i18nLocale) : '';\n    this.elementRef.nativeElement.value = resDate;\n  }\n\n  ngOnDestroy() {\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n    if (this.userInputSubscription) {\n      this.userInputSubscription.unsubscribe();\n    }\n    this.document.removeEventListener('click', this.onDocumentClick);\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nService } from 'ng-devui/i18n';\nimport { DatePickerConfigService as DatePickerConfig } from '../date-picker.config.service';\nimport { SelectDateRangeChangeEventArgs, SelectDateRangeChangeReason } from '../date-range-change-event-args.model';\nimport { DatepickerComponent as SingleDatepickerComponent } from '../datepicker.component';\nimport { SimpleDate } from '../single-date-range-picker.component';\n\n@Component({\n  selector: 'd-two-datepicker-single',\n  templateUrl: '../single-date-range-picker.component.html',\n  styleUrls: ['../single-date-range-picker.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TwoDatepickerSingleComponent),\n      multi: true,\n    }\n  ]\n})\n\nexport class TwoDatepickerSingleComponent extends SingleDatepickerComponent implements OnChanges, OnInit {\n  @Input() selectedRange: Date[] = Array(2);\n  @Input() rangePicker = false;\n  @Input() isAuxiliary = false;\n  @Input() currentCalendars = Array(2);\n  @Input() whichOpen: any;\n  @Output() hoverOnDate = new EventEmitter<any>();\n  @Output() rangeSelected = new EventEmitter<SelectDateRangeChangeEventArgs>();\n  @Output() rangeSelecting = new EventEmitter<SelectDateRangeChangeEventArgs>();\n  @Output() syncPickerPair = new EventEmitter<{}>();\n  @Output() consolidateTime = new EventEmitter<any>();\n  public rangeStart;\n  public rangeEnd;\n  public previewEnd;\n  protected selectingRange: boolean;\n\n  constructor(\n    protected elementRef: ElementRef,\n    protected renderer: Renderer2,\n    protected datePickerConfig: DatePickerConfig,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected i18n: I18nService\n  ) {\n    super(elementRef, renderer, datePickerConfig, changeDetectorRef, i18n);\n    this.setI18nText();\n  }\n\n  ngOnInit() {\n    [this.rangeStart, this.rangeEnd] = this.selectedRange;\n    if (!this.isAuxiliary && !this.rangeStart) {\n      // 主面板，未选择开始日期的情况\n      this.onSelectDateChanged();\n      this.onDisplayWeeksChange();\n      this.initDatePicker();\n    } else if (this.isAuxiliary && !this.rangeEnd) {\n      // 副面板，未选择结束日期的情况\n      this.onSelectDateChanged();\n      this.initDatePicker();\n      this.onNextMonth('init');\n      this.selectedDate = new Date(this.currentYear, this.currentMonthIndex);\n\n    } else if (!this.isAuxiliary && this.rangeStart) {\n      // 主面板，已选择开始日期的情况\n      this.selectedDate = this.rangeStart;\n      super.ngOnInit();\n    } else if (this.isAuxiliary && this.rangeEnd) {\n      // 副面板，已选择结束日期的情况\n      const rangeStart = this.convertDate(this.rangeStart);\n      const rangeEnd = this.convertDate(this.rangeEnd);\n      this.currentYear = rangeEnd.getFullYear();\n      this.currentMonthIndex = rangeEnd.getMonth();\n      this.selectedDate = this.rangeEnd;\n      super.ngOnInit();\n      // 处理选择的日期范围开始和结束在同一个月的情况\n      if (rangeStart && rangeEnd && rangeStart.getFullYear() === rangeEnd.getFullYear() &&\n        rangeStart.getMonth() === rangeEnd.getMonth()) {\n        this.onNextMonth('init');\n      }\n      this.selectedDate = new Date(this.currentYear, this.currentMonthIndex);\n    }\n    if (!this.selectedRange.every(curDate => !!curDate)) {\n      this.selectingRange = true;\n    }\n    this.availableMonths = this.onDisplayMonthsChange();\n    this.notifyCalenderChange();\n  }\n\n  /*\n  **  @param invocation:调用时机\n  */\n  onSelectDate($event, date, invocation?: any) {\n    if ($event.stopPropagation) {\n      $event.stopPropagation();\n    }\n\n    if (invocation !== 'init') {\n      if (this.isDisabledDay(date)) {\n        $event.preventDefault();\n        return;\n      }\n      this.selectRange(date);\n    }\n  }\n\n  emitHoverDate($event, date) {\n    if (this.selectingRange && date.getTime() <= this.maxDate.getTime() && date.getTime() >= this.minDate.getTime()) {\n      this.hoverOnDate.emit(date);\n    }\n  }\n\n  selectSingle(date) {\n    if (date) {\n      const ensureRange = this.ensureRangeValueOrder([this.rangeStart, this.rangeEnd]);\n      this.rangeChange(ensureRange);\n    }\n  }\n\n  convertDate(date) {\n    return date ? this.dateConverter.parse(date) : null;\n  }\n\n  selectRange(date, passive = false) {\n    if (this.whichOpen === 'start') {\n      if (!this.rangeEnd) {\n        this.rangeEnd = null;\n        this.selectingRange = true;\n      } else {\n        this.selectingRange = false;\n      }\n      if (!passive) {\n        this.rangeStart = this.convertDate(date);\n        this.selectSingle(date);\n        this.rangeSelecting.emit(this.rangeStart);\n      }\n    } else if (this.whichOpen === 'end') {\n      if (this.rangeStart && this.rangeEnd || (!this.rangeStart && !this.rangeEnd)) {\n        this.selectingRange = false;\n      } else {\n        this.selectingRange = true;\n        if (!this.rangeStart) {\n          this.rangeStart = null;\n        }\n        if (!this.rangeEnd) {\n          this.rangeEnd = null;\n        }\n      }\n      if (!passive) {\n        this.rangeEnd = this.convertDate(date);\n        this.selectSingle(date);\n        this.rangeSelecting.emit(this.rangeEnd);\n      }\n    }\n  }\n\n  rangeChange(range) {\n    [this.rangeStart, this.rangeEnd] = this.selectedRange = range;\n    this.notifyValueChange(range);\n  }\n\n  writeValue(selectedRange: any): void {\n    this.selectedRange = selectedRange;\n  }\n\n  protected notifyValueChange(selectedRange: Date[]) {\n    this.onChange(selectedRange);\n    this.rangeSelected.emit({\n      reason: SelectDateRangeChangeReason.date,\n      selectedRange: selectedRange\n    });\n  }\n\n  isSelectDay(date) {\n    let rangeSource = this.selectedRange;\n    if (this.selectingRange) {\n      rangeSource = [this.rangeStart || this.rangeEnd, this.previewEnd];\n    }\n    if ((!Array.isArray(rangeSource))) {\n      return;\n    }\n    return rangeSource.some((selectedDate) => {\n      if (!selectedDate || !date) {\n        return false;\n      }\n      return (\n        date.getFullYear() === selectedDate.getFullYear() &&\n        date.getMonth() === selectedDate.getMonth() &&\n        date.getDate() === selectedDate.getDate()\n      );\n    });\n  }\n\n  isBetweenDay(date) {\n    if (Array.isArray(this.selectedRange) && this.selectedRange.every(day => !!day)) {\n      const index = this.selectedRange.findIndex(day => {\n        return date.getFullYear() === day.getFullYear() &&\n        date.getMonth() === day.getMonth() &&\n        date.getDate() === day.getDate();\n      });\n      return ['devui-day-start', 'devui-day-end'][index];\n    } else {\n      return;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (Object.prototype.hasOwnProperty.call(changes, 'selectedRange')) {\n      [this.rangeStart, this.rangeEnd] = changes['selectedRange'].currentValue;\n      if (this.rangeStart && this.rangeEnd) {\n        this.selectingRange = false;\n      }\n    }\n  }\n\n  isInRange(date) {\n    let rangeStart = this.rangeStart;\n    let rangeEnd = this.rangeEnd;\n    if (this.selectingRange) {\n      if (rangeEnd) {\n        rangeStart = this.previewEnd;\n      } else if (rangeStart) {\n        rangeEnd = this.previewEnd;\n      }\n    }\n    date = (new Date(date)).getTime();\n    return date < Math.max((new Date(rangeStart)).getTime(), (new Date(rangeEnd)).getTime())\n      && date > Math.min((new Date(rangeStart)).getTime(), (new Date(rangeEnd)).getTime());\n  }\n\n  ensureRangeValueOrder(dateRange) {\n    if (Array.isArray(dateRange) && dateRange.length === 2 && dateRange.every(curDate => !!curDate)) {\n      if (dateRange[0].getTime() > dateRange[1].getTime()) {\n        if (this.whichOpen === 'start') {\n          return [dateRange[0], null];\n        } else {\n          return [null, dateRange[1]];\n        }\n      }\n    }\n    return dateRange;\n  }\n\n  onNextMonth(invocation?: any) {\n    if (this.hasNextMonth() || invocation === 'init') {\n      let maxDateInRange;\n      if (invocation === 'init') {\n        maxDateInRange = this.selectedRange.reduce((start, end) => new Date(end) > new Date(start) ? end : start);\n      }\n      super.onNextMonth(maxDateInRange, 'init');\n      this.notifyCalenderChange();\n    }\n  }\n\n  hasNextMonth() {\n    let hasNextMonth = true;\n    // 副面板只用考虑maxDate的影响\n    // 主面板同时考虑maxDate和日历的影响\n    // minDate的影响在super.hasNextMonth()中有计算\n    if (!this.isAuxiliary && this.currentCalendars[0] && this.currentCalendars[1]) {\n      hasNextMonth = this.isBeforeMoreThanOneMonth(this.currentCalendars[0], this.currentCalendars[1]);\n    }\n\n    return hasNextMonth && super.hasNextMonth();\n  }\n\n  onPreMonth() {\n    if (this.hasPreMonth()) {\n      super.onPreMonth();\n      this.notifyCalenderChange();\n    }\n  }\n\n  hasPreMonth() {\n    let hasPrevMonth = true;\n    // 主面板只用考虑minDate的影响\n    // 副面板同时考虑minDate和日历的影响\n    // minDate的影响在super.hasPreMonth()中有计算\n    if (this.isAuxiliary && this.currentCalendars[0] && this.currentCalendars[1]) {\n      hasPrevMonth = this.isAfterMoreThanOneMonth(this.currentCalendars[1], this.currentCalendars[0]);\n    }\n\n    return hasPrevMonth && super.hasPreMonth();\n  }\n\n  hasPreYearOption() {\n    let hasPrevYear = true;\n    if (this.openChooseYear) {\n      if (!this.isAuxiliary) {\n        hasPrevYear = this.nowMinYear > this.minDate.getFullYear();\n      } else {\n        hasPrevYear = this.nowMinYear > this.minDate.getFullYear() &&\n          this.isBeforeMoreThanOneYear(this.currentCalendars[0], {year: this.nowMinYear, month: this.currentCalendars[1].month});\n      }\n    } else if (this.currentCalendars[0] && this.currentCalendars[1]) {\n      // 主面板只用考虑minDate的影响\n      if (!this.isAuxiliary) {\n        hasPrevYear = this.currentCalendars[0].year > this.minDate.getFullYear();\n      } else { // 副面板同时考虑minDate和日历的影响\n        hasPrevYear = this.currentCalendars[1].year > this.minDate.getFullYear() &&\n          this.isBeforeMoreThanOneYear(this.currentCalendars[0], this.currentCalendars[1]);\n      }\n    }\n    return hasPrevYear;\n  }\n\n  hasNextYearOption() {\n    let hasNextYear = true;\n    if (this.openChooseYear) {\n      if (this.isAuxiliary) {\n        hasNextYear = this.nowMaxYear < this.maxDate.getFullYear();\n      } else {\n        hasNextYear = this.nowMaxYear < this.maxDate.getFullYear() &&\n          this.isAfterMoreThanOneYear(this.currentCalendars[1], {year: this.nowMaxYear, month: this.currentCalendars[0].month});\n      }\n    } else if (this.currentCalendars[0] && this.currentCalendars[1]) {\n      // 副面板只用考虑maxDate的影响\n      if (this.isAuxiliary) {\n        hasNextYear = this.currentCalendars[1].year < this.maxDate.getFullYear();\n      } else { // 主面板同时考虑maxDate和日历的影响\n        hasNextYear = this.currentCalendars[0].year < this.maxDate.getFullYear() &&\n          this.isAfterMoreThanOneYear(this.currentCalendars[1], this.currentCalendars[0]);\n      }\n    }\n    return hasNextYear;\n  }\n\n  onPreYear() {\n    if (!this.hasPreYearOption()) {\n      return;\n    }\n    if (this.openChooseYear) {\n      if (this.nowMinYear - this._yearNumber >= this.minDate.getFullYear()) {\n        this.nowMaxYear = this.nowMinYear - 1;\n        this.nowMinYear = this.nowMinYear - this._yearNumber;\n      } else {\n        this.nowMaxYear = this.nowMinYear - 1;\n        this.nowMinYear = this.minDate.getFullYear();\n      }\n      this.onYearRangeChange();\n    } else {\n      this.onSelectYear(Number(this.currentYear) - 1);\n    }\n    this.notifyCalenderChange();\n  }\n\n  onNextYear() {\n    if (!this.hasNextYearOption()) {\n      return;\n    }\n    if (this.openChooseYear) {\n      if (this.nowMaxYear + this._yearNumber <= this.maxDate.getFullYear()) {\n        this.nowMinYear = this.nowMaxYear + 1;\n        this.nowMaxYear = this.nowMaxYear + this._yearNumber;\n      } else {\n        this.nowMinYear = this.nowMaxYear + 1;\n        this.nowMaxYear = this.maxDate.getFullYear();\n      }\n      this.onYearRangeChange();\n    } else {\n      this.onSelectYear(Number(this.currentYear) + 1);\n    }\n    this.notifyCalenderChange();\n  }\n\n  isBeforeMoreThanOneMonth(dateA: SimpleDate, dateB: SimpleDate) {\n    if (dateA.year > dateB.year) {\n      return false;\n    }\n\n    if (dateA.year === dateB.year && dateB.month <= dateA.month + 1) {\n      return false;\n    }\n\n    // 处理A日期为B日期前一年12月同时B日期为1月的特殊情况\n    return !(dateB.year - dateA.year === 1 && dateA.month === 11 && dateB.month === 0);\n  }\n\n  isAfterMoreThanOneMonth(dateA: SimpleDate, dateB: SimpleDate) {\n    if (dateA.year < dateB.year) {\n      return false;\n    }\n\n    if (dateA.year === dateB.year && dateB.month + 1 >= dateA.month) {\n      return false;\n    }\n\n    // 处理A日期为B日期后一年1月同时B日期为12月的特殊情况\n    return !(dateA.year - dateB.year === 1 && dateA.month === 0 && dateB.month === 11);\n  }\n\n  isBeforeMoreThanOneYear(dateA: SimpleDate, dateB: SimpleDate) {\n    if (dateA.year >= dateB.year) {\n      return false;\n    }\n\n    // 处理B日期比A日期大1年同时A日期月份大于B日期月份的情况\n    return !(dateB.year - dateA.year === 1 && dateA.month >= dateB.month);\n  }\n\n  isAfterMoreThanOneYear(dateA: SimpleDate, dateB: SimpleDate) {\n    if (dateA.year <= dateB.year) {\n      return false;\n    }\n\n    // 处理A日期比B日期大1年同时A日期月份小于B日期月份的情况\n    return (!(dateA.year - dateB.year === 1 && dateA.month <= dateB.month));\n  }\n\n  isYearDisable(year: number): boolean {\n    if (this.isAuxiliary) {\n      // 先判定主面板是否比附面板小一年以上，是的话disabled为false;\n      return !(this.isBeforeMoreThanOneYear(this.currentCalendars[0], { year: year + 1, month: this.currentCalendars[1].month}) ||\n        // 主附面板在同一年时，判断主附面板月是否在临界值；\n        (this.currentCalendars[0].year === year && this.currentCalendars[0].month !== 11));\n    } else {\n      return !(this.isAfterMoreThanOneYear(this.currentCalendars[1], {year: year - 1, month: this.currentCalendars[0].month}) ||\n        (this.currentCalendars[1].year === year && this.currentCalendars[1].month !== 0));\n    }\n  }\n\n  isMonthDisable(month: string): boolean {\n    if (this.isAuxiliary) {\n      return !this.isBeforeMoreThanOneMonth(\n        this.currentCalendars[0], {year: this.currentCalendars[1].year, month: parseInt(month, 10) - 1 + 1}\n      );\n    } else {\n      return !this.isAfterMoreThanOneMonth(\n        this.currentCalendars[1], {year: this.currentCalendars[0].year, month: parseInt(month, 10) - 1 - 1}\n      );\n    }\n\n  }\n\n  onSelectMonth(month) {\n    if (month.disabled || this.isMonthDisable(month.title)) {\n      return;\n    }\n    this.currentMonthIndex = month.index;\n    this.onDisplayWeeksChange();\n    this.openChooseMonth = false;\n    this.isAuxiliary ? this.currentCalendars[1].month = this.currentMonthIndex : this.currentCalendars[0].month = this.currentMonthIndex;\n  }\n\n  onSelectYear(year, $event?: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    const yearDisabled = typeof year === 'object' ? year.disabled : false;\n    const yearTitle = typeof year === 'object' ? year.title : year;\n    if (yearDisabled || this.isYearDisable(year.title)) {\n      return;\n    }\n    this.currentYear = yearTitle;\n    this.onDisplayWeeksChange();\n    this.availableMonths = this.onDisplayMonthsChange();\n    this.openChooseYear = false;\n    if (!$event) {\n      this.isAuxiliary ? this.currentCalendars[1].year = this.currentYear : this.currentCalendars[0].year = this.currentYear;\n      return;\n    }\n    this.openChooseMonth = true;\n    if (this.isAuxiliary) {\n      this.currentCalendars[1].year = this.currentYear;\n      this.currentCalendars[1].month = 11;\n      this.currentMonthIndex = 11;\n    } else {\n      this.currentCalendars[0].year = this.currentYear;\n      this.currentCalendars[0].month = 0;\n      this.currentMonthIndex = 0;\n    }\n  }\n\n  protected notifyCalenderChange() {\n    this.syncPickerPair.emit({\n      year: this.currentYear,\n      month: this.currentMonthIndex\n    });\n  }\n\n  confirmTime() {\n    this.consolidateTime.emit();\n  }\n\n  protected onSelectDateChanged() {\n    let date = this.selectedDate || new Date();\n    if (date.getTime() < this.minDate.getTime()) {\n      date = this.minDate;\n    }\n    if (date.getTime() > this.maxDate.getTime()) {\n      date = this.maxDate;\n    }\n    if (!this.isAuxiliary && this.rangeEnd && !this.rangeStart) {\n      date = new Date(this.rangeEnd);\n      date.setMonth(date.getMonth() - 1);\n    }\n    this.selectedDate = this.selectedDate || date;\n    this.currentYear = date.getFullYear();\n    this.currentMonthIndex = date.getMonth();\n  }\n}\n","import { CdkOverlayOrigin, ConnectedOverlayPositionChange, VerticalConnectionPos } from '@angular/cdk/overlay';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { DateConverter, DefaultDateConverter, DevConfigService, fadeInOut, WithConfig } from 'ng-devui/utils';\nimport { Subject, Subscription } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { DatePickerConfigService as DatePickerConfig } from '../date-picker.config.service';\n\n@Component({\n  /* eslint-disable-next-line @angular-eslint/component-selector*/\n  selector: '[dTwoDatePicker]',\n  exportAs: 'twoDatePicker',\n  templateUrl: 'two-datepicker.component.html',\n  styleUrls: ['./two-datepicker.component.scss'],\n  animations: [\n    fadeInOut\n  ]\n})\nexport class TwoDatePickerComponent implements OnInit, OnDestroy {\n  @Input() locale: string;\n  @Input() cssClass: string;\n  @Input() disabled: boolean;\n  @Input() dateConverter: DateConverter;\n  @Input() @WithConfig() showAnimation = true;\n  showTime = false;\n  selectedRange = [null, null];\n  @Input() hideOnRangeSelected = true;\n  customViewTemplate: TemplateRef<any>;\n  @Output() selectedRangeChange = new EventEmitter<any>();\n  @ViewChild('leftPicker') leftPicker: ElementRef;\n  @ViewChild('rightPicker') rightPicker: ElementRef;\n  @ViewChild('templateWrap') templateWrap: ElementRef;\n\n  datePosition: VerticalConnectionPos = 'bottom';\n  selectDateSubject = new Subject<{side: string; date: Date; onlyWrite?: boolean}>();\n  hoverOnDate: Subject<object> = new Subject<object>();\n  switchOriginPositionSub: Subject<'start'|'end'|false> = new Subject<'start'|'end'|false>();\n  today = new Date();\n  rangeStart;\n  rangeEnd;\n  disableToday;\n  i18nText: I18nInterface['datePicker'];\n  i18nLocale: I18nInterface['locale'];\n  i18nSubscription: Subscription;\n  startAnimation = false;\n\n  public currentCalendars = [null, null];\n  public cdkConnectedOverlayOrigin: CdkOverlayOrigin;\n  private _isOpen = false;\n  private _whichOpen: 'start'|'end'|false;\n  private _dateConfig: any;\n  private _dateFormat: string;\n  private _maxDate: Date;\n  private _minDate: Date;\n  document: Document;\n  @Input() set dateConfig(dateConfig: any) {\n    if (this.checkDateConfig(dateConfig)) {\n      this._dateConfig = dateConfig;\n    } else {\n      this._dateConfig = this.datePickerConfig.dateConfig;\n    }\n    this._dateFormat = this.showTime ? this._dateConfig.format.time : this._dateConfig.format.date;\n  }\n  get dateConfig() {\n    return this._dateConfig;\n  }\n  @Input() set dateFormat(dateFormat: string) {\n    if (dateFormat && this._dateFormat !== dateFormat) {\n      this._dateFormat = dateFormat;\n    }\n  }\n  get dateFormat() {\n    return this._dateFormat || this.datePickerConfig.defaultFormat;\n  }\n  @Input() set maxDate(date: Date | any) {\n    const parseDate = this.convertDate(date);\n    if (parseDate) {\n      this._maxDate = parseDate;\n    }\n  }\n  get maxDate() {\n    return this._maxDate;\n  }\n  @Input() set minDate(date: Date | any) {\n    const parseDate = this.convertDate(date);\n    if (parseDate) {\n      this._minDate = parseDate;\n    }\n  }\n  get minDate() {\n    return this._minDate;\n  }\n  set whichOpen(side: 'start'|'end'|false) {\n    this._whichOpen = side;\n    this.switchOriginPositionSub.next(side);\n  }\n  get whichOpen() {\n    return this._whichOpen;\n  }\n  set isOpen(isOpen: boolean) {\n    this._isOpen = isOpen;\n    if (!isOpen) {\n      this.startAnimation = false;\n      this.document.removeEventListener('click', this.onDocumentClick);\n    } else {\n      setTimeout(() => {\n        this.startAnimation = true;\n        this.cdr.detectChanges();\n        this.document.addEventListener('click', this.onDocumentClick);\n      });\n    }\n  }\n  get isOpen() {\n    return this._isOpen;\n  }\n\n  constructor(\n    public el: ElementRef,\n    protected datePickerConfig: DatePickerConfig,\n    private i18n: I18nService,\n    private cdr: ChangeDetectorRef,\n    private devConfigService: DevConfigService,\n    @Inject(DOCUMENT) private doc: any\n  ) {\n    this._dateConfig = datePickerConfig['dateConfig'];\n    this.dateConverter = datePickerConfig['dateConfig'].dateConverter || new DefaultDateConverter();\n    this.setI18nText();\n    this.document = this.doc;\n  }\n\n  checkDateConfig(dateConfig: any) {\n    if (!dateConfig) { return false; }\n    if (typeof(dateConfig.timePicker) !== 'boolean' || !dateConfig.max || !dateConfig.min || !dateConfig.format) {\n      return false;\n    }\n    return true;\n  }\n\n  onDocumentClick = ($event) => {\n    if (!this.el.nativeElement.contains($event.target)) {\n      this.whichOpen = false;\n      this.isOpen = false;\n    }\n    this.cdr.markForCheck();\n  };\n\n  ngOnInit() {\n    this._minDate = this.minDate ? new Date(this.minDate) : new Date(this.dateConfig.min, 0, 1, 0, 0, 0);\n    this._maxDate = this.maxDate ? new Date(this.maxDate) : new Date(this.dateConfig.max, 11, 31, 23, 59, 59);\n    this.updateCdkConnectedOverlayOrigin(this.el.nativeElement);\n    this.subscribeHoverActions();\n  }\n\n  isDisableToday() {\n    if ((this.minDate.getTime() >= (this.today).getTime()) || (this.maxDate.getTime() <= (this.today).getTime())) {\n      this.disableToday = true;\n    } else {\n      this.disableToday = false;\n    }\n  }\n\n  toggle = (side: 'start'|'end' = 'start') => {\n    if (this.isOpen) {\n      if (side === 'start') {\n        if (this.whichOpen === 'start') {\n          this.whichOpen = false;\n          this.isOpen = false;\n        } else { // this.whichOpen === 'end'\n          this.whichOpen = 'start';\n        }\n      } else { // side === 'end'\n        if (this.whichOpen === 'start') {\n          this.whichOpen = 'end';\n        } else { // this.whichOpen === 'end'\n          this.whichOpen = false;\n          this.isOpen = false;\n        }\n      }\n    } else {\n      this.whichOpen = side;\n      this.isOpen = true;\n    }\n  };\n\n  onPositionChange(position: ConnectedOverlayPositionChange) {\n    switch (position.connectionPair.overlayY) {\n    case 'top':\n    case 'center':\n      this.datePosition = 'bottom';\n      break;\n    case 'bottom':\n      this.datePosition = 'top';\n    }\n    this.switchOriginPositionSub.next(this.whichOpen);\n  }\n\n  convertDate(date) {\n    return date ?\n      this.dateConverter.parse(date, this.dateFormat) : null;\n  }\n\n  formatDate(date) {\n    return date ?\n      this.dateConverter.format(date, this.dateFormat, this.locale || this.i18nLocale) : null;\n  }\n\n  updateCdkConnectedOverlayOrigin(el: ElementRef) {\n    if (el) {\n      this.cdkConnectedOverlayOrigin = new CdkOverlayOrigin(el);\n    } else {\n      this.cdkConnectedOverlayOrigin = undefined;\n    }\n  }\n\n  syncPickerPair(currentCalender: object, orientation: string) {\n    switch (orientation) {\n    case 'left':\n      this.currentCalendars[0] = currentCalender;\n      break;\n    case 'right':\n      this.currentCalendars[1] = currentCalender;\n      break;\n    }\n  }\n\n  rangeChange(data) {\n    this.chooseDate(data.selectedRange);\n    this.selectDateSubject.next({side: 'start', date: this.rangeStart, onlyWrite: true});\n    this.selectDateSubject.next({side: 'end', date: this.rangeEnd, onlyWrite: true});\n  }\n\n  chooseDate = (range) => {\n    if (range && Array.isArray(this.selectedRange)) {\n      this.selectedRange = range;\n      [this.rangeStart, this.rangeEnd] = this.selectedRange;\n      this.notifyValueChange();\n    }\n  };\n\n  notifyValueChange() {\n    this.selectedRangeChange.emit(this.selectedRange);\n  }\n\n  selectingDate(event) {\n    this.hoverOnDate.next(event);\n  }\n\n  subscribeHoverActions() {\n    this.hoverOnDate.pipe(\n      distinctUntilChanged()\n    ).subscribe((date) => {\n      this.previewRangeEnd(date);\n    });\n  }\n\n  previewRangeEnd(date) {\n    this.leftPicker['previewEnd'] = date;\n    this.rightPicker['previewEnd'] = date;\n  }\n\n  syncRangeStart(rangeStart, picker: any) {\n    if (this.whichOpen === 'end') {\n      this.selectEnd(rangeStart);\n    } else { // this.whichOpen === 'start'\n      this.selectStart(rangeStart);\n    }\n    picker.selectRange(rangeStart, true);\n  }\n\n  selectStart(date: Date, passive = false) {\n    this.selectedRange[0] = date;\n    this.rangeStart = date;\n    this.isDisableToday();\n    if (!passive) {\n      this.selectDateSubject.next({side: 'start', date});\n      this.whichOpen = 'end';\n    }\n  }\n\n  selectEnd(date: Date, passive = false) {\n    this.selectedRange[1] = date;\n    this.rangeEnd = date;\n    this.isDisableToday();\n    if (!passive) {\n      this.selectDateSubject.next({side: 'end', date: date});\n      if (!this.showTime && this.hideOnRangeSelected) {\n        this.isOpen = false;\n        this.whichOpen = false;\n      }\n    }\n  }\n\n  chooseToday(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    if ((this.minDate.getTime() <= (this.today).getTime()) && (this.maxDate.getTime() >= (this.today).getTime())) {\n      if (this.whichOpen === 'start') {\n        this.selectStart(this.today);\n      } else if (this.whichOpen === 'end') {\n        this.selectEnd(this.today);\n      }\n      [this.rangeStart, this.rangeEnd] = this.selectedRange;\n    }\n  }\n\n  clearBtn(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.whichOpen) {\n      this.clear(this.whichOpen);\n    }\n  }\n\n  clear = (side: 'start'|'end') => {\n    if (this.disabled) {\n      return;\n    }\n    if (side === 'start') {\n      this.selectStart(null);\n    } else if (side === 'end') {\n      this.selectEnd(null);\n    }\n    [this.rangeStart, this.rangeEnd] = this.selectedRange;\n  };\n\n  setI18nText() {\n    this.i18nText = this.i18n.getI18nText().datePicker;\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nText = data.datePicker;\n      this.i18nLocale = data.locale;\n    });\n  }\n\n  ngOnDestroy() {\n    this.isOpen = false;\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n    this.document.removeEventListener('click', this.onDocumentClick);\n  }\n}\n","<ng-content></ng-content>\n<ng-template\n  cdk-connected-overlay\n  [cdkConnectedOverlayOrigin]=\"cdkConnectedOverlayOrigin\"\n  [cdkConnectedOverlayOpen]=\"isOpen\"\n  (backdropClick)=\"isOpen = false\"\n  (positionChange)=\"onPositionChange($event)\"\n>\n  <div [@fadeInOut]=\"startAnimation ? datePosition : 'void'\" [@.disabled]=\"!showAnimation\" class=\"devui-two-date-wrapper\">\n    <div class=\"devui-two-date-picker\">\n      <d-two-datepicker-single\n        class=\"devui-date-picker\"\n        [locale]=\"locale\"\n        [cssClass]=\"cssClass\"\n        [disabled]=\"disabled\"\n        [dateConverter]=\"dateConverter\"\n        [dateConfig]=\"dateConfig\"\n        [maxDate]=\"maxDate\"\n        [minDate]=\"minDate\"\n        [rangePicker]=\"true\"\n        [selectedRange]=\"[rangeStart, rangeEnd]\"\n        [currentCalendars]=\"currentCalendars\"\n        [showTime]=\"showTime\"\n        (rangeSelected)=\"rangeChange($event)\"\n        (hoverOnDate)=\"selectingDate($event)\"\n        (rangeSelecting)=\"syncRangeStart($event, rightPicker)\"\n        (syncPickerPair)=\"syncPickerPair($event, 'left')\"\n        [whichOpen]=\"whichOpen\"\n        #leftPicker\n      >\n      </d-two-datepicker-single>\n      <d-two-datepicker-single\n        class=\"devui-date-picker\"\n        [locale]=\"locale\"\n        [cssClass]=\"cssClass\"\n        [disabled]=\"disabled\"\n        [dateConverter]=\"dateConverter\"\n        [dateConfig]=\"dateConfig\"\n        [maxDate]=\"maxDate\"\n        [minDate]=\"minDate\"\n        [rangePicker]=\"true\"\n        [selectedRange]=\"[rangeStart, rangeEnd]\"\n        [currentCalendars]=\"currentCalendars\"\n        [showTime]=\"showTime\"\n        (rangeSelected)=\"rangeChange($event)\"\n        (hoverOnDate)=\"selectingDate($event)\"\n        (rangeSelecting)=\"syncRangeStart($event, leftPicker)\"\n        (syncPickerPair)=\"syncPickerPair($event, 'right')\"\n        [isAuxiliary]=\"true\"\n        [whichOpen]=\"whichOpen\"\n        #rightPicker\n      >\n      </d-two-datepicker-single>\n    </div>\n    <div *ngIf=\"!customViewTemplate\" class=\"devui-two-date-footer devui-two-date-custom\">\n      <a\n        [ngClass]=\"{\n          disabled: disableToday\n        }\"\n        (click)=\"chooseToday($event)\"\n        >{{ i18nText.today }}</a\n      >\n      <d-button bsStyle=\"common\" (btnClick)=\"clearBtn($event)\" bsSize=\"sm\">{{ i18nText.clear }}</d-button>\n    </div>\n  </div>\n</ng-template>\n","import { Directive, ElementRef, EventEmitter, forwardRef, HostListener, OnDestroy, OnInit, Output, Renderer2 } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { addClassToOrigin, removeClassFromOrigin } from 'ng-devui/utils';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { debounceTime, map } from 'rxjs/operators';\nimport { TwoDatePickerComponent } from './two-datepicker.component';\n\n@Directive({\n  selector: '[dTwoDatePickerEnd]',\n  exportAs: 'twoDatePickerEnd',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => TwoDatePickerEndDirective),\n    multi: true\n  }]\n})\nexport class TwoDatePickerEndDirective implements OnInit, OnDestroy, ControlValueAccessor {\n\n  @Output() selectEnd = new EventEmitter<any>();\n\n  userHtml;\n  private switchOriginSub: Subscription;\n  private twoDateSub: Subscription;\n  private valueChangeSubscrip: Subscription;\n\n  private onChange = (_: any) => null;\n\n  constructor(private twoDatePicker: TwoDatePickerComponent, private renderer: Renderer2,\n              private el: ElementRef) {\n    this.twoDateSub = this.twoDatePicker.selectDateSubject.subscribe(data => {\n      if (data.side === 'end') {\n        if (this.el.nativeElement.tagName === 'INPUT') {\n          this.writeValue(data.date);\n        } else {\n          this.el.nativeElement.innerHTML = data.date ? this.twoDatePicker.formatDate(data.date) : this.userHtml;\n        }\n        if (!data.onlyWrite) {\n          this.selectEnd.emit(data.date);\n          this.onChange(data.date);\n        }\n      }\n    });\n    this.switchOriginSub = this.twoDatePicker.switchOriginPositionSub.subscribe(side => {\n      if (side === 'end') {\n        addClassToOrigin(this.el);\n      } else {\n        removeClassFromOrigin(this.el);\n      }\n    });\n  }\n\n  public toggle(event?: MouseEvent) {\n    this.twoDatePicker.toggle('end');\n  }\n\n  @HostListener('blur', ['$event'])\n  onBlur($event) {\n    if (!this.validDate(this.el.nativeElement.value)) {\n      this.resetValue();\n    }\n  }\n\n  ngOnInit() {\n    this.userHtml = this.el.nativeElement.innerHTML;\n    this.initInputChanges();\n  }\n\n  initInputChanges(): void {\n    this.valueChangeSubscrip = fromEvent(this.el.nativeElement, 'keyup').pipe(\n      map((e: any) => {\n        console.log(e);\n        return e.target.value;\n      }),\n      debounceTime(300)\n    ).subscribe(value => {\n      this.transUserInputToDatePicker(value);\n    });\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    return;\n  }\n\n  writeValue(selectedEnd): void {\n    selectedEnd = selectedEnd || null;\n    const formatEnd = selectedEnd ?\n      this.twoDatePicker.dateConverter.format(selectedEnd, this.twoDatePicker.dateFormat, this.twoDatePicker.locale) :\n      '';\n    this.renderer.setProperty(this.el.nativeElement, 'value', formatEnd);\n    this.twoDatePicker.selectEnd(selectedEnd, true);\n  }\n\n  clear = () => {\n    this.twoDatePicker.clear('end');\n  };\n\n  transUserInputToDatePicker(value?: string) {\n    if (!this.twoDatePicker.showTime) {\n      const _value = value || this.el.nativeElement.value;\n      if (!_value && !this.twoDatePicker.rangeEnd || !_value) {\n        this.clear();\n        return;\n      }\n      const valueDate = new Date(_value);\n      if (_value && this.validDate(_value)) {\n        this.twoDatePicker.selectEnd(valueDate);\n        [this.twoDatePicker.rangeStart, this.twoDatePicker.rangeEnd] = this.twoDatePicker.selectedRange;\n      }\n    } else {\n      this.resetValue();\n    }\n  }\n\n  validDate(value) {\n    if (!value) {\n      return true;\n    }\n    const valueDate = new Date(value);\n    const valueFormat = valueDate && !isNaN(valueDate.getTime()) &&\n      this.twoDatePicker.dateConverter.format(valueDate, this.twoDatePicker.dateFormat, this.twoDatePicker.locale);\n    if (\n      !valueDate || value !== valueFormat ||\n      (value === valueFormat &&\n      (valueDate.getTime() < this.twoDatePicker.minDate.getTime() || valueDate.getTime() > this.twoDatePicker.maxDate.getTime()))\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  resetValue() {\n    if (this.twoDatePicker.rangeEnd) {\n      this.el.nativeElement.value =\n        this.twoDatePicker.dateConverter.format(this.twoDatePicker.rangeEnd, this.twoDatePicker.dateFormat, this.twoDatePicker.locale);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.twoDateSub) {\n      this.twoDateSub.unsubscribe();\n    }\n    if (this.switchOriginSub) {\n      this.switchOriginSub.unsubscribe();\n    }\n\n    if (this.valueChangeSubscrip) {\n      this.valueChangeSubscrip.unsubscribe();\n    }\n  }\n}\n","import { Directive, ElementRef, EventEmitter, forwardRef, HostListener, OnDestroy, OnInit, Output, Renderer2 } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { addClassToOrigin, removeClassFromOrigin } from 'ng-devui/utils';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { debounceTime, map } from 'rxjs/operators';\nimport { TwoDatePickerComponent } from './two-datepicker.component';\n\n@Directive({\n  selector: '[dTwoDatePickerStart]',\n  exportAs: 'twoDatePickerStart',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => TwoDatePickerStartDirective),\n    multi: true\n  }]\n})\nexport class TwoDatePickerStartDirective implements OnInit, OnDestroy, ControlValueAccessor {\n\n  @Output() selectStart = new EventEmitter<any>();\n\n  userHtml;\n  private switchOriginSub: Subscription;\n  private twoDateSub: Subscription;\n  private valueChangeSubscrip: Subscription;\n\n  private onChange = (_: any) => null;\n\n  constructor(private twoDatePicker: TwoDatePickerComponent, private renderer: Renderer2,\n              private el: ElementRef) {\n    this.twoDateSub = this.twoDatePicker.selectDateSubject.subscribe(data => {\n      if (data.side === 'start') {\n        if (this.el.nativeElement.tagName === 'INPUT') {\n          this.writeValue(data.date);\n        } else {\n          this.el.nativeElement.innerHTML = data.date ? this.twoDatePicker.formatDate(data.date) : this.userHtml;\n        }\n        if (!data.onlyWrite) {\n          this.selectStart.emit(data.date);\n          this.onChange(data.date);\n        }\n      }\n    });\n    this.switchOriginSub = this.twoDatePicker.switchOriginPositionSub.subscribe(side => {\n      if (side === 'start') {\n        addClassToOrigin(this.el);\n      } else {\n        removeClassFromOrigin(this.el);\n      }\n    });\n  }\n\n  public toggle(event?: MouseEvent) {\n    this.twoDatePicker.toggle('start');\n  }\n\n  @HostListener('blur', ['$event'])\n  onBlur($event) {\n    if (!this.validDate(this.el.nativeElement.value)) {\n      this.resetValue();\n    }\n  }\n\n  ngOnInit() {\n    this.userHtml = this.el.nativeElement.innerHTML;\n    this.initInputChanges();\n  }\n\n  initInputChanges(): void {\n    this.valueChangeSubscrip = fromEvent(this.el.nativeElement, 'keyup').pipe(\n      map((e: any) => e.target.value),\n      debounceTime(300)\n    ).subscribe(value => {\n      this.transUserInputToDatePicker(value);\n    });\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    return;\n  }\n\n  writeValue(selectedStart): void {\n    selectedStart = selectedStart || null;\n    const formatStart = selectedStart ?\n      this.twoDatePicker.dateConverter.format(selectedStart, this.twoDatePicker.dateFormat, this.twoDatePicker.locale) :\n      '';\n    this.renderer.setProperty(this.el.nativeElement, 'value', formatStart);\n    this.twoDatePicker.selectStart(selectedStart, true);\n  }\n\n  clear = () => {\n    this.twoDatePicker.clear('start');\n  };\n\n  transUserInputToDatePicker(value?: string) {\n    if (!this.twoDatePicker.showTime) {\n      const _value = value || this.el.nativeElement.value;\n      if (!_value && !this.twoDatePicker.rangeStart || !_value) {\n        this.clear();\n        return;\n      }\n      const valueDate = new Date(_value);\n      if (_value && this.validDate(_value)) {\n        this.twoDatePicker.selectStart(valueDate);\n        [this.twoDatePicker.rangeStart, this.twoDatePicker.rangeEnd] = this.twoDatePicker.selectedRange;\n      }\n    } else {\n      this.resetValue();\n    }\n  }\n\n  validDate(value) {\n    if (!value) {\n      return true;\n    }\n    const valueDate = new Date(value);\n    const valueFormat = valueDate && !isNaN(valueDate.getTime()) &&\n      this.twoDatePicker.dateConverter.format(valueDate, this.twoDatePicker.dateFormat, this.twoDatePicker.locale);\n    if (\n      !valueDate || value !== valueFormat ||\n      (value === valueFormat &&\n      (valueDate.getTime() < this.twoDatePicker.minDate.getTime() || valueDate.getTime() > this.twoDatePicker.maxDate.getTime()))\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  resetValue() {\n    if (this.twoDatePicker.rangeStart) {\n      this.el.nativeElement.value =\n       this.twoDatePicker.dateConverter.format(\n         this.twoDatePicker.rangeStart,\n         this.twoDatePicker.dateFormat,\n         this.twoDatePicker.locale\n       );\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.twoDateSub) {\n      this.twoDateSub.unsubscribe();\n    }\n    if (this.switchOriginSub) {\n      this.switchOriginSub.unsubscribe();\n    }\n    if (this.valueChangeSubscrip) {\n      this.valueChangeSubscrip.unsubscribe();\n    }\n  }\n}\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { DatePickerConfigService } from './date-picker.config.service';\n\nimport { ButtonModule } from 'ng-devui/button';\nimport { DateRangePickerComponent } from './date-range-picker.component';\nimport { DateRangePickerDirective } from './date-range-picker.directive';\nimport { DatePickerAppendToBodyComponent } from './datepicker-cdk-overlay.component';\nimport { DatepickerComponent } from './datepicker.component';\nimport { DatepickerDirective } from './datepicker.directive';\nimport { SingleDateRangePickerComponent } from './single-date-range-picker.component';\nimport { TwoDatePickerEndDirective } from './two-datepicker/two-datepicker-end.directive';\nimport { TwoDatepickerSingleComponent } from './two-datepicker/two-datepicker-single.component';\nimport { TwoDatePickerStartDirective } from './two-datepicker/two-datepicker-start.directive';\nimport { TwoDatePickerComponent } from './two-datepicker/two-datepicker.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    OverlayModule,\n    ButtonModule\n  ],\n  exports: [\n    DatepickerComponent,\n    DatepickerDirective,\n    DatePickerAppendToBodyComponent,\n    DateRangePickerComponent,\n    DateRangePickerDirective,\n    SingleDateRangePickerComponent,\n    TwoDatePickerComponent,\n    TwoDatepickerSingleComponent,\n    TwoDatePickerStartDirective,\n    TwoDatePickerEndDirective\n  ],\n  declarations: [\n    DatepickerComponent,\n    DatepickerDirective,\n    DatePickerAppendToBodyComponent,\n    DateRangePickerComponent,\n    DateRangePickerDirective,\n    SingleDateRangePickerComponent,\n    TwoDatePickerComponent,\n    TwoDatepickerSingleComponent,\n    TwoDatePickerStartDirective,\n    TwoDatePickerEndDirective\n  ],\n\n  providers: [DatePickerConfigService]\n})\nexport class DatepickerModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["SingleDatepickerComponent"],"mappings":"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"}