{"version":3,"file":"ng-devui-datepicker-pro.mjs","sources":["../../devui/datepicker-pro/datepicker-pro.service.ts","../../devui/datepicker-pro/lib/calendar-panel.component.ts","../../devui/datepicker-pro/lib/calendar-panel.component.html","../../devui/datepicker-pro/lib/timepicker-panel.component.ts","../../devui/datepicker-pro/lib/timepicker-panel.component.html","../../devui/datepicker-pro/lib/footer-panel.component.ts","../../devui/datepicker-pro/lib/footer-panel.component.html","../../devui/datepicker-pro/lib/month-panel.component.ts","../../devui/datepicker-pro/lib/month-panel.component.html","../../devui/datepicker-pro/lib/year-panel.component.ts","../../devui/datepicker-pro/lib/year-panel.component.html","../../devui/datepicker-pro/datepicker-panel.component.ts","../../devui/datepicker-pro/datepicker-panel.component.html","../../devui/datepicker-pro/datepicker-pro-calendar.component.ts","../../devui/datepicker-pro/datepicker-pro-calendar.component.html","../../devui/datepicker-pro/datepicker-pro.component.ts","../../devui/datepicker-pro/datepicker-pro.component.html","../../devui/datepicker-pro/range-datepicker-pro.component.ts","../../devui/datepicker-pro/range-datepicker-pro.component.html","../../devui/datepicker-pro/datepicker-pro.module.ts","../../devui/datepicker-pro/ng-devui-datepicker-pro.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable, OnDestroy, TemplateRef } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class DatepickerProService implements OnDestroy {\n  curDate: Date;\n  curRangeDate: Date[] = [];\n  curHoverDate: Date;\n  startIndexOfWeek: number;\n  isRange: boolean;\n  markedRangeDateList: Date[][];\n  markDateInfoTemplate: TemplateRef<any>;\n  markedDateList: Date[];\n  showTime: boolean;\n  calendarRange = [1970, 2099];\n  currentActiveInput: 'start' | 'end' = 'start';\n  _minDate: Date = new Date(this.calendarRange[0], 0, 1);\n  set minDate(value: Date) {\n    this._minDate = new Date(value) || new Date(this.calendarRange[0], 0, 1);\n    this.detectedChanges.next();\n  }\n  get minDate(): Date {\n    return this._minDate;\n  }\n  _maxDate: Date = new Date(this.calendarRange[1], 11, 31);\n  set maxDate(value: Date) {\n    this._maxDate = new Date(value) || new Date(this.calendarRange[1], 11, 31);\n    this.detectedChanges.next();\n  }\n  get maxDate(): Date {\n    return this._maxDate;\n  }\n  document: Document;\n  get closeAfterSelected(): boolean {\n    return !this.isRange && !this.showTime;\n  }\n\n  get curHour() {\n    if (this.isRange) {\n      return (this.currentActiveInput === 'start' ? this.curRangeDate[0]?.getHours() : this.curRangeDate[1]?.getHours()) || 0;\n    } else {\n      return this.curDate?.getHours() || 0;\n    }\n  }\n  get curMin() {\n    if (this.isRange) {\n      return (this.currentActiveInput === 'start' ? this.curRangeDate[0]?.getMinutes() : this.curRangeDate[1]?.getMinutes()) || 0;\n    } else {\n      return this.curDate?.getMinutes() || 0;\n    }\n  }\n  get curSec() {\n    if (this.isRange) {\n      return (this.currentActiveInput === 'start' ? this.curRangeDate[0]?.getSeconds() : this.curRangeDate[1]?.getSeconds()) || 0;\n    } else {\n      return this.curDate?.getSeconds() || 0;\n    }\n  }\n  readonly toggleEvent = new Subject<boolean>();\n  readonly closeDropdownEvent = new Subject<boolean>();\n  readonly activeInputChange = new Subject<'start' | 'end'>();\n  readonly selectedDateChange = new Subject<{\n    type: 'single' | 'range';\n    value: Date | Date[];\n  }>();\n  readonly updateDateValue = new Subject<{\n    type: 'single' | 'range';\n    value: Date | Date[];\n  }>();\n  readonly selectedTimeChange = new Subject<{\n    activeInput?: 'start' | 'end';\n    hour: number;\n    min: number;\n    seconds: number;\n  }>();\n  readonly updateTimeChange = new Subject<{\n    activeInput?: 'start' | 'end';\n    hour: number;\n    min: number;\n    seconds: number;\n  }>();\n  readonly detectedChanges = new Subject<void>();\n\n  constructor(@Inject(DOCUMENT) private doc: any) {\n    this.document = this.doc;\n  }\n  dateInRange(date: Date): boolean {\n    if (!date) {\n      return true;\n    }\n    return (date.getTime() > this.minDate.getTime() && date.getTime() < this.maxDate.getTime()) ||\n      date.toDateString() === this.minDate.toDateString() || date.toDateString() === this.maxDate.toDateString();\n  }\n\n  // 对范围模式下一些非法的选择进行修正\n  fixRangeDate() {\n    const start = this.curRangeDate[0]?.getTime();\n    const end = this.curRangeDate[1]?.getTime();\n\n    if (start && end && end < start) {\n      if (this.currentActiveInput === 'start') {\n        this.curRangeDate[1] = null;\n      } else if (this.currentActiveInput === 'end') {\n        this.curRangeDate[0] = null;\n      }\n    }\n  }\n\n  // 判断日期是否为起始日期\n  isStartDate(date: Date): boolean {\n    if (!this.isRange) {\n      return false;\n    }\n\n    if (this.currentActiveInput === 'start') {\n      return date.toDateString() === this.curHoverDate?.toDateString() || date.toDateString() === this.curRangeDate[0]?.toDateString();\n    }\n\n    return date.toDateString() === this.curRangeDate[0]?.toDateString();\n  }\n\n  // 判断日期是否为结束日期\n  isEndDate(date: Date): boolean {\n    if (!this.isRange) {\n      return false;\n    }\n\n    if (this.currentActiveInput === 'end') {\n      return date.toDateString() === this.curHoverDate?.toDateString() || date.toDateString() === this.curRangeDate[1]?.toDateString();\n    }\n\n    return date.toDateString() === this.curRangeDate[1]?.toDateString();\n  }\n\n  // 判断日期是否在hover范围或者选中的范围内\n  isDateInRange(date: Date): boolean {\n    const dateTime = date.getTime();\n    const dateStr = date.toDateString();\n    if (this.isRange) {\n      if (this.currentActiveInput === 'start') {\n        return (this.curHoverDate || this.curRangeDate[0])?.getTime() < dateTime &&\n          (this.curHoverDate || this.curRangeDate[0])?.toDateString() !== dateStr &&\n          this.curRangeDate[1]?.getTime() > dateTime &&\n          this.curRangeDate[1]?.toDateString() !== dateStr;\n      } else {\n        return this.curRangeDate[0]?.getTime() < dateTime &&\n          this.curRangeDate[0]?.toDateString() !== dateStr &&\n          (this.curHoverDate || this.curRangeDate[1])?.getTime() > dateTime &&\n          (this.curHoverDate || this.curRangeDate[1]).toDateString() !== dateStr;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  // 判断日期是否在已选中的范围内，与hover做区分\n  isDateInSelectRange(date: Date) {\n    if (!this.isRange) {\n      return false;\n    }\n\n    if (!this.curRangeDate[0] || !this.curRangeDate[1]) {\n      return false;\n    }\n\n    return this.curRangeDate[0].getTime() < date.getTime() && this.curRangeDate[1].getTime() > date.getTime() &&\n      this.curRangeDate[1].toDateString() !== date.toDateString() && this.curRangeDate[0].toDateString() !== date.toDateString();\n  }\n\n  isDateActive(date: Date): boolean {\n    const dateStr = date.toDateString();\n    if (this.isRange) {\n      return dateStr === this.curRangeDate[0]?.toDateString() || dateStr === this.curRangeDate[1]?.toDateString();\n    } else {\n      return dateStr === this.curDate?.toDateString();\n    }\n  }\n\n  isMonthActive(yearIndex: number, monthIndex: number): boolean {\n    if (this.isRange) {\n      return (yearIndex === this.curRangeDate[0]?.getFullYear() && monthIndex === this.curRangeDate[0]?.getMonth()) ||\n        (yearIndex === this.curRangeDate[1]?.getFullYear() && monthIndex === this.curRangeDate[1]?.getMonth());\n    } else {\n      return yearIndex === this.curDate?.getFullYear() && monthIndex === this.curDate?.getMonth();\n    }\n  }\n\n  isYearActive(yearIndex: number): boolean {\n    if (this.isRange) {\n      return yearIndex === this.curRangeDate[0]?.getFullYear() || yearIndex === this.curRangeDate[1]?.getFullYear();\n    } else {\n      return yearIndex === this.curDate?.getFullYear();\n    }\n  }\n\n  // 是否为范围选中日期中对应的input激活项\n  isActiveInputTypeDate(date: Date) {\n    if (!this.isRange) {\n      return false;\n    }\n\n    if (this.currentActiveInput === 'start') {\n      return date.toDateString() === this.curRangeDate[0]?.toDateString();\n    } else {\n      return date.toDateString() === this.curRangeDate[1]?.toDateString();\n    }\n  }\n\n  // 是否为选中日期且在废弃范围逻辑内\n  isDateAbandon(date: Date): boolean {\n    if (!this.isRange || (!this.curRangeDate[0] || !this.curRangeDate[1])) {\n      return false;\n    }\n\n    if (!this.isDateActive(date)) {\n      return false;\n    }\n\n    if (this.currentActiveInput === 'start') {\n      return this.curHoverDate?.getTime() > date.getTime();\n    } else {\n      return this.curHoverDate?.getTime() < date.getTime();\n    }\n  }\n\n  isInSuggestList(date: Date): boolean {\n    if (!this.markedRangeDateList) {\n      return false;\n    }\n\n    for (let index = 0; index < this.markedRangeDateList.length; index++) {\n      const range = this.markedRangeDateList[index];\n      if (\n        range[0]?.getTime() < date.getTime() && range[1]?.getTime() > date.getTime()\n      ) {\n        return true;\n      }\n\n      if (\n        range[0]?.toDateString() === date.toDateString() || range[1]?.toDateString() === date.toDateString()\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  isMarkedDate(date: Date): boolean {\n    for (let index = 0; index < this.markedDateList?.length; index++) {\n      if (this.markedDateList[index]?.toDateString() === date.toDateString()) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  mearsureStrWidth(str: string): number {\n    const mearsureDom = this.document.createElement('span');\n    mearsureDom.innerText = str;\n    mearsureDom.style.visibility = 'hidden';\n    this.document.body.appendChild(mearsureDom);\n\n    const domWidth = mearsureDom.offsetWidth;\n\n    this.document.body.removeChild(mearsureDom);\n    return domWidth;\n  }\n\n  ngOnDestroy(): void {\n    this.toggleEvent.complete();\n    this.selectedDateChange.complete();\n    this.closeDropdownEvent.complete();\n    this.updateDateValue.complete();\n    this.updateTimeChange.complete();\n    this.selectedTimeChange.complete();\n    this.activeInputChange.complete();\n    this.detectedChanges.complete();\n  }\n\n}\n\n@Injectable()\nexport class DatepickerProCommonDataService {\n  calendarDataCache = {};\n}\n","import { CdkScrollable, CdkVirtualScrollViewport, ScrollDispatcher } from '@angular/cdk/scrolling';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component, Input, OnDestroy, OnInit, ViewChild\n} from '@angular/core';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, filter, takeUntil } from 'rxjs/operators';\nimport { DatepickerProCommonDataService, DatepickerProService } from '../datepicker-pro.service';\nimport { DevuiCalendarDateItem } from './datepicker-pro.type';\n\nconst DAY_DURATION = 24 * 60 * 60 * 1000;\n\n@Component({\n  selector: 'd-calendar-panel',\n  templateUrl: './calendar-panel.component.html',\n  styleUrls: ['./calendar-panel.component.scss'],\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CalendarPanelComponent implements OnInit, OnDestroy {\n  @ViewChild('scrollBody') scrollBodyCmp: CdkVirtualScrollViewport;\n  @ViewChild('scrollList') scrollListCmp: CdkVirtualScrollViewport;\n  @Input() isRangeType: boolean;\n  @Input() isWeekSelect = false;\n\n  currentBodyIndex = 0;\n  today: Date;\n  calendarItemSize = 186; // 一个月份日历的高度\n\n  i18nText: I18nInterface['datePickerPro'];\n  i18nSubscription: Subscription;\n  unsubscribe$ = new Subject();\n\n  allMonthList = [];\n  yearAndMonthList = [];\n  scrollListener: Subscription;\n  isListCollopse = false;\n  weekHoverRange = [];\n  curWeekHoverDate: Date;\n\n  get curHoverDate() {\n    return this.pickerSrv.curHoverDate;\n  }\n\n  set curHoverDate(value: Date) {\n    this.pickerSrv.curHoverDate = value;\n    this.cdr.detectChanges();\n  }\n\n  get curDate(): Date {\n    if (this.isRangeType) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        return this.pickerSrv.curRangeDate[0];\n      } else if (this.pickerSrv.currentActiveInput === 'end') {\n        return this.pickerSrv.curRangeDate[1];\n      }\n    } else {\n      return this.pickerSrv.curDate;\n    }\n  }\n\n  set curDate(value: Date) {\n    if (this.isRangeType) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        this.pickerSrv.curRangeDate[0] = value;\n      } else if (this.pickerSrv.currentActiveInput === 'end') {\n        if (this.pickerSrv.showTime) {\n          this.pickerSrv.curRangeDate[1] =\n            (this.pickerSrv.curRangeDate[1] && this.pickerSrv.curRangeDate[1].toDateString() === value.toDateString())\n              ? value\n              : new Date(value.setHours(23, 59, 59));\n        } else {\n          this.pickerSrv.curRangeDate[1] = new Date(value.setHours(23, 59, 59));\n        }\n      }\n    } else {\n      this.pickerSrv.curDate = value;\n    }\n  }\n\n  get selectedRangeDate(): Date[] {\n    return this.pickerSrv.curRangeDate;\n  }\n\n  set selectedRangeDate(dateList: Date[]) {\n    this.pickerSrv.curRangeDate = dateList;\n  }\n\n  get markDateTemplate() {\n    return this.pickerSrv.markDateInfoTemplate;\n  }\n\n  constructor(\n    protected i18n: I18nService,\n    private pickerSrv: DatepickerProService,\n    private dataSrv: DatepickerProCommonDataService,\n    private cdr: ChangeDetectorRef,\n    private scrollDispatcher: ScrollDispatcher\n  ) {\n  }\n\n  setI18nText() {\n    this.i18nText = this.i18n.getI18nText().datePickerPro;\n    this.i18nSubscription = this.i18n.langChange().pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe((data) => {\n      this.i18nText = data.datePickerPro;\n      this.cdr.detectChanges();\n    });\n  }\n\n  ngOnInit(): void {\n    this.setI18nText();\n    this.today = new Date();\n    this.initDataList();\n    this.initObservable();\n  }\n\n  private initObservable() {\n    this.pickerSrv.toggleEvent.pipe(\n      takeUntil(this.unsubscribe$),\n    ).subscribe(isOpen => {\n      if (isOpen) {\n        setTimeout(() => {\n          this.goToDate(this.curDate || new Date(), 'auto');\n        });\n\n        // 首次展开添加滚动监听\n        if (!this.scrollListener) {\n          this.initScrollListener();\n        }\n      } else {\n        this.curHoverDate = null;\n      }\n    });\n\n    this.pickerSrv.updateDateValue.pipe(\n      takeUntil(this.unsubscribe$),\n    ).subscribe(res => {\n      if (this.isRangeType) {\n        this.updateRangeDate(res.value as Date[]);\n      } else {\n        this.updateSingleDate(res.value as Date);\n      }\n    });\n\n    this.pickerSrv.detectedChanges.pipe(\n      takeUntil(this.unsubscribe$),\n    ).subscribe(() => {\n      this.cdr.detectChanges();\n    });\n\n    this.pickerSrv.activeInputChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(type => {\n      if (type === 'start') {\n        this.goToDate(this.selectedRangeDate[0] || this.selectedRangeDate[1] || new Date());\n      } else {\n        if (!this.selectedRangeDate[1] && this.selectedRangeDate[0]) {\n          this.updateRangeDate([this.selectedRangeDate[0], this.selectedRangeDate[0]]);\n        }\n        this.goToDate(this.selectedRangeDate[1] || this.selectedRangeDate[0] || new Date());\n      }\n    });\n  }\n\n  private initScrollListener() {\n    this.scrollDispatcher.scrolled().pipe(\n      takeUntil(this.unsubscribe$),\n      filter((res: CdkScrollable) => {\n        return res && res.getElementRef().nativeElement.classList.contains('devui-tbody-wrapper');\n      }),\n      debounceTime(50)\n    ).subscribe(() => {\n      const offsetY = this.scrollBodyCmp.measureScrollOffset();\n      // 当滚动超过一个月面板的一半时，就更新月份\n      this.currentBodyIndex = Math.floor(offsetY / this.calendarItemSize) + (offsetY % this.calendarItemSize > 100 ? 1 : 0);\n      const listIndex = this.isListCollopse ?\n        Math.floor(this.currentBodyIndex / 12) : this.currentBodyIndex + Math.floor(this.currentBodyIndex / 12) + 1;\n      this.goToListByIndex(listIndex);\n      this.cdr.detectChanges();\n    });\n  }\n\n  private initDataList() {\n    const key = `${this.pickerSrv.calendarRange.join('-')}-${\n      this.pickerSrv.minDate.toDateString() + this.pickerSrv.maxDate.toDateString()\n    }`;\n    if (this.dataSrv.calendarDataCache[key]) {\n      this.yearAndMonthList = this.dataSrv.calendarDataCache[key].yearAndMonthList;\n      this.allMonthList = this.dataSrv.calendarDataCache[key].allMonthList;\n      return;\n    }\n\n    this.yearAndMonthList = [];\n    this.allMonthList = [];\n\n    for (let yearIndex = this.pickerSrv.calendarRange[0]; yearIndex <= this.pickerSrv.calendarRange[1]; yearIndex++) {\n      this.yearAndMonthList.push({\n        year: yearIndex,\n        isMonth: false,\n        active: false\n      });\n      for (let monthIndex = 0; monthIndex < 12; monthIndex++) {\n        this.allMonthList.push({\n          year: yearIndex,\n          month: monthIndex,\n          displayWeeks: this.getDisplayWeeks(yearIndex, monthIndex)\n        });\n\n        this.yearAndMonthList.push({\n          year: yearIndex,\n          month: monthIndex,\n          isMonth: true,\n          active: false\n        });\n      }\n    }\n\n    this.dataSrv.calendarDataCache[key] = {\n      yearAndMonthList: this.yearAndMonthList,\n      allMonthList: this.allMonthList\n    };\n  }\n\n  private getDisplayWeeks(yearIndex: number, monthIndex: number): DevuiCalendarDateItem[] {\n    const firstDayOfMonth = new Date(yearIndex, monthIndex, 1);\n    const weekOfDay = firstDayOfMonth.getDay();\n    const startDate = new Date(firstDayOfMonth.getTime() - weekOfDay * DAY_DURATION);\n    const displayWeeks = [];\n    for (let i = 0; i < 6; i++) {\n      const startWeekDate = startDate.getTime() + i * 7 * DAY_DURATION;\n      const weekDays = new Array(7).fill(0).map((value, index) => {\n        const currentDate = new Date(startWeekDate + index * DAY_DURATION);\n        return {\n          day: this.fillLeft(currentDate.getDate()),\n          date: currentDate,\n          inMonth: currentDate.getMonth().toString() === monthIndex.toString(),\n          isToday: currentDate.toDateString() === this.today.toDateString()\n        };\n      });\n      displayWeeks.push(weekDays);\n    }\n    return displayWeeks;\n  }\n\n  private goToDate(date: Date, scrollBehavior?) {\n    const indexObj = this.getCurrentIndex(date);\n    const scroll = scrollBehavior || (Math.abs(indexObj.bodyIndex - this.currentBodyIndex) > 18 ? 'auto' : 'smooth');\n    this.currentBodyIndex = indexObj.bodyIndex;\n    this.scrollBodyCmp.scrollToIndex(indexObj.bodyIndex, scroll);\n    this.goToListByIndex(indexObj.listIndex);\n    this.cdr.detectChanges();\n  }\n\n  private goToListByIndex(index) {\n    const indexDelta = Math.abs(this.scrollListCmp.measureScrollOffset() / 30 - index);\n    this.scrollListCmp.scrollToIndex(index - 4, indexDelta < 12 ? 'smooth' : 'auto');\n    this.updateListActive(index);\n  }\n\n  selectMonth(year: number, month: number) {\n    const date = new Date(year, month, 1);\n    const curYear = this.yearAndMonthList.find(t => t.active)?.year || this.curDate.getFullYear();\n    // 太远的虚拟滚动会导致白屏，所以超过两年的滚动都直接跳转\n    const isSmoothAnimation = Math.abs(curYear - year) < 2;\n\n    if (this.isListCollopse) {\n      this.toggleListCollopse(date);\n    } else {\n      this.goToDate(date, isSmoothAnimation ? 'smooth' : 'auto');\n    }\n  }\n\n  updateRangeDate(dateList: Date[]) {\n    if (!dateList) {\n      this.selectedRangeDate = [];\n      this.cdr.detectChanges();\n      return;\n    }\n\n    const curDate = (this.pickerSrv.currentActiveInput === 'start' ?\n      (dateList[0] || dateList[1]) : (dateList[1] || dateList[0])) || new Date();\n    const moreThanOneYear = Math.abs(curDate.getFullYear() - (this.currentBodyIndex / 12 + this.pickerSrv.calendarRange[0])) > 1;\n    this.selectedRangeDate = dateList;\n    this.goToDate(curDate, moreThanOneYear ? 'auto' : 'smooth');\n    this.cdr.detectChanges();\n  }\n\n  updateSingleDate(date: Date) {\n    if (!date) {\n      this.curDate = null;\n      this.cdr.detectChanges();\n      return;\n    }\n    const moreThanOneYear = Math.abs(date.getFullYear() - (this.currentBodyIndex / 12 + this.pickerSrv.calendarRange[0])) > 1;\n    this.curDate = date;\n    this.goToDate(this.curDate, moreThanOneYear ? 'auto' : 'smooth');\n    this.cdr.detectChanges();\n  }\n\n  updateListActive(index: number) {\n    const curActive = this.yearAndMonthList.find(t => t.active);\n    if (curActive) {\n      curActive.active = false;\n    }\n    this.yearAndMonthList[index].active = true;\n  }\n\n  getCurrentIndex(curDate: Date) {\n    const year = curDate.getFullYear();\n    const month = curDate.getMonth();\n    const listIndex = this.isListCollopse ?\n      (year - this.pickerSrv.calendarRange[0]) : (year - this.pickerSrv.calendarRange[0]) * 13 + month + 1;\n    return {\n      bodyIndex: (year - this.pickerSrv.calendarRange[0]) * 12 + month,\n      listIndex\n    };\n  }\n\n  selectDate(day: DevuiCalendarDateItem) {\n    if (this.isDisabled(day.date) || !day.inMonth) {\n      return;\n    }\n\n    if (this.isWeekSelect) {\n      this.pickerSrv.curRangeDate = this.getWeekRange(day.date);\n      this.pickerSrv.currentActiveInput = 'end';\n    } else {\n      this.curDate = new Date(day.date.setHours(this.pickerSrv.curHour, this.pickerSrv.curMin, this.pickerSrv.curSec));\n    }\n    if (this.isRangeType) {\n      this.pickerSrv.fixRangeDate();\n    }\n    this.cdr.detectChanges();\n    // 非时间模式下选完开始日期跳转到结束日期\n    if (this.isRangeType && !this.pickerSrv.showTime) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        this.pickerSrv.currentActiveInput = 'end';\n      } else if (this.pickerSrv.currentActiveInput === 'end' && !this.selectedRangeDate[0]) {\n        this.selectedRangeDate[0] = this.curDate;\n      } else {\n        this.pickerSrv.closeDropdownEvent.next();\n      }\n    }\n    this.pickerSrv.selectedDateChange.next({\n      type: this.isRangeType ? 'range' : 'single',\n      value: this.isRangeType ? this.selectedRangeDate : this.curDate\n    });\n\n    if (this.isRangeType && this.pickerSrv.showTime) {\n      this.pickerSrv.updateTimeChange.next({\n        activeInput: this.pickerSrv.currentActiveInput,\n        hour: this.pickerSrv.curHour,\n        min: this.pickerSrv.curMin,\n        seconds: this.pickerSrv.curSec\n      });\n    }\n\n    if (this.pickerSrv.closeAfterSelected) {\n      this.pickerSrv.closeDropdownEvent.next();\n    }\n  }\n\n  isStartDate(date: Date): boolean {\n    return this.pickerSrv.isStartDate(date);\n  }\n\n  isDisabled(date: Date): boolean {\n    return !this.pickerSrv.dateInRange(date);\n  }\n\n  isEndDate(date: Date): boolean {\n    return this.pickerSrv.isEndDate(date);\n  }\n\n  isDateInRange(date: Date): boolean {\n    if (this.isWeekSelect) {\n      return this.isInWeekHoverRange(date);\n    } else {\n      return this.pickerSrv.isDateInRange(date);\n    }\n  }\n\n  isDateInSelectRange(date: Date): boolean {\n    return this.pickerSrv.isDateInSelectRange(date);\n  }\n\n  isDateActive(date: Date): boolean {\n    return this.pickerSrv.isDateActive(date);\n  }\n\n  isActiveTypeDate(date: Date): boolean {\n    return this.pickerSrv.isActiveInputTypeDate(date);\n  }\n\n  isDateAbandon(date: Date): boolean {\n    return this.pickerSrv.isDateAbandon(date);\n  }\n\n  isDateSuggest(date: Date): boolean {\n    return this.pickerSrv.isInSuggestList(date);\n  }\n\n  isDateMarked(date: Date): boolean {\n    return this.pickerSrv.isMarkedDate(date);\n  }\n\n  isSingleDate(): boolean {\n    if (this.pickerSrv.currentActiveInput === 'start') {\n      return !this.pickerSrv.curRangeDate[1];\n    } else if (this.pickerSrv.currentActiveInput === 'end') {\n      return !this.pickerSrv.curRangeDate[0];\n    }\n  }\n\n  setHoverTarget(date: Date, isInMonth: boolean) {\n    if (!isInMonth) {\n      this.curHoverDate = null;\n      return;\n    }\n    this.curHoverDate = date;\n    if (this.isWeekSelect) {\n      this.weekHoverRange = this.getWeekRange(date);\n      this.curWeekHoverDate = date;\n      this.cdr.markForCheck();\n      return;\n    }\n  }\n\n  getWeekRange(date: Date) {\n    if (!date) {\n      return [];\n    }\n    const diff = date.getDay() < this.pickerSrv.startIndexOfWeek\n      ? 7 - (this.pickerSrv.startIndexOfWeek - date.getDay())\n      : date.getDay() - this.pickerSrv.startIndexOfWeek;\n    const weekStart = new Date(date.getTime() - diff * DAY_DURATION);\n    const weekEnd = new Date(weekStart.getTime() + DAY_DURATION * 6);\n    weekEnd.setHours(23, 59, 59);\n\n    return [weekStart, weekEnd];\n  }\n\n  isInWeekHoverRange(date: Date) {\n    const range = this.getWeekRange(this.curWeekHoverDate);\n    const time = date.getTime();\n    const timeStr = date.toDateString();\n    if (this.pickerSrv.isDateActive(date)) {\n      return false;\n    }\n    return ((range[0]?.getTime() < time && time < range[1]?.getTime()) ||\n    (range[0]?.toDateString() === timeStr || timeStr === range[1]?.toDateString()));\n  }\n\n  toggleListCollopse(toDate?: Date) {\n    const activeItem = this.yearAndMonthList.find(t => t.active);\n    const curYear = activeItem?.year;\n    const curMonth = activeItem?.month;\n    this.isListCollopse = !this.isListCollopse;\n    if (this.isListCollopse) {\n      this.yearAndMonthList = this.yearAndMonthList.filter(t => !t.isMonth);\n    } else {\n      this.initDataList();\n    }\n    setTimeout(() => {\n      this.goToDate(toDate || new Date(curYear, curMonth || 0, 1), 'auto');\n    });\n  }\n\n  protected fillLeft(num: number) {\n    return num < 10 ? `0${num}` : `${num}`;\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n}\n","<div class=\"devui-canlender-panel\">\n  <cdk-virtual-scroll-viewport #scrollList [itemSize]=\"30\" class=\"devui-canlender-panel-year-list\" minBufferPx=\"400\" maxBufferPx=\"600\">\n    <div\n      class=\"devui-canlender-panel-year-list-item\"\n      [ngClass]=\"{ 'title-active': item.active }\"\n      *cdkVirtualFor=\"let item of yearAndMonthList; let index = index\"\n    >\n      <p class=\"devui-year-title\" *ngIf=\"!item.isMonth && !isListCollopse\" (click)=\"toggleListCollopse()\">{{ item.year }}</p>\n      <p class=\"devui-year-title\" *ngIf=\"!item.isMonth && isListCollopse\" (click)=\"selectMonth(item.year, 0)\">{{ item.year }}</p>\n      <p class=\"devui-month-title\" *ngIf=\"item.isMonth\" (click)=\"selectMonth(item.year, item.month)\">\n        {{ i18nText.monthsOfYear[item.month] }}\n      </p>\n    </div>\n  </cdk-virtual-scroll-viewport>\n\n  <div class=\"devui-canlender-panel-main\">\n    <table class=\"devui-table\">\n      <thead>\n        <tr class=\"small text-center devui-week-header\">\n          <td *ngFor=\"let item of i18nText?.daysOfWeek\">{{ item }}</td>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td colspan=\"7\">\n            <cdk-virtual-scroll-viewport\n              #scrollBody\n              [itemSize]=\"calendarItemSize\"\n              class=\"devui-tbody-wrapper\"\n              minBufferPx=\"400\"\n              maxBufferPx=\"600\"\n            >\n              <div *cdkVirtualFor=\"let month of allMonthList; let index = index\">\n                <p class=\"devui-table-month-title\">{{ i18nText?.getYearMonthStr(month.year, month.month + 1) }}</p>\n                <table\n                  class=\"devui-month-table\"\n                  [ngClass]=\"{\n                    'devui-single-date': isSingleDate()\n                  }\"\n                  (mouseleave)=\"curHoverDate = null; curWeekHoverDate = null\"\n                >\n                  <tbody>\n                    <tr class=\"small text-center devui-week-header\" *ngFor=\"let week of month.displayWeeks\">\n                      <td\n                        [ngClass]=\"{\n                          'devui-table-date': day.inMonth,\n                          'devui-table-date-selected': isDateActive(day.date),\n                          'devui-table-date-abandon-selected': isDateAbandon(day.date),\n                          'devui-table-date-today': day.isToday,\n                          'devui-table-date-disable': isDisabled(day.date),\n                          'devui-table-date-inrange': isDateInRange(day.date),\n                          'devui-table-date-start': isStartDate(day.date),\n                          'devui-table-date-end': isEndDate(day.date),\n                          'devui-table-date-in-selected-range': isDateInSelectRange(day.date),\n                          'devui-table-date-active-type': isActiveTypeDate(day.date),\n                          'devui-table-date-suggested': isDateSuggest(day.date),\n                          'devui-table-date-marked': isDateMarked(day.date)\n                        }\"\n                        *ngFor=\"let day of week\"\n                        dPopover\n                        [content]=\"markDate\"\n                        [visible]=\"isDateMarked(day.date) && curHoverDate === day.date && !!markDateTemplate\"\n                        (click)=\"selectDate(day)\"\n                        (mouseenter)=\"setHoverTarget(day.date, day.inMonth)\"\n                      >\n                        <span>{{ day.inMonth ? day.day : '' }}</span>\n                        <ng-template #markDate>\n                          <ng-template [ngTemplateOutlet]=\"markDateTemplate\" [ngTemplateOutletContext]=\"{ date: day.date }\"></ng-template>\n                        </ng-template>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </cdk-virtual-scroll-viewport>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n","import {\n  Component, ElementRef, OnDestroy, OnInit\n} from '@angular/core';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { Subject, Subscription } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatepickerProService } from '../datepicker-pro.service';\n\ninterface TimeObj {\n  time: string;\n  type?: string;\n  active?: boolean;\n  disabled?: boolean;\n}\n\n@Component({\n  selector: 'd-timepicker-panel',\n  templateUrl: './timepicker-panel.component.html',\n  styleUrls: ['./timepicker-panel.component.scss'],\n  preserveWhitespaces: false,\n})\nexport class TimepickerPanelComponent implements OnInit, OnDestroy {\n\n  firstList: Array<TimeObj> = [];\n  secondList: Array<TimeObj> = [];\n  thirdList: Array<TimeObj> = [];\n\n  hourIndex = null;\n  minIndex = null;\n  secIndex = null;\n\n  typeList = ['hour', 'min', 'sec'];\n\n  unsubscribe$ = new Subject();\n  i18nText: I18nInterface['datePickerPro'];\n  i18nSubscription: Subscription;\n\n  constructor(\n    private el: ElementRef,\n    private pickSrv: DatepickerProService,\n    protected i18n: I18nService\n  ) {}\n\n  ngOnInit(): void {\n    this.initDateList();\n    this.initObservable();\n    this.setI18nText();\n  }\n\n  setI18nText() {\n    this.i18nText = this.i18n.getI18nText().datePickerPro;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nText = data.datePickerPro;\n    });\n  }\n\n  initObservable() {\n    this.pickSrv.toggleEvent.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(isOpen => {\n      if (isOpen) {\n        setTimeout(() => {\n          this.initDateList(true);\n        });\n      }\n    });\n\n    this.pickSrv.updateTimeChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(value => {\n      if (this.hourIndex !== value.hour) {\n        this.chooseTime('hour', value.hour);\n      }\n\n      if (this.minIndex !== value.min) {\n        this.chooseTime('min', value.min);\n      }\n\n      if (this.secIndex !== value.seconds) {\n        this.chooseTime('sec', value.seconds);\n      }\n    });\n\n    if (this.pickSrv.isRange) {\n      this.pickSrv.activeInputChange.pipe(\n        takeUntil(this.unsubscribe$)\n      ).subscribe(type => {\n        const isNull = (type === 'start' && !this.pickSrv.curRangeDate[0]) ||\n          (type === 'end' && !this.pickSrv.curRangeDate[1]);\n        if (this.hourIndex !== this.pickSrv.curHour || isNull) {\n          this.chooseTime('hour', isNull ? null : this.pickSrv.curHour);\n        }\n\n        if (this.minIndex !== this.pickSrv.curMin || isNull) {\n          this.chooseTime('min', isNull ? null : this.pickSrv.curMin);\n        }\n\n        if (this.secIndex !== this.pickSrv.curSec || isNull) {\n          this.chooseTime('sec', isNull ? null : this.pickSrv.curSec);\n        }\n      });\n    }\n  }\n\n  initDateList(justScroll = false) {\n    if (this.pickSrv.curDate) {\n      this.hourIndex = this.pickSrv.curDate.getHours();\n      this.minIndex = this.pickSrv.curDate.getMinutes();\n      this.secIndex = this.pickSrv.curDate.getSeconds();\n    }\n    this.typeList.forEach(type => {\n      this.chooseTime(type, this[`${type}Index`], false, justScroll);\n    });\n  }\n\n  chooseTime(type: string, index: number, handle = false, justScroll = false) {\n    switch (type) {\n    case 'hour':\n      this.hourIndex = index;\n      this.firstList = new Array(24).fill(1).map((t, i) => {\n        return {\n          time: i < 10 ? `0${i}` : String(i),\n          type: 'hour',\n          active: this.hourIndex === i,\n          disabled: false\n        };\n      });\n      this.setAllScroll(index, this.pickSrv.curMin, this.pickSrv.curSec, justScroll);\n      break;\n    case 'min':\n      this.minIndex = index;\n      this.secondList = new Array(60).fill(1).map((t, i) => {\n        return {\n          time: i < 10 ? `0${i}` : String(i),\n          type: 'min',\n          active: this.minIndex === i,\n          disabled: false\n        };\n      });\n      this.setAllScroll(this.pickSrv.curHour, index, this.pickSrv.curSec, justScroll);\n      break;\n    case 'sec':\n      this.secIndex = index;\n      this.thirdList = new Array(60).fill(1).map((t, i) => {\n        return {\n          time: i < 10 ? `0${i}` : String(i),\n          type: 'sec',\n          active: this.secIndex === i,\n          disabled: false\n        };\n      });\n      this.setAllScroll(this.pickSrv.curHour, this.pickSrv.curMin, index, justScroll);\n    }\n\n    if (handle) {\n      this.pickSrv.selectedTimeChange.next({\n        activeInput: this.pickSrv.currentActiveInput,\n        hour: this.hourIndex,\n        min: this.minIndex,\n        seconds: this.secIndex\n      });\n    }\n  }\n\n  setAllScroll(first: number, second: number, third: number, justScroll: boolean) {\n    this.setScroll('first', first, justScroll);\n    this.setScroll('second', second, justScroll);\n    this.setScroll('third', third, justScroll);\n  }\n\n  setScroll(whichList, index, justScroll?) {\n    const scroll = (22 + 8) * index;\n    const duration = justScroll ? 0 : 100;\n    if (this.el) {\n      this.scrollTo(this.el.nativeElement.querySelector(`.devui-${whichList}-list`), scroll, duration);\n    }\n  }\n\n  scrollTo(element: HTMLElement, to: number, duration: number): void {\n    if (typeof window === undefined || !element) {\n      return;\n    }\n    if (duration <= 0) {\n      element.scrollTop = to;\n      return;\n    }\n    const difference = to - element.scrollTop;\n    const perTick = (difference / duration) * 10;\n    const reqAnimFrame = window['requestAnimationFrame'] ||\n      window['mozRequestAnimationFrame'] ||\n      window['msRequestAnimationFrame'] ||\n      window['oRequestAnimationFrame'];\n    reqAnimFrame(() => {\n      element.scrollTop = element.scrollTop + perTick;\n      if (element.scrollTop === to) {\n        return;\n      }\n      this.scrollTo(element, to, duration - 10);\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n}\n","<div class=\"devui-timepicker-panel\">\n  <div class=\"devui-time-header\">\n    <span class=\"devui-time-header-item\">{{ i18nText?.hour }}</span>\n    <span class=\"devui-time-header-item\">{{ i18nText?.min }}</span>\n    <span class=\"devui-time-header-item\">{{ i18nText?.second }}</span>\n  </div>\n  <div class=\"devui-time-picker\">\n    <ul *ngIf=\"firstList.length\" class=\"devui-time-list devui-first-list\">\n      <li\n        *ngFor=\"let item of firstList; let i = index\"\n        class=\"devui-time-item devui-first-item\"\n        [ngClass]=\"{\n          active: item?.active,\n          disabled: item?.disabled\n        }\"\n        (click)=\"chooseTime(item.type, i, true)\"\n      >\n        {{ item?.time }}\n      </li>\n    </ul>\n    <ul *ngIf=\"secondList.length\" class=\"devui-time-list devui-second-list\">\n      <li\n        *ngFor=\"let item of secondList; let i = index\"\n        class=\"devui-time-item devui-second-item\"\n        [ngClass]=\"{\n          active: item?.active,\n          disabled: item?.disabled\n        }\"\n        (click)=\"chooseTime(item.type, i, true)\"\n      >\n        {{ item?.time }}\n      </li>\n    </ul>\n    <ul *ngIf=\"thirdList.length\" class=\"devui-time-list devui-third-list\">\n      <li\n        *ngFor=\"let item of thirdList; let i = index\"\n        class=\"devui-time-item devui-third-item\"\n        [ngClass]=\"{\n          active: item?.active,\n          disabled: item?.disabled\n        }\"\n        (click)=\"chooseTime(item.type, i, true)\"\n      >\n        {{ item?.time }}\n      </li>\n    </ul>\n  </div>\n</div>\n","import {\n  Component, Input, OnDestroy, TemplateRef\n} from '@angular/core';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { Subscription } from 'rxjs';\nimport { DatepickerProService } from '../datepicker-pro.service';\n\n@Component({\n  selector: 'd-datepicker-footer-panel',\n  templateUrl: './footer-panel.component.html',\n  styleUrls: ['./footer-panel.component.scss'],\n  preserveWhitespaces: false,\n})\nexport class FooterPanelComponent implements OnDestroy {\n  @Input() footerTemplate: TemplateRef<any>;\n\n  i18nText: I18nInterface['common'];\n  i18nSubscription: Subscription;\n\n  get isRange() {\n    return this.pickerSrv.isRange;\n  }\n\n  get confirmDisable() {\n    if (this.isRange) {\n      return (this.pickerSrv.currentActiveInput === 'start' && !this.pickerSrv.curRangeDate[0]) ||\n      (this.pickerSrv.currentActiveInput === 'end' && !this.pickerSrv.curRangeDate[1]);\n    } else {\n      return false;\n    }\n  }\n\n  constructor(\n    private pickerSrv: DatepickerProService,\n    protected i18n: I18nService\n  ) {\n    this.setI18nText();\n  }\n\n  setI18nText() {\n    this.i18nText = this.i18n.getI18nText().common;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nText = data.common;\n    });\n  }\n\n  ensureDate() {\n    if (this.pickerSrv.isRange) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        this.pickerSrv.currentActiveInput = 'end';\n        this.pickerSrv.activeInputChange.next('end');\n      } else if (!this.pickerSrv.curRangeDate[0]) {\n        this.pickerSrv.currentActiveInput = 'start';\n        this.pickerSrv.activeInputChange.next('start');\n      } else {\n        this.close(true);\n      }\n    } else {\n      this.close(true);\n    }\n  }\n\n  close(isConfirm = false) {\n    this.pickerSrv.closeDropdownEvent.next(isConfirm);\n  }\n\n  ngOnDestroy() {\n    this.i18nSubscription.unsubscribe();\n  }\n\n}\n","<div class=\"devui-datepicekr-pro-footer\">\n  <ng-template [ngTemplateOutlet]=\"footerTemplate || default\"> </ng-template>\n</div>\n\n<ng-template #default>\n  <d-button bsStyle=\"primary\" [disabled]=\"confirmDisable\" (click)=\"ensureDate()\"> {{ i18nText.btnOk }} </d-button>\n  <d-button class=\"devui-cancel-button\" bsStyle=\"common\" *ngIf=\"isRange\" (click)=\"close()\"> {{ i18nText.btnCancel }} </d-button>\n</ng-template>\n","import { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnDestroy,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { fromEvent, Subject, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\nimport { DatepickerProService } from './../datepicker-pro.service';\n\n@Component({\n  selector: 'd-month-panel',\n  templateUrl: './month-panel.component.html',\n  styleUrls: ['./month-panel.component.scss'],\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MonthPanelComponent implements OnInit, OnDestroy {\n  @ViewChild('scrollBody') scrollBodyCmp: CdkVirtualScrollViewport;\n  @ViewChild('scrollList') scrollListCmp: CdkVirtualScrollViewport;\n  @Input() isRangeType = false;\n\n  unsubscribe$ = new Subject();\n  scrollListener: Subscription;\n  i18nText: I18nInterface['datePickerPro'];\n  i18nSubscription: Subscription;\n\n  yearList = [];\n  calenderItemSize = 186;\n  currentBodyIndex;\n  monthList = [\n    [1, 2, 3],\n    [4, 5, 6],\n    [7, 8, 9],\n    [10, 11, 12]\n  ];\n  thisMonth: Date;\n\n  get curHoverDate() {\n    return this.pickerSrv.curHoverDate;\n  }\n\n  set curHoverDate(value: Date) {\n    this.pickerSrv.curHoverDate = value;\n  }\n\n  get selectedRangeDate(): Date[] {\n    return this.pickerSrv.curRangeDate;\n  }\n\n  set selectedRangeDate(dateList: Date[]) {\n    this.pickerSrv.curRangeDate = dateList;\n  }\n\n  get currentDate(): Date {\n    if (this.isRangeType) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        return this.pickerSrv.curRangeDate[0];\n      } else if (this.pickerSrv.currentActiveInput === 'end') {\n        return this.pickerSrv.curRangeDate[1];\n      }\n    } else {\n      return this.pickerSrv.curDate;\n    }\n  }\n\n  set currentDate(value: Date) {\n    if (this.isRangeType) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        this.pickerSrv.curRangeDate[0] = value;\n      } else if (this.pickerSrv.currentActiveInput === 'end') {\n        this.pickerSrv.curRangeDate[1] = value;\n      }\n    } else {\n      this.pickerSrv.curDate = value;\n    }\n  }\n\n  constructor(\n    protected i18n: I18nService,\n    private pickerSrv: DatepickerProService,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnInit() {\n    this.thisMonth = new Date();\n    this.initList();\n    this.initObservable();\n    this.setI18nText();\n  }\n\n  setI18nText() {\n    this.i18nText = this.i18n.getI18nText().datePickerPro;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nText = data.datePickerPro;\n      this.cdr.detectChanges();\n    });\n  }\n\n  initObservable() {\n    this.pickerSrv.toggleEvent.pipe(\n      takeUntil(this.unsubscribe$),\n    ).subscribe(isOpen => {\n      if (isOpen) {\n        setTimeout(() => {\n          this.goToDate(this.currentDate || new Date());\n        });\n      }\n      if (!this.scrollListener) {\n        this.initScrollListener();\n      }\n    });\n\n    this.pickerSrv.updateDateValue.pipe(\n      takeUntil(this.unsubscribe$),\n    ).subscribe(res => {\n      if (res.type === 'range') {\n        this.pickerSrv.curRangeDate = res.value as Date[];\n      } else {\n        this.pickerSrv.curDate = res.value as Date;\n      }\n      this.goToDate(this.currentDate || new Date());\n      this.cdr.detectChanges();\n    });\n\n    this.pickerSrv.activeInputChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(type => {\n      if (type === 'start') {\n        this.goToDate(this.selectedRangeDate[0] || this.selectedRangeDate[1] || new Date());\n      } else {\n        this.goToDate(this.selectedRangeDate[1] || this.selectedRangeDate[0] || new Date());\n      }\n    });\n  }\n\n  initList() {\n    for (let yearIndex = this.pickerSrv.calendarRange[0]; yearIndex <= this.pickerSrv.calendarRange[1]; yearIndex++) {\n      this.yearList.push({\n        year: yearIndex,\n        active: false\n      });\n    }\n  }\n\n  initScrollListener() {\n    const scrollEle = this.scrollBodyCmp.getElementRef().nativeElement;\n    this.scrollListener = fromEvent(scrollEle, 'mousewheel').pipe(\n      takeUntil(this.unsubscribe$),\n      debounceTime(180) // 滚动动画时间180，延时保证计算位置的准确\n    ).subscribe(() => {\n      const offsetY = this.scrollBodyCmp.measureScrollOffset();\n      // 当面板滚过一半更新面板\n      this.currentBodyIndex = Math.floor(offsetY / this.calenderItemSize) + (offsetY % this.calenderItemSize > 100 ? 1 : 0);\n      this.goToListByIndex(this.currentBodyIndex);\n      this.cdr.detectChanges();\n    });\n  }\n\n  goToDate(date: Date, scrollBehavior: 'auto' | 'smooth' = 'auto') {\n    if (date) {\n      const index = date.getFullYear() - this.pickerSrv.calendarRange[0];\n      this.currentBodyIndex = index;\n      this.scrollBodyCmp.scrollToIndex(index, scrollBehavior);\n      this.goToListByIndex(index);\n    }\n  }\n\n  goToListByIndex(index) {\n    const indexDelta = Math.abs(this.scrollListCmp.measureScrollOffset() / 30 - index);\n    this.scrollListCmp.scrollToIndex(index - 4, indexDelta < 12 ? 'smooth' : 'auto');\n  }\n\n  selectMonth(yearIndex: number, monthIndex: number) {\n    if (this.isDisable(yearIndex, monthIndex)) {\n      return;\n    }\n    this.currentDate = new Date(yearIndex, monthIndex - 1, 1);\n\n    if (this.isRangeType) {\n      this.pickerSrv.fixRangeDate();\n    }\n\n    // 非时间模式下选完开始日期跳转到结束日期\n    if (this.isRangeType) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        this.pickerSrv.currentActiveInput = 'end';\n      } else if (this.pickerSrv.currentActiveInput === 'end' && !this.selectedRangeDate[0]) {\n        this.pickerSrv.currentActiveInput = 'start';\n      } else {\n        this.pickerSrv.closeDropdownEvent.next();\n      }\n    }\n\n    this.pickerSrv.selectedDateChange.next({\n      type: this.isRangeType ? 'range' : 'single',\n      value: this.isRangeType ? this.selectedRangeDate : this.currentDate\n    });\n\n    if (this.pickerSrv.closeAfterSelected) {\n      this.pickerSrv.closeDropdownEvent.next();\n    }\n  }\n\n  selectYear(yearIndex: number) {\n    const isScroll = (yearIndex - this.pickerSrv.calendarRange[0]) - this.currentBodyIndex < 7;\n    this.goToDate(new Date(yearIndex, 0, 1), isScroll ? 'smooth' : 'auto');\n  }\n\n  isSelected(yearIndex: number, monthIndex: number) {\n    return this.pickerSrv.isMonthActive(yearIndex, monthIndex - 1);\n  }\n\n  isThisMonth(yearIndex: number, monthIndex: number) {\n    return this.thisMonth.getFullYear() === yearIndex && this.thisMonth.getMonth() === monthIndex - 1;\n  }\n\n  isDateInRange(yearIndex: number, monthIndex: number) {\n    const date = new Date(yearIndex, monthIndex - 1, 1);\n    return this.pickerSrv.isDateInRange(date);\n  }\n\n  isDisable(yearIndex: number, monthIndex: number) {\n    const date = new Date(yearIndex, monthIndex - 1, 1);\n    return this.pickerSrv.maxDate.getTime() <  date.getTime() || this.pickerSrv.minDate.getTime() >  date.getTime();\n  }\n\n  isStartDate(yearIndex: number, monthIndex: number): boolean {\n    if (!this.isRangeType) {\n      return false;\n    }\n    const date = new Date(yearIndex, monthIndex - 1, 1);\n    return this.pickerSrv.isStartDate(date);\n  }\n\n  isEndDate(yearIndex: number, monthIndex: number): boolean {\n    if (!this.isRangeType) {\n      return false;\n    }\n    const date = new Date(yearIndex, monthIndex - 1, 1);\n    return this.pickerSrv.isEndDate(date);\n  }\n\n  isDateAbandon(yearIndex: number, monthIndex: number) {\n    if (!this.isRangeType || (!this.selectedRangeDate[0] || !this.selectedRangeDate[1])) {\n      return false;\n    }\n    const date = new Date(yearIndex, monthIndex - 1, 1);\n    return this.pickerSrv.isDateAbandon(date);\n  }\n\n  isDateInSelectRange(yearIndex: number, monthIndex: number) {\n    if (!this.isRangeType) {\n      return false;\n    }\n\n    const date = new Date(yearIndex, monthIndex - 1, 1);\n\n    return this.pickerSrv.isDateInSelectRange(date);\n  }\n\n  isActiveTypeDate(yearIndex: number, monthIndex: number) {\n    if (!this.isRangeType) {\n      return false;\n    }\n\n    const date = new Date(yearIndex, monthIndex - 1, 1);\n\n    return this.pickerSrv.isActiveInputTypeDate(date);\n  }\n\n  setHoverTarget(yearIndex: number, monthIndex: number) {\n    const date = new Date(yearIndex, monthIndex - 1, 1);\n    if (this.isRangeType && !this.isDisable(yearIndex, monthIndex)) {\n      this.curHoverDate = date;\n    }\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n}\n","<div class=\"devui-month-panel\">\n  <cdk-virtual-scroll-viewport #scrollList [itemSize]=\"30\" class=\"devui-year-list\" minBufferPx=\"400\" maxBufferPx=\"600\">\n    <div\n      class=\"devui-year-list-item\"\n      [ngClass]=\"{ 'title-active': index === currentBodyIndex }\"\n      *cdkVirtualFor=\"let year of yearList; let index = index\"\n      (click)=\"selectYear(year.year)\"\n    >\n      <p class=\"devui-year-title\">{{ year.year }}</p>\n    </div>\n  </cdk-virtual-scroll-viewport>\n  <div class=\"devui-month-list-wrapper\">\n    <cdk-virtual-scroll-viewport #scrollBody [itemSize]=\"calenderItemSize\" class=\"devui-month-list\" minBufferPx=\"400\" maxBufferPx=\"600\">\n      <div *cdkVirtualFor=\"let year of yearList; let index = index\">\n        <p class=\"devui-table-year-title\">{{ year.year + '年' }}</p>\n        <table\n          class=\"devui-month-table\"\n          [ngClass]=\"{ 'devui-active-month': index === currentBodyIndex }\"\n          (mouseleave)=\"curHoverDate = null\"\n        >\n          <tbody>\n            <tr *ngFor=\"let season of monthList\">\n              <td\n                *ngFor=\"let month of season\"\n                class=\"devui-month-item\"\n                [ngClass]=\"{\n                  'devui-table-month-selected': isSelected(year.year, month),\n                  'devui-table-this-month': isThisMonth(year.year, month),\n                  'devui-table-date-inrange': isDateInRange(year.year, month),\n                  'devui-table-date-start': isStartDate(year.year, month),\n                  'devui-table-date-end': isEndDate(year.year, month),\n                  'devui-table-date-abandon-selected': isDateAbandon(year.year, month),\n                  'devui-table-date-in-selected-range': isDateInSelectRange(year.year, month),\n                  'devui-table-date-active-type': isActiveTypeDate(year.year, month)\n                }\"\n              >\n                <span\n                  (mouseenter)=\"setHoverTarget(year.year, month)\"\n                  [ngClass]=\"{ 'devui-disabled': isDisable(year.year, month) }\"\n                  (click)=\"selectMonth(year.year, month)\"\n                >\n                  {{ i18nText.monthsOfYear[month - 1] }}\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </cdk-virtual-scroll-viewport>\n  </div>\n</div>\n","import { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport {\n  ChangeDetectionStrategy,\n\n  ChangeDetectorRef,\n\n  Component,\n  Input,\n  OnDestroy,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport { chunk } from 'lodash-es';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatepickerProService } from '../datepicker-pro.service';\n\n@Component({\n  selector: 'd-year-panel',\n  templateUrl: './year-panel.component.html',\n  styleUrls: ['./year-panel.component.scss'],\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class YearPanelComponent implements OnInit, OnDestroy {\n  @ViewChild('scrollList') scrollListCmp: CdkVirtualScrollViewport;\n  @Input() isRangeType = false;\n\n  yearList = [];\n\n  unsubscribe$ = new Subject();\n\n  get curHoverDate() {\n    return this.pickerSrv.curHoverDate;\n  }\n\n  set curHoverDate(value: Date) {\n    this.pickerSrv.curHoverDate = value;\n  }\n\n  get currentDate() {\n    if (this.isRangeType) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        return this.pickerSrv.curRangeDate[0];\n      } else if (this.pickerSrv.currentActiveInput === 'end') {\n        return this.pickerSrv.curRangeDate[1];\n      }\n    } else {\n      return this.pickerSrv.curDate;\n    }\n  }\n\n  set currentDate(value: Date) {\n    if (this.isRangeType) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        this.pickerSrv.curRangeDate[0] = value;\n      } else if (this.pickerSrv.currentActiveInput === 'end') {\n        this.pickerSrv.curRangeDate[1] = value;\n      }\n    } else {\n      this.pickerSrv.curDate = value;\n    }\n  }\n\n  constructor(\n    private cdr: ChangeDetectorRef,\n    private pickerSrv: DatepickerProService\n  ) {\n  }\n\n  ngOnInit() {\n    this.initYearList();\n    this.initObservable();\n  }\n\n  initObservable() {\n    this.pickerSrv.toggleEvent.subscribe(isOpen => {\n      if (isOpen) {\n        setTimeout(() => {\n          this.goToYear(this.currentDate || new Date());\n        });\n      }\n    });\n\n    this.pickerSrv.updateDateValue.pipe(\n      takeUntil(this.unsubscribe$),\n    ).subscribe(res => {\n      if (res.type === 'range') {\n        this.pickerSrv.curRangeDate = res.value as Date[];\n      } else {\n        this.pickerSrv.curDate = res.value as Date;\n      }\n      this.goToYear(this.currentDate || new Date());\n    });\n\n    this.pickerSrv.activeInputChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(type => {\n      if (type === 'start') {\n        this.goToYear(this.pickerSrv.curRangeDate[0] || this.pickerSrv.curRangeDate[1] || new Date());\n      } else {\n        this.goToYear(this.pickerSrv.curRangeDate[1] || this.pickerSrv.curRangeDate[0] || new Date());\n      }\n    });\n  }\n\n  initYearList() {\n    const list = new Array(this.pickerSrv.calendarRange[1] - this.pickerSrv.calendarRange[0] + 1).fill(1).map((t, i) => {\n      return i + this.pickerSrv.calendarRange[0];\n    });\n    this.yearList = chunk(list, 3);\n  }\n\n  goToYear(date: Date) {\n    if (date) {\n      const index = Math.floor((date.getFullYear() - this.pickerSrv.calendarRange[0]) / 3);\n      this.scrollListCmp.scrollToIndex(index - 1);\n    }\n    this.cdr.detectChanges();\n  }\n\n  isThisYear(yearIndex: number): boolean {\n    return yearIndex === new Date().getFullYear();\n  }\n\n  isActiveYear(yearIndex: number): boolean {\n    return this.pickerSrv.isYearActive(yearIndex);\n  }\n\n  isStartDate(yearIndex: number): boolean {\n    if (!this.isRangeType) {\n      return false;\n    }\n    const date = new Date(yearIndex, 0, 1);\n    return this.pickerSrv.isStartDate(date);\n  }\n\n  isEndDate(yearIndex: number): boolean {\n    if (!this.isRangeType) {\n      return false;\n    }\n    const date = new Date(yearIndex, 0, 1);\n    return this.pickerSrv.isEndDate(date);\n  }\n\n  isDateAbandon(yearIndex: number) {\n    if (!this.isRangeType || (!this.pickerSrv.curRangeDate[0] || !this.pickerSrv.curRangeDate[1])) {\n      return false;\n    }\n    const date = new Date(yearIndex, 0, 1);\n    return this.pickerSrv.isDateAbandon(date);\n  }\n\n  isActiveTypeDate(yearIndex: number) {\n    if (!this.isRangeType) {\n      return false;\n    }\n\n    const date = new Date(yearIndex, 0, 1);\n\n    return this.pickerSrv.isActiveInputTypeDate(date);\n  }\n\n  isDateInRange(yearIndex: number) {\n    const date = new Date(yearIndex, 0, 1);\n    return this.pickerSrv.isDateInRange(date);\n  }\n\n  isDateInSelectRange(yearIndex: number) {\n    if (!this.isRangeType) {\n      return false;\n    }\n\n    const date = new Date(yearIndex, 0, 1);\n\n    return this.pickerSrv.isDateInSelectRange(date);\n  }\n\n  selectYear(yearIndex: number) {\n    if (this.isDisable(yearIndex)) {\n      return;\n    }\n    this.currentDate = new Date(yearIndex, 0 , 1);\n\n    if (this.isRangeType) {\n      this.pickerSrv.fixRangeDate();\n    }\n\n    // 非时间模式下选完开始日期跳转到结束日期\n    if (this.isRangeType) {\n      if (this.pickerSrv.currentActiveInput === 'start') {\n        this.pickerSrv.currentActiveInput = 'end';\n      } else if (this.pickerSrv.currentActiveInput === 'end' && !this.pickerSrv.curRangeDate[0]) {\n        this.pickerSrv.currentActiveInput = 'start';\n      } else {\n        this.pickerSrv.closeDropdownEvent.next();\n      }\n    }\n\n    this.pickerSrv.selectedDateChange.next({\n      type: this.isRangeType ? 'range' : 'single',\n      value: this.isRangeType ? this.pickerSrv.curRangeDate : this.currentDate\n    });\n\n    if (this.pickerSrv.closeAfterSelected) {\n      this.pickerSrv.closeDropdownEvent.next();\n    }\n  }\n\n  isDisable(yearIndex: number) {\n    const date = new Date(yearIndex, 0, 1);\n    return this.pickerSrv.maxDate.getTime() <  date.getTime() || this.pickerSrv.minDate.getTime() >  date.getTime();\n  }\n\n  setHoverTarget(yearIndex: number) {\n    const date = new Date(yearIndex, 0, 1);\n    if (this.isRangeType && !this.isDisable(yearIndex)) {\n      this.curHoverDate = date;\n    }\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n}\n","<div class=\"year-list-panel\" (mouseleave)=\"curHoverDate = null\">\n  <cdk-virtual-scroll-viewport #scrollList [itemSize]=\"48\" class=\"devui-year-list\" minBufferPx=\"400\" maxBufferPx=\"600\">\n    <div class=\"devui-year-list-item\" *cdkVirtualFor=\"let years of yearList; let index = index\">\n      <p\n        class=\"devui-year-title\"\n        [ngClass]=\"{\n          'devui-this-year': isThisYear(year),\n          'devui-active-year': isActiveYear(year),\n          'devui-disabled': isDisable(year),\n          'devui-table-date-inrange': isDateInRange(year),\n          'devui-table-date-start': isStartDate(year),\n          'devui-table-date-end': isEndDate(year),\n          'devui-table-date-abandon-selected': isDateAbandon(year),\n          'devui-table-date-in-selected-range': isDateInSelectRange(year),\n          'devui-table-date-active-type': isActiveTypeDate(year)\n        }\"\n        (click)=\"selectYear(year)\"\n        (mouseenter)=\"setHoverTarget(year)\"\n        *ngFor=\"let year of years\"\n      >\n        {{ year }}\n      </p>\n    </div>\n  </cdk-virtual-scroll-viewport>\n</div>\n","import {\n  Component, HostListener, Input, TemplateRef\n} from '@angular/core';\n\n@Component({\n  selector: 'd-datepicker-panel',\n  templateUrl: './datepicker-panel.component.html',\n  styleUrls: ['./datepicker-panel.component.scss'],\n  preserveWhitespaces: false,\n})\nexport class DatepickerPanelComponent {\n  @Input() isRangeType: boolean;\n  @Input() showTime: boolean;\n  @Input() showCustom: boolean;\n  @Input() customTemplate: TemplateRef<any>;\n  @Input() footerTemplate: TemplateRef<any>;\n  @Input() mode: 'year' | 'month' | 'date' | 'week' = 'date';\n\n  constructor() {\n  }\n\n  @HostListener('click', ['$event'])\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n  }\n\n}\n","<div class=\"devui-datepicker-pro-panel\">\n  <ng-container *ngIf=\"mode === 'date' || !mode\">\n    <d-calendar-panel [isRangeType]=\"isRangeType\"> </d-calendar-panel>\n    <d-timepicker-panel *ngIf=\"showTime\"></d-timepicker-panel>\n\n    <div class=\"devui-custom-panel-wrapper\" *ngIf=\"customTemplate\">\n      <ng-template [ngTemplateOutlet]=\"customTemplate\"> </ng-template>\n    </div>\n\n    <d-datepicker-footer-panel *ngIf=\"showTime || footerTemplate\" [footerTemplate]=\"footerTemplate\"></d-datepicker-footer-panel>\n  </ng-container>\n\n  <ng-container *ngIf=\"mode === 'month'\">\n    <d-month-panel [isRangeType]=\"isRangeType\"></d-month-panel>\n    <div class=\"devui-custom-panel-wrapper\" *ngIf=\"customTemplate\">\n      <ng-template [ngTemplateOutlet]=\"customTemplate\"> </ng-template>\n    </div>\n\n    <d-datepicker-footer-panel *ngIf=\"footerTemplate\" [footerTemplate]=\"footerTemplate\"></d-datepicker-footer-panel>\n  </ng-container>\n\n  <ng-container *ngIf=\"mode === 'year'\">\n    <d-year-panel [isRangeType]=\"isRangeType\"></d-year-panel>\n\n    <div class=\"devui-custom-panel-wrapper\" *ngIf=\"customTemplate\">\n      <ng-template [ngTemplateOutlet]=\"customTemplate\"> </ng-template>\n    </div>\n\n    <d-datepicker-footer-panel *ngIf=\"footerTemplate\" [footerTemplate]=\"footerTemplate\"></d-datepicker-footer-panel>\n  </ng-container>\n\n  <ng-container *ngIf=\"mode === 'week' && isRangeType === true\">\n    <d-calendar-panel [isRangeType]=\"true\" [isWeekSelect]=\"true\"> </d-calendar-panel>\n\n    <div class=\"devui-custom-panel-wrapper\" *ngIf=\"customTemplate\">\n      <ng-template [ngTemplateOutlet]=\"customTemplate\"> </ng-template>\n    </div>\n\n    <d-datepicker-footer-panel *ngIf=\"footerTemplate\" [footerTemplate]=\"footerTemplate\"></d-datepicker-footer-panel>\n  </ng-container>\n</div>\n","import {\n  AfterViewInit,\n  Component, ContentChild, ElementRef, EventEmitter, forwardRef, Input, OnDestroy, OnInit, Output, TemplateRef, ViewChild\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { DefaultDateConverter } from 'ng-devui/utils';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatepickerProService } from './datepicker-pro.service';\n\n@Component({\n  selector: 'd-datepicker-calendar',\n  templateUrl: './datepicker-pro-calendar.component.html',\n  styleUrls: ['./datepicker-pro-calendar.component.scss'],\n  providers: [\n    DatepickerProService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DatepickerProCalendarComponent),\n      multi: true\n    }\n  ],\n  preserveWhitespaces: false,\n})\nexport class DatepickerProCalendarComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input() set activeRangeType(type: 'start' | 'end') {\n    this.pickerSrv.currentActiveInput = type;\n    this.focusChange(type);\n    this.pickerSrv.activeInputChange.next(type);\n  }\n\n  get curActiveDate(): Date {\n    if (this.pickerSrv.currentActiveInput === 'start') {\n      return this.pickerSrv.curRangeDate[0] || this.pickerSrv.curRangeDate[1] || new Date();\n    } else {\n      return this.pickerSrv.curRangeDate[1] || this.pickerSrv.curRangeDate[0] || new Date();\n    }\n  }\n\n  set currentActiveInput(value: 'start' | 'end') {\n    this.pickerSrv.currentActiveInput = value;\n  }\n  get currentActiveInput(): 'start' | 'end' {\n    return this.pickerSrv.currentActiveInput;\n  }\n\n  get dateValue() {\n    return this._dateValue;\n  }\n\n  set dateValue(value: string[]) {\n    this._dateValue = value;\n    this.getStrWidth();\n  }\n\n  get curFormat(): string {\n    if (this.mode === 'year') {\n      return 'y';\n    } else if (this.mode === 'month') {\n      return 'y-MM';\n    } else {\n      return  this.showTime ? 'y/MM/dd HH:mm:ss' :  'y/MM/dd';\n    }\n  }\n\n  constructor(\n    private pickerSrv: DatepickerProService,\n    private i18n: I18nService\n  ) {\n    this.i18nText = this.i18n.getI18nText().datePickerPro;\n    this.datepickerConvert = new DefaultDateConverter();\n  }\n  @Input() isRangeType = false;\n  @Input() showTime = false;\n  @Input() mode: 'year' | 'month' | 'date' | 'week' = 'date';\n  @Input() startIndexOfWeek = 0;\n  @Input() splitter = '-';\n  @Input() showRangeHeader = true;\n  @Input() placeholder: string[];\n  @Input() allowClear = true;\n\n  @Input() set minDate(value: Date) {\n    if (!value) {\n      return;\n    }\n    this.pickerSrv.minDate = value;\n  }\n  @Input() set maxDate(value: Date) {\n    if (!value) {\n      return;\n    }\n    this.pickerSrv.maxDate = value;\n  }\n\n  @Input() set markedRangeDateList(value: Date[][]) {\n    this.pickerSrv.markedRangeDateList = value;\n  };\n  @Input() set markedDateList(value: Date[]) {\n    this.pickerSrv.markedDateList = value;\n  }\n\n  @Output() confirmEvent = new EventEmitter<Date | Date[]>();\n  @Output() cancelEvent = new EventEmitter<void>();\n\n  @ContentChild('customTemplate') customTemplate: TemplateRef<any>;\n  @ContentChild('footerTemplate') footerTemplate: TemplateRef<any>;\n  @ContentChild('markDateInfoTemplate') set markDateInfoTemplate(tmp: TemplateRef<any>) {\n    this.pickerSrv.markDateInfoTemplate = tmp;\n  };\n\n  @ViewChild('dateInputStart') datepickerInputStart: ElementRef;\n  @ViewChild('dateInputEnd') datepickerInputEnd: ElementRef;\n\n  strWidth = 0;\n\n  _dateValue = [];\n  i18nText;\n  datepickerConvert: DefaultDateConverter;\n  unsubscribe$ = new Subject();\n  private i18nLocale: I18nInterface['locale'];\n\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  private setI18nText() {\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18n.langChange().pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe((data) => {\n      this.i18nLocale = data.locale;\n      this.i18nText = data.datePickerPro;\n    });\n  }\n\n  ngOnInit() {\n    this.setI18nText();\n    this.initSrvStatus();\n    this.initObservable();\n  }\n\n  ngAfterViewInit(): void {\n    this.updateCurPosition();\n  }\n\n  public updateCurPosition() {\n    this.pickerSrv.toggleEvent.next(true);\n  }\n\n  clear(event?: MouseEvent) {\n    if (event) {\n      event.stopPropagation();\n    }\n    this.pickerSrv.updateDateValue.next({\n      type: this.isRangeType ? 'range' : 'single',\n      value: this.isRangeType ? [] : null\n    });\n\n    this.pickerSrv.updateTimeChange.next({\n      hour: null,\n      min: null,\n      seconds: null\n    });\n    if (this.isRangeType) {\n      this.dateValue = [];\n      this.pickerSrv.curRangeDate = [];\n      this.currentActiveInput = 'start';\n      if (event) {\n        this.onChange(this.pickerSrv.curRangeDate);\n      }\n    } else {\n      this.pickerSrv.curDate = null;\n      if (event) {\n        this.onChange(this.pickerSrv.curDate);\n      }\n    }\n  }\n\n  private initSrvStatus() {\n    this.pickerSrv.showTime = this.showTime;\n    this.pickerSrv.isRange = this.isRangeType;\n    this.pickerSrv.startIndexOfWeek = this.startIndexOfWeek;\n  }\n\n  private formatDateToString(date: Date): string {\n    if (!date) {\n      return '';\n    }\n    return this.datepickerConvert.format(date, this.curFormat);\n  }\n\n  private initObservable() {\n    this.pickerSrv.selectedDateChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(change => {\n      if (this.isRangeType) {\n        this.pickerSrv.curRangeDate = change.value as Date[];\n        this.dateValue = (change.value as Date[]).map(d => this.formatDateToString(d));\n        this.onChange(this.pickerSrv.curRangeDate);\n      } else {\n        this.pickerSrv.curDate = change.value as Date;\n        this.onChange(change.value);\n      }\n\n    });\n\n    this.pickerSrv.selectedTimeChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(time => {\n      if (this.isRangeType) {\n        const curTime = new Date(this.curActiveDate.getTime()).setHours(time.hour, time.min, time.seconds);\n        const curDate = new Date(curTime);\n        if (time.activeInput === 'start') {\n          this.pickerSrv.curRangeDate[0] = curDate;\n          if (this.isSameDateAndTimeWrong()) {\n            this.pickerSrv.curRangeDate[1] = curDate;\n            this.dateValue[1] = this.formatDateToString(curDate);\n          }\n          this.dateValue = [this.formatDateToString(curDate), this.dateValue[1]];\n        } else {\n          this.pickerSrv.curRangeDate[1] = curDate;\n          if (this.isSameDateAndTimeWrong()) {\n            this.pickerSrv.curRangeDate[0] = curDate;\n            this.dateValue[0] = this.formatDateToString(curDate);\n          }\n          this.dateValue = [this.dateValue[0], this.formatDateToString(curDate)];\n        }\n        this.onChange(this.pickerSrv.curRangeDate);\n      } else {\n        const curDate = new Date((this.pickerSrv.curDate || new Date()).setHours(time.hour, time.min, time.seconds));\n        this.pickerSrv.curDate = curDate;\n        this.onChange(curDate);\n      }\n\n    });\n\n    this.pickerSrv.closeDropdownEvent.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(isConfirm => {\n      if (isConfirm) {\n        this.confirmEvent.emit(this.pickerSrv.curDate || this.pickerSrv.curRangeDate);\n      } else {\n        this.cancelEvent.emit();\n      }\n    });\n  }\n\n  focusChange(type: 'start' | 'end') {\n    this.currentActiveInput = type;\n    this.pickerSrv.activeInputChange.next(type);\n    if (type === 'start') {\n      setTimeout(() => {\n        if (this.datepickerInputStart?.nativeElement) {\n          this.datepickerInputStart.nativeElement.focus();\n        }\n      });\n    } else {\n      setTimeout(() => {\n        if (this.datepickerInputEnd?.nativeElement) {\n          this.datepickerInputEnd.nativeElement.focus();\n        }\n      });\n    }\n  }\n\n  isSameDateAndTimeWrong(): boolean {\n    if (this.pickerSrv.curRangeDate[0]?.toDateString() === this.pickerSrv.curRangeDate[1]?.toDateString()) {\n      return this.pickerSrv.curRangeDate[0].getTime() > this.pickerSrv.curRangeDate[1].getTime();\n    }\n    return false;\n  }\n\n  writeValue(value: Date | Date[]) {\n    if (this.isRangeType) {\n      this.writeRangeValue(value as Date[]);\n    } else {\n      this.writeSingleValue(value as Date);\n    }\n  }\n\n  writeRangeValue(value: Date[]) {\n    if (!value || !value.length) {\n      this.clear();\n      return;\n    }\n\n    if (value.find(t => !this.pickerSrv.dateInRange(t))) {\n      return;\n    }\n\n    this.dateValue = value.map(d => {\n      return d ? this.datepickerConvert.format(d, this.curFormat) : '';\n    });\n\n    this.pickerSrv.curRangeDate = value;\n    this.pickerSrv.updateDateValue.next({\n      type: 'range',\n      value\n    });\n  }\n\n  writeSingleValue(value: Date) {\n    if (!value || !this.pickerSrv.dateInRange(new Date(value))) {\n      this.clear();\n      return;\n    }\n    this.pickerSrv.curDate = value;\n    this.pickerSrv.updateDateValue.next({\n      type: 'single',\n      value\n    });\n\n    if (this.showTime) {\n      this.pickerSrv.updateTimeChange.next({\n        hour: value.getHours(),\n        min: value.getMinutes(),\n        seconds: value.getSeconds()\n      });\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n  getStrWidth() {\n    let str = this.pickerSrv.currentActiveInput === 'start' ? this.dateValue[0] : this.dateValue[1];\n    if (!str || !str.length) {\n      str = this.pickerSrv.currentActiveInput === 'start' ? this.i18nText.startPlaceholder : this.i18nText.endPlaceholder;\n    }\n    this.strWidth = this.pickerSrv.mearsureStrWidth(str);\n  }\n}\n","<div class=\"devui-calendar-header\" *ngIf=\"showRangeHeader && isRangeType\" [ngStyle]=\"{ width: showTime ? 'auto' : '330px' }\">\n  <div\n    class=\"devui-range-picker devui-input-group devui-dropdown-origin\"\n    [ngClass]=\"{\n      'devui-has-value': dateValue[0] || dateValue[1]\n    }\"\n  >\n    <i class=\"devui-range-picker-icon\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M5,0 L5,1 L11,1 L11,0 L12,0 L12,1 L14,1 C15.1045695,1 16,1.8954305 16,3 L16,14 C16,15.1045695 15.1045695,16 14,16 L2,16 C0.8954305,16 0,15.1045695 0,14 L0,3 C0,1.8954305 0.8954305,1 2,1 L4,1 L4,0 L5,0 Z M15,5 L1,5 L1,14 C1,14.5522847 1.44771525,15 2,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,5 Z M6,7 C6.55228475,7 7,7.44771525 7,8 L7,10 C7,10.5522847 6.55228475,11 6,11 L4,11 C3.44771525,11 3,10.5522847 3,10 L3,8 C3,7.44771525 3.44771525,7 4,7 L6,7 Z M6,8 L4,8 L4,10 L6,10 L6,8 Z M4,2 L2,2 C1.44771525,2 1,2.44771525 1,3 L1,4 L15,4 L15,3 C15,2.44771525 14.5522847,2 14,2 L12,2 L12,3 L11,3 L11,2 L5,2 L5,3 L4,3 L4,2 Z\"\n            fill=\"#BABBC0\"\n          ></path>\n        </g>\n      </svg>\n    </i>\n    <input\n      #dateInputStart\n      class=\"devui-input devui-form-control devui-date-start\"\n      [ngClass]=\"{ 'devui-active-input': currentActiveInput === 'start' }\"\n      [placeholder]=\"(placeholder && placeholder[0]) || i18nText.startPlaceholder\"\n      [(ngModel)]=\"dateValue[0]\"\n      (click)=\"focusChange('start')\"\n      autocomplete=\"off\"\n    />\n    <span> {{ splitter }} </span>\n    <input\n      #dateInputEnd\n      class=\"devui-input devui-form-control devui-date-end\"\n      [ngClass]=\"{ 'devui-active-input': currentActiveInput === 'end' }\"\n      [placeholder]=\"(placeholder && placeholder[1]) || i18nText.endPlaceholder\"\n      [(ngModel)]=\"dateValue[1]\"\n      (click)=\"focusChange('end')\"\n      autocomplete=\"off\"\n    />\n    <div\n      class=\"devui-date-input-active-bar\"\n      [style.width.px]=\"strWidth\"\n      [ngClass]=\"{\n        'devui-start-side': currentActiveInput === 'start',\n        'devui-end-side': currentActiveInput === 'end'\n      }\"\n    ></div>\n    <div *ngIf=\"allowClear\" class=\"devui-input-group-addon close-icon-wrapper\" (click)=\"clear($event)\">\n      <div class=\"close-icon\">\n        <svg\n          width=\"16px\"\n          height=\"16px\"\n          viewBox=\"0 0 16 16\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <path\n              d=\"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M5.87867966,5.17157288 C5.68341751,4.97631073 5.36683502,4.97631073 5.17157288,5.17157288 C4.99800652,5.34513923 4.97872137,5.61456363 5.11371742,5.80943177 L5.17157288,5.87867966 L7.29218611,7.99929289 L5.17157288,10.1213203 C4.97631073,10.3165825 4.97631073,10.633165 5.17157288,10.8284271 C5.34513923,11.0019935 5.61456363,11.0212786 5.80943177,10.8862826 L5.87867966,10.8284271 L7.99929289,8.70639967 L10.1213203,10.8284271 C10.3165825,11.0236893 10.633165,11.0236893 10.8284271,10.8284271 C11.0019935,10.6548608 11.0212786,10.3854364 10.8862826,10.1905682 L10.8284271,10.1213203 L8.70710678,8 L10.8284271,5.87867966 C11.0236893,5.68341751 11.0236893,5.36683502 10.8284271,5.17157288 C10.6548608,4.99800652 10.3854364,4.97872137 10.1905682,5.11371742 L10.1213203,5.17157288 L8,7.29289322 L5.87867966,5.17157288 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </svg>\n      </div>\n    </div>\n  </div>\n</div>\n<d-datepicker-panel\n  [isRangeType]=\"isRangeType\"\n  [showTime]=\"showTime\"\n  [customTemplate]=\"customTemplate\"\n  [footerTemplate]=\"footerTemplate\"\n></d-datepicker-panel>\n","import {\n  AfterViewInit,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { DefaultDateConverter } from 'ng-devui/utils';\nimport { fromEvent, Subject } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\nimport { DatepickerProService } from './datepicker-pro.service';\nimport { DateConfig } from './lib/datepicker-pro.type';\n\n@Component({\n  selector: 'd-datepicker-pro',\n  templateUrl: './datepicker-pro.component.html',\n  styleUrls: ['./datepicker-pro.component.scss'],\n  providers: [\n    DatepickerProService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DatepickerProComponent),\n      multi: true\n    }\n  ],\n  preserveWhitespaces: false,\n})\nexport class DatepickerProComponent implements OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\n  @Input() mode: 'year' | 'month' | 'date' = 'date';\n  @Input() showTime = false;\n  @Input() disabled = false;\n  @Input() autoOpen = false;\n  @Input() format: string;\n  @Input() cssClass: string;\n  @Input() showAnimation = true;\n  @Input() appendToBody = true;\n  @Input() width: string;\n  @Input() placeholder: string;\n  @Input() allowClear = true;\n  @Output() dropdownToggle = new EventEmitter<boolean>();\n  @Output() confirmEvent = new EventEmitter<Date>();\n  @Input() set calenderRange (value) {\n    this.pickerSrv.calendarRange = value || [1970, 2099];\n  }\n  @Input() set minDate(value: Date) {\n    if (!value) {\n      return;\n    }\n    this.pickerSrv.minDate = value;\n  }\n  @Input() set maxDate(value: Date) {\n    if (!value) {\n      return;\n    }\n    this.pickerSrv.maxDate = value;\n  }\n  @Input() set markedRangeDateList(value: Date[][]) {\n    this.pickerSrv.markedRangeDateList = value;\n  };\n  @Input() set markedDateList(value: Date[]) {\n    this.pickerSrv.markedDateList = value;\n  }\n  @ContentChild('customTemplate') customTemplate: TemplateRef<any>;\n  @ContentChild('footerTemplate') footerTemplate: TemplateRef<any>;\n  @ContentChild('hostTemplate') hostTemplate: TemplateRef<any>;\n  @ContentChild('markDateInfoTemplate') set markDateInfoTemplate(tmp: TemplateRef<any>) {\n    this.pickerSrv.markDateInfoTemplate = tmp;\n  };\n  @ViewChild('dateInput') datepickerInput: ElementRef;\n\n  private i18nLocale: I18nInterface['locale'];\n\n  i18nText;\n  dateValue = '';\n  datepickerConvert: DefaultDateConverter;\n  unsubscribe$ = new Subject();\n  isOpen = false;\n  get dateConfig(): DateConfig {\n    return {\n      dateConverter: this.datepickerConvert,\n      min: this.pickerSrv.minDate || new Date(this.pickerSrv.calendarRange[0] + '/01/01'),\n      max: this.pickerSrv.maxDate || new Date(this.pickerSrv.calendarRange[1] + '/12/31'),\n      format: {\n        date: this.format || 'y/MM/dd',\n        time: this.format || 'y/MM/dd HH:mm:ss',\n        month: this.format || 'y-MM',\n        year: 'y'\n      }\n    };\n  }\n\n  get curFormat(): string {\n    if (this.mode === 'year') {\n      return this.dateConfig.format.year;\n    } else if (this.mode === 'month') {\n      return this.dateConfig.format.month;\n    } else {\n      return  this.showTime ? this.dateConfig.format.time : this.dateConfig.format.date;\n    }\n  }\n\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  constructor(\n    private i18n: I18nService,\n    private pickerSrv: DatepickerProService\n  ) {\n    this.i18nText = this.i18n.getI18nText().datePickerPro;\n    this.datepickerConvert = new DefaultDateConverter();\n  }\n\n  ngOnInit() {\n    this.initSrvStatus();\n    this.setI18nText();\n    setTimeout(() => {\n      this.isOpen = this.autoOpen;\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.initObservable();\n  }\n\n  private initSrvStatus() {\n    this.pickerSrv.showTime = this.showTime;\n    this.pickerSrv.isRange = false;\n  }\n\n  private initObservable() {\n    this.pickerSrv.selectedDateChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(change => {\n      this.dateValue = this.formatDateToString(change.value as Date);\n      this.pickerSrv.curDate = change.value as Date;\n      this.onChange(change.value);\n    });\n\n    this.pickerSrv.selectedTimeChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(time => {\n      if (this.dateValue) {\n        const curTime = this.datepickerConvert.parse(this.dateValue, this.curFormat).setHours(time.hour, time.min, time.seconds);\n        const curDate = new Date(curTime);\n        this.pickerSrv.curDate = curDate;\n        this.dateValue = this.formatDateToString(curDate);\n        this.onChange(curDate);\n      } else {\n        this.writeValue(new Date(new Date().setHours(time.hour, time.min, time.seconds)));\n        this.onChange(this.pickerSrv.curDate);\n      }\n    });\n\n    this.pickerSrv.closeDropdownEvent.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(isConfirm => {\n      this.isOpen = false;\n      this.dropdownToggle.emit(false);\n      if (isConfirm) {\n        this.confirmEvent.emit(this.pickerSrv.curDate);\n      }\n    });\n\n    if (!this.hostTemplate) {\n      fromEvent(this.datepickerInput.nativeElement, 'input').pipe(\n        takeUntil(this.unsubscribe$),\n        debounceTime(300)\n      ).subscribe((event: InputEvent) => {\n        if (!this.dateValue) {\n          return;\n        }\n\n        const inputDate = this.datepickerConvert.parse(this.dateValue, this.curFormat);\n        if (inputDate instanceof Date && inputDate.getTime() === this.pickerSrv.curDate.getTime()) {\n          return;\n        }\n\n        if (this.validateDate(this.dateValue)) {\n          this.pickerSrv.curDate = inputDate;\n          this.pickerSrv.updateDateValue.next({\n            type: 'single',\n            value: inputDate\n          });\n\n          if (this.showTime) {\n            this.pickerSrv.updateTimeChange.next({\n              hour: inputDate.getHours(),\n              min: inputDate.getMinutes(),\n              seconds: inputDate.getSeconds()\n            });\n          }\n        }\n      });\n\n      fromEvent(this.datepickerInput.nativeElement, 'blur').pipe(\n        takeUntil(this.unsubscribe$),\n      ).subscribe(() => {\n        if (!this.validateDate(this.dateValue)) {\n          this.dateValue = this.pickerSrv.curDate ?\n            this.datepickerConvert.format(this.pickerSrv.curDate, this.curFormat, this.i18nLocale) :\n            '';\n        }\n      });\n    }\n  }\n\n  private setI18nText() {\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18n.langChange().pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe((data) => {\n      this.i18nLocale = data.locale;\n      this.i18nText = data.datePickerPro;\n    });\n  }\n\n  validateDate(value: string) {\n    const valueDate = this.datepickerConvert.parse(value, this.curFormat);\n    const valueFormat = valueDate && !isNaN(valueDate.getTime()) &&\n      this.datepickerConvert.format(valueDate, this.curFormat, this.i18nLocale);\n    if (\n      !valueDate || value !== valueFormat ||\n      (value === valueFormat && !this.pickerSrv.dateInRange(valueDate))\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  formatDateToString(date: Date): string {\n    return this.datepickerConvert.format(date, this.curFormat);\n  }\n\n  clear(event?: MouseEvent, isHandle?: boolean) {\n    if (event) {\n      event.stopPropagation();\n    }\n\n    if (this.disabled && isHandle) {\n      return;\n    }\n    this.pickerSrv.updateDateValue.next({\n      type: 'single',\n      value: null\n    });\n\n    this.pickerSrv.updateTimeChange.next({\n      hour: null,\n      min: null,\n      seconds: null\n    });\n    this.dateValue = null;\n    this.pickerSrv.curDate = null;\n\n    if (event) {\n      this.onChange(this.pickerSrv.curDate);\n    }\n  }\n\n  onToggle(isOpen) {\n    if (isOpen !== this.isOpen || isOpen) {\n      this.dropdownToggle.emit(isOpen);\n    }\n    this.isOpen = isOpen;\n    this.pickerSrv.toggleEvent.next(isOpen);\n  }\n\n  openDropdown(event: Event) {\n    if (this.isOpen) {\n      event.stopPropagation();\n    }\n    this.isOpen = true;\n\n    setTimeout(() => {\n      if (this.datepickerInput?.nativeElement) { this.datepickerInput.nativeElement.focus(); }\n    });\n  }\n\n  writeValue(value: Date) {\n    if (!value || !this.pickerSrv.dateInRange(new Date(value))) {\n      this.clear();\n      return;\n    }\n    this.dateValue = this.formatDateToString(value);\n    this.pickerSrv.curDate = value;\n    this.pickerSrv.updateDateValue.next({\n      type: 'single',\n      value\n    });\n\n    if (this.showTime) {\n      this.pickerSrv.updateTimeChange.next({\n        hour: value.getHours(),\n        min: value.getMinutes(),\n        seconds: value.getSeconds()\n      });\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n}\n","<div\n  class=\"devui-datepicker-pro-wrapper {{ cssClass }}\"\n  *ngIf=\"appendToBody; else normal\"\n  dDropDown\n  appendToBody\n  [disabled]=\"disabled\"\n  [isOpen]=\"isOpen\"\n  [trigger]=\"'manually'\"\n  (toggleEvent)=\"onToggle($event)\"\n  (click)=\"openDropdown($event)\"\n  [closeScope]=\"'blank'\"\n  [showAnimation]=\"showAnimation\"\n  [ngStyle]=\"{ width: width || '250px' }\"\n>\n  <div dDropDownToggle>\n    <ng-template [ngTemplateOutlet]=\"hostTemplate || default\" [ngTemplateOutletContext]=\"{ value: dateValue }\"></ng-template>\n  </div>\n\n  <div class=\"devui-datepicker-pro-dropdown-panel\" [ngStyle]=\"{ paddingBottom: !showTime && !footerTemplate ? 0 : '4px' }\" dDropDownMenu>\n    <d-datepicker-panel\n      [isRangeType]=\"false\"\n      [showTime]=\"showTime\"\n      [customTemplate]=\"customTemplate\"\n      [footerTemplate]=\"footerTemplate\"\n      [mode]=\"mode\"\n    >\n    </d-datepicker-panel>\n  </div>\n</div>\n\n<ng-template #normal>\n  <div\n    class=\"devui-datepicker-pro-wrapper {{ cssClass }}\"\n    dDropDown\n    [disabled]=\"disabled\"\n    [isOpen]=\"isOpen\"\n    [trigger]=\"'manually'\"\n    (toggleEvent)=\"onToggle($event)\"\n    (click)=\"openDropdown($event)\"\n    [closeScope]=\"'blank'\"\n    [showAnimation]=\"showAnimation\"\n    [ngStyle]=\"{ width: width || '250px' }\"\n  >\n    <div dDropDownToggle>\n      <ng-template [ngTemplateOutlet]=\"hostTemplate || default\" [ngTemplateOutletContext]=\"{ value: dateValue }\"></ng-template>\n    </div>\n\n    <div class=\"devui-datepicker-pro-dropdown-panel\" [ngStyle]=\"{ paddingBottom: !showTime && !footerTemplate ? 0 : '4px' }\" dDropDownMenu>\n      <d-datepicker-panel\n        [isRangeType]=\"false\"\n        [showTime]=\"showTime\"\n        [customTemplate]=\"customTemplate\"\n        [footerTemplate]=\"footerTemplate\"\n        [mode]=\"mode\"\n      >\n      </d-datepicker-panel>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #default>\n  <div\n    class=\"devui-single-picker devui-input-group devui-dropdown-origin\"\n    [ngClass]=\"{\n      'devui-disabled': disabled,\n      'devui-has-value': dateValue\n    }\"\n  >\n    <i class=\"devui-single-picker-icon\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M5,0 L5,1 L11,1 L11,0 L12,0 L12,1 L14,1 C15.1045695,1 16,1.8954305 16,3 L16,14 C16,15.1045695 15.1045695,16 14,16 L2,16 C0.8954305,16 0,15.1045695 0,14 L0,3 C0,1.8954305 0.8954305,1 2,1 L4,1 L4,0 L5,0 Z M15,5 L1,5 L1,14 C1,14.5522847 1.44771525,15 2,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,5 Z M6,7 C6.55228475,7 7,7.44771525 7,8 L7,10 C7,10.5522847 6.55228475,11 6,11 L4,11 C3.44771525,11 3,10.5522847 3,10 L3,8 C3,7.44771525 3.44771525,7 4,7 L6,7 Z M6,8 L4,8 L4,10 L6,10 L6,8 Z M4,2 L2,2 C1.44771525,2 1,2.44771525 1,3 L1,4 L15,4 L15,3 C15,2.44771525 14.5522847,2 14,2 L12,2 L12,3 L11,3 L11,2 L5,2 L5,3 L4,3 L4,2 Z\"\n            fill=\"#BABBC0\"\n          ></path>\n        </g>\n      </svg>\n    </i>\n    <input\n      #dateInput\n      class=\"devui-input devui-form-control\"\n      [disabled]=\"disabled\"\n      [placeholder]=\"placeholder || i18nText?.placeholder\"\n      [(ngModel)]=\"dateValue\"\n      autocomplete=\"off\"\n    />\n    <div *ngIf=\"allowClear\" class=\"devui-input-group-addon close-icon-wrapper\" (click)=\"clear($event, true)\">\n      <div class=\"close-icon\">\n        <svg\n          width=\"16px\"\n          height=\"16px\"\n          viewBox=\"0 0 16 16\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <path\n              d=\"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M5.87867966,5.17157288 C5.68341751,4.97631073 5.36683502,4.97631073 5.17157288,5.17157288 C4.99800652,5.34513923 4.97872137,5.61456363 5.11371742,5.80943177 L5.17157288,5.87867966 L7.29218611,7.99929289 L5.17157288,10.1213203 C4.97631073,10.3165825 4.97631073,10.633165 5.17157288,10.8284271 C5.34513923,11.0019935 5.61456363,11.0212786 5.80943177,10.8862826 L5.87867966,10.8284271 L7.99929289,8.70639967 L10.1213203,10.8284271 C10.3165825,11.0236893 10.633165,11.0236893 10.8284271,10.8284271 C11.0019935,10.6548608 11.0212786,10.3854364 10.8862826,10.1905682 L10.8284271,10.1213203 L8.70710678,8 L10.8284271,5.87867966 C11.0236893,5.68341751 11.0236893,5.36683502 10.8284271,5.17157288 C10.6548608,4.99800652 10.3854364,4.97872137 10.1905682,5.11371742 L10.1213203,5.17157288 L8,7.29289322 L5.87867966,5.17157288 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </svg>\n      </div>\n    </div>\n  </div>\n</ng-template>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { DefaultDateConverter } from 'ng-devui/utils';\nimport { fromEvent, Subject } from 'rxjs';\nimport { debounceTime, map, takeUntil } from 'rxjs/operators';\nimport { DatepickerProService } from './datepicker-pro.service';\nimport { DateConfig } from './lib/datepicker-pro.type';\n\n@Component({\n  selector: 'd-range-datepicker-pro',\n  templateUrl: './range-datepicker-pro.component.html',\n  styleUrls: ['./range-datepicker-pro.component.scss'],\n  providers: [\n    DatepickerProService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => RangeDatepickerProComponent),\n      multi: true\n    }\n  ],\n  preserveWhitespaces: false,\n})\nexport class RangeDatepickerProComponent implements OnInit, OnDestroy, AfterViewInit, ControlValueAccessor {\n  @Input() mode: 'year' | 'month' | 'date' | 'week' = 'date';\n  @Input() showTime = false;\n  @Input() disabled = false;\n  @Input() autoOpen = false;\n  @Input() format: string;\n  @Input() locale: string;\n  @Input() cssClass: string;\n  @Input() splitter = '-';\n  @Input() width: string;\n  @Input() startIndexOfWeek = 0;\n  @Input() appendToBody = true;\n  @Input() placeholder: string[];\n  @Input() allowClear = true;\n  @Input() set calenderRange (value) {\n    this.pickerSrv.calendarRange = value || [1970, 2099];\n  }\n  @Input() set minDate(value: Date) {\n    if (!value) {\n      return;\n    }\n    this.pickerSrv.minDate = value;\n  }\n  @Input() set maxDate(value: Date) {\n    if (!value) {\n      return;\n    }\n    this.pickerSrv.maxDate = value;\n  }\n  @Input() set markedRangeDateList(value: Date[][]) {\n    this.pickerSrv.markedRangeDateList = value;\n  };\n  @Input() set markedDateList(value: Date[]) {\n    this.pickerSrv.markedDateList = value;\n  }\n  @Output() dropdownToggle = new EventEmitter<boolean>();\n  @Output() confirmEvent = new EventEmitter<Date[]>();\n  @ContentChild('customTemplate') customTemplate: TemplateRef<any>;\n  @ContentChild('footerTemplate') footerTemplate: TemplateRef<any>;\n  @ContentChild('hostTemplate') hostTemplate: TemplateRef<any>;\n  @ContentChild('markDateInfoTemplate') set markDateInfoTemplate(tmp: TemplateRef<any>) {\n    this.pickerSrv.markDateInfoTemplate = tmp;\n  };\n  @ViewChild('dateInputStart') datepickerInputStart: ElementRef;\n  @ViewChild('dateInputEnd') datepickerInputEnd: ElementRef;\n\n  private i18nLocale: I18nInterface['locale'];\n\n  i18nText;\n  _dateValue = [];\n  datepickerConvert: DefaultDateConverter;\n  unsubscribe$ = new Subject();\n  isOpen = false;\n  strWidth = 0;\n\n  get dateValue() {\n    return this._dateValue;\n  }\n\n  set dateValue(value: string[]) {\n    this._dateValue = value;\n    this.getStrWidth();\n  }\n\n  set currentActiveInput(value: 'start' | 'end') {\n    this.pickerSrv.currentActiveInput = value;\n  }\n  get currentActiveInput(): 'start' | 'end' {\n    return this.pickerSrv.currentActiveInput;\n  }\n  get dateConfig(): DateConfig {\n    return {\n      dateConverter: this.datepickerConvert,\n      min: this.pickerSrv.minDate || new Date(this.pickerSrv.calendarRange[0] + '/01/01'),\n      max: this.pickerSrv.maxDate || new Date(this.pickerSrv.calendarRange[1] + '/12/31'),\n      format: {\n        date: this.format || 'y/MM/dd',\n        time: this.format || 'y/MM/dd HH:mm:ss',\n        month: this.format || 'y-MM',\n        year: 'y'\n      }\n    };\n  }\n\n  get curFormat(): string {\n    if (this.mode === 'year') {\n      return this.dateConfig.format.year;\n    } else if (this.mode === 'month') {\n      return this.dateConfig.format.month;\n    } else {\n      return  this.showTime ? this.dateConfig.format.time : this.dateConfig.format.date;\n    }\n  }\n\n  get curActiveDate(): Date {\n    if (this.pickerSrv.currentActiveInput === 'start') {\n      return this.pickerSrv.curRangeDate[0] || this.pickerSrv.curRangeDate[1] || new Date();\n    } else {\n      return this.pickerSrv.curRangeDate[1] || this.pickerSrv.curRangeDate[0] || new Date();\n    }\n  }\n\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  constructor(\n    private i18n: I18nService,\n    private pickerSrv: DatepickerProService,\n    private cdr: ChangeDetectorRef\n  ) {\n    this.i18nText = this.i18n.getI18nText().datePickerPro;\n    this.datepickerConvert = new DefaultDateConverter();\n  }\n\n  ngOnInit() {\n    this.initSrvStatus();\n    this.setI18nText();\n    setTimeout(() => {\n      this.isOpen = this.autoOpen;\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.initObservable();\n  }\n\n  private initSrvStatus() {\n    this.pickerSrv.showTime = this.showTime;\n    this.pickerSrv.isRange = true;\n    this.pickerSrv.startIndexOfWeek = this.startIndexOfWeek;\n  }\n\n  private initObservable() {\n    this.pickerSrv.selectedDateChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(change => {\n      this.pickerSrv.curRangeDate = change.value as Date[];\n      this.dateValue = (change.value as Date[]).map(d => this.formatDateToString(d));\n      this.onChange(change.value);\n    });\n\n    this.pickerSrv.closeDropdownEvent.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(isConfirm => {\n      this.isOpen = false;\n      this.dropdownToggle.emit(false);\n      if (isConfirm) {\n        this.confirmEvent.emit(this.pickerSrv.curRangeDate);\n      }\n    });\n\n    this.pickerSrv.activeInputChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(() => {\n      this.getStrWidth();\n    });\n\n    if (!this.hostTemplate) {\n      fromEvent(this.datepickerInputStart.nativeElement, 'input').pipe(\n        takeUntil(this.unsubscribe$),\n        map(t => {\n          this.getStrWidth();\n          return 'start';\n        }),\n        debounceTime(300)\n      ).subscribe(this.inputChangeCallback);\n\n      fromEvent(this.datepickerInputEnd.nativeElement, 'input').pipe(\n        takeUntil(this.unsubscribe$),\n        map(t => {\n          this.getStrWidth();\n          return 'end';\n        }),\n        debounceTime(300)\n      ).subscribe(this.inputChangeCallback);\n\n      fromEvent(this.datepickerInputStart.nativeElement, 'blur').pipe(\n        takeUntil(this.unsubscribe$),\n        map(t => 'start'),\n      ).subscribe(this.inputBlurCallback);\n\n      fromEvent(this.datepickerInputEnd.nativeElement, 'blur').pipe(\n        takeUntil(this.unsubscribe$),\n        map(t => 'end'),\n      ).subscribe(this.inputBlurCallback);\n    }\n\n    if (this.showTime) {\n      this.pickerSrv.selectedTimeChange.pipe(\n        takeUntil(this.unsubscribe$)\n      ).subscribe(change => {\n        const curTime = new Date(this.curActiveDate.getTime()).setHours(change.hour, change.min, change.seconds);\n        const curDate = new Date(curTime);\n        if (change.activeInput === 'start') {\n          this.pickerSrv.curRangeDate[0] = curDate;\n          if (this.isSameDateAndTimeWrong()) {\n            this.pickerSrv.curRangeDate[1] = curDate;\n            this.dateValue[1] = this.formatDateToString(curDate);\n          }\n          this.dateValue = [this.formatDateToString(curDate), this.dateValue[1]];\n        } else {\n          this.pickerSrv.curRangeDate[1] = curDate;\n          if (this.isSameDateAndTimeWrong()) {\n            this.pickerSrv.curRangeDate[0] = curDate;\n            this.dateValue[0] = this.formatDateToString(curDate);\n          }\n          this.dateValue = [this.dateValue[0], this.formatDateToString(curDate)];\n        }\n        this.onChange(this.pickerSrv.curRangeDate);\n      });\n    }\n  }\n\n  isSameDateAndTimeWrong(): boolean {\n    if (this.pickerSrv.curRangeDate[0]?.toDateString() === this.pickerSrv.curRangeDate[1]?.toDateString()) {\n      return this.pickerSrv.curRangeDate[0].getTime() > this.pickerSrv.curRangeDate[1].getTime();\n    }\n    return false;\n  }\n\n  getStrWidth() {\n    let str = this.pickerSrv.currentActiveInput === 'start' ? this.dateValue[0] : this.dateValue[1];\n    if (!str || !str.length) {\n      str = this.pickerSrv.currentActiveInput === 'start' ? this.i18nText.startPlaceholder : this.i18nText.endPlaceholder;\n    }\n    this.strWidth = this.pickerSrv.mearsureStrWidth(str);\n  }\n\n  private formatDateToString(date: Date): string {\n    if (!date) {\n      return '';\n    }\n    return this.datepickerConvert.format(date, this.curFormat);\n  }\n\n  private setI18nText() {\n    this.i18nLocale = this.i18n.getI18nText().locale;\n    this.i18n.langChange().pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe((data) => {\n      this.i18nLocale = data.locale;\n      this.i18nText = data.datePickerPro;\n    });\n  }\n\n  inputChangeCallback = (type) => {\n    const targetValue = type === 'start' ? this.dateValue[0] : this.dateValue[1];\n    if (!targetValue) {\n      return;\n    }\n    const inputDate = this.datepickerConvert.parse(targetValue, this.curFormat);\n    const curDate = type === 'start' ? this.pickerSrv.curRangeDate[0] : this.pickerSrv.curRangeDate[1];\n    if (inputDate instanceof Date && inputDate.getTime() === curDate?.getTime()) {\n      return;\n    }\n\n    if (this.validateDate(targetValue)) {\n      if (type === 'start') {\n        this.pickerSrv.curRangeDate[0] = inputDate;\n      } else {\n        this.pickerSrv.curRangeDate[1] = inputDate;\n      }\n\n      this.pickerSrv.updateDateValue.next({\n        type: 'range',\n        value: this.pickerSrv.curRangeDate\n      });\n\n      if (this.showTime) {\n        this.pickerSrv.updateTimeChange.next({\n          activeInput: type,\n          hour: inputDate.getHours(),\n          min: inputDate.getMinutes(),\n          seconds: inputDate.getSeconds()\n        });\n      }\n    }\n\n  };\n\n  inputBlurCallback = (type) => {\n    const targetValue = type === 'start' ? this.dateValue[0] : this.dateValue[1];\n    if (!this.validateDate(targetValue)) {\n      if (type === 'start') {\n        this.dateValue[0] = this.pickerSrv.curRangeDate[0] ?\n          this.datepickerConvert.format(this.pickerSrv.curRangeDate[0], this.curFormat, this.locale || this.i18nLocale) :\n          '';\n      } else {\n        this.dateValue[1] = this.pickerSrv.curRangeDate[1] ?\n          this.datepickerConvert.format(this.pickerSrv.curRangeDate[1], this.curFormat, this.locale || this.i18nLocale) :\n          '';\n      }\n    }\n    this.getStrWidth();\n  };\n\n  public focusChange(type: 'start' | 'end') {\n    if (!this.isOpen) {\n      type = 'start';\n    }\n    this.currentActiveInput = type;\n    this.pickerSrv.activeInputChange.next(type);\n    if (type === 'start') {\n      setTimeout(() => {\n        if (this.datepickerInputStart?.nativeElement) {\n          this.datepickerInputStart.nativeElement.focus();\n        }\n      });\n    } else {\n      setTimeout(() => {\n        if (this.datepickerInputEnd?.nativeElement) {\n          this.datepickerInputEnd.nativeElement.focus();\n        }\n      });\n    }\n  }\n\n  validateDate(value: string) {\n    const valueDate = this.datepickerConvert.parse(value, this.curFormat);\n    const valueFormat = valueDate && !isNaN(valueDate.getTime()) &&\n      this.datepickerConvert.format(valueDate, this.curFormat, this.locale || this.i18nLocale);\n    if (\n      !valueDate || value !== valueFormat ||\n      (value === valueFormat && !this.pickerSrv.dateInRange(valueDate))\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  onToggle(isOpen) {\n    if (isOpen !== this.isOpen || isOpen) {\n      this.dropdownToggle.emit(isOpen);\n    }\n    this.isOpen = isOpen;\n    this.pickerSrv.toggleEvent.next(isOpen);\n  }\n\n  openDropdown(event: Event) {\n    if (this.isOpen) {\n      event.stopPropagation();\n    }\n\n    this.isOpen = true;\n  }\n\n  clear(event?: MouseEvent, isHandle?: boolean) {\n    if (event) {\n      event.stopPropagation();\n    }\n    if (this.disabled && isHandle) {\n      return;\n    }\n    this.pickerSrv.updateDateValue.next({\n      type: 'range',\n      value: []\n    });\n\n    this.pickerSrv.updateTimeChange.next({\n      hour: null,\n      min: null,\n      seconds: null\n    });\n    this.dateValue = [];\n    this.pickerSrv.curRangeDate = [];\n    this.currentActiveInput = 'start';\n    if (event) {\n      this.onChange(this.pickerSrv.curRangeDate);\n    }\n  }\n\n  writeValue(value: Date[]) {\n    if (!value || !value.length) {\n      this.clear();\n      return;\n    }\n\n    if (value.find(t => !this.pickerSrv.dateInRange(t))) {\n      return;\n    }\n\n    this.dateValue = value.map(d => {\n      return d ? this.datepickerConvert.format(d, this.curFormat) : '';\n    });\n    this.pickerSrv.curRangeDate = value;\n    this.pickerSrv.updateDateValue.next({\n      type: 'range',\n      value\n    });\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n}\n","<div\n  class=\"devui-datepicker-pro-wrapper {{ cssClass }}\"\n  *ngIf=\"appendToBody; else normal\"\n  dDropDown\n  appendToBody\n  [disabled]=\"disabled\"\n  [isOpen]=\"isOpen\"\n  [trigger]=\"'manually'\"\n  (toggleEvent)=\"onToggle($event)\"\n  (click)=\"openDropdown($event)\"\n  [closeScope]=\"'blank'\"\n  [ngStyle]=\"{ width: width || (showTime ? '400px' : '300px') }\"\n>\n  <div dDropDownToggle>\n    <ng-template [ngTemplateOutlet]=\"hostTemplate || default\" [ngTemplateOutletContext]=\"{ values: dateValue }\"></ng-template>\n  </div>\n\n  <div class=\"devui-datepicker-pro-dropdown-panel\" [ngStyle]=\"{ paddingBottom: !showTime && !footerTemplate ? 0 : '4px' }\" dDropDownMenu>\n    <d-datepicker-panel\n      [isRangeType]=\"true\"\n      [showTime]=\"showTime\"\n      [customTemplate]=\"customTemplate\"\n      [footerTemplate]=\"footerTemplate\"\n      [mode]=\"mode\"\n    >\n    </d-datepicker-panel>\n  </div>\n</div>\n\n<ng-template #normal>\n  <div\n    class=\"devui-datepicker-pro-wrapper {{ cssClass }}\"\n    dDropDown\n    [disabled]=\"disabled\"\n    [isOpen]=\"isOpen\"\n    [trigger]=\"'manually'\"\n    (toggleEvent)=\"onToggle($event)\"\n    (click)=\"openDropdown($event)\"\n    [closeScope]=\"'blank'\"\n    [ngStyle]=\"{ width: width || (showTime ? '400px' : '300px') }\"\n  >\n    <div dDropDownToggle>\n      <ng-template [ngTemplateOutlet]=\"hostTemplate || default\" [ngTemplateOutletContext]=\"{ values: dateValue }\"></ng-template>\n    </div>\n\n    <div class=\"devui-datepicker-pro-dropdown-panel\" [ngStyle]=\"{ paddingBottom: !showTime && !footerTemplate ? 0 : '4px' }\" dDropDownMenu>\n      <d-datepicker-panel\n        [isRangeType]=\"true\"\n        [showTime]=\"showTime\"\n        [customTemplate]=\"customTemplate\"\n        [footerTemplate]=\"footerTemplate\"\n        [mode]=\"mode\"\n      >\n      </d-datepicker-panel>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #default>\n  <div\n    class=\"devui-range-picker devui-input-group devui-dropdown-origin\"\n    [ngClass]=\"{\n      'devui-disabled': disabled,\n      'devui-has-value': dateValue[0] || dateValue[1]\n    }\"\n  >\n    <i class=\"devui-range-picker-icon\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M5,0 L5,1 L11,1 L11,0 L12,0 L12,1 L14,1 C15.1045695,1 16,1.8954305 16,3 L16,14 C16,15.1045695 15.1045695,16 14,16 L2,16 C0.8954305,16 0,15.1045695 0,14 L0,3 C0,1.8954305 0.8954305,1 2,1 L4,1 L4,0 L5,0 Z M15,5 L1,5 L1,14 C1,14.5522847 1.44771525,15 2,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,5 Z M6,7 C6.55228475,7 7,7.44771525 7,8 L7,10 C7,10.5522847 6.55228475,11 6,11 L4,11 C3.44771525,11 3,10.5522847 3,10 L3,8 C3,7.44771525 3.44771525,7 4,7 L6,7 Z M6,8 L4,8 L4,10 L6,10 L6,8 Z M4,2 L2,2 C1.44771525,2 1,2.44771525 1,3 L1,4 L15,4 L15,3 C15,2.44771525 14.5522847,2 14,2 L12,2 L12,3 L11,3 L11,2 L5,2 L5,3 L4,3 L4,2 Z\"\n            fill=\"#BABBC0\"\n          ></path>\n        </g>\n      </svg>\n    </i>\n    <input\n      #dateInputStart\n      class=\"devui-input devui-form-control devui-date-start\"\n      [ngClass]=\"{ 'devui-active-input': currentActiveInput === 'start' && isOpen }\"\n      [disabled]=\"disabled\"\n      [placeholder]=\"(placeholder && placeholder[0]) || i18nText.startPlaceholder\"\n      [(ngModel)]=\"dateValue[0]\"\n      (click)=\"focusChange('start')\"\n      autocomplete=\"off\"\n    />\n    <span> {{ splitter }} </span>\n    <input\n      #dateInputEnd\n      class=\"devui-input devui-form-control devui-date-end\"\n      [ngClass]=\"{ 'devui-active-input': currentActiveInput === 'end' && isOpen }\"\n      [disabled]=\"disabled\"\n      [placeholder]=\"(placeholder && placeholder[1]) || i18nText.endPlaceholder\"\n      [(ngModel)]=\"dateValue[1]\"\n      (click)=\"focusChange('end')\"\n      autocomplete=\"off\"\n    />\n    <div\n      class=\"devui-date-input-active-bar\"\n      *ngIf=\"isOpen\"\n      [style.width.px]=\"strWidth\"\n      [ngClass]=\"{\n        'devui-start-side': currentActiveInput === 'start',\n        'devui-end-side': currentActiveInput === 'end'\n      }\"\n    ></div>\n    <div *ngIf=\"allowClear\" class=\"devui-input-group-addon close-icon-wrapper\" (click)=\"clear($event, true)\">\n      <div class=\"close-icon\">\n        <svg\n          width=\"16px\"\n          height=\"16px\"\n          viewBox=\"0 0 16 16\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <path\n              d=\"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M5.87867966,5.17157288 C5.68341751,4.97631073 5.36683502,4.97631073 5.17157288,5.17157288 C4.99800652,5.34513923 4.97872137,5.61456363 5.11371742,5.80943177 L5.17157288,5.87867966 L7.29218611,7.99929289 L5.17157288,10.1213203 C4.97631073,10.3165825 4.97631073,10.633165 5.17157288,10.8284271 C5.34513923,11.0019935 5.61456363,11.0212786 5.80943177,10.8862826 L5.87867966,10.8284271 L7.99929289,8.70639967 L10.1213203,10.8284271 C10.3165825,11.0236893 10.633165,11.0236893 10.8284271,10.8284271 C11.0019935,10.6548608 11.0212786,10.3854364 10.8862826,10.1905682 L10.8284271,10.1213203 L8.70710678,8 L10.8284271,5.87867966 C11.0236893,5.68341751 11.0236893,5.36683502 10.8284271,5.17157288 C10.6548608,4.99800652 10.3854364,4.97872137 10.1905682,5.11371742 L10.1213203,5.17157288 L8,7.29289322 L5.87867966,5.17157288 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </svg>\n      </div>\n    </div>\n  </div>\n</ng-template>\n","import { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { ButtonModule } from 'ng-devui/button';\nimport { DropDownModule } from 'ng-devui/dropdown';\nimport { PopoverModule } from 'ng-devui/popover';\nimport { DatepickerPanelComponent } from './datepicker-panel.component';\nimport { DatepickerProCalendarComponent } from './datepicker-pro-calendar.component';\nimport { DatepickerProComponent } from './datepicker-pro.component';\nimport { DatepickerProCommonDataService } from './datepicker-pro.service';\nimport { CalendarPanelComponent } from './lib/calendar-panel.component';\nimport { FooterPanelComponent } from './lib/footer-panel.component';\nimport { MonthPanelComponent } from './lib/month-panel.component';\nimport { TimepickerPanelComponent } from './lib/timepicker-panel.component';\nimport { YearPanelComponent } from './lib/year-panel.component';\nimport { RangeDatepickerProComponent } from './range-datepicker-pro.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DropDownModule,\n    ScrollingModule,\n    ButtonModule,\n    PopoverModule\n  ],\n  exports: [\n    DatepickerProComponent,\n    DatepickerPanelComponent,\n    RangeDatepickerProComponent,\n    DatepickerProCalendarComponent\n  ],\n  declarations: [\n    DatepickerProComponent,\n    DatepickerPanelComponent,\n    TimepickerPanelComponent,\n    FooterPanelComponent,\n    CalendarPanelComponent,\n    MonthPanelComponent,\n    YearPanelComponent,\n    RangeDatepickerProComponent,\n    DatepickerProCalendarComponent\n  ],\n  providers: [\n    DatepickerProCommonDataService\n  ]\n})\nexport class DatepickerProModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}