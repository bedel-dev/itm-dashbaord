{"version":3,"file":"ng-devui-progress.mjs","sources":["../../devui/progress/progress.component.ts","../../devui/progress/progress.component.html","../../devui/progress/progress.module.ts","../../devui/progress/ng-devui-progress.ts"],"sourcesContent":["import {\n  Component,\n  ContentChild,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  TemplateRef\n} from '@angular/core';\n\n@Component({\n  selector: 'd-progress',\n  templateUrl: './progress.component.html',\n  styleUrls: ['./progress.component.scss'],\n  preserveWhitespaces: false,\n})\nexport class ProgressComponent implements OnInit , OnChanges {\n  @Input() percentage = 0;\n  @Input() percentageText: string;\n  /**\n   * @deprecated\n   * 用stroleColor替换\n   */\n  @Input() barbgcolor: string;\n  @Input() strokeColor: string;\n  /**\n   * @deprecated\n   * 统一用strokeWidth\n   */\n  @Input() set height(value) {\n    this.strokeWidth = parseInt(value, 10);\n  };\n  @Input() strokeWidth = 14; // 进度条的线条宽度\n  /**\n   * @deprecated\n   * 用type类型替换\n   */\n  @Input() set isCircle(value: boolean) {\n    this.type = value ? 'circle' : 'line';\n  };\n  @Input() type: 'line' | 'circle' = 'line';\n  @Input() showContent = true;\n  @ContentChild(TemplateRef) customViewTemplate: TemplateRef<any>;\n  trailPath: { [key: string]: string };\n  strokePath: { [key: string]: string };\n  pathString: string;\n  constructor() {\n\n  }\n  ngOnInit(): void {\n    if (this.type === 'circle') {\n      this.setCircleProgress();\n    }\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.type === 'circle') {\n      this.setCircleProgress();\n    }\n  }\n  setCircleProgress(): void {\n    if (this.type !== 'circle') {\n      return;\n    }\n    const radius = 50 - this.strokeWidth / 2;\n    const beginPositionY = -radius;\n    const endPositionY = radius * -2;\n\n    this.pathString = `M 50,50 m 0,${beginPositionY}\n     a ${radius},${radius} 0 1 1 0,${-endPositionY}\n     a ${radius},${radius} 0 1 1 0,${endPositionY}`;\n\n    const len = Math.PI * 2 * radius;\n\n    this.trailPath = {\n      strokeDasharray: `${len}px ${len}px`,\n      strokeDashoffset: `0`,\n      transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s'\n    };\n    this.strokePath = {\n      stroke: this.strokeColor || this.barbgcolor || (null as any),\n      strokeDasharray: `${(this.percentage / 100) * len }px ${len}px`,\n      strokeDashoffset: `0`,\n      transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s'\n    };\n  }\n}\n","<div *ngIf=\"type !== 'circle'\" class=\"devui-progress\" [ngStyle]=\"{ height: strokeWidth + 'px' }\">\n  <div\n    class=\"devui-progress-bar\"\n    role=\"progressbar\"\n    aria-valuenow=\"60\"\n    aria-valuemin=\"0\"\n    aria-valuemax=\"100\"\n    [style.background-color]=\"strokeColor || barbgcolor\"\n    [style.width]=\"percentage + '%'\"\n  ></div>\n  <span [style.line-height]=\"strokeWidth + 'px'\">{{ percentageText }}</span>\n</div>\n<div *ngIf=\"type === 'circle'\" class=\"devui-progress-circle\">\n  <svg class=\"devui-progress-circle\" viewBox=\"0 0 100 100\">\n    <path\n      class=\"devui-progress-circle-trail\"\n      fill-opacity=\"0\"\n      [attr.stroke-width]=\"strokeWidth\"\n      [ngStyle]=\"trailPath\"\n      [attr.d]=\"pathString\"\n    ></path>\n    <path\n      class=\"devui-progress-circle-path\"\n      [attr.d]=\"pathString\"\n      [attr.stroke-linecap]=\"'round'\"\n      fill-opacity=\"0\"\n      [attr.stroke]=\"strokeColor || barbgcolor\"\n      [attr.stroke-width]=\"percentage ? strokeWidth : 0\"\n      [ngStyle]=\"strokePath\"\n    ></path>\n  </svg>\n  <ng-container *ngIf=\"showContent\">\n    <ng-template\n      *ngIf=\"customViewTemplate\"\n      [ngTemplateOutlet]=\"customViewTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: this, percentage: percentage }\"\n    ></ng-template>\n    <span *ngIf=\"!customViewTemplate\" class=\"devui-progress-circle-text\">{{ percentage }}%</span>\n  </ng-container>\n</div>\n","import {NgModule} from '@angular/core';\n\nimport {CommonModule} from '@angular/common';\nimport {ProgressComponent} from './progress.component';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [ProgressComponent],\n  declarations: [ProgressComponent],\n  providers: [],\n})\nexport class ProgressModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;MAgBa,iBAAiB;IA8B5B;QA7BS,eAAU,GAAG,CAAC,CAAC;QAef,gBAAW,GAAG,EAAE,CAAC;QAQjB,SAAI,GAAsB,MAAM,CAAC;QACjC,gBAAW,GAAG,IAAI,CAAC;KAO3B;;;;;IAnBD,IAAa,MAAM,CAAC,KAAK;QACvB,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;KACxC;;;;;;IAMD,IAAa,QAAQ,CAAC,KAAc;QAClC,IAAI,CAAC,IAAI,GAAG,KAAK,GAAG,QAAQ,GAAG,MAAM,CAAC;KACvC;;IAUD,QAAQ;QACN,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC1B,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;KACF;IACD,WAAW,CAAC,OAAsB;QAChC,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC1B,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;KACF;IACD,iBAAiB;QACf,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC1B,OAAO;SACR;QACD,MAAM,MAAM,GAAG,EAAE,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACzC,MAAM,cAAc,GAAG,CAAC,MAAM,CAAC;QAC/B,MAAM,YAAY,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;QAEjC,IAAI,CAAC,UAAU,GAAG,eAAe,cAAc;SAC1C,MAAM,IAAI,MAAM,YAAY,CAAC,YAAY;SACzC,MAAM,IAAI,MAAM,YAAY,YAAY,EAAE,CAAC;QAEhD,MAAM,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;QAEjC,IAAI,CAAC,SAAS,GAAG;YACf,eAAe,EAAE,GAAG,GAAG,MAAM,GAAG,IAAI;YACpC,gBAAgB,EAAE,GAAG;YACrB,UAAU,EAAE,yEAAyE;SACtF,CAAC;QACF,IAAI,CAAC,UAAU,GAAG;YAChB,MAAM,EAAE,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,IAAK,IAAY;YAC5D,eAAe,EAAE,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,GAAG,IAAI,GAAI,MAAM,GAAG,IAAI;YAC/D,gBAAgB,EAAE,GAAG;YACrB,UAAU,EAAE,qGAAqG;SAClH,CAAC;KACH;;8GApEU,iBAAiB;kGAAjB,iBAAiB,8UA0Bd,WAAW,qEC1C3B,w8CAwCA;2FDxBa,iBAAiB;kBAN7B,SAAS;+BACE,YAAY,uBAGD,KAAK;0EAGjB,UAAU;sBAAlB,KAAK;gBACG,cAAc;sBAAtB,KAAK;gBAKG,UAAU;sBAAlB,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBAKO,MAAM;sBAAlB,KAAK;gBAGG,WAAW;sBAAnB,KAAK;gBAKO,QAAQ;sBAApB,KAAK;gBAGG,IAAI;sBAAZ,KAAK;gBACG,WAAW;sBAAnB,KAAK;gBACqB,kBAAkB;sBAA5C,YAAY;uBAAC,WAAW;;;ME/Bd,cAAc;;2GAAd,cAAc;4GAAd,cAAc,iBAHV,iBAAiB,aAFtB,YAAY,aACZ,iBAAiB;4GAIhB,cAAc,aAFd,EAAE,YAHJ,CAAC,YAAY,CAAC;2FAKZ,cAAc;kBAN1B,QAAQ;mBAAC;oBACR,OAAO,EAAE,CAAC,YAAY,CAAC;oBACvB,OAAO,EAAE,CAAC,iBAAiB,CAAC;oBAC5B,YAAY,EAAE,CAAC,iBAAiB,CAAC;oBACjC,SAAS,EAAE,EAAE;iBACd;;;ACVD;;;;;;"}