{"version":3,"file":"ng-devui-radio.mjs","sources":["../../devui/radio/radio.component.ts","../../devui/radio/radio.component.html","../../devui/radio/radio-group.component.ts","../../devui/radio/radio-group.component.html","../../devui/radio/radio.module.ts","../../devui/radio/ng-devui-radio.ts"],"sourcesContent":["import { Component, forwardRef, HostListener, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'd-radio',\n  templateUrl: './radio.component.html',\n  styleUrls: ['./radio.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => RadioComponent),\n      multi: true,\n    },\n  ],\n  preserveWhitespaces: false,\n})\nexport class RadioComponent implements OnInit, ControlValueAccessor {\n  private _name: string;\n  private _disabled: boolean;\n  private inputValue: string;\n  id: string;\n  @Input()\n  get name(): string {\n    return this._name;\n  }\n\n  set name(value: string) {\n    this._name = value;\n  }\n\n  @Input()\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  set disabled(value: boolean) {\n    this._disabled = value;\n  }\n\n  @Input()\n  get value(): any {\n    return this.inputValue;\n  }\n  set value(value: any) {\n    this.inputValue = value;\n    if (value instanceof Object) {\n      this.id = '';\n    } else {\n      this.id = `${this.name}-${value}`;\n    }\n  }\n\n  @Input() beforeChange: (value) => boolean | Promise<boolean> | Observable<boolean>;\n\n\n  constructor() {}\n\n  _value: any;\n  handleChange: (event: any, value: any) => void;\n\n  @HostListener('click', ['$event'])\n  onRadioChange(event) {\n    if (this.disabled) {\n      event.preventDefault();\n    }\n\n    this.canChange().then((change) => {\n      if (!change) {\n        event.preventDefault();\n      }\n    });\n  }\n\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  ngOnInit() {}\n\n  registerHandleChange(fn: any) {\n    this.handleChange = fn;\n  }\n\n  writeValue(obj: any): void {\n    this._value = obj;\n  }\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  handleModelChange($event, value) {\n    $event.stopPropagation();\n    this._value = value;\n    this.onTouched();\n    this.onChange(value);\n  }\n\n  canChange() {\n    let changeResult = Promise.resolve(true);\n\n    if (this.beforeChange) {\n      const result: any = this.beforeChange(this.value);\n      if (typeof result !== 'undefined') {\n        if (result.then) {\n          changeResult = result;\n        } else if (result.subscribe) {\n          changeResult = (result as Observable<boolean>).toPromise();\n        } else {\n          changeResult = Promise.resolve(result);\n        }\n      }\n    }\n\n    return changeResult;\n  }\n}\n","<label class=\"devui-radio\" [class.active]=\"radioInput.checked\" [class.disabled]=\"disabled\">\n  <input\n    #radioInput\n    type=\"radio\"\n    class=\"devui-radio-input\"\n    [disabled]=\"disabled\"\n    [name]=\"name\"\n    [id]=\"id\"\n    [ngModel]=\"_value\"\n    (change)=\"handleModelChange($event, value)\"\n    [value]=\"value\"\n  />\n  <span class=\"devui-radio-material\">\n    <svg height=\"100%\" width=\"100%\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle class=\"devui-outer\" [class.disabled]=\"disabled\" cx=\"512\" cy=\"512\" r=\"486.5\" stroke-width=\"51\" />\n      <circle class=\"devui-inner\" [class.disabled]=\"disabled\" cx=\"512\" fill-rule=\"nonzero\" cy=\"512\" r=\"320\" />\n    </svg>\n  </span>\n  <span class=\"devui-radio-label\">\n    <ng-content></ng-content>\n  </span>\n</label>\n","import {\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Input,\n  OnChanges,\n  Output,\n  QueryList,\n  SimpleChanges\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { RadioComponent } from './radio.component';\n\n@Component({\n  selector: 'd-radio-group',\n  templateUrl: './radio-group.component.html',\n  styleUrls: ['./radio-group.component.scss', './radio.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => RadioGroupComponent),\n      multi: true,\n    },\n  ],\n  preserveWhitespaces: false,\n})\nexport class RadioGroupComponent implements ControlValueAccessor, OnChanges, AfterViewInit {\n  constructor() {}\n  @Input() name: string;\n  @Input() values: any[];\n  /**\n   * @deprecated Use direction to replace.\n   */\n  @Input() set cssStyle(direction: any) {\n    this.direction = direction;\n  }\n  @Input() direction: 'row' | 'column';\n  @Input() disabled: boolean;\n  @Input() beforeChange: (value) => boolean | Promise<boolean> | Observable<boolean>;\n  @Output() change = new EventEmitter<any>();\n  @ContentChildren(RadioComponent) radios: QueryList<RadioComponent> = new QueryList<RadioComponent>();\n\n  _value: any;\n  onChange: (_: any) => null;\n  onTouched: () => null;\n  @HostListener('click', ['$event'])\n  onRadioChange(event) {\n    if (event.target.tagName.toLowerCase() === 'input') {\n      if (this.disabled) {\n        event.preventDefault();\n      }\n      this.canChange().then((change) => {\n        if (!change) {\n          event.preventDefault();\n        }\n      });\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.radios.forEach((radio) => {\n      this.registerRadio(radio);\n    });\n\n    this.radios.changes.subscribe((newRadios) => {\n      newRadios.forEach((radio: RadioComponent) => {\n        this.registerRadio(radio);\n        Promise.resolve(true).then(() => radio.writeValue(this._value));\n      });\n    });\n\n    this.radios.notifyOnChanges();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes && changes.name && this.radios) {\n      this.radios.forEach((radio) => {\n        radio.name = this.name;\n      });\n    }\n\n    if (changes && changes.disabled && this.radios) {\n      this.radios.forEach((radio) => {\n        radio.disabled = this.disabled;\n      });\n    }\n\n    if (changes && this.radios) {\n      this.radios.forEach((radio) => {\n        radio.disabled = this.disabled;\n      });\n    }\n  }\n\n  registerRadio(radio: RadioComponent) {\n    radio.registerOnChange((value: any) => {\n      this.writeValue(value);\n      this.onChange(value);\n      Promise.resolve().then(() => this.onTouched());\n      this.change.emit(value);\n    });\n  }\n\n  canChange() {\n    let changeResult = Promise.resolve(true);\n    if (this.beforeChange) {\n      const result: any = this.beforeChange(this.values);\n      if (typeof result !== 'undefined') {\n        if (result.then) {\n          changeResult = result;\n        } else if (result.subscribe) {\n          changeResult = (result as Observable<boolean>).toPromise();\n        } else {\n          changeResult = Promise.resolve(result);\n        }\n      }\n    }\n    return changeResult;\n  }\n\n  handleChange($event, value) {\n    $event.stopPropagation();\n    this.writeValue(value);\n    this.onChange(value);\n    this.change.emit(value);\n  }\n\n  writeValue(value: any) {\n    this._value = value;\n    if (this.radios && this.radios.length > 0) {\n      this.radios.forEach((radio) => {\n        radio.writeValue(this._value);\n      });\n    }\n  }\n\n  registerOnChange(fn) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n}\n","<div class=\"devui-radio-group\">\n  <ul [class.devui-radio-horizontal]=\"direction === 'row'\">\n    <ng-container *ngIf=\"radios.length === 0\">\n      <li *ngFor=\"let value of values\" class=\"devui-radio-list-item\">\n        <label class=\"devui-radio\" [class.active]=\"value == _value\" [class.disabled]=\"disabled\">\n          <input\n            type=\"radio\"\n            class=\"devui-radio-input\"\n            [disabled]=\"disabled\"\n            [name]=\"name\"\n            [id]=\"name + '-' + value\"\n            [value]=\"value\"\n            [checked]=\"value == _value\"\n            (change)=\"handleChange($event, value)\"\n          />\n          <span class=\"devui-radio-material\">\n            <svg height=\"100%\" width=\"100%\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle class=\"devui-outer\" [class.disabled]=\"disabled\" cx=\"512\" cy=\"512\" r=\"486.5\" stroke-width=\"51\" />\n              <circle class=\"devui-inner\" [class.disabled]=\"disabled\" cx=\"512\" fill-rule=\"nonzero\" cy=\"512\" r=\"320\" />\n            </svg>\n          </span>\n          <span class=\"devui-radio-label\">{{ value }}</span>\n        </label>\n      </li>\n    </ng-container>\n\n    <ng-content select=\"d-radio\"></ng-content>\n  </ul>\n</div>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {RadioGroupComponent} from './radio-group.component';\nimport { RadioComponent } from './radio.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule],\n  exports: [RadioGroupComponent, RadioComponent],\n  declarations: [RadioGroupComponent, RadioComponent],\n  providers: [],\n})\nexport class RadioModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}