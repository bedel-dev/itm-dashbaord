{"version":3,"file":"ng-devui-common.mjs","sources":["../../devui/common/auto-focus.directive.ts","../../devui/common/clipboard.directive.ts","../../devui/common/date-pipe.ts","../../devui/common/helper-utils.ts","../../devui/common/iframe-event-propagate.directive.ts","../../devui/common/common.module.ts","../../devui/common/ng-devui-common.ts"],"sourcesContent":["import { AfterViewInit, Directive, ElementRef, Input } from '@angular/core';\n\n@Directive({\n  selector: '[dAutoFocus]',\n})\nexport class AutoFocusDirective implements AfterViewInit {\n\n  @Input('dAutoFocus') autoFocus: boolean;\n\n  constructor(private  elementRef: ElementRef) {\n  }\n\n  ngAfterViewInit(): void {\n    if (this.autoFocus) {\n      this.elementRef.nativeElement.focus();\n    }\n  }\n}\n","import { Clipboard } from '@angular/cdk/clipboard';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ComponentFactoryResolver,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef\n} from '@angular/core';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { OverlayContainerRef } from 'ng-devui/overlay-container';\nimport { PopoverComponent } from 'ng-devui/popover';\nimport { PositionType } from 'ng-devui/tooltip';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[dClipboard]'\n})\nexport class ClipboardDirective implements OnInit , OnDestroy {\n  @Input('dClipboard') devuiTargetElm: HTMLInputElement | HTMLTextAreaElement | undefined | '';\n  @Input() container: HTMLElement;\n  @Input() content: string | undefined;\n  @Input() position: PositionType = 'top';\n  @Input() sticky = false;\n  @Input() tipContent: string | HTMLElement | TemplateRef<any>;\n  @Output() copyResultEvent = new EventEmitter<any>();\n  popoverComponentRef: ComponentRef<PopoverComponent>;\n  i18nCommonText: I18nInterface['common'];\n  i18nSubscription: Subscription;\n  document: Document;\n\n  constructor(\n    private elm: ElementRef,\n    private clipboard: Clipboard,\n    private i18n: I18nService,\n    private overlayContainerRef: OverlayContainerRef,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    @Inject(DOCUMENT) private doc: any) {\n    this.document = this.doc;\n  }\n\n  ngOnInit(): void {\n    this.setI18nText();\n  }\n\n  setI18nText() {\n    this.i18nCommonText = this.i18n.getI18nText().common;\n    this.i18nSubscription = this.i18n.langChange().subscribe((data) => {\n      this.i18nCommonText = data.common;\n    });\n  }\n\n  @HostListener('click')\n  onClickEvent() {\n    let isSucceeded = false;\n    const isSupported = !!this.document.queryCommandSupported && !!this.document.queryCommandSupported('copy') && !!window;\n    if (isSupported && this.content) {\n      isSucceeded = this.clipboard.copy(this.content);\n      if (isSucceeded) {\n        this.tipContent = this.tipContent || this.i18nCommonText.copied;\n        this.createPopover();\n      }\n      const result = { isSupported: isSupported, isSucceeded: isSucceeded, content: this.content };\n      this.copyResultEvent.emit(result);\n    }\n  }\n\n  createPopover() {\n    if (this.popoverComponentRef) {\n      this.popoverComponentRef.destroy();\n    }\n    this.popoverComponentRef = this.overlayContainerRef.createComponent(\n      this.componentFactoryResolver.resolveComponentFactory(PopoverComponent)\n    );\n    Object.assign(this.popoverComponentRef.instance, {\n      content: this.tipContent,\n      triggerElementRef: this.elm,\n      position: this.position,\n      popType: 'default',\n      popMaxWidth: 200,\n      appendToBody: true,\n      zIndex: 1060\n    });\n    this.document.addEventListener('click', this.onDocumentClick);\n    if (!this.sticky) {\n      setTimeout(() => this.destroy(), 3000);\n    }\n  }\n\n  destroy() {\n    if (this.popoverComponentRef) {\n      this.popoverComponentRef.destroy();\n      this.popoverComponentRef = null;\n    }\n    this.document.removeEventListener('click', this.onDocumentClick);\n  }\n\n  onDocumentClick = (event) => {\n    event.stopPropagation();\n    if (!this.elm.nativeElement.contains(event.target)) {\n      this.destroy();\n    }\n  };\n\n  ngOnDestroy() {\n    if (this.i18nSubscription) {\n      this.i18nSubscription.unsubscribe();\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\nimport { I18nFormat } from 'ng-devui/i18n';\n\n@Pipe({\n  name: 'dDatePipe'\n})\nexport class DatePipe implements PipeTransform {\n  transform(date: any, pattern: any): any {\n    if (!date) {\n      return;\n    }\n    return I18nFormat.formatDate(date, pattern);\n  }\n}\n","import { HttpClient, HttpErrorResponse, HttpEvent, HttpEventType, HttpHeaders, HttpParams, HttpResponse } from '@angular/common/http';\nimport { Directive, HostListener, Input } from '@angular/core';\n\nconst enum Browser {\n  IE = 'IE',\n  ClassicEdge = 'ClassicEdge',\n  Firefox = 'Firefox',\n  Opera = 'Opera',\n  Edge = 'Edge',\n  Chrome = 'Chrome',\n  Safari = 'Safari',\n  Other = 'Other',\n};\ndeclare type HttpObserve = 'body' | 'events' | 'response';\ndeclare type ResponseType = 'arraybuffer' | 'blob' | 'json' | 'text';\nexport class HelperUtils {\n  private static _browserName: Browser = null;\n  private static _browserVersion = null;\n\n  static getBrowserName() {\n    !this._browserName && this.getBrowserInfo();\n    return this._browserName;\n  }\n\n  static getBrowserVersion() {\n    !this._browserVersion && this.getBrowserInfo();\n    return this._browserVersion;\n  }\n\n  private static getBrowserInfo() {\n    if (typeof navigator !== 'undefined') {\n      const ua = navigator.userAgent.toLowerCase();\n      const isIE = ua.match(/rv:([\\d.]+)\\) like gecko/) || ua.match(/msie ([\\d\\.]+)/);\n      const isClassicEdge = ua.match(/edge\\/([\\d\\.]+)/);\n      const isFirefox = ua.match(/firefox\\/([\\d\\.]+)/);\n      const isOpera = ua.match(/(?:opera|opr).([\\d\\.]+)/);\n      const isEdge = ua.match(/edg\\/([\\d\\.]+)/);\n      const isChrome = ua.match(/chrome\\/([\\d\\.]+)/);\n      const isSafari = ua.match(/version\\/([\\d\\.]+).*safari/);\n      const infos = isIE || isClassicEdge || isFirefox || isOpera || isEdge || isChrome || isSafari;\n      this._browserName = isIE\n        ? Browser.IE\n        : isClassicEdge\n          ? Browser.ClassicEdge\n          : isFirefox\n            ? Browser.Firefox\n            : isOpera\n              ? Browser.Opera\n              : isEdge\n                ? Browser.Edge\n                : isChrome\n                  ? Browser.Chrome\n                  : isSafari\n                    ? Browser.Safari\n                    : Browser.Other;\n      this._browserVersion = infos ? parseInt(infos[1], 10) : 0;\n    }\n  }\n\n  static jumpOuterUrl(url, target = '_blank') {\n    if (url !== undefined && typeof document !== 'undefined') {\n      const tempLink = document.createElement('a');\n      tempLink.style.display = 'none';     // for IE 11\n      tempLink.target = target;\n      tempLink.href = url;\n      document.body.appendChild(tempLink); // for IE 11, IE11需要append到document.body里面的a链接才会生效\n      const event = document.createEvent('MouseEvents');\n      event.initEvent('click', false, true);\n      tempLink.dispatchEvent(event);\n      document.body.removeChild(tempLink); // for IE 11\n    }\n  }\n\n  static downloadFile(\n    url: string,\n    option?: {\n      method?: 'POST'| 'GET' | 'post' | 'get';\n      params?: {[property: string]: string};\n      enctype?: 'application/x-www-form-urlencoded' | 'multipart/form-data'| 'text/plain';\n      iframename?: string;\n    },\n    onError?: (response) => void\n  ) {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    if (document.querySelector('iframe[name=' + (option && option.iframename || 'download') + ']')) {\n      document.body.removeChild(document.querySelector('iframe[name=' + (option && option.iframename || 'download') + ']'));\n    }\n    const tempiframe = document.createElement('iframe');\n    tempiframe.name = option && option.iframename || 'download';\n    tempiframe.style.display = 'none';\n\n    const tempform = document.createElement('form');\n    tempform.action = url;\n    tempform.method = option && option.method || 'post';\n    tempform.target = option && option.iframename || 'download';\n    tempform.enctype = option && option.enctype || 'application/x-www-form-urlencoded';\n    tempform.style.display = 'none';\n\n    if (option && option.params) {\n      Object.keys(option.params).forEach(key => {\n        const opt = document.createElement('input');\n        opt.name = key;\n        opt.value = option.params[key];\n        tempform.appendChild(opt);\n      });\n    }\n\n    const submit = document.createElement('input');\n    submit.type = 'submit';\n\n    tempform.appendChild(submit);\n    tempiframe.appendChild(tempform);\n    document.body.appendChild(tempiframe);\n\n    // 下载错误处理。下载成功并不会响应，因为响应头中带有Content-Disposition（下载头）的url，无法监听iframe的load事件，load事件不会触发\n    tempiframe.addEventListener('load', (event) => {\n      try {\n        const iframeDoc =  tempiframe.contentDocument;\n        if (onError !== undefined) {\n          let response;\n          try {\n            response = JSON.parse(iframeDoc.body && iframeDoc.body.textContent);\n          } catch (e) {\n            response = iframeDoc.body && iframeDoc.body.textContent;\n          }\n          if (!response) {\n            response = 'Error';\n          }\n          onError(response);\n        }\n      } catch (e) {\n        onError('Error');\n      }\n      document.body.removeChild(tempiframe);\n    });\n    tempform.submit();\n  }\n\n  static downloadFileByHttpClient(\n    httpClient: HttpClient,\n    url: string,\n    option?: {\n      method?: 'POST' | 'GET' | 'post' | 'get';\n      params?: {[property: string]: string};\n      enctype?: 'application/x-www-form-urlencoded' | 'multipart/form-data' | 'text/plain';\n      header?: {\n        [header: string]: string | string[];\n      };\n      responseOption?: 'response' | 'body' | 'json';\n      reportProgress?: boolean;\n      filename?: string;\n      withCredentials?: boolean;\n      downloadWithoutDispositionHeader?: boolean;\n    },\n    onError?: (response) => void,\n    onSuccess?: (response) => void,\n    onProgress?: (response) => void,\n  ) {\n\n    const requestMethod = option && option.method && option.method.toLowerCase() || 'post';\n    const requestHeaderContentType = option.enctype || 'application/x-www-form-urlencoded';\n    const requestParams = option.params ? new HttpParams({\n      fromObject: option.params\n    }) : null;\n\n    const requestUrl = url;\n    const requestOptionParams = requestMethod === 'get' ? requestParams : undefined;\n    const requestBody = requestMethod === 'post' ? requestParams && requestParams.toString() : undefined;\n\n    const responseOption = option.responseOption;\n    /* eslint-disable-next-line prefer-object-spread */\n    const requestOption = Object.assign({}, {\n      body: requestBody,\n      observe: (option.reportProgress ? 'events' : 'response') as HttpObserve,\n      params: requestOptionParams,\n      headers: {\n        'Content-Type': requestHeaderContentType\n      },\n      withCredentials: option.withCredentials,\n      reportProgress: option.reportProgress,\n      responseType: (option.reportProgress ? 'blob' : 'arraybuffer') as ResponseType\n    }, {\n      headers: option.header\n    });\n\n    const handleResponse = (resOption => {\n      switch (resOption) {\n      case 'response':\n        return (res: HttpResponse<ArrayBuffer>) => res;\n      case 'body':\n        return (res: HttpResponse<ArrayBuffer> | HttpErrorResponse) => {\n          const arrayBuffer = <ArrayBuffer>(<HttpResponse<ArrayBuffer>>res).body || (<HttpErrorResponse>res).error;\n          const body = HelperUtils.utf8ArrayToStr(arrayBuffer);\n          return body;\n        };\n      case 'json':\n      default:\n        return (res: HttpResponse<ArrayBuffer> | HttpErrorResponse) => {\n          const arrayBuffer = <ArrayBuffer>(<HttpResponse<ArrayBuffer>>res).body || (<HttpErrorResponse>res).error;\n          let response;\n          try {\n            const body = HelperUtils.utf8ArrayToStr(arrayBuffer);\n            try {\n              response = JSON.parse(body);\n            } catch (e) {\n              const parser = new DOMParser();\n              const html = parser.parseFromString(body, 'text/html');\n              response = html.body.textContent;\n            }\n          } catch (e) {\n            throw new Error('Parsing Error:' + e);\n          }\n          if (!response) {\n            response = 'Error';\n          }\n          return response;\n        };\n      }\n    })(responseOption);\n\n    const downloadFileFromArrayBuffer = (data: ArrayBuffer, filename: string, contentType: string) => {\n      if (typeof document === 'undefined' || typeof window === 'undefined') {\n        return;\n      }\n      if (window.navigator && window.navigator['msSaveOrOpenBlob']) { // IE11 support\n        const blob = new Blob([data], {type: contentType});\n        window.navigator['msSaveOrOpenBlob'](blob, filename);\n      } else {// other browsers\n        if ('download' in document.createElement('a')) {\n          const blob = new Blob([data], {type: contentType});\n          const link = document.createElement('a');\n          link.href = URL.createObjectURL(blob);\n          link.download = filename;\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n          URL.revokeObjectURL(link.href);\n        } else {\n          // not support tag a download attribute use file download, filename won't support\n          const file = new File([data], filename, {type: contentType});\n          const exportUrl = URL.createObjectURL(file);\n          window.location.assign(exportUrl);\n          URL.revokeObjectURL(exportUrl);\n        }\n      }\n    };\n\n    const getFilenameFromDisposition = (disposition: string) => {\n      const filenamePair =  disposition.split(';').filter(str => /^filename=/.test(str.trim())).pop();\n      if (filenamePair) {\n        let str = filenamePair.trim();\n        str = str.split('=')[1];\n        str = str.replace(/['\"]/g, '');\n        return decodeURIComponent(str);\n      } else {\n        return null;\n      }\n    };\n\n    httpClient.request(requestMethod, requestUrl, requestOption).subscribe((res: HttpEvent<any>) => {\n      if (res.type === HttpEventType.DownloadProgress) {\n        if (onProgress) {\n          onProgress(res);\n        }\n      } else if (res.type === HttpEventType.Response) {\n        const httpResponse = res as HttpResponse<any>;\n        const disposition = (<HttpHeaders>httpResponse.headers).get('content-disposition');\n        const contentType = (<HttpHeaders>httpResponse.headers).get('content-type');\n\n        if (/^attachment/i.test(disposition) || option.downloadWithoutDispositionHeader) {\n          const downloadFilename = option.filename || disposition && getFilenameFromDisposition(disposition) || url ;\n          downloadFileFromArrayBuffer(httpResponse.body, downloadFilename, contentType);\n          if (onSuccess) {\n            onSuccess(httpResponse);\n          }\n        } else {\n          if (onError) {\n            let response;\n            try {\n              response = handleResponse(httpResponse);\n            } catch (e) {\n              response = httpResponse;\n            }\n            onError(response);\n          }\n        }\n      }\n    }, err => {\n      if (onError) {\n        let response;\n        try {\n          response = handleResponse(err);\n        } catch (e) {\n          response = err;\n        }\n        onError(response);\n      }\n    });\n  }\n\n  private static utf8ArrayToStr(arrayBuffer) {\n    if (typeof TextDecoder !== 'undefined') {\n      return new TextDecoder('utf-8').decode(arrayBuffer);\n    } else {\n      /**\n       * fallback 方案，无TextDecoder场景使用直接解析，英文无问题，中文会存在乱码\n       * ie 11 下支持中文需要使用MDN推荐的 fastestsmallesttextencoderdecoder以支持TextDecoder\n       * npm install fastestsmallesttextencoderdecoder\n       * polyfill.ts includes\n       * ```\n       * // polyfill for TextDecoder on IE 11\n       * import 'fastestsmallesttextencoderdecoder';\n       * ```\n       */\n      return String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    }\n  }\n}\n\n@Directive({\n  selector: '[dSimulateATag]'\n})\nexport class SimulateATagDirective {\n  @Input() href: string;\n  @Input() target: '_blank' | '_self' | '_parent' | '_top' | string   = '_blank';\n  constructor() {}\n  @HostListener('click') onClick() {\n    HelperUtils.jumpOuterUrl(this.href, this.target);\n  }\n}\n","import { DOCUMENT } from '@angular/common';\nimport { AfterViewInit, Directive, ElementRef, Inject, Input } from '@angular/core';\n@Directive({\n  selector: '[dIframeEventPropagate]'\n})\nexport class IframeEventPropagateDirective implements AfterViewInit {\n  @Input() event = 'click';\n  element: HTMLSelectElement;\n  document: Document;\n  constructor(el: ElementRef, @Inject(DOCUMENT) private doc: any) {\n    this.element = el.nativeElement;\n    this.document = this.doc;\n  }\n\n  ngAfterViewInit() {\n    this.element.addEventListener('DOMSubtreeModified', this.AddIframeContentDocumentClickListener);\n    if (this.element.querySelector('iframe') !== null) {\n      this.AddIframeContentDocumentClickListener();\n    }\n  }\n  AddIframeContentDocumentClickListener = () => {\n    const iframe = this.element.querySelector('iframe');\n\n    if (iframe !== null) {\n      if (iframe.contentDocument !== null) {\n        iframe.contentDocument.addEventListener(this.event, this.dispatchClickEvent);\n      } else {\n        const loadHandler =  () => {\n          iframe.contentDocument.addEventListener(this.event, this.dispatchClickEvent);\n          iframe.removeEventListener('load', loadHandler);\n        };\n        iframe.addEventListener('load', loadHandler);\n      }\n\n      this.element.removeEventListener('DOMSubtreeModified', this.AddIframeContentDocumentClickListener);\n    }\n  };\n\n  dispatchClickEvent = ($event) => {\n    const event = this.document.createEvent('MouseEvents');\n    event.initEvent(this.event, true, true);\n    event['originEvent'] = $event;\n    this.element.dispatchEvent(event);\n  };\n}\n","import { ClipboardModule } from '@angular/cdk/clipboard';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { AutoFocusDirective } from './auto-focus.directive';\nimport { ClipboardDirective } from './clipboard.directive';\nimport { DatePipe } from './date-pipe';\nimport { SimulateATagDirective } from './helper-utils';\nimport { IframeEventPropagateDirective } from './iframe-event-propagate.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ClipboardModule\n  ],\n  exports: [\n    AutoFocusDirective,\n    DatePipe,\n    SimulateATagDirective,\n    IframeEventPropagateDirective,\n    ClipboardDirective\n  ],\n  declarations: [\n    AutoFocusDirective,\n    DatePipe,\n    SimulateATagDirective,\n    IframeEventPropagateDirective,\n    ClipboardDirective\n  ],\n  providers: [],\n})\nexport class DCommonModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}