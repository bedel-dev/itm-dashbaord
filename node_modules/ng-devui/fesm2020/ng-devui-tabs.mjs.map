{"version":3,"file":"ng-devui-tabs.mjs","sources":["../../devui/tabs/tab-content.directive.ts","../../devui/tabs/tab-title.directive.ts","../../devui/tabs/tab.component.ts","../../devui/tabs/tabs.component.ts","../../devui/tabs/tabs.component.html","../../devui/tabs/tabs.module.ts","../../devui/tabs/ng-devui-tabs.ts"],"sourcesContent":["import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n  selector: '[dTabContent]',\n})\nexport class TabContentDirective {\n  constructor(public templateRef: TemplateRef<any>) {\n  }\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n  selector: '[dTabTitle]',\n})\nexport class TabTitleDirective {\n  constructor(public templateRef: TemplateRef<any>) {\n  }\n}\n","import { Component, ContentChild, Input, TemplateRef, ViewChild } from '@angular/core';\nimport { TabContentDirective } from './tab-content.directive';\nimport { TabTitleDirective } from './tab-title.directive';\n\n@Component({\n  selector: 'd-tab',\n  template: `<ng-template #innerContent>\n    <ng-content></ng-content>\n  </ng-template>\n  `,\n  preserveWhitespaces: false,\n})\nexport class TabComponent {\n  /**\n   * @deprecated\n   * 用id替代\n   */\n  @Input() set tabId(value) {\n    this.id = value;\n  }\n  @Input() id: number | string;\n  @Input() title: string;\n  @Input() disabled = false;\n  /**\n   * @deprecated\n   * 内容直接写在标签内\n   */\n  @ContentChild(TabContentDirective) contentTpl: TabContentDirective;\n  @ContentChild(TabTitleDirective) titleTpl: TabTitleDirective;\n  @ViewChild('innerContent', {static: true}) innerContent: TemplateRef<any>;\n}\n","import {\n  AfterContentInit,\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  QueryList,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { TabComponent } from './tab.component';\n\nexport interface ITabOperation {\n  id: number | string;\n  operation: string;\n}\n\n@Component({\n  selector: 'd-tabs',\n  templateUrl: './tabs.component.html',\n  styleUrls: ['./tabs.component.scss'],\n  exportAs: 'tabs',\n  preserveWhitespaces: false,\n})\nexport class TabsComponent implements AfterContentInit, OnChanges, AfterViewInit {\n  static ID_SEED = 0;\n  @ViewChild('tabsEle') tabsEle: ElementRef;\n  @ViewChild('tabsViewport') tabsViewport: ElementRef;\n  @Input() type: 'tabs' | 'pills' | 'options' | 'wrapped' | 'slider' = 'tabs';\n  @Input() size: 'lg' | 'md' | 'sm' | 'xs' = 'md';\n  @Input() showContent = true;\n  @Input() scrollMode = false;\n  @Input() activeTab: number | string;\n  @Input() customWidth: string;\n  @Input() reactivable = false;\n  @Input() closeable = false;\n  @Input() closeableIds = [];\n  @Input() addable = false;\n  @Input() addTabTpl: TemplateRef<any>;\n  /**\n   * @todo\n   * 待重新设计\n   */\n  @Input() vertical = false;\n  /**\n   * @deprecated\n   * class设置无需内层，外层即可\n   */\n  @Input() cssClass: string;\n  @Input() beforeChange: (value) => boolean | Promise<boolean> | Observable<boolean>;\n  @ContentChildren(TabComponent) tabs: QueryList<TabComponent>;\n  @Output() activeTabChange = new EventEmitter<number | string>();\n  @Output() addOrDeleteTabChange = new EventEmitter<ITabOperation>();\n  id: string;\n  offsetIndex = 0;\n  offsetLeft: number;\n  offsetWidth: number;\n  tabsWidth = [];\n\n  get isShowShadow() {\n    return this.scrollMode && ['tabs', 'pills', 'wrapped'].includes(this.type);\n  }\n\n  constructor() {\n    this.id = `devuiTabs${TabsComponent.ID_SEED++}`;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.type === 'slider' && changes['activeTab']) {\n      this.changeActiveSlidingBlock();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (this.type === 'slider' && this.activeTab === undefined && this.tabs.length > 0 && this.tabs[0]) {\n      this.select(this.tabs.first.id, this.tabsEle.nativeElement.getElementById(this.tabs[0].tabId));\n    }\n    this.getTabsWidth();\n\n    this.tabs.changes.subscribe(() => {\n      this.changeActiveSlidingBlock();\n      this.getTabsWidth();\n    });\n  }\n\n  ngAfterContentInit(): void {\n    if (this.type !== 'slider' && this.activeTab === undefined && this.tabs.length > 0) {\n      this.select(this.tabs.first.id);\n    }\n  }\n\n  changeActiveSlidingBlock() {\n    // 延时等待active样式切换至正确的tab\n    setTimeout(() => {\n      const tabEle = this.tabsEle.nativeElement.querySelector(`#${this.id} li.active`);\n      if (tabEle) {\n        const leftFix = this.scrollMode ? this.tabsEle.nativeElement.scrollLeft : 0;\n        this.offsetLeft = tabEle.getBoundingClientRect().left + leftFix - this.tabsEle.nativeElement.getBoundingClientRect().left;\n        this.offsetWidth = tabEle.getBoundingClientRect().width;\n      }\n    });\n  }\n\n  canChange(currentTab: number | string) {\n    let changeResult = Promise.resolve(true);\n\n    if (this.beforeChange) {\n      const result: any = this.beforeChange(currentTab);\n      if (typeof result !== 'undefined') {\n        if (result.then) {\n          changeResult = result;\n        } else if (result.subscribe) {\n          changeResult = (result as Observable<boolean>).toPromise();\n        } else {\n          changeResult = Promise.resolve(result);\n        }\n      }\n    }\n\n    return changeResult;\n  }\n\n  select(id: number | string, tabEl?) {\n    if (!this.reactivable && this.activeTab === id) {\n      return;\n    }\n    this.canChange(id).then((change) => {\n      if (!change) {\n        return;\n      }\n      const tab = this.tabs.find((item) => item.id === id);\n      if (tab && !tab.disabled) {\n        this.activeTab = id;\n        if (this.type === 'slider' && tabEl && this.tabsEle) {\n          const leftFix = this.scrollMode ? this.tabsEle.nativeElement.scrollLeft : 0;\n          this.offsetLeft = tabEl.getBoundingClientRect().left + leftFix - this.tabsEle.nativeElement.getBoundingClientRect().left;\n          this.offsetWidth = tabEl.getBoundingClientRect().width;\n        }\n        this.activeTabChange.emit(id);\n      }\n    });\n  }\n\n  checkCloseable(tab) {\n    const closeable = this.closeable && (this.closeableIds.length === 0 || this.closeableIds.includes(tab.id));\n    return !tab.disabled && !tab.titleTpl && closeable;\n  }\n\n  addOrDeleteTab(event, id?: number | string) {\n    event.stopPropagation();\n    const operation = id || id >= 0 ? 'delete' : 'add';\n    this.addOrDeleteTabChange.emit({ id, operation });\n  }\n\n  getTabsWidth() {\n    if (this.scrollMode && this.tabsViewport && this.tabsEle) {\n      const tabs = this.tabsEle.nativeElement.querySelectorAll('li.devui-nav-tab-item[role=presentation]');\n      this.tabsWidth = [];\n      tabs.forEach((tab) => {\n        const style = getComputedStyle(tab);\n        const width = parseFloat(style.marginLeft) + tab.offsetWidth + parseFloat(style.marginRight);\n        this.tabsWidth.push(width);\n      });\n    }\n  }\n\n  scroll(direction?: string, index?: number, tab?: TabComponent) {\n    if (this.scrollMode && this.tabsEle) {\n      let dom;\n      const tabs = this.tabsEle.nativeElement.querySelectorAll('li[role=presentation]');\n      if (direction) {\n        const containerWidth = this.tabsEle.nativeElement.scrollWidth;\n        const scrollLeft = this.tabsEle.nativeElement.scrollLeft;\n        const viewportWidth = this.tabsViewport.nativeElement.offsetWidth;\n        const distance = direction === 'next' ? scrollLeft + viewportWidth : scrollLeft - viewportWidth;\n        let width = 0;\n        for (let i = 0; i < this.tabsWidth.length; i++) {\n          width += this.tabsWidth[i];\n          if (width >= distance) {\n            this.offsetIndex = direction === 'next' || i === 0 ? (containerWidth - width < viewportWidth ? tabs.length - 1 : i) : i + 1;\n            break;\n          }\n        }\n        dom = tabs[this.offsetIndex];\n      } else if (index >= 0) {\n        dom = tabs[index];\n        this.offsetIndex = index;\n        this.activeTab = tab.id;\n        this.activeTabChange.emit(this.activeTab);\n      }\n      if (dom) {\n        dom.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n      }\n    }\n  }\n}\n","<div class=\"devui-nav-container devui-nav-{{ size }}\">\n  <div *ngIf=\"scrollMode\" class=\"devui-nav-scroll-ctrl\">\n    <span [ngClass]=\"{ disable: offsetIndex === 0 }\" (click)=\"scroll('prev')\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <polygon\n            fill-rule=\"nonzero\"\n            points=\"10.7071068 12.2928932 9.29289322 13.7071068 3.58578644 8 9.29289322 2.29289322 10.7071068 3.70710678 6.41421356 8\"\n          ></polygon>\n        </g>\n      </svg>\n    </span>\n  </div>\n  <div\n    #tabsViewport\n    [style.width]=\"type === 'tabs' ? '100%' : ''\"\n    [ngClass]=\"{ 'dev-nav-scroll-container': scrollMode, 'devui-nav-shadow': isShowShadow }\"\n  >\n    <ul\n      #tabsEle\n      role=\"tablist\"\n      class=\"devui-nav devui-nav-{{ type }} {{ cssClass }}\"\n      [id]=\"id\"\n      [ngClass]=\"{\n        'devui-nav-stacked': vertical,\n        'devui-nav-add-button': addable,\n        'devui-nav-overflow': scrollMode\n      }\"\n    >\n      <ng-container *ngFor=\"let tab of tabs\">\n        <li\n          role=\"presentation\"\n          class=\"devui-nav-tab-item\"\n          [id]=\"tab.id === undefined ? '' : tab.id\"\n          [class.disabled]=\"tab.disabled\"\n          [class.active]=\"tab.id == activeTab\"\n          (click)=\"select(tab.id)\"\n        >\n          <a\n            role=\"tab\"\n            data-toggle=\"tab\"\n            [attr.aria-expanded]=\"tab.id == activeTab\"\n            [style.width]=\"customWidth\"\n            [ngClass]=\"{ 'custom-width': customWidth }\"\n          >\n            <ng-template\n              *ngIf=\"!tab.title\"\n              [ngTemplateOutlet]=\"tab.titleTpl?.templateRef\"\n              [ngTemplateOutletContext]=\"{ tab: tab }\"\n            ></ng-template>\n            <span *ngIf=\"tab.title\">{{ tab.title }}</span>\n          </a>\n          <span *ngIf=\"checkCloseable(tab)\" class=\"devui-tab-close-icon\" (click)=\"addOrDeleteTab($event, tab.id)\">\n            <svg\n              width=\"12px\"\n              height=\"12px\"\n              viewBox=\"0 0 12 12\"\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            >\n              <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                <path\n                  d=\"M8.86785321,3.13214679 C9.02624037,3.29053395 9.02624037,3.54733027 8.86785321,3.70571743 L6.573,6 L8.86785321,8.29428257 C9.02624037,8.45266973 9.02624037,8.70946605 8.86785321,8.86785321 C8.70946605,9.02624037 8.45266973,9.02624037 8.29428257,8.86785321 L6,6.573 L3.70571743,8.86785321 C3.54733027,9.02624037 3.29053395,9.02624037 3.13214679,8.86785321 C2.97375963,8.70946605 2.97375963,8.45266973 3.13214679,8.29428257 L5.427,6 L3.13214679,3.70571743 C2.97375963,3.54733027 2.97375963,3.29053395 3.13214679,3.13214679 C3.29053395,2.97375963 3.54733027,2.97375963 3.70571743,3.13214679 L6,5.427 L8.29428257,3.13214679 C8.45266973,2.97375963 8.70946605,2.97375963 8.86785321,3.13214679 Z\"\n                  fill-rule=\"nonzero\"\n                ></path>\n              </g>\n            </svg>\n          </span>\n        </li>\n      </ng-container>\n      <li *ngIf=\"addable && !addTabTpl; else addTabTpl\" class=\"devui-tab-add-icon\">\n        <a [style.width]=\"customWidth\" (click)=\"addOrDeleteTab($event)\">\n          <svg\n            width=\"16px\"\n            height=\"16px\"\n            viewBox=\"0 0 16 16\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <polygon points=\"7 7 7 2 9 2 9 7 14 7 14 9 9 9 9 14 7 14 7 9 2 9 2 7\"></polygon>\n            </g>\n          </svg>\n        </a>\n      </li>\n      <div class=\"devui-nav-{{ type }}-animation\" [style.left]=\"offsetLeft + 'px'\" [style.width]=\"offsetWidth + 'px'\"></div>\n    </ul>\n  </div>\n  <div dDropDown appendToBody *ngIf=\"scrollMode\" class=\"devui-nav-scroll-ctrl\">\n    <span [ngClass]=\"{ disable: offsetIndex === tabs.length - 1 }\" (click)=\"scroll('next')\">\n      <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <polygon\n            fill-rule=\"nonzero\"\n            transform=\"translate(8.146447, 8.000000) scale(-1, 1) translate(-8.146447, -8.000000) \"\n            points=\"11.7071068 12.2928932 10.2928932 13.7071068 4.58578644 8 10.2928932 2.29289322 11.7071068 3.70710678 7.41421356 8\"\n          ></polygon>\n        </g>\n      </svg>\n    </span>\n    <span class=\"devui-nav-more-operate\" dDropDownToggle>\n      <svg\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n      >\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <path\n            d=\"M0.5,8 C0.499999992,7.46410162 0.785898375,6.96891109 1.24999999,6.7009619 C1.71410161,6.4330127 2.28589839,6.4330127 2.75000001,6.7009619 C3.21410162,6.96891109 3.50000001,7.46410162 3.5,8 C3.5,8.82842713 2.82842712,9.5 2,9.5 C1.17157288,9.5 0.5,8.82842713 0.5,8 Z M6.5,8 C6.49999999,7.46410162 6.78589838,6.96891109 7.24999999,6.7009619 C7.71410161,6.4330127 8.28589839,6.4330127 8.75000001,6.7009619 C9.21410162,6.96891109 9.50000001,7.46410162 9.5,8 C9.5,8.82842713 8.82842712,9.5 8,9.5 C7.17157288,9.5 6.5,8.82842713 6.5,8 Z M12.5,8 C12.5,7.46410162 12.7858984,6.96891109 13.25,6.7009619 C13.7141016,6.4330127 14.2858984,6.4330127 14.75,6.7009619 C15.2141016,6.96891109 15.5,7.46410162 15.5,8 C15.5,8.82842713 14.8284271,9.5 14,9.5 C13.1715729,9.5 12.5,8.82842713 12.5,8 Z\"\n            transform=\"translate(8.000000, 8.000000) rotate(90.000000) translate(-8.000000, -8.000000) \"\n          ></path>\n        </g>\n      </svg>\n    </span>\n    <ul role=\"menu\" dDropDownMenu class=\"devui-nav-dropdown devui-dropdown-menu devui-dropdown-overlay\">\n      <li class=\"devui-dropdown-item\" *ngFor=\"let tab of tabs; index as i\" (click)=\"scroll(null, i, tab)\">\n        <ng-template\n          *ngIf=\"!tab.title\"\n          [ngTemplateOutlet]=\"tab.titleTpl?.templateRef\"\n          [ngTemplateOutletContext]=\"{ tab: tab }\"\n        ></ng-template>\n        <span *ngIf=\"tab.title\">{{ tab.title }}</span>\n      </li>\n    </ul>\n  </div>\n</div>\n<div class=\"devui-tab-content\" *ngIf=\"showContent\">\n  <ng-container *ngFor=\"let tab of tabs\">\n    <div class=\"devui-tab-pane fade in\" role=\"tabpanel\" *ngIf=\"tab.id == activeTab\" [ngClass]=\"{ 'in active': tab.id == activeTab }\">\n      <ng-template [ngTemplateOutlet]=\"tab.contentTpl?.templateRef || tab.innerContent\"></ng-template>\n    </div>\n  </ng-container>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { DropDownModule } from 'ng-devui/dropdown';\nimport { TabContentDirective } from './tab-content.directive';\nimport { TabTitleDirective } from './tab-title.directive';\nimport { TabComponent } from './tab.component';\nimport { TabsComponent } from './tabs.component';\n\n@NgModule({\n  imports: [CommonModule, DropDownModule],\n  exports: [TabsComponent, TabComponent, TabTitleDirective, TabContentDirective],\n  declarations: [TabsComponent, TabComponent, TabTitleDirective, TabContentDirective],\n  providers: [],\n})\nexport class TabsModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}