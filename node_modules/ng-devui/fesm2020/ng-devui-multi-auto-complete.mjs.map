{"version":3,"file":"ng-devui-multi-auto-complete.mjs","sources":["../../devui/multi-auto-complete/multi-auto-complete.component.ts","../../devui/multi-auto-complete/multi-auto-complete.component.html","../../devui/multi-auto-complete/multi-auto-complete.module.ts","../../devui/multi-auto-complete/ng-devui-multi-auto-complete.ts"],"sourcesContent":["import { ConnectedPosition } from '@angular/cdk/overlay';\nimport {\n  ChangeDetectorRef,\n  Component,\n  ComponentRef,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { AutoCompleteDirective, AutoCompletePopupComponent } from 'ng-devui/auto-complete';\nimport { addClassToOrigin, AppendToBodyDirection, DevConfigService, removeClassFromOrigin, WithConfig } from 'ng-devui/utils';\nimport { Observable, of } from 'rxjs';\n\n@Component({\n  selector: 'd-multi-auto-complete',\n  templateUrl: './multi-auto-complete.component.html',\n  styleUrls: ['multi-auto-complete.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => MultiAutoCompleteComponent),\n      multi: true,\n    },\n  ],\n  preserveWhitespaces: false,\n})\nexport class MultiAutoCompleteComponent implements OnInit, OnChanges, ControlValueAccessor {\n  static ID_SEED = 0;\n  @Input() appendToBody = false;\n  @Input() appendToBodyDirections: Array<AppendToBodyDirection | ConnectedPosition> = ['rightDown', 'leftDown', 'rightUp', 'leftUp'];\n  /**\n   * @deprecated\n   */\n  @Input() cssClass: string;\n  /**\n   * @deprecated\n   * overview: border none multiline single\n   */\n  @Input() overview = 'border';\n  @Input() tipsText: string; // 提示文字\n  @Input() placeholder = ''; // placeholder\n  @Input() disabled = false;\n  @Input() source: any[];\n  @Input() latestSource: any[]; // 最近输入\n  @Input() disabledKey: string; // 单个选项禁用\n  @Input() width: number;\n  // @Input() isOpen: boolean;   // 未使用\n  // @Input() term: string; // 未使用\n  @Input() itemTemplate: TemplateRef<any>;\n  @Input() noResultItemTemplate: TemplateRef<any>;\n  // @Input() dropdown: boolean; // 未使用\n  // @Input() minLength: number; // 未使用\n  @Input() delay: number;\n  @Input() searchFn: (term: string) => Observable<any[]>;\n  @Input() formatter: (item: any) => string;\n  @Input() valueParser: (item: any) => any;\n  @Input() @WithConfig() showAnimation = true;\n  @Output() autoSubmit = new EventEmitter<any>(); // 失焦自动提交\n\n  @ViewChild('multiAutoCompleteInput') multiAutoCompleteInputElement: ElementRef;\n  @ViewChild('multiAutoCompleteWrapper') multiAutoCompleteWrapperElement: ElementRef;\n  @ViewChild(AutoCompleteDirective) autoCompleteDirective: AutoCompleteDirective;\n  multiItems: any[] = [];\n  inputValue: any;\n  multipleLabelClassNameSuffix: string = this.overview;\n  inputEdit = false;\n  multipleLabelClassNameConfig: any = {\n    border: {\n      focus: 'border',\n      blur: 'border',\n    },\n    none: {\n      focus: 'border',\n      blur: 'none',\n    },\n    multiline: {\n      focus: 'multiline',\n      blur: 'multiline',\n    },\n    single: {\n      focus: 'single-focus',\n      blur: 'single',\n    },\n  };\n  id: number;\n  clonePlaceholder: string = this.placeholder;\n  get placeholderView() {\n    if (this.multiItems.length > 0) {\n      return '';\n    } else {\n      return this.placeholder;\n    }\n  }\n\n  private popupRef: ComponentRef<AutoCompletePopupComponent>;\n  private value: any;\n  private placement = 'bottom-left';\n\n  private onChange = (_: any) => null;\n  private onTouched = () => null;\n\n  constructor(private changeDetectorRef: ChangeDetectorRef, private devConfigService: DevConfigService) {\n    this.formatter = (item) => (item ? item.label || item.toString() : '');\n    this.valueParser = (item) => item;\n    this.id = MultiAutoCompleteComponent.ID_SEED++;\n  }\n\n  writeValue(obj: any): void {\n    const value = obj || [];\n    this.multiItems = value;\n    if (this.overview === 'single') {\n      this.inputEdit = this.multiItems.length === 0;\n    }\n    this.setSinglePlaceholder();\n    this.changeDetectorRef.markForCheck();\n  }\n\n  ngOnInit() {\n    if (this.source && !this.searchFn) {\n      this.searchFn = (term) => {\n        return of(\n          this.source.filter((lang) => this.multiItems.indexOf(lang) === -1 && lang.toLowerCase().indexOf(term.toLowerCase()) !== -1)\n        );\n      };\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes && changes['overview']) {\n      this.multipleLabelClassNameSuffix = changes['overview'].currentValue;\n    }\n    if (changes && changes['placeholder']) {\n      this.clonePlaceholder = changes['placeholder'].currentValue;\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  singleClick($event: any) {\n    this.inputEdit = true;\n  }\n\n  onMultipleSearch(item?: any) {\n    if (this.overview !== 'single' && item) {\n      let inArray = false;\n      for (let i = 0; i < this.multiItems.length; i++) {\n        if (item.label) {\n          if (item.label === this.multiItems[i].label) {\n            inArray = true;\n            break;\n          }\n        } else {\n          if (item === this.multiItems[i]) {\n            inArray = true;\n            break;\n          }\n        }\n      }\n      if (!inArray) {\n        this.multiItems.push(item);\n      } else {\n        this.multiItems = this.multiItems.filter((data) => {\n          if (data.label) {\n            return data.label !== item.label;\n          } else {\n            return data !== item;\n          }\n        });\n      }\n    } else if (this.overview === 'single' && item) {\n      this.multiItems = [];\n      this.multiItems.push(item);\n      this.inputEdit = false;\n      this.multipleLabelClassNameSuffix = this.multipleLabelClassNameConfig[this.overview]['blur'];\n    }\n    this.setSinglePlaceholder();\n    this.autoSubmit.emit(this.multiItems);\n    this.onChange(this.multiItems);\n    this.inputValue = null;\n    this.multiAutoCompleteInputElement.nativeElement.value = '';\n  }\n\n  public removeLabel(label: any) {\n    if (this.multiItems.indexOf(label) !== -1) {\n      this.multiItems = this.multiItems.filter((item) => item !== label);\n    }\n    this.setSinglePlaceholder();\n    this.autoSubmit.emit(this.multiItems);\n    this.onChange(this.multiItems);\n  }\n\n  getInputFocusFlag($event: any) {\n    this.inputEdit = this.multiItems.length === 0 || $event.focus;\n    this.popupRef = $event.popupRef;\n    this.setSinglePlaceholder();\n    if ($event.focus) {\n      this.multipleLabelClassNameSuffix = this.multipleLabelClassNameConfig[this.overview]['focus'];\n      setTimeout(() => {\n        // 这里需要等待一会才能聚焦\n        this.multiAutoCompleteInputElement.nativeElement.focus();\n      }, 0);\n    } else {\n      this.multipleLabelClassNameSuffix = this.multipleLabelClassNameConfig[this.overview]['blur'];\n      this.inputValue = null;\n      this.multiAutoCompleteInputElement.nativeElement.value = '';\n      this.autoSubmit.emit(this.multiItems);\n    }\n  }\n\n  onBackspaceKeyUp($event: any, inputValue: any) {\n    if (this.multiItems.length > 0 && !inputValue) {\n      this.multiItems.pop();\n    }\n    this.setSinglePlaceholder();\n    this.autoSubmit.emit(this.multiItems);\n    this.onChange(this.multiItems);\n  }\n\n  setSinglePlaceholder() {\n    if (this.overview === 'single') {\n      if (this.multiItems && this.multiItems.length > 0) {\n        this.placeholder = '';\n      } else {\n        this.placeholder = this.clonePlaceholder;\n      }\n    }\n  }\n\n  changePopUp(open) {\n    if (open) {\n      addClassToOrigin(this.multiAutoCompleteWrapperElement);\n    } else {\n      removeClassFromOrigin(this.multiAutoCompleteWrapperElement);\n    }\n  }\n\n  inputBlur() {\n    this.onTouched();\n  }\n}\n","<div class=\"form-group multi-auto-complete\">\n  <label\n    for=\"multiple-label-auto-complete-{{ id }}\"\n    class=\"multiple-label-auto-complete multiple-label-auto-complete-{{ multipleLabelClassNameSuffix }}\"\n    [ngClass]=\"{ 'multiple-label-auto-complete-disabled': disabled }\"\n  >\n    <ul *ngIf=\"overview !== 'single'\" class=\"devui-dropdown-origin\" #multiAutoCompleteWrapper>\n      <li *ngFor=\"let item of multiItems\">\n        <ng-template\n          [ngTemplateOutlet]=\"disabled || (overview === 'none' && !inputEdit) ? transparentTemplate : defaultTemplate\"\n          [ngTemplateOutletContext]=\"{\n            item: item,\n            formatter: formatter,\n            parent: multiItems\n          }\"\n        ></ng-template>\n      </li>\n      <li *ngIf=\"!disabled\">\n        <input\n          #multiAutoCompleteInput\n          id=\"multiple-label-auto-complete-{{ id }}\"\n          type=\"text\"\n          name=\"autoCompleteControl\"\n          class=\"auto-complete-control\"\n          [placeholder]=\"placeholderView\"\n          [tipsText]=\"tipsText\"\n          [latestSource]=\"latestSource\"\n          (selectValue)=\"onMultipleSearch($event)\"\n          (transInputFocusEmit)=\"getInputFocusFlag($event)\"\n          (keydown.backspace)=\"onBackspaceKeyUp($event, inputValue)\"\n          [formatter]=\"formatter\"\n          [valueParser]=\"valueParser\"\n          [itemTemplate]=\"itemTemplate\"\n          [noResultItemTemplate]=\"noResultItemTemplate\"\n          [cssClass]=\"cssClass\"\n          [overview]=\"overview\"\n          [disabled]=\"disabled\"\n          [(ngModel)]=\"inputValue\"\n          [delay]=\"delay\"\n          [dAutoCompleteWidth]=\"width\"\n          dAutoComplete\n          [showAnimation]=\"showAnimation\"\n          [searchFn]=\"searchFn\"\n          [appendToBody]=\"appendToBody\"\n          [appendToBodyDirections]=\"appendToBodyDirections\"\n          [cdkOverlayOffsetY]=\"3\"\n          [disabledKey]=\"disabledKey\"\n          (blur)=\"inputBlur()\"\n          (changeDropDownStatus)=\"changePopUp($event)\"\n        />\n      </li>\n    </ul>\n\n    <!--单选模板-->\n    <ul *ngIf=\"overview === 'single'\" title=\"{{ formatter(multiItems[0]) }}\" (click)=\"singleClick($event)\">\n      <li *ngFor=\"let item of multiItems\">\n        <ng-template\n          [ngTemplateOutlet]=\"transparentTemplate\"\n          [ngTemplateOutletContext]=\"{\n            item: item,\n            formatter: formatter,\n            parent: multiItems\n          }\"\n        ></ng-template>\n      </li>\n      <li *ngIf=\"!disabled && inputEdit\">\n        <input\n          #multiAutoCompleteInput\n          id=\"multiple-label-auto-complete-{{ id }}\"\n          type=\"text\"\n          name=\"autoCompleteControl\"\n          class=\"auto-complete-control\"\n          [placeholder]=\"placeholder\"\n          [tipsText]=\"tipsText\"\n          [latestSource]=\"latestSource\"\n          (selectValue)=\"onMultipleSearch($event)\"\n          (transInputFocusEmit)=\"getInputFocusFlag($event)\"\n          (keydown.backspace)=\"onBackspaceKeyUp($event, inputValue)\"\n          [formatter]=\"formatter\"\n          [valueParser]=\"valueParser\"\n          [itemTemplate]=\"itemTemplate\"\n          [noResultItemTemplate]=\"noResultItemTemplate\"\n          [cssClass]=\"cssClass\"\n          [overview]=\"overview\"\n          [disabled]=\"disabled\"\n          [(ngModel)]=\"inputValue\"\n          [delay]=\"delay\"\n          [dAutoCompleteWidth]=\"width\"\n          dAutoComplete\n          [searchFn]=\"searchFn\"\n          (blur)=\"inputBlur()\"\n          (changeDropDownStatus)=\"changePopUp($event)\"\n        />\n      </li>\n    </ul>\n  </label>\n</div>\n\n<!--黄底模板-->\n<ng-template #defaultTemplate let-item=\"item\" let-formatter=\"formatter\">\n  <d-tag [deletable]=\"true\" [tag]=\"formatter(item)\" (tagDelete)=\"removeLabel(item)\"></d-tag>\n</ng-template>\n\n<!--无底色模板-->\n<ng-template #transparentTemplate let-item=\"item\" let-formatter=\"formatter\" let-parent=\"parent\">\n  <d-tag [tag]=\"formatter(item)\"></d-tag>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { AutoCompleteModule } from 'ng-devui/auto-complete';\nimport { TagsModule } from 'ng-devui/tags';\nimport { MultiAutoCompleteComponent } from './multi-auto-complete.component';\n\n@NgModule({\n  imports: [CommonModule, AutoCompleteModule, FormsModule, TagsModule],\n  exports: [MultiAutoCompleteComponent],\n  declarations: [MultiAutoCompleteComponent],\n  providers: [],\n})\nexport class MultiAutoCompleteModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}