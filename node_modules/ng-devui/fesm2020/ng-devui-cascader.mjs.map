{"version":3,"file":"ng-devui-cascader.mjs","sources":["../../devui/cascader/cascader.service.ts","../../devui/cascader/cascader-li.component.ts","../../devui/cascader/cascader-li.component.html","../../devui/cascader/cascader.component.ts","../../devui/cascader/cascader.component.html","../../devui/cascader/cascader.module.ts","../../devui/cascader/ng-devui-cascader.ts"],"sourcesContent":["import { Injectable, OnDestroy } from '@angular/core';\nimport { cloneDeep } from 'lodash-es';\nimport { Observable, Subject } from 'rxjs';\nimport { CascaderItem } from './cascader.type';\n\n@Injectable()\nexport class CascaderService implements OnDestroy {\n\n  _currentValue: Array<string | number> = [];\n\n  multipleValue: Array<string | number>[] = [];\n\n  options: CascaderItem[];\n\n  columnList: CascaderItem[][] = [];\n  searchResultList = [];\n\n  canSelectParent = false;\n\n  isMultiple = false;\n\n  isLazyLoad = false;\n  lazyloadCache = {};\n\n  loadChildrenFn: (value: CascaderItem) => Promise<CascaderItem[]> | Observable<CascaderItem[]>;\n\n  set currentValue(value: Array<string | number>) {\n    this._currentValue = value.filter(item => item !== undefined);\n    this.currentValueChange.next(this._currentValue);\n  }\n\n  get currentValue() {\n    return this._currentValue;\n  }\n\n  set currentMultipleValue(value) {\n    this.resetNodeStatus();\n    this.multipleValue = value;\n  }\n\n  get currentMultipleValue() {\n    this.multipleValue = [];\n    this.getMultipleValue([], this.options);\n    return this.multipleValue;\n  }\n\n  readonly closeMianDropdown = new Subject<void>();\n  readonly currentValueChange = new Subject<Array<string | number>>();\n  readonly resetStatus = new Subject<void>();\n  readonly openDrawer = new Subject<void>();\n  readonly updateShowText = new Subject<void>();\n  readonly updateTagList = new Subject<{\n    isAdd: boolean;\n    option: CascaderItem;\n    isEmit: boolean; // 是否触发onchanges,对外发出值\n  }>();\n\n  initOptions(options: CascaderItem[]): void {\n    this.columnList = [];\n    this.options = cloneDeep(options);\n    // 标记根节点\n    this.options.forEach(t => {t['isRoot'] = true;});\n    this.columnList.push(this.options);\n  }\n\n  openColumn(option: CascaderItem, colIndex: number, islazyLoad: boolean, reload = false): void {\n    this.clearTargetActive(this.columnList[colIndex].find(t => t.active));\n    option.active = true;\n    this.columnList.splice(colIndex + 1);\n\n    if (option.children && option.children.length) {\n      this.columnList.push(option.children);\n      this.openDrawer.next();\n    } else if (islazyLoad) {\n      option._loading = true;\n\n      const fn = this.loadChildrenFn(option);\n\n      if ((fn as Promise<CascaderItem[]>).then) {\n        (fn as Promise<CascaderItem[]>).then(res => {\n          this.columnList.splice(colIndex + 1); // 防止多个同时懒加载，造成多余的添加\n          option.children = res || [];\n          option._loading = false;\n          this.columnList.push(res || []);\n          this.openDrawer.next();\n\n          if (this.isMultiple) {\n            this.updateOptionCheckedStatus(option.value, option.checked, true, true, !reload);\n          }\n          if (reload) {\n            if (!this.isMultiple) {\n              this.updateOptionByValue();\n            }\n            this.updateShowText.next();\n          }\n        });\n      } else {\n        (fn as Observable<CascaderItem[]>).subscribe(res => {\n          this.columnList.splice(colIndex + 1); // 防止多个同时懒加载，造成多余的添加\n          option.children = res || [];\n          option._loading = false;\n          this.columnList.push(res || []);\n          this.openDrawer.next();\n\n          if (this.isMultiple) {\n            this.updateOptionCheckedStatus(option.value, option.checked, true, true, !reload);\n          }\n\n          if (reload) {\n            if (!this.isMultiple) {\n              this.updateOptionByValue();\n            }\n            this.updateShowText.next();\n          }\n        });\n      }\n    }\n  }\n\n  clearTargetActive(option: CascaderItem): void {\n    if (!option) {\n      return;\n    }\n    option.active = false;\n    if (option.children) {\n      this.clearTargetActive(option.children.find(t => t.active));\n    }\n  }\n\n  setCurrentValue(): void {\n    this.currentValue = this.columnList.map(listItem => listItem.find(optionItem => optionItem.active)?.value);\n  }\n\n  updateOptionByValue(): void {\n    this.resetNodeStatus();\n    this.columnList = [this.options];\n    for (let index = 0; index < this.currentValue.length; index++) {\n      const target = this.columnList[index]?.find(listItem => listItem.value === this.currentValue[index]);\n\n      if (target) {\n        target['active'] = true;\n        if (target.children && target.children.length) { // 有子菜单展开子菜单\n          this.columnList.push(target.children);\n        } else if (this.isLazyLoad) { // 懒加载没有子菜单的情况下，非叶子节点执行展开，叶子节点执行选中\n          this.openColumn(target, index, !target.isLeaf, !target.isLeaf);\n          break;\n        }\n      } else {\n        break;\n      }\n    }\n  }\n\n  lazyloadMultipleChild(target: CascaderItem, index: number) {\n    if (!this.lazyloadCache[target.value]) {\n      this.lazyloadCache[target.value] = true;\n      this.openColumn(target, index, true, true);\n    }\n  }\n\n  resetNodeStatus(option: CascaderItem[] = this.options): void {\n    option.forEach(item => {\n      item['active'] = false;\n      item['checked'] = false;\n      item['halfChecked'] = false;\n      if (item.children) {\n        this.resetNodeStatus(item.children);\n      }\n    });\n  }\n\n  // 在多选模式下，更新节点树的checked状态\n  updateOptionCheckedStatus(targetValue: string | number, checked: boolean, upward = true, downward = true, isEmit = true): void {\n    let targetNode = this.options.find(t => t.value === targetValue);\n    // 当主下拉列表包含了目标，即目标无父节点\n    if (targetNode) {\n      targetNode['checked'] = checked;\n      targetNode['halfChecked'] = false;\n      if (targetNode.children && downward) {\n        this.updateChildrenChecked(targetNode, checked, isEmit);\n      }\n    } else { // 当存在父节点时，需要检查同级节点来确定父节点状态\n      const parentNode = this.getParentNode(targetValue);\n      targetNode = parentNode.children.find(t => t.value === targetValue);\n\n      targetNode['checked'] = checked;\n      targetNode['halfChecked'] = false;\n      if (targetNode.children && downward) {\n        this.updateChildrenChecked(targetNode, checked, isEmit);\n      }\n      if (upward) {\n        this.updateParentChecked(parentNode, isEmit);\n      }\n    }\n  }\n\n  // 子节点按父节点状态更新\n  updateChildrenChecked(node: CascaderItem, checked: boolean, isEmit: boolean) {\n    let hasDisable = false;\n    node.children.forEach(child => {\n      if (!child.disabled) {\n        child['checked'] = checked;\n        child['halfChecked'] = false;\n        if (child.children && child.children.length) {\n          if (this.canSelectParent) {\n            this.updateTagList.next({\n              isAdd: checked,\n              option: child,\n              isEmit\n            });\n          }\n          this.updateChildrenChecked(child, checked, isEmit);\n        } else {\n          this.updateTagList.next({\n            isAdd: checked,\n            option: child,\n            isEmit\n          });\n        }\n      } else {\n        hasDisable = true;\n      }\n    });\n\n    if (hasDisable && !this.canSelectParent) {\n      this.updateParentChecked(node, isEmit);\n    }\n  }\n\n  // 父节点按所有子节点状态更新\n  updateParentChecked(node: CascaderItem, isEmit: boolean) {\n    const checkedChild = node.children.find(t => t['checked']);\n    const halfcheckedChild = node.children.find(t => t['halfChecked']);\n    const uncheckedChild = node.children.find(t => !t['halfChecked'] && !t['checked']);\n\n    if (halfcheckedChild || (checkedChild && uncheckedChild)) {\n      node['checked'] = false;\n      node['halfChecked'] = true;\n    } else if (!checkedChild && !halfcheckedChild) {\n      node['checked'] = false;\n      node['halfChecked'] = false;\n    } else {\n      node['checked'] = true;\n      node['halfChecked'] = false;\n    }\n\n    if (this.canSelectParent) {\n      this.updateTagList.next({\n        isAdd: node['checked'],\n        option: node,\n        isEmit\n      });\n    }\n\n    // 如果此节点非根节点，则继续找它的父节点进行更新\n    if (!node['isRoot']) {\n      this.updateParentChecked(this.getParentNode(node.value), isEmit);\n    }\n  }\n\n  // 获取父节点\n  getParentNode(childValue: string | number): CascaderItem {\n    const queue = [...this.options];\n    let cur: CascaderItem;\n    while (queue.length) {\n      cur = queue.shift();\n      if (cur.children && cur.children.find(t => t.value === childValue)) {\n        break;\n      } else if (cur.children) {\n        queue.push(...cur.children);\n      }\n    }\n    return cur;\n  }\n\n  getMultipleValue(value, option: CascaderItem[]): void {\n    option.forEach(item => {\n      const _value = [...value];\n      if (item.children && item.children.length && (item.checked || item.halfChecked)) {\n        _value.push(item.value);\n        this.getMultipleValue(_value, item.children);\n      } else if (item.checked) {\n        _value.push(item.value);\n        this.multipleValue.push(_value);\n      }\n    });\n  }\n\n  closeAllDropdown(): void {\n    this.closeMianDropdown.next();\n  }\n\n  // 搜索功能\n  searchByString(str: string, currentlabel?: string, currentValue: Array<string | number> = [], list = this.options): void {\n    list.forEach(item => {\n      const label = currentlabel ? currentlabel + ' / ' + item.label : item.label;\n      const valueList = [...currentValue, item.value];\n      if (item.children && item.children.length) {\n        this.searchByString(str, label, valueList, item.children);\n      } else {\n        if (!item.disabled && label.toLowerCase().indexOf(str.toLowerCase()) !== -1) {\n          this.searchResultList.push({\n            label,\n            valueList,\n            checked: item.checked\n          });\n        }\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.closeMianDropdown.complete();\n    this.currentValueChange.complete();\n    this.updateTagList.complete();\n    this.resetStatus.complete();\n    this.openDrawer.complete();\n  }\n\n}\n","import { ChangeDetectorRef, Component, HostListener, Input, OnDestroy, OnInit, TemplateRef } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { CascaderService } from './cascader.service';\nimport { CascaderItem } from './cascader.type';\n\n@Component({\n  selector: 'd-cascader-li',\n  templateUrl: './cascader-li.component.html',\n  styleUrls: ['./cascader-li.component.scss'],\n})\nexport class CascaderLiComponent implements OnInit, OnDestroy {\n  @Input() width = 200;\n  @Input() trigger: 'click' | 'hover' = 'hover';\n  @Input() option: CascaderItem;\n  @Input() multiple = false;\n  @Input() canSelectParent = false;\n  @Input() colIndex: number;\n  @Input() dropDownItemTemplate: TemplateRef<any>;\n  @Input() isLazyLoad: boolean;\n  @Input() checkboxRelation = { upward: true, downward: true };\n\n  dropdownEl: Element;\n  isLeaf: boolean;\n  selected: boolean;\n  halfCheck: boolean;\n  active: boolean;\n\n  unsubscribe$ = new Subject();\n\n  @HostListener('click', ['$event'])\n  onClick(event: Event) {\n    event.stopPropagation();\n  }\n\n  @HostListener('mouseenter', ['$event'])\n  onMouseEnter(event) {\n    if (this.trigger === 'hover' && this.option.children && this.option.children.length) {\n      this.cascaderSrv.openColumn(this.option, this.colIndex, false);\n    }\n  }\n\n  constructor(\n    private cascaderSrv: CascaderService,\n    private cdr: ChangeDetectorRef\n  ) { }\n\n  ngOnInit() {\n    if (this.isLazyLoad) {\n      this.isLeaf = !!this.option.isLeaf;\n    } else { // 当不是懒加载时可以通过children是否为空来判断是否为叶子节点\n      this.isLeaf = this.option.isLeaf || !(this.option.children && this.option.children.length);\n    }\n\n    this.initObserable();\n  }\n\n  initObserable(): void {\n    this.cascaderSrv.resetStatus.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(res => {\n      this.selected = false;\n      this.halfCheck = false;\n      this.active = false;\n    });\n  }\n\n  clickLeaf(): void {\n    if (!this.option.disabled && !this.multiple) {\n      this.cascaderSrv.openColumn(this.option, this.colIndex, false);\n      this.option.active = true;\n      this.cascaderSrv.setCurrentValue();\n      this.cascaderSrv.closeAllDropdown();\n    }\n  }\n\n  clickItem(): void {\n    this.cascaderSrv.openColumn(this.option, this.colIndex, this.isLazyLoad);\n    if (this.canSelectParent && !this.multiple) {\n      this.cascaderSrv.setCurrentValue();\n    }\n  }\n\n  clickCheckbox(event: Event): void {\n    if (this.option.disabled) {\n      return;\n    }\n    event.stopPropagation();\n    // 如果是半选状态，更新为false，其他状态则更新为与checked相反\n    const status = !!this.option.halfChecked;\n    this.cascaderSrv.updateOptionCheckedStatus(\n      this.option.value,\n      this.option.halfChecked ? false : !this.option.checked,\n      this.checkboxRelation.upward,\n      this.checkboxRelation.downward,\n    );\n\n    if (status) {\n      this.option.halfChecked = false;\n    }\n\n    if (this.isLeaf || this.canSelectParent) {\n      this.updateValue(this.option.checked);\n    }\n  }\n\n  // 阻止checkbox本身的点击事件变化\n  avoidCheckboxChange(): boolean {\n    return false;\n  }\n\n  updateValue(checked: boolean): void {\n    this.cascaderSrv.updateTagList.next({\n      isAdd: checked,\n      option: this.option,\n      isEmit: true\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n}\n","<li *ngIf=\"!isLeaf\" role=\"menuitem\" [ngClass]=\"{ disabled: option.disabled, 'devui-leaf-active': option.active }\" (click)=\"clickItem()\">\n  <div class=\"devui-dropdown-item\">\n    <d-checkbox\n      *ngIf=\"multiple\"\n      class=\"devui-dropdown-item-checkbox\"\n      [disabled]=\"option.disabled\"\n      [isShowTitle]=\"false\"\n      [halfchecked]=\"option.halfChecked\"\n      (click)=\"clickCheckbox($event)\"\n      [ngModel]=\"option.checked\"\n      [beforeChange]=\"avoidCheckboxChange\"\n    ></d-checkbox>\n    <i *ngIf=\"option.icon\" class=\"icon {{ option.icon }}\"></i>\n    <span class=\"dropdown-item-label\">\n      <ng-template\n        [ngTemplateOutlet]=\"dropDownItemTemplate || defaultDropdownItemTemplate\"\n        [ngTemplateOutletContext]=\"{\n          label: option.label,\n          option: option\n        }\"\n      >\n      </ng-template>\n    </span>\n    <svg\n      style=\"float: right\"\n      width=\"16px\"\n      height=\"16px\"\n      viewBox=\"0 0 16 16\"\n      class=\"icon devui-cascader-icon-right\"\n      *ngIf=\"!option._loading\"\n    >\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <polygon\n          fill=\"#293040\"\n          fill-rule=\"nonzero\"\n          transform=\"translate(8.146447, 8.000000) scale(-1, 1) translate(-8.146447, -8.000000) \"\n          points=\"11.7071068 12.2928932 10.2928932 13.7071068 4.58578644 8 10.2928932 2.29289322 11.7071068 3.70710678 7.41421356 8\"\n        ></polygon>\n      </g>\n    </svg>\n    <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" style=\"float: right\" class=\"icon devui-cascader-loading\" *ngIf=\"option._loading\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path\n          d=\"M8,1 C8.55228475,1 9,1.44771525 9,2 L9,4 C9,4.55228475 8.55228475,5 8,5 C7.44771525,5 7,4.55228475 7,4 L7,2 C7,1.44771525 7.44771525,1 8,1 Z M8,11 C8.55228475,11 9,11.4477153 9,12 L9,14 C9,14.5522847 8.55228475,15 8,15 C7.44771525,15 7,14.5522847 7,14 L7,12 C7,11.4477153 7.44771525,11 8,11 Z M15,8 C15,8.55228475 14.5522847,9 14,9 L12,9 C11.4477153,9 11,8.55228475 11,8 C11,7.44771525 11.4477153,7 12,7 L14,7 C14.5522847,7 15,7.44771525 15,8 Z M5,8 C5,8.55228475 4.55228475,9 4,9 L2,9 C1.44771525,9 1,8.55228475 1,8 C1,7.44771525 1.44771525,7 2,7 L4,7 C4.55228475,7 5,7.44771525 5,8 Z M12.9497475,3.05025253 C13.3402718,3.44077682 13.3402718,4.0739418 12.9497475,4.46446609 L11.5355339,5.87867966 C11.1450096,6.26920395 10.5118446,6.26920395 10.1213203,5.87867966 C9.73079605,5.48815536 9.73079605,4.85499039 10.1213203,4.46446609 L11.5355339,3.05025253 C11.9260582,2.65972824 12.5592232,2.65972824 12.9497475,3.05025253 Z M5.87867966,10.1213203 C6.26920395,10.5118446 6.26920395,11.1450096 5.87867966,11.5355339 L4.46446609,12.9497475 C4.0739418,13.3402718 3.44077682,13.3402718 3.05025253,12.9497475 C2.65972824,12.5592232 2.65972824,11.9260582 3.05025253,11.5355339 L4.46446609,10.1213203 C4.85499039,9.73079605 5.48815536,9.73079605 5.87867966,10.1213203 Z M12.9497475,12.9497475 C12.5592232,13.3402718 11.9260582,13.3402718 11.5355339,12.9497475 L10.1213203,11.5355339 C9.73079605,11.1450096 9.73079605,10.5118446 10.1213203,10.1213203 C10.5118446,9.73079605 11.1450096,9.73079605 11.5355339,10.1213203 L12.9497475,11.5355339 C13.3402718,11.9260582 13.3402718,12.5592232 12.9497475,12.9497475 Z M5.87867966,5.87867966 C5.48815536,6.26920395 4.85499039,6.26920395 4.46446609,5.87867966 L3.05025253,4.46446609 C2.65972824,4.0739418 2.65972824,3.44077682 3.05025253,3.05025253 C3.44077682,2.65972824 4.0739418,2.65972824 4.46446609,3.05025253 L5.87867966,4.46446609 C6.26920395,4.85499039 6.26920395,5.48815536 5.87867966,5.87867966 Z\"\n          fill=\"#293040\"\n        ></path>\n      </g>\n    </svg>\n  </div>\n</li>\n\n<li *ngIf=\"isLeaf\" role=\"menuitem\" (click)=\"clickLeaf()\" [ngClass]=\"{ disabled: option.disabled, 'devui-leaf-active': option.active }\">\n  <div class=\"devui-dropdown-item\">\n    <d-checkbox\n      *ngIf=\"multiple\"\n      class=\"devui-dropdown-item-checkbox\"\n      [disabled]=\"option.disabled\"\n      [isShowTitle]=\"false\"\n      [halfchecked]=\"option.halfChecked\"\n      (click)=\"clickCheckbox($event)\"\n      [ngModel]=\"option.checked\"\n      (ngModelChange)=\"updateValue($event)\"\n      [beforeChange]=\"avoidCheckboxChange\"\n    ></d-checkbox>\n    <i *ngIf=\"option.icon\" class=\"icon {{ option.icon }}\"></i>\n    <span class=\"dropdown-item-label\">\n      <ng-template\n        [ngTemplateOutlet]=\"dropDownItemTemplate || defaultDropdownItemTemplate\"\n        [ngTemplateOutletContext]=\"{\n          source: option,\n          label: option.label\n        }\"\n      >\n      </ng-template>\n    </span>\n  </div>\n</li>\n\n<ng-template #defaultDropdownItemTemplate let-label=\"label\">\n  <span>{{ label }}</span>\n</ng-template>\n","import { ConnectedPosition } from '@angular/cdk/overlay';\nimport {\n  Component, ElementRef, EventEmitter, forwardRef, Input,\n  OnChanges, OnDestroy, OnInit, Output, SimpleChanges, TemplateRef, ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { DropDownAppendToBodyComponent, DropDownDirective } from 'ng-devui/dropdown';\nimport { I18nInterface, I18nService } from 'ng-devui/i18n';\nimport { DevConfigService, WithConfig } from 'ng-devui/utils';\nimport { Observable, Subject, Subscription } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, filter, takeUntil } from 'rxjs/operators';\nimport { CascaderService } from './cascader.service';\nimport { CascaderItem } from './cascader.type';\n\nconst DEBOUNCE_TIME = 200;\n\n@Component({\n  selector: 'd-cascader',\n  templateUrl: './cascader.component.html',\n  styleUrls: ['./cascader.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => CascaderComponent),\n      multi: true\n    },\n    CascaderService\n  ],\n  preserveWhitespaces: false\n})\nexport class CascaderComponent implements OnInit, OnDestroy, OnChanges, ControlValueAccessor {\n  @ViewChild('mainDropdown') mainDropdown: DropDownDirective;\n  @ViewChild('innerInput') innerInput: ElementRef;\n  @ViewChild(DropDownAppendToBodyComponent, { static: false }) dropdownComp: DropDownAppendToBodyComponent;\n  @Input() options: CascaderItem[] = [];\n  @Input() width = 200;\n  @Input() dropdownWidth: number;\n  @Input() placeholder = '';\n  @Input() trigger: 'click' | 'hover' = 'hover';\n  @Input() disabled = false;\n  @Input() multiple = false;\n  @Input() showPath = false;\n  @Input() allowClear = false;\n  @Input() allowSearch = false;\n  @Input() canSelectParent = false;\n  @Input() checkboxRelation = { upward: true, downward: true };\n  @Input() dropDownItemTemplate: TemplateRef<any>;\n  @Input() dropdownHeaderTemplate: TemplateRef<any>;\n  @Input() hostTemplate: TemplateRef<any>;\n  @Input() dropdownPanelClass = '';\n  @Input() appendToBody = true;\n  @Input() @WithConfig() showAnimation = true;\n  @Input()\n  set loadChildrenFn(fn: (value: CascaderItem) => Promise<CascaderItem[]> | Observable<CascaderItem[]>) {\n    this.isLazyLoad = !!fn;\n    if (fn) {\n      this.cascaderSrv.loadChildrenFn = fn;\n    }\n  }\n  @Output() toggleEvent = new EventEmitter<boolean>();\n\n  subMenuDirections: ConnectedPosition[] = [{\n    originX: 'start',\n    originY: 'bottom',\n    overlayX: 'start',\n    overlayY: 'top',\n    offsetX: 0\n  },\n  {\n    originX: 'start',\n    originY: 'top',\n    overlayX: 'start',\n    overlayY: 'bottom',\n    offsetX: 0,\n  }];\n\n  isLazyLoad: boolean;\n\n  unsubscribe$ = new Subject();\n\n  searchValueChange = new Subject<string>();\n\n  multipleValueList: CascaderItem[] = [];\n  lazyloadValue = [];\n\n  timer;\n  showTextValue;\n  showSearchPanel: boolean;\n  showSearchInput = false;\n  onChange = Function.prototype;\n  onTouched = Function.prototype;\n\n  get columnList () {\n    return this.cascaderSrv.columnList;\n  }\n\n  get searchResultList () {\n    return this.cascaderSrv.searchResultList;\n  }\n\n  i18nCommonText: I18nInterface['common'];\n  i18nSubscription: Subscription;\n\n  constructor(\n    private cascaderSrv: CascaderService,\n    private i18n: I18nService,\n    private devConfigService: DevConfigService\n  ) {\n  }\n\n  // 获取整颗树的公共方法\n  public getOptionTree(): CascaderItem[] {\n    return this.cascaderSrv.options;\n  }\n\n  ngOnInit() {\n    this.dropdownWidth = this.dropdownWidth ? this.dropdownWidth : this.width;\n    this.cascaderSrv.canSelectParent = this.canSelectParent;\n    this.cascaderSrv.initOptions(this.options);\n    this.cascaderSrv.isMultiple = this.multiple;\n    this.cascaderSrv.isLazyLoad = this.isLazyLoad;\n    this.initObservale();\n    this.initI18n();\n  }\n\n  ngOnChanges(change: SimpleChanges) {\n    if (change && change['options'] && !change.options.firstChange) {\n      this.cascaderSrv.initOptions(this.options);\n    } else if (change && change['canSelectParent'] && !change.canSelectParent.firstChange) {\n      this.cascaderSrv.canSelectParent = this.canSelectParent;\n    }\n  }\n\n  initI18n(): void {\n    this.i18nCommonText = this.i18n.getI18nText().common;\n    this.i18nSubscription = this.i18n.langChange().subscribe(data => {\n      this.i18nCommonText = data.common;\n    });\n  }\n\n  valueChanges(value: string): void {\n    this.searchValueChange.next(value);\n  }\n\n  chooseSearchResult(option): void {\n    if (option.checked) {\n      return;\n    }\n    if (this.multiple) { // 多选模式下更新数据后需要刷新dropdown位置和重新聚焦input\n      option.checked = true;\n      this.writeValue([...this.cascaderSrv.multipleValue, option.valueList]);\n      this.onChange(this.cascaderSrv.multipleValue);\n      this.mainDropdown.updateCdkConnectedOverlayOrigin();\n      if (this.innerInput) {\n        this.innerInput.nativeElement.focus();\n      }\n    } else {\n      this.writeValue(option.valueList);\n      this.onChange(option.valueList);\n      this.mainDropdown.isOpen = false;\n    }\n  }\n\n  initObservale(): void {\n    this.cascaderSrv.closeMianDropdown.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(res => {\n      if (this.mainDropdown) {\n        this.mainDropdown.isOpen = false;\n      }\n    });\n\n    this.cascaderSrv.currentValueChange.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(res => {\n      this.writeValue(res);\n      this.onChange(res);\n    });\n\n    this.cascaderSrv.openDrawer.pipe(\n      takeUntil(this.unsubscribe$)\n    ).subscribe(res => {\n      this.rePosition();\n    });\n\n    if (this.multiple) {\n      this.cascaderSrv.updateTagList.pipe(\n        takeUntil(this.unsubscribe$)\n      ).subscribe(res => {\n        const targetIndex = this.multipleValueList.findIndex(t => t.value === res.option.value);\n        if (res.isAdd) {\n          if (targetIndex === -1) {\n            this.multipleValueList.push(res.option);\n          }\n        } else if (targetIndex !== -1) {\n          this.multipleValueList.splice(targetIndex, 1);\n        }\n\n        if (res.isEmit) {\n          this.onChange(this.cascaderSrv.currentMultipleValue);\n        }\n\n        // 当taglist变化导致input高度变化时，更新相对位置\n        setTimeout(() => {\n          this.mainDropdown.updateCdkConnectedOverlayOrigin();\n        });\n      });\n    }\n\n    if (this.allowSearch) {\n      this.searchValueChange.pipe(\n        takeUntil(this.unsubscribe$),\n        debounceTime(DEBOUNCE_TIME),\n        distinctUntilChanged(),\n        filter(t => t !== '')\n      ).subscribe(value => {\n        clearTimeout(this.timer);\n        if (this.mainDropdown && !this.mainDropdown.isOpen) {\n          this.mainDropdown.isOpen = true;\n        }\n\n        if (this.multiple && this.innerInput) {\n          this.innerInput.nativeElement.focus();\n        }\n        this.cascaderSrv.searchResultList = [];\n        this.cascaderSrv.searchByString(value);\n        this.showSearchPanel = true;\n      });\n    }\n\n    if (this.isLazyLoad) {\n      this.cascaderSrv.updateShowText.pipe(\n        takeUntil(this.unsubscribe$)\n      ).subscribe(() => {\n        if (this.multiple) {\n          this.multipleValueList = this.getMultipleValueFromValueList(this.lazyloadValue);\n          this.cascaderSrv.multipleValue = this.lazyloadValue;\n        } else {\n          this.showTextValue = this.showPath ?\n            this.getPathLabelFormValue(this.cascaderSrv._currentValue) : this.getLabelFromValue(this.cascaderSrv._currentValue);\n        }\n      });\n    }\n  }\n\n  deleteTag(tagEvent, option: CascaderItem): void {\n    tagEvent.event.stopPropagation();\n    this.cascaderSrv.updateOptionCheckedStatus(option.value, false, this.checkboxRelation.upward, this.checkboxRelation.downward);\n    this.multipleValueList = this.multipleValueList.filter(t => t.value !== option.value);\n    // 当taglist变化导致input高度变化时，更新相对位置\n    setTimeout(() => {\n      this.mainDropdown.updateCdkConnectedOverlayOrigin();\n    });\n  }\n\n  registerOnChange(fn: () => {}): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => {}): void {\n    this.onTouched = fn;\n  }\n\n  writeValue(value: Array<number | string> | Array<number | string>[]): void {\n    if (!this.multiple) {\n      if (!value) {\n        this.showTextValue = '';\n      } else {\n        this.showTextValue = this.showPath ?\n          this.getPathLabelFormValue(value as Array<number | string>) : this.getLabelFromValue(value as Array<number | string>);\n        this.cascaderSrv._currentValue = value as Array<number | string>;\n        this.cascaderSrv.updateOptionByValue();\n      }\n    } else {\n      if (!value) {\n        this.multipleValueList = [];\n      } else {\n        this.cascaderSrv.currentMultipleValue = value as Array<number | string>[];\n        this.lazyloadValue = value;\n        this.multipleValueList = this.getMultipleValueFromValueList(value as Array<number | string>[]);\n      }\n    }\n  }\n\n  // 从路径数组中获取所有tag的值，并让对应checkbox激活\n  getMultipleValueFromValueList(valueList: Array<number | string>[]): CascaderItem[] {\n    const targetList = [];\n    valueList.forEach(value => {\n      let cur: CascaderItem;\n      let list = this.cascaderSrv.options;\n      for (let i = 0; i < value.length; i++) {\n        cur = list.find(l => l.value === value[i]);\n        if (this.isLazyLoad && cur && !cur.children?.length && !cur.isLeaf) {\n          this.cascaderSrv.lazyloadMultipleChild(cur, i);\n          break;\n        } else {\n          list = (cur && cur.children) || [];\n        }\n      }\n      if (cur && cur.isLeaf) {\n        targetList.push(cur);\n        this.cascaderSrv.updateOptionCheckedStatus(cur.value, true, this.checkboxRelation.upward, this.checkboxRelation.downward);\n      }\n    });\n    return targetList;\n  }\n\n  // 获取路径末的label\n  getLabelFromValue(value: Array<number | string>): string {\n    let cur;\n    let list = this.cascaderSrv.options;\n    value.map(item => {\n      cur = list.find(t => t.value === item) || '';\n      list = cur.children || [];\n    });\n\n    return (cur && cur.label) || '';\n  }\n\n  // 将value数组转换为路径字符串\n  getPathLabelFormValue(value: Array<number | string>): string {\n    let path = '';\n    let cur;\n    let list = this.cascaderSrv.options;\n\n    value.map((item, index) => {\n      cur = list.find(t => t.value === item) || '';\n      if (cur) {\n        path = path === '' ? path + cur.label : path + ' / ' + cur.label;\n      } else if (this.cascaderSrv.columnList.length === index + 1) {\n        path = path === '' ? path + item : path + ' / ' + item;\n      }\n      list = cur.children || [];\n    });\n\n    return path;\n  }\n\n  clearTags(): void {\n    if (this.multiple) {\n      this.multipleValueList = [];\n      this.cascaderSrv.resetStatus.next();\n      this.cascaderSrv.resetNodeStatus();\n      this.cascaderSrv.currentMultipleValue = [];\n    } else {\n      this.cascaderSrv.currentValue = [];\n    }\n    this.onChange([]);\n  }\n\n  onToggle(isOpen: boolean): void {\n    this.toggleEvent.emit(isOpen);\n    if (isOpen && this.multiple) {\n      this.cascaderSrv.clearTargetActive(this.cascaderSrv.options.find(t => t.active));\n      this.cascaderSrv.columnList.splice(1);\n      if (this.innerInput) {\n        this.innerInput.nativeElement.focus();\n      }\n    }\n\n    if (!isOpen && this.allowSearch) {\n      if (!this.cascaderSrv.currentValue.length) {\n        this.showTextValue = null;\n      } else {\n        this.writeValue(this.cascaderSrv.currentValue);\n      }\n      // 在动画结束后再设置参数，防止panel中内容突变，动画时间200\n      this.timer = setTimeout(() => {\n        this.showSearchPanel = false;\n      }, 200);\n    }\n\n    if (isOpen) {\n      this.rePosition();\n    }\n  }\n\n  // 防止位置超出overlay边界\n  rePosition(): void {\n    if (typeof window === undefined || !this.appendToBody) {\n      return;\n    }\n    setTimeout(() => {\n      this.dropdownComp.reposition();\n      const width = this.dropdownComp.overlay.overlayRef?.overlayElement.clientWidth;\n      const offsetX = this.dropdownComp.overlay.overlayRef?.overlayElement.offsetLeft;\n      const offsetRight = window.innerWidth - width - offsetX - 20;\n      this.subMenuDirections.map(t => {t.offsetX = offsetRight < 0 ? offsetRight : 0;});\n      this.dropdownComp.reposition();\n    }, 0);\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n    this.searchValueChange.complete();\n  }\n}\n","<div\n  [ngStyle]=\"{ width: width + 'px' }\"\n  *ngIf=\"appendToBody\"\n  dDropDown\n  appendToBody\n  [trigger]=\"disabled ? 'manually' : 'click'\"\n  [closeScope]=\"'blank'\"\n  #mainDropdown=\"d-dropdown\"\n  (toggleEvent)=\"onToggle($event)\"\n  [showAnimation]=\"showAnimation\"\n  [appendToBodyDirections]=\"subMenuDirections\"\n>\n  <div dDropDownToggle (focus)=\"showSearchInput = true\">\n    <ng-template\n      [ngTemplateOutlet]=\"hostTemplate || default\"\n      [ngTemplateOutletContext]=\"{ value: showTextValue || multipleValueList }\"\n    ></ng-template>\n  </div>\n\n  <ng-template #default>\n    <input\n      *ngIf=\"!multiple\"\n      [placeholder]=\"placeholder\"\n      type=\"text\"\n      class=\"devui-form-control devui-select-input devui-input\"\n      [ngClass]=\"{ 'devui-search-cascader': allowSearch }\"\n      [readonly]=\"!allowSearch\"\n      [disabled]=\"disabled\"\n      [ngModel]=\"showTextValue\"\n      (ngModelChange)=\"valueChanges($event)\"\n    />\n    <div class=\"devui-tags-input-wrapper\" *ngIf=\"multiple\">\n      <div class=\"devui-tags-input\">\n        <d-tag\n          *ngFor=\"let item of multipleValueList; let index = index\"\n          [tag]=\"item.label\"\n          [deletable]=\"true\"\n          (tagDelete)=\"deleteTag($event, item)\"\n        ></d-tag>\n        <input\n          #innerInput\n          (blur)=\"showSearchInput = false\"\n          *ngIf=\"allowSearch && showSearchInput\"\n          dTextInput\n          class=\"inner-input\"\n          [placeholder]=\"multipleValueList.length ? '' : placeholder\"\n          [ngModel]=\"showTextValue\"\n          (ngModelChange)=\"valueChanges($event)\"\n        />\n        <span *ngIf=\"!multipleValueList.length && !allowSearch\" class=\"devui-dropdown-placeholder\">{{ placeholder }}</span>\n      </div>\n      <div class=\"devui-drop-icon-wrapper\" [ngClass]=\"{ 'dropdown-show-clear': allowClear }\">\n        <span class=\"devui-drop-icon\" [ngClass]=\"{ 'devui-drop-icon-animation': showAnimation }\">\n          <svg\n            width=\"1em\"\n            height=\"1em\"\n            viewBox=\"0 0 16 16\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <path\n                d=\"M12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 Z\"\n                fill-rule=\"nonzero\"\n              ></path>\n            </g>\n          </svg>\n        </span>\n        <span class=\"devui-cascader-close-icon\" (click)=\"clearTags()\">\n          <svg\n            width=\"12px\"\n            height=\"12px\"\n            viewBox=\"0 0 12 12\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <path\n                d=\"M8.86785321,3.13214679 C9.02624037,3.29053395 9.02624037,3.54733027 8.86785321,3.70571743 L6.573,6 L8.86785321,8.29428257 C9.02624037,8.45266973 9.02624037,8.70946605 8.86785321,8.86785321 C8.70946605,9.02624037 8.45266973,9.02624037 8.29428257,8.86785321 L6,6.573 L3.70571743,8.86785321 C3.54733027,9.02624037 3.29053395,9.02624037 3.13214679,8.86785321 C2.97375963,8.70946605 2.97375963,8.45266973 3.13214679,8.29428257 L5.427,6 L3.13214679,3.70571743 C2.97375963,3.54733027 2.97375963,3.29053395 3.13214679,3.13214679 C3.29053395,2.97375963 3.54733027,2.97375963 3.70571743,3.13214679 L6,5.427 L8.29428257,3.13214679 C8.45266973,2.97375963 8.70946605,2.97375963 8.86785321,3.13214679 Z\"\n                fill-rule=\"nonzero\"\n              ></path>\n            </g>\n          </svg>\n        </span>\n      </div>\n    </div>\n    <div class=\"devui-single-drop-icon-wrapper\" *ngIf=\"!multiple\" [ngClass]=\"{ 'dropdown-show-clear': allowClear }\">\n      <span class=\"devui-drop-icon\" [ngClass]=\"{ 'devui-drop-icon-animation': showAnimation }\">\n        <svg\n          width=\"1em\"\n          height=\"1em\"\n          viewBox=\"0 0 16 16\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <path\n              d=\"M12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </svg>\n      </span>\n      <span class=\"devui-cascader-close-icon\" (click)=\"clearTags()\">\n        <svg\n          width=\"12px\"\n          height=\"12px\"\n          viewBox=\"0 0 12 12\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <path\n              d=\"M8.86785321,3.13214679 C9.02624037,3.29053395 9.02624037,3.54733027 8.86785321,3.70571743 L6.573,6 L8.86785321,8.29428257 C9.02624037,8.45266973 9.02624037,8.70946605 8.86785321,8.86785321 C8.70946605,9.02624037 8.45266973,9.02624037 8.29428257,8.86785321 L6,6.573 L3.70571743,8.86785321 C3.54733027,9.02624037 3.29053395,9.02624037 3.13214679,8.86785321 C2.97375963,8.70946605 2.97375963,8.45266973 3.13214679,8.29428257 L5.427,6 L3.13214679,3.70571743 C2.97375963,3.54733027 2.97375963,3.29053395 3.13214679,3.13214679 C3.29053395,2.97375963 3.54733027,2.97375963 3.70571743,3.13214679 L6,5.427 L8.29428257,3.13214679 C8.45266973,2.97375963 8.70946605,2.97375963 8.86785321,3.13214679 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </svg>\n      </span>\n    </div>\n  </ng-template>\n\n  <div dDropDownMenu class=\"devui-drop-menu-wrapper {{ dropdownPanelClass }}\">\n    <ng-container *ngIf=\"!showSearchPanel\">\n      <ul\n        *ngFor=\"let optionList of columnList; let i = index\"\n        class=\"devui-cascader-list\"\n        [ngClass]=\"{ 'devui-drop-no-data': !options.length }\"\n        [ngStyle]=\"{ width: dropdownWidth + 'px' }\"\n        role=\"menu\"\n        (click)=\"$event.stopPropagation()\"\n      >\n        <ng-container *ngIf=\"dropdownHeaderTemplate\">\n          <ng-template [ngTemplateOutlet]=\"dropdownHeaderTemplate\" [ngTemplateOutletContext]=\"{ index: i }\"> </ng-template>\n        </ng-container>\n\n        <ng-container *ngIf=\"optionList.length\">\n          <d-cascader-li\n            *ngFor=\"let option of optionList\"\n            [option]=\"option\"\n            [trigger]=\"trigger\"\n            [width]=\"dropdownWidth\"\n            [multiple]=\"multiple\"\n            [colIndex]=\"i\"\n            [dropDownItemTemplate]=\"dropDownItemTemplate\"\n            [isLazyLoad]=\"isLazyLoad\"\n            [canSelectParent]=\"canSelectParent\"\n            [checkboxRelation]=\"checkboxRelation\"\n          ></d-cascader-li>\n        </ng-container>\n        <div *ngIf=\"!optionList.length\" class=\"devui-no-data-tip\">{{ i18nCommonText.noData }}</div>\n      </ul>\n    </ng-container>\n\n    <ng-container *ngIf=\"showSearchPanel\">\n      <ul\n        class=\"devui-cascader-list\"\n        [style.minWidth]=\"dropdownWidth - 2 + 'px'\"\n        [ngClass]=\"{ 'devui-drop-no-data': !searchResultList.length }\"\n      >\n        <li\n          *ngFor=\"let item of searchResultList\"\n          class=\"devui-cascader-list-item\"\n          [ngClass]=\"{ 'active-li': item.checked }\"\n          (click)=\"chooseSearchResult(item)\"\n        >\n          {{ item.label }}\n        </li>\n        <div *ngIf=\"!searchResultList.length\" class=\"devui-no-data-tip\">{{ i18nCommonText.noData }}</div>\n      </ul>\n    </ng-container>\n  </div>\n</div>\n\n<div\n  *ngIf=\"!appendToBody\"\n  [ngStyle]=\"{ width: width + 'px' }\"\n  dDropDown\n  [trigger]=\"'click'\"\n  [closeScope]=\"'blank'\"\n  #mainDropdown=\"d-dropdown\"\n  (toggleEvent)=\"onToggle($event)\"\n  [showAnimation]=\"showAnimation\"\n>\n  <div dDropDownToggle (focus)=\"showSearchInput = true\">\n    <ng-template\n      [ngTemplateOutlet]=\"hostTemplate || default\"\n      [ngTemplateOutletContext]=\"{ value: showTextValue || multipleValueList }\"\n    ></ng-template>\n  </div>\n  <ng-template #default>\n    <input\n      *ngIf=\"!multiple\"\n      [placeholder]=\"placeholder\"\n      type=\"text\"\n      class=\"devui-form-control devui-select-input devui-input\"\n      [ngClass]=\"{ 'devui-search-cascader': allowSearch }\"\n      [readonly]=\"!allowSearch\"\n      [disabled]=\"disabled\"\n      [ngModel]=\"showTextValue\"\n      (ngModelChange)=\"valueChanges($event)\"\n    />\n    <div class=\"devui-tags-input-wrapper\" *ngIf=\"multiple\">\n      <div class=\"devui-tags-input\">\n        <d-tag\n          *ngFor=\"let item of multipleValueList; let index = index\"\n          [tag]=\"item.label\"\n          [deletable]=\"true\"\n          (tagDelete)=\"deleteTag($event, item)\"\n        ></d-tag>\n        <input\n          #innerInput\n          (blur)=\"showSearchInput = false\"\n          *ngIf=\"allowSearch && showSearchInput\"\n          dTextInput\n          class=\"inner-input\"\n          [placeholder]=\"multipleValueList.length ? '' : placeholder\"\n          [ngModel]=\"showTextValue\"\n          (ngModelChange)=\"valueChanges($event)\"\n        />\n        <span *ngIf=\"!multipleValueList.length && !allowSearch\" class=\"devui-dropdown-placeholder\">{{ placeholder }}</span>\n      </div>\n      <div class=\"devui-drop-icon-wrapper\" [ngClass]=\"{ 'dropdown-show-clear': allowClear }\">\n        <span class=\"devui-drop-icon\" [ngClass]=\"{ 'devui-drop-icon-animation': showAnimation }\">\n          <svg\n            width=\"1em\"\n            height=\"1em\"\n            viewBox=\"0 0 16 16\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <path\n                d=\"M12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 Z\"\n                fill-rule=\"nonzero\"\n              ></path>\n            </g>\n          </svg>\n        </span>\n        <span class=\"devui-cascader-close-icon\" (click)=\"clearTags()\">\n          <svg\n            width=\"12px\"\n            height=\"12px\"\n            viewBox=\"0 0 12 12\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          >\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <path\n                d=\"M8.86785321,3.13214679 C9.02624037,3.29053395 9.02624037,3.54733027 8.86785321,3.70571743 L6.573,6 L8.86785321,8.29428257 C9.02624037,8.45266973 9.02624037,8.70946605 8.86785321,8.86785321 C8.70946605,9.02624037 8.45266973,9.02624037 8.29428257,8.86785321 L6,6.573 L3.70571743,8.86785321 C3.54733027,9.02624037 3.29053395,9.02624037 3.13214679,8.86785321 C2.97375963,8.70946605 2.97375963,8.45266973 3.13214679,8.29428257 L5.427,6 L3.13214679,3.70571743 C2.97375963,3.54733027 2.97375963,3.29053395 3.13214679,3.13214679 C3.29053395,2.97375963 3.54733027,2.97375963 3.70571743,3.13214679 L6,5.427 L8.29428257,3.13214679 C8.45266973,2.97375963 8.70946605,2.97375963 8.86785321,3.13214679 Z\"\n                fill-rule=\"nonzero\"\n              ></path>\n            </g>\n          </svg>\n        </span>\n      </div>\n    </div>\n    <div class=\"devui-single-drop-icon-wrapper\" *ngIf=\"!multiple\" [ngClass]=\"{ 'dropdown-show-clear': allowClear }\">\n      <span class=\"devui-drop-icon\" [ngClass]=\"{ 'devui-drop-icon-animation': showAnimation }\">\n        <svg\n          width=\"1em\"\n          height=\"1em\"\n          viewBox=\"0 0 16 16\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <path\n              d=\"M12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </svg>\n      </span>\n      <span class=\"devui-cascader-close-icon\" (click)=\"clearTags()\">\n        <svg\n          width=\"12px\"\n          height=\"12px\"\n          viewBox=\"0 0 12 12\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n          <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <path\n              d=\"M8.86785321,3.13214679 C9.02624037,3.29053395 9.02624037,3.54733027 8.86785321,3.70571743 L6.573,6 L8.86785321,8.29428257 C9.02624037,8.45266973 9.02624037,8.70946605 8.86785321,8.86785321 C8.70946605,9.02624037 8.45266973,9.02624037 8.29428257,8.86785321 L6,6.573 L3.70571743,8.86785321 C3.54733027,9.02624037 3.29053395,9.02624037 3.13214679,8.86785321 C2.97375963,8.70946605 2.97375963,8.45266973 3.13214679,8.29428257 L5.427,6 L3.13214679,3.70571743 C2.97375963,3.54733027 2.97375963,3.29053395 3.13214679,3.13214679 C3.29053395,2.97375963 3.54733027,2.97375963 3.70571743,3.13214679 L6,5.427 L8.29428257,3.13214679 C8.45266973,2.97375963 8.70946605,2.97375963 8.86785321,3.13214679 Z\"\n              fill-rule=\"nonzero\"\n            ></path>\n          </g>\n        </svg>\n      </span>\n    </div>\n  </ng-template>\n\n  <div dDropDownMenu class=\"devui-drop-menu-wrapper {{ dropdownPanelClass }}\">\n    <ng-container *ngIf=\"!showSearchPanel\">\n      <ul\n        *ngFor=\"let optionList of columnList; let i = index\"\n        class=\"devui-cascader-list\"\n        [ngClass]=\"{ 'devui-drop-no-data': !options.length }\"\n        [ngStyle]=\"{ width: dropdownWidth + 'px' }\"\n        role=\"menu\"\n        (click)=\"$event.stopPropagation()\"\n      >\n        <ng-container *ngIf=\"dropdownHeaderTemplate\">\n          <ng-template [ngTemplateOutlet]=\"dropdownHeaderTemplate\" [ngTemplateOutletContext]=\"{ index: i }\"> </ng-template>\n        </ng-container>\n\n        <ng-container *ngIf=\"optionList.length\">\n          <d-cascader-li\n            *ngFor=\"let option of optionList\"\n            [option]=\"option\"\n            [trigger]=\"trigger\"\n            [width]=\"dropdownWidth\"\n            [multiple]=\"multiple\"\n            [colIndex]=\"i\"\n            [dropDownItemTemplate]=\"dropDownItemTemplate\"\n            [isLazyLoad]=\"isLazyLoad\"\n            [canSelectParent]=\"canSelectParent\"\n            [checkboxRelation]=\"checkboxRelation\"\n          ></d-cascader-li>\n        </ng-container>\n        <div *ngIf=\"!optionList.length\" class=\"devui-no-data-tip\">{{ i18nCommonText.noData }}</div>\n      </ul>\n    </ng-container>\n\n    <ng-container *ngIf=\"showSearchPanel\">\n      <ul\n        class=\"devui-cascader-list\"\n        [style.minWidth]=\"dropdownWidth - 2 + 'px'\"\n        [ngClass]=\"{ 'devui-drop-no-data': !searchResultList.length }\"\n      >\n        <li\n          *ngFor=\"let item of searchResultList\"\n          class=\"devui-cascader-list-item\"\n          [ngClass]=\"{ 'active-li': item.checked }\"\n          (click)=\"chooseSearchResult(item)\"\n        >\n          {{ item.label }}\n        </li>\n        <div *ngIf=\"!searchResultList.length\" class=\"devui-no-data-tip\">{{ i18nCommonText.noData }}</div>\n      </ul>\n    </ng-container>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CheckBoxModule } from 'ng-devui/checkbox';\nimport { DropDownModule,  } from 'ng-devui/dropdown';\nimport { SelectModule } from 'ng-devui/select';\nimport { TagsModule } from 'ng-devui/tags';\nimport { CascaderLiComponent } from './cascader-li.component';\nimport { CascaderComponent } from './cascader.component';\n\n@NgModule({\n  declarations: [\n    CascaderComponent,\n    CascaderLiComponent\n  ],\n  imports: [\n    CommonModule,\n    SelectModule,\n    FormsModule,\n    DropDownModule,\n    TagsModule,\n    CheckBoxModule\n  ],\n  exports: [ CascaderComponent ],\n})\nexport class CascaderModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}