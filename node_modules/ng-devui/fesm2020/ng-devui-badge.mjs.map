{"version":3,"file":"ng-devui-badge.mjs","sources":["../../devui/badge/badge.component.ts","../../devui/badge/badge.component.html","../../devui/badge/badge.module.ts","../../devui/badge/ng-devui-badge.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  ViewChild\n} from '@angular/core';\nimport { BadgePositionType, BadgeStatusType } from './badge.types';\n\n\n@Component({\n  selector: 'd-badge',\n  templateUrl: './badge.component.html',\n  styleUrls: ['./badge.component.scss']\n})\nexport class BadgeComponent implements AfterViewInit {\n  hasContent = true;\n\n  @ViewChild('contentProjection') contentProjection?: ElementRef;\n  @Input() count: number | string;\n  @Input() maxCount = 99;\n  @Input() showDot = false;\n  @Input() status: BadgeStatusType;\n  /**\n   * @deprecated\n   * 用position替代\n   */\n  @Input() set badgePos(value: BadgePositionType) {\n    this.position = value;\n  }\n  @Input() position: BadgePositionType = 'top-right';\n  /**\n   * @deprecated\n   * 用offset替代\n   */\n  @Input() set offsetXY(value: [number, number]) {\n    this.offset = value;\n  }\n  @Input() offset: [number, number];\n\n  @Input() bgColor: string;\n  @Input() textColor: string;\n\n  hasContentProjection() {\n    const nodes = this.contentProjection?.nativeElement;\n    const contents = nodes.childNodes;\n    this.hasContent = contents.length ? true : false;\n  }\n\n  parseCountToNumber() {\n    if(typeof(this.count) === 'number') {\n      return this.count;\n    } else {\n      const parseNumber = parseInt(this.count);\n      return isNaN(parseNumber) ? -1 : parseNumber;\n    }\n  }\n\n  constructor(\n    private cdr: ChangeDetectorRef,\n  ) { }\n\n  ngAfterViewInit() {\n    this.hasContentProjection();\n    this.cdr.detectChanges();\n  }\n\n}\n","<span #contentProjection><ng-content></ng-content></span>\n<span\n  *ngIf=\"!showDot && !hasContent\"\n  class=\"devui-badge-count devui-badge-count-{{ status }}\"\n  [style.background]=\"bgColor\"\n  [style.color]=\"textColor\"\n>\n  {{ count }}\n</span>\n<span *ngIf=\"showDot && !hasContent\" class=\"devui-badge-status devui-badge-status-{{ status }}\"></span>\n<span\n  *ngIf=\"hasContent\"\n  class=\"devui-badge-content devui-badge-content-{{ status }} devui-badge-content-{{ position }}\"\n  [style.background]=\"bgColor\"\n  [style.color]=\"textColor\"\n  [style.right.px]=\"offset && offset[0] ? -offset[0] : null\"\n  [style.top.px]=\"offset && offset[1] ? offset[1] : null\"\n  [ngClass]=\"{ 'devui-badge-content-count': !showDot, 'devui-badge-content-dot': showDot }\"\n>\n  <ng-container *ngIf=\"!showDot && parseCountToNumber() <= maxCount\">{{ count }}</ng-container>\n  <ng-container *ngIf=\"!showDot && parseCountToNumber() > maxCount\">{{ maxCount }}+</ng-container>\n</span>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { BadgeComponent } from './badge.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  exports: [BadgeComponent],\n  declarations: [BadgeComponent]\n})\nexport class BadgeModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;MAgBa,cAAc;IA2CzB,YACU,GAAsB;QAAtB,QAAG,GAAH,GAAG,CAAmB;QA3ChC,eAAU,GAAG,IAAI,CAAC;QAIT,aAAQ,GAAG,EAAE,CAAC;QACd,YAAO,GAAG,KAAK,CAAC;QAShB,aAAQ,GAAsB,WAAW,CAAC;KA8B9C;;;;;IAjCL,IAAa,QAAQ,CAAC,KAAwB;QAC5C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;KACvB;;;;;IAMD,IAAa,QAAQ,CAAC,KAAuB;QAC3C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACrB;IAMD,oBAAoB;QAClB,MAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,EAAE,aAAa,CAAC;QACpD,MAAM,QAAQ,GAAG,KAAK,CAAC,UAAU,CAAC;QAClC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,MAAM,GAAG,IAAI,GAAG,KAAK,CAAC;KAClD;IAED,kBAAkB;QAChB,IAAG,QAAO,IAAI,CAAC,KAAK,CAAC,KAAK,QAAQ,EAAE;YAClC,OAAO,IAAI,CAAC,KAAK,CAAC;SACnB;aAAM;YACL,MAAM,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzC,OAAO,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC;SAC9C;KACF;IAMD,eAAe;QACb,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;KAC1B;;2GAlDU,cAAc;+FAAd,cAAc,+XChB3B,s+BAsBA;2FDNa,cAAc;kBAL1B,SAAS;+BACE,SAAS;wGAOa,iBAAiB;sBAAhD,SAAS;uBAAC,mBAAmB;gBACrB,KAAK;sBAAb,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBACG,OAAO;sBAAf,KAAK;gBACG,MAAM;sBAAd,KAAK;gBAKO,QAAQ;sBAApB,KAAK;gBAGG,QAAQ;sBAAhB,KAAK;gBAKO,QAAQ;sBAApB,KAAK;gBAGG,MAAM;sBAAd,KAAK;gBAEG,OAAO;sBAAf,KAAK;gBACG,SAAS;sBAAjB,KAAK;;;ME/BK,WAAW;;wGAAX,WAAW;yGAAX,WAAW,iBAFP,cAAc,aAH3B,YAAY,aAEJ,cAAc;yGAGb,WAAW,YANb;YACP,YAAY;SACb;2FAIU,WAAW;kBAPvB,QAAQ;mBAAC;oBACR,OAAO,EAAE;wBACP,YAAY;qBACb;oBACD,OAAO,EAAE,CAAC,cAAc,CAAC;oBACzB,YAAY,EAAE,CAAC,cAAc,CAAC;iBAC/B;;;ACVD;;;;;;"}